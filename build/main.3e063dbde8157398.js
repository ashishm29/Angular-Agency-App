(self.webpackChunkagency_mapp=self.webpackChunkagency_mapp||[]).push([[179],{4027:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{q4:()=>d,HU:()=>X,vb:()=>S,JM:()=>b,KL:()=>g,u3:()=>U});var a=Oe(4650),T=Oe(259),te=Oe(4408),k=Oe(7565);const M=new class R extends k.v{}(class W extends te.o{constructor(Z,K){super(Z,K),this.scheduler=Z,this.work=K}schedule(Z,K=0){return K>0?super.schedule(Z,K):(this.delay=K,this.state=Z,this.scheduler.flush(this),this)}execute(Z,K){return K>0||this.closed?super.execute(Z,K):this._execute(Z,K)}requestAsyncId(Z,K,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(Z,K,ne):(Z.flush(this),0)}});var O=Oe(4986),w=Oe(9751),E=Oe(8505),C=Oe(9468),f=Oe(5363);Xt=Oe.hmd(Xt);const d=new a.GfV("7.0.4");function g(Q,Z){const[,K]=globalThis.\u0275AngularfireInstanceCache.find(ne=>function y(Q,Z){try{return Q.toString()===Z.toString()}catch{return Q===Z}}(ne[0],Q))||[];if(K)return K;{const ne=Z.runOutsideAngular(()=>Q());return globalThis.\u0275AngularfireInstanceCache.push([Q,ne]),ne}}function b(Q,Z,K){if(Z){if(1===Z.length)return Z[0];const ce=Z.filter(de=>de.app===K);if(1===ce.length)return ce[0]}return K.container.getProvider(Q).getImmediate()}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);const S=(Q,Z)=>{const K=Z?[Z]:(0,T.C6)(),ne=[];return K.forEach(ue=>{ue.container.getProvider(Q).instances.forEach(de=>{ne.includes(de)||ne.push(de)})}),ne};function A(){}class P{constructor(Z,K=M){this.zone=Z,this.delegate=K}now(){return this.delegate.now()}schedule(Z,K,ne){const ue=this.zone;return this.delegate.schedule(function(de){ue.runGuarded(()=>{Z.apply(this,[de])})},K,ne)}}class H{constructor(Z){this.zone=Z,this.task=null}call(Z,K){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",A,{},A,A)),K.pipe((0,E.b)({next:ne,complete:ne,error:ne})).subscribe(Z).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let X=(()=>{class Q{constructor(K){this.ngZone=K,this.outsideAngular=K.runOutsideAngular(()=>new P(Zone.current)),this.insideAngular=K.run(()=>new P(Zone.current,O.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Q.\u0275fac=function(K){return new(K||Q)(a.LFG(a.R0b))},Q.\u0275prov=a.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})();function J(){const Q=globalThis.\u0275AngularFireScheduler;if(!Q)throw new Error("AngularFireModule has not been provided");return Q}function j(Q){return J().ngZone.runOutsideAngular(()=>Q())}function $(Q){return J().ngZone.run(()=>Q())}function ee(Q){return J(),function N(Q){return function(K){return(K=K.lift(new H(Q.ngZone))).pipe((0,C.R)(Q.outsideAngular),(0,f.Q)(Q.insideAngular))}}(J())(Q)}const V=(Q,Z)=>function(){return Z&&setTimeout(()=>{"scheduled"===Z.state&&Z.invoke()},10),$(()=>Q.apply(void 0,arguments))},U=(Q,Z)=>function(){let K;for(let ue=0;ue<arguments.length;ue++)"function"==typeof arguments[ue]&&(Z&&(K||(K=$(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",A,{},A,A)))),arguments[ue]=V(arguments[ue],K));const ne=j(()=>Q.apply(this,arguments));if(!Z){if(ne instanceof w.y){const ue=J();return ne.pipe((0,C.R)(ue.outsideAngular),(0,f.Q)(ue.insideAngular))}return $(()=>ne)}return ne instanceof w.y?ne.pipe(ee):ne instanceof Promise?$(()=>new Promise((ue,ce)=>ne.then(de=>$(()=>ue(de)),de=>$(()=>ce(de))))):"function"==typeof ne&&K?function(){return setTimeout(()=>{K&&"scheduled"===K.state&&K.invoke()},10),ne.apply(this,arguments)}:$(()=>ne)}},2090:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{BH:()=>P,L:()=>O,LL:()=>de,P0:()=>b,Pz:()=>A,Sg:()=>H,ZR:()=>ce,aH:()=>S,b$:()=>B,eu:()=>K,hl:()=>Z,m9:()=>ft,ne:()=>Xe,ru:()=>L,tV:()=>w,uI:()=>J,vZ:()=>ct,xO:()=>bt,z$:()=>X});const W=function(Me){const ke=[];let Fe=0;for(let Ke=0;Ke<Me.length;Ke++){let Qe=Me.charCodeAt(Ke);Qe<128?ke[Fe++]=Qe:Qe<2048?(ke[Fe++]=Qe>>6|192,ke[Fe++]=63&Qe|128):55296==(64512&Qe)&&Ke+1<Me.length&&56320==(64512&Me.charCodeAt(Ke+1))?(Qe=65536+((1023&Qe)<<10)+(1023&Me.charCodeAt(++Ke)),ke[Fe++]=Qe>>18|240,ke[Fe++]=Qe>>12&63|128,ke[Fe++]=Qe>>6&63|128,ke[Fe++]=63&Qe|128):(ke[Fe++]=Qe>>12|224,ke[Fe++]=Qe>>6&63|128,ke[Fe++]=63&Qe|128)}return ke},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,ke){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Fe=ke?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ke=[];for(let Qe=0;Qe<Me.length;Qe+=3){const wt=Me[Qe],Ht=Qe+1<Me.length,Le=Ht?Me[Qe+1]:0,He=Qe+2<Me.length,Be=He?Me[Qe+2]:0;let Vt=(15&Le)<<2|Be>>6,Ln=63&Be;He||(Ln=64,Ht||(Vt=64)),Ke.push(Fe[wt>>2],Fe[(3&wt)<<4|Le>>4],Fe[Vt],Fe[Ln])}return Ke.join("")},encodeString(Me,ke){return this.HAS_NATIVE_SUPPORT&&!ke?btoa(Me):this.encodeByteArray(W(Me),ke)},decodeString(Me,ke){return this.HAS_NATIVE_SUPPORT&&!ke?atob(Me):function(Me){const ke=[];let Fe=0,Ke=0;for(;Fe<Me.length;){const Qe=Me[Fe++];if(Qe<128)ke[Ke++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){const wt=Me[Fe++];ke[Ke++]=String.fromCharCode((31&Qe)<<6|63&wt)}else if(Qe>239&&Qe<365){const He=((7&Qe)<<18|(63&Me[Fe++])<<12|(63&Me[Fe++])<<6|63&Me[Fe++])-65536;ke[Ke++]=String.fromCharCode(55296+(He>>10)),ke[Ke++]=String.fromCharCode(56320+(1023&He))}else{const wt=Me[Fe++],Ht=Me[Fe++];ke[Ke++]=String.fromCharCode((15&Qe)<<12|(63&wt)<<6|63&Ht)}}return ke.join("")}(this.decodeStringToByteArray(Me,ke))},decodeStringToByteArray(Me,ke){this.init_();const Fe=ke?this.charToByteMapWebSafe_:this.charToByteMap_,Ke=[];for(let Qe=0;Qe<Me.length;){const wt=Fe[Me.charAt(Qe++)],Le=Qe<Me.length?Fe[Me.charAt(Qe)]:0;++Qe;const Be=Qe<Me.length?Fe[Me.charAt(Qe)]:64;++Qe;const _t=Qe<Me.length?Fe[Me.charAt(Qe)]:64;if(++Qe,null==wt||null==Le||null==Be||null==_t)throw new M;Ke.push(wt<<2|Le>>4),64!==Be&&(Ke.push(Le<<4&240|Be>>2),64!==_t&&Ke.push(Be<<6&192|_t))}return Ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}};class M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O=function(Me){return function(Me){const ke=W(Me);return R.encodeByteArray(ke,!0)}(Me).replace(/\./g,"")},w=function(Me){try{return R.decodeString(Me,!0)}catch(ke){console.error("base64Decode failed: ",ke)}return null},g=()=>{try{return function d(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Me=process.env.__FIREBASE_DEFAULTS__;return Me?JSON.parse(Me):void 0})()||(()=>{if(typeof document>"u")return;let Me;try{Me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ke=Me&&w(Me[1]);return ke&&JSON.parse(ke)})()}catch(Me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Me}`)}},b=Me=>{const ke=(Me=>{var ke,Fe;return null===(Fe=null===(ke=g())||void 0===ke?void 0:ke.emulatorHosts)||void 0===Fe?void 0:Fe[Me]})(Me);if(!ke)return;const Fe=ke.lastIndexOf(":");if(Fe<=0||Fe+1===ke.length)throw new Error(`Invalid host ${ke} with no separate hostname and port!`);const Ke=parseInt(ke.substring(Fe+1),10);return"["===ke[0]?[ke.substring(1,Fe-1),Ke]:[ke.substring(0,Fe),Ke]},S=()=>{var Me;return null===(Me=g())||void 0===Me?void 0:Me.config},A=Me=>{var ke;return null===(ke=g())||void 0===ke?void 0:ke[`_${Me}`]};class P{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ke,Fe)=>{this.resolve=ke,this.reject=Fe})}wrapCallback(ke){return(Fe,Ke)=>{Fe?this.reject(Fe):this.resolve(Ke),"function"==typeof ke&&(this.promise.catch(()=>{}),1===ke.length?ke(Fe):ke(Fe,Ke))}}}function H(Me,ke){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ke=ke||"demo-project",Qe=Me.iat||0,wt=Me.sub||Me.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ht=Object.assign({iss:`https://securetoken.google.com/${Ke}`,aud:Ke,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[O(JSON.stringify({alg:"none",type:"JWT"})),O(JSON.stringify(Ht)),""].join(".")}function X(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function J(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(X())}function L(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function B(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Z(){try{return"object"==typeof indexedDB}catch{return!1}}function K(){return new Promise((Me,ke)=>{try{let Fe=!0;const Ke="validate-browser-context-for-indexeddb-analytics-module",Qe=self.indexedDB.open(Ke);Qe.onsuccess=()=>{Qe.result.close(),Fe||self.indexedDB.deleteDatabase(Ke),Me(!0)},Qe.onupgradeneeded=()=>{Fe=!1},Qe.onerror=()=>{var wt;ke((null===(wt=Qe.error)||void 0===wt?void 0:wt.message)||"")}}catch(Fe){ke(Fe)}})}class ce extends Error{constructor(ke,Fe,Ke){super(Fe),this.code=ke,this.customData=Ke,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(ke,Fe,Ke){this.service=ke,this.serviceName=Fe,this.errors=Ke}create(ke,...Fe){const Ke=Fe[0]||{},Qe=`${this.service}/${ke}`,wt=this.errors[ke],Ht=wt?function pe(Me,ke){return Me.replace(_e,(Fe,Ke)=>{const Qe=ke[Ke];return null!=Qe?String(Qe):`<${Ke}?>`})}(wt,Ke):"Error";return new ce(Qe,`${this.serviceName}: ${Ht} (${Qe}).`,Ke)}}const _e=/\{\$([^}]+)}/g;function ct(Me,ke){if(Me===ke)return!0;const Fe=Object.keys(Me),Ke=Object.keys(ke);for(const Qe of Fe){if(!Ke.includes(Qe))return!1;const wt=Me[Qe],Ht=ke[Qe];if(ht(wt)&&ht(Ht)){if(!ct(wt,Ht))return!1}else if(wt!==Ht)return!1}for(const Qe of Ke)if(!Fe.includes(Qe))return!1;return!0}function ht(Me){return null!==Me&&"object"==typeof Me}function bt(Me){const ke=[];for(const[Fe,Ke]of Object.entries(Me))Array.isArray(Ke)?Ke.forEach(Qe=>{ke.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Qe))}):ke.push(encodeURIComponent(Fe)+"="+encodeURIComponent(Ke));return ke.length?"&"+ke.join("&"):""}function Xe(Me,ke){const Fe=new Ae(Me,ke);return Fe.subscribe.bind(Fe)}class Ae{constructor(ke,Fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Fe,this.task.then(()=>{ke(this)}).catch(Ke=>{this.error(Ke)})}next(ke){this.forEachObserver(Fe=>{Fe.next(ke)})}error(ke){this.forEachObserver(Fe=>{Fe.error(ke)}),this.close(ke)}complete(){this.forEachObserver(ke=>{ke.complete()}),this.close()}subscribe(ke,Fe,Ke){let Qe;if(void 0===ke&&void 0===Fe&&void 0===Ke)throw new Error("Missing Observer.");Qe=function We(Me,ke){if("object"!=typeof Me||null===Me)return!1;for(const Fe of ke)if(Fe in Me&&"function"==typeof Me[Fe])return!0;return!1}(ke,["next","error","complete"])?ke:{next:ke,error:Fe,complete:Ke},void 0===Qe.next&&(Qe.next=ot),void 0===Qe.error&&(Qe.error=ot),void 0===Qe.complete&&(Qe.complete=ot);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Qe.error(this.finalError):Qe.complete()}catch{}}),this.observers.push(Qe),wt}unsubscribeOne(ke){void 0===this.observers||void 0===this.observers[ke]||(delete this.observers[ke],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ke){if(!this.finalized)for(let Fe=0;Fe<this.observers.length;Fe++)this.sendOne(Fe,ke)}sendOne(ke,Fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ke])try{Fe(this.observers[ke])}catch(Ke){typeof console<"u"&&console.error&&console.error(Ke)}})}close(ke){this.finalized||(this.finalized=!0,void 0!==ke&&(this.finalError=ke),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ot(){}function ft(Me){return Me&&Me._delegate?Me._delegate:Me}},9893:(Xt,kt,Oe)=>{"use strict";var a=Oe(4650);let T=null;function te(){return T}const M=new a.OlP("DocumentToken");let x=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:function(){return function O(){return(0,a.LFG)(E)}()},providedIn:"platform"}),r})();const w=new a.OlP("Location Initialized");let E=(()=>{class r extends x{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(e){const n=te().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=te().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,i){C()?this._history.pushState(e,n,i):this.location.hash=i}replaceState(e,n,i){C()?this._history.replaceState(e,n,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:function(){return function f(){return new E((0,a.LFG)(M))}()},providedIn:"platform"}),r})();function C(){return!!window.history.pushState}function d(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function u(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function c(r){return r&&"?"!==r[0]?"?"+r:r}let m=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:function(){return(0,a.f3M)(y)},providedIn:"root"}),r})();const g=new a.OlP("appBaseHref");let y=(()=>{class r extends m{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(M).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return d(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+c(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,o){const s=this.prepareExternalUrl(i+c(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,i,o){const s=this.prepareExternalUrl(i+c(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(x),a.LFG(g,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),b=(()=>{class r extends m{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=d(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,o){let s=this.prepareExternalUrl(i+c(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,n,s)}replaceState(e,n,i,o){let s=this.prepareExternalUrl(i+c(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(x),a.LFG(g,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),S=(()=>{class r{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._baseHref=u(H(n)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+c(n))}normalize(e){return r.stripTrailingSlash(function P(r,t){return r&&t.startsWith(r)?t.substring(r.length):t}(this._baseHref,H(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+c(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+c(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n,complete:i})}}return r.normalizeQueryParams=c,r.joinWithSlash=d,r.stripTrailingSlash=u,r.\u0275fac=function(e){return new(e||r)(a.LFG(m))},r.\u0275prov=a.Yz7({token:r,factory:function(){return function A(){return new S((0,a.LFG)(m))}()},providedIn:"root"}),r})();function H(r){return r.replace(/\/index.html$/,"")}const X={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Percent=1]="Percent",J[J.Currency=2]="Currency",J[J.Scientific=3]="Scientific",J))(),$=(()=>(($=$||{})[$.Format=0]="Format",$[$.Standalone=1]="Standalone",$))(),L=(()=>((L=L||{})[L.Narrow=0]="Narrow",L[L.Abbreviated=1]="Abbreviated",L[L.Wide=2]="Wide",L[L.Short=3]="Short",L))(),B=(()=>((B=B||{})[B.Short=0]="Short",B[B.Medium=1]="Medium",B[B.Long=2]="Long",B[B.Full=3]="Full",B))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function ce(r,t){return st((0,a.cg1)(r)[a.wAp.DateFormat],t)}function de(r,t){return st((0,a.cg1)(r)[a.wAp.TimeFormat],t)}function pe(r,t){return st((0,a.cg1)(r)[a.wAp.DateTimeFormat],t)}function _e(r,t){const e=(0,a.cg1)(r),n=e[a.wAp.NumberSymbols][t];if(typeof n>"u"){if(t===ee.CurrencyDecimal)return e[a.wAp.NumberSymbols][ee.Decimal];if(t===ee.CurrencyGroup)return e[a.wAp.NumberSymbols][ee.Group]}return n}function De(r){if(!r[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function st(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function ct(r){const[t,e]=r.split(":");return{hours:+t,minutes:+e}}const It=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ln={},nt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.ShortGMT=1]="ShortGMT",Xe[Xe.Long=2]="Long",Xe[Xe.Extended=3]="Extended",Xe))(),Ae=(()=>((Ae=Ae||{})[Ae.FullYear=0]="FullYear",Ae[Ae.Month=1]="Month",Ae[Ae.Date=2]="Date",Ae[Ae.Hours=3]="Hours",Ae[Ae.Minutes=4]="Minutes",Ae[Ae.Seconds=5]="Seconds",Ae[Ae.FractionalSeconds=6]="FractionalSeconds",Ae[Ae.Day=7]="Day",Ae))(),Pe=(()=>((Pe=Pe||{})[Pe.DayPeriods=0]="DayPeriods",Pe[Pe.Days=1]="Days",Pe[Pe.Months=2]="Months",Pe[Pe.Eras=3]="Eras",Pe))();function We(r,t,e,n){let i=function Qe(r){if(Ht(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[i,o=1,s=1]=r.split("-").map(l=>+l);return ot(i,o-1,s)}const e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let n;if(n=r.match(It))return function wt(r){const t=new Date(0);let e=0,n=0;const i=r[8]?t.setUTCFullYear:t.setFullYear,o=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),n=Number(r[9]+r[11])),i.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));const s=Number(r[4]||0)-e,l=Number(r[5]||0)-n,v=Number(r[6]||0),D=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return o.call(t,s,l,v,D),t}(n)}const t=new Date(r);if(!Ht(t))throw new Error(`Unable to convert "${r}" into a date`);return t}(r);t=Ue(e,t)||t;let l,s=[];for(;t;){if(l=nt.exec(t),!l){s.push(t);break}{s=s.concat(l.slice(1));const F=s.pop();if(!F)break;t=F}}let v=i.getTimezoneOffset();n&&(v=ke(n,v),i=function Ke(r,t,e){const n=e?-1:1,i=r.getTimezoneOffset();return function Fe(r,t){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+t),r}(r,n*(ke(t,i)-i))}(i,n,!0));let D="";return s.forEach(F=>{const z=function Me(r){if(ft[r])return ft[r];let t;switch(r){case"G":case"GG":case"GGG":t=Et(Pe.Eras,L.Abbreviated);break;case"GGGG":t=Et(Pe.Eras,L.Wide);break;case"GGGGG":t=Et(Pe.Eras,L.Narrow);break;case"y":t=lt(Ae.FullYear,1,0,!1,!0);break;case"yy":t=lt(Ae.FullYear,2,0,!0,!0);break;case"yyy":t=lt(Ae.FullYear,3,0,!1,!0);break;case"yyyy":t=lt(Ae.FullYear,4,0,!1,!0);break;case"Y":t=rr(1);break;case"YY":t=rr(2,!0);break;case"YYY":t=rr(3);break;case"YYYY":t=rr(4);break;case"M":case"L":t=lt(Ae.Month,1,1);break;case"MM":case"LL":t=lt(Ae.Month,2,1);break;case"MMM":t=Et(Pe.Months,L.Abbreviated);break;case"MMMM":t=Et(Pe.Months,L.Wide);break;case"MMMMM":t=Et(Pe.Months,L.Narrow);break;case"LLL":t=Et(Pe.Months,L.Abbreviated,$.Standalone);break;case"LLLL":t=Et(Pe.Months,L.Wide,$.Standalone);break;case"LLLLL":t=Et(Pe.Months,L.Narrow,$.Standalone);break;case"w":t=Tn(1);break;case"ww":t=Tn(2);break;case"W":t=Tn(1,!0);break;case"d":t=lt(Ae.Date,1);break;case"dd":t=lt(Ae.Date,2);break;case"c":case"cc":t=lt(Ae.Day,1);break;case"ccc":t=Et(Pe.Days,L.Abbreviated,$.Standalone);break;case"cccc":t=Et(Pe.Days,L.Wide,$.Standalone);break;case"ccccc":t=Et(Pe.Days,L.Narrow,$.Standalone);break;case"cccccc":t=Et(Pe.Days,L.Short,$.Standalone);break;case"E":case"EE":case"EEE":t=Et(Pe.Days,L.Abbreviated);break;case"EEEE":t=Et(Pe.Days,L.Wide);break;case"EEEEE":t=Et(Pe.Days,L.Narrow);break;case"EEEEEE":t=Et(Pe.Days,L.Short);break;case"a":case"aa":case"aaa":t=Et(Pe.DayPeriods,L.Abbreviated);break;case"aaaa":t=Et(Pe.DayPeriods,L.Wide);break;case"aaaaa":t=Et(Pe.DayPeriods,L.Narrow);break;case"b":case"bb":case"bbb":t=Et(Pe.DayPeriods,L.Abbreviated,$.Standalone,!0);break;case"bbbb":t=Et(Pe.DayPeriods,L.Wide,$.Standalone,!0);break;case"bbbbb":t=Et(Pe.DayPeriods,L.Narrow,$.Standalone,!0);break;case"B":case"BB":case"BBB":t=Et(Pe.DayPeriods,L.Abbreviated,$.Format,!0);break;case"BBBB":t=Et(Pe.DayPeriods,L.Wide,$.Format,!0);break;case"BBBBB":t=Et(Pe.DayPeriods,L.Narrow,$.Format,!0);break;case"h":t=lt(Ae.Hours,1,-12);break;case"hh":t=lt(Ae.Hours,2,-12);break;case"H":t=lt(Ae.Hours,1);break;case"HH":t=lt(Ae.Hours,2);break;case"m":t=lt(Ae.Minutes,1);break;case"mm":t=lt(Ae.Minutes,2);break;case"s":t=lt(Ae.Seconds,1);break;case"ss":t=lt(Ae.Seconds,2);break;case"S":t=lt(Ae.FractionalSeconds,1);break;case"SS":t=lt(Ae.FractionalSeconds,2);break;case"SSS":t=lt(Ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Pn(Xe.Short);break;case"ZZZZZ":t=Pn(Xe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Pn(Xe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Pn(Xe.Long);break;default:return null}return ft[r]=t,t}(F);D+=z?z(i,e,v):"''"===F?"'":F.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function ot(r,t,e){const n=new Date(0);return n.setFullYear(r,t,e),n.setHours(0,0,0),n}function Ue(r,t){const e=function V(r){return(0,a.cg1)(r)[a.wAp.LocaleId]}(r);if(ln[e]=ln[e]||{},ln[e][t])return ln[e][t];let n="";switch(t){case"shortDate":n=ce(r,B.Short);break;case"mediumDate":n=ce(r,B.Medium);break;case"longDate":n=ce(r,B.Long);break;case"fullDate":n=ce(r,B.Full);break;case"shortTime":n=de(r,B.Short);break;case"mediumTime":n=de(r,B.Medium);break;case"longTime":n=de(r,B.Long);break;case"fullTime":n=de(r,B.Full);break;case"short":const i=Ue(r,"shortTime"),o=Ue(r,"shortDate");n=Ne(pe(r,B.Short),[i,o]);break;case"medium":const s=Ue(r,"mediumTime"),l=Ue(r,"mediumDate");n=Ne(pe(r,B.Medium),[s,l]);break;case"long":const v=Ue(r,"longTime"),D=Ue(r,"longDate");n=Ne(pe(r,B.Long),[v,D]);break;case"full":const F=Ue(r,"fullTime"),z=Ue(r,"fullDate");n=Ne(pe(r,B.Full),[F,z])}return n&&(ln[e][t]=n),n}function Ne(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),r}function $e(r,t,e="-",n,i){let o="";(r<0||i&&r<=0)&&(i?r=1-r:(r=-r,o=e));let s=String(r);for(;s.length<t;)s="0"+s;return n&&(s=s.slice(s.length-t)),o+s}function lt(r,t,e=0,n=!1,i=!1){return function(o,s){let l=function $t(r,t){switch(r){case Ae.FullYear:return t.getFullYear();case Ae.Month:return t.getMonth();case Ae.Date:return t.getDate();case Ae.Hours:return t.getHours();case Ae.Minutes:return t.getMinutes();case Ae.Seconds:return t.getSeconds();case Ae.FractionalSeconds:return t.getMilliseconds();case Ae.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,o);if((e>0||l>-e)&&(l+=e),r===Ae.Hours)0===l&&-12===e&&(l=12);else if(r===Ae.FractionalSeconds)return function at(r,t){return $e(r,3).substring(0,t)}(l,t);const v=_e(s,ee.MinusSign);return $e(l,t,v,n,i)}}function Et(r,t,e=$.Format,n=!1){return function(i,o){return function xt(r,t,e,n,i,o){switch(e){case Pe.Months:return function Z(r,t,e){const n=(0,a.cg1)(r),o=st([n[a.wAp.MonthsFormat],n[a.wAp.MonthsStandalone]],t);return st(o,e)}(t,i,n)[r.getMonth()];case Pe.Days:return function Q(r,t,e){const n=(0,a.cg1)(r),o=st([n[a.wAp.DaysFormat],n[a.wAp.DaysStandalone]],t);return st(o,e)}(t,i,n)[r.getDay()];case Pe.DayPeriods:const s=r.getHours(),l=r.getMinutes();if(o){const D=function qe(r){const t=(0,a.cg1)(r);return De(t),(t[a.wAp.ExtraData][2]||[]).map(n=>"string"==typeof n?ct(n):[ct(n[0]),ct(n[1])])}(t),F=function je(r,t,e){const n=(0,a.cg1)(r);De(n);const o=st([n[a.wAp.ExtraData][0],n[a.wAp.ExtraData][1]],t)||[];return st(o,e)||[]}(t,i,n),z=D.findIndex(re=>{if(Array.isArray(re)){const[ae,fe]=re,ge=s>=ae.hours&&l>=ae.minutes,we=s<fe.hours||s===fe.hours&&l<fe.minutes;if(ae.hours<fe.hours){if(ge&&we)return!0}else if(ge||we)return!0}else if(re.hours===s&&re.minutes===l)return!0;return!1});if(-1!==z)return F[z]}return function U(r,t,e){const n=(0,a.cg1)(r),o=st([n[a.wAp.DayPeriodsFormat],n[a.wAp.DayPeriodsStandalone]],t);return st(o,e)}(t,i,n)[s<12?0:1];case Pe.Eras:return function K(r,t){return st((0,a.cg1)(r)[a.wAp.Eras],t)}(t,n)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,o,r,t,e,n)}}function Pn(r){return function(t,e,n){const i=-1*n,o=_e(e,ee.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(r){case Xe.Short:return(i>=0?"+":"")+$e(s,2,o)+$e(Math.abs(i%60),2,o);case Xe.ShortGMT:return"GMT"+(i>=0?"+":"")+$e(s,1,o);case Xe.Long:return"GMT"+(i>=0?"+":"")+$e(s,2,o)+":"+$e(Math.abs(i%60),2,o);case Xe.Extended:return 0===n?"Z":(i>=0?"+":"")+$e(s,2,o)+":"+$e(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${r}"`)}}}function Cn(r){return ot(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function Tn(r,t=!1){return function(e,n){let i;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+o)/7)}else{const o=Cn(e),s=function Qr(r){const t=ot(r,0,1).getDay();return ot(r,0,1+(t<=4?4:11)-t)}(o.getFullYear()),l=o.getTime()-s.getTime();i=1+Math.round(l/6048e5)}return $e(i,r,_e(n,ee.MinusSign))}}function rr(r,t=!1){return function(e,n){return $e(Cn(e).getFullYear(),r,_e(n,ee.MinusSign),t)}}const ft={};function ke(r,t){r=r.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function Ht(r){return r instanceof Date&&!isNaN(r.valueOf())}const Le=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ze(r,t,e,n,i){const s=function tn(r,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=r.split(";"),i=n[0],o=n[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],l=s[0],v=s[1]||"";e.posPre=l.substring(0,l.indexOf("#"));for(let F=0;F<v.length;F++){const z=v.charAt(F);"0"===z?e.minFrac=e.maxFrac=F+1:"#"===z?e.maxFrac=F+1:e.posSuf+=z}const D=l.split(",");if(e.gSize=D[1]?D[1].length:0,e.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,o){const F=i.length-e.posPre.length-e.posSuf.length,z=o.indexOf("#");e.negPre=o.substring(0,z).replace(/'/g,""),e.negSuf=o.slice(z+F).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function me(r,t){return(0,a.cg1)(r)[a.wAp.NumberFormats][t]}(t,J.Currency),_e(t,ee.MinusSign));return s.minFrac=function bt(r){let t;const e=X[r];return e&&(t=e[2]),"number"==typeof t?t:2}(n),s.maxFrac=s.minFrac,function Ze(r,t,e,n,i,o,s=!1){let l="",v=!1;if(isFinite(r)){let D=function Vn(r){let n,i,o,s,l,t=Math.abs(r)+"",e=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;"0"===t.charAt(o);o++);if(o===(l=t.length))n=[0],i=1;else{for(l--;"0"===t.charAt(l);)l--;for(i-=o,n=[],s=0;o<=l;o++,s++)n[s]=Number(t.charAt(o))}return i>22&&(n=n.splice(0,21),e=i-1,i=1),{digits:n,exponent:e,integerLen:i}}(r);s&&(D=function vn(r){if(0===r.digits[0])return r;const t=r.digits.length-r.integerLen;return r.exponent?r.exponent+=2:(0===t?r.digits.push(0,0):1===t&&r.digits.push(0),r.integerLen+=2),r}(D));let F=t.minInt,z=t.minFrac,re=t.maxFrac;if(o){const Ie=o.match(Le);if(null===Ie)throw new Error(`${o} is not a valid digit info`);const Ve=Ie[1],et=Ie[3],gt=Ie[5];null!=Ve&&(F=xn(Ve)),null!=et&&(z=xn(et)),null!=gt?re=xn(gt):null!=et&&z>re&&(re=z)}!function lr(r,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let n=r.digits,i=n.length-r.integerLen;const o=Math.min(Math.max(t,i),e);let s=o+r.integerLen,l=n[s];if(s>0){n.splice(Math.max(r.integerLen,s));for(let z=s;z<n.length;z++)n[z]=0}else{i=Math.max(0,i),r.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let z=1;z<s;z++)n[z]=0}if(l>=5)if(s-1<0){for(let z=0;z>s;z--)n.unshift(0),r.integerLen++;n.unshift(1),r.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let v=0!==o;const D=t+r.integerLen,F=n.reduceRight(function(z,re,ae,fe){return fe[ae]=(re+=z)<10?re:re-10,v&&(0===fe[ae]&&ae>=D?fe.pop():v=!1),re>=10?1:0},0);F&&(n.unshift(F),r.integerLen++)}(D,z,re);let ae=D.digits,fe=D.integerLen;const ge=D.exponent;let we=[];for(v=ae.every(Ie=>!Ie);fe<F;fe++)ae.unshift(0);for(;fe<0;fe++)ae.unshift(0);fe>0?we=ae.splice(fe,ae.length):(we=ae,ae=[0]);const Te=[];for(ae.length>=t.lgSize&&Te.unshift(ae.splice(-t.lgSize,ae.length).join(""));ae.length>t.gSize;)Te.unshift(ae.splice(-t.gSize,ae.length).join(""));ae.length&&Te.unshift(ae.join("")),l=Te.join(_e(e,n)),we.length&&(l+=_e(e,i)+we.join("")),ge&&(l+=_e(e,ee.Exponential)+"+"+ge)}else l=_e(e,ee.Infinity);return l=r<0&&!v?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf,l}(r,s,t,ee.CurrencyGroup,ee.CurrencyDecimal,i).replace("\xa4",e).replace("\xa4","").trim()}function xn(r){const t=parseInt(r);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+r);return t}let Rt=(()=>{class r{constructor(e,n,i,o){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(n.item)}`);this._toggleClass(n.item,!0)}),e.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!0)):Object.keys(e).forEach(n=>this._toggleClass(n,!!e[n])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!1)):Object.keys(e).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(e,n){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})();class Fn{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class r{constructor(e,n,i){this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((i,o,s)=>{if(null==i.previousIndex)n.createEmbeddedView(this._template,new Fn(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)n.remove(null===o?void 0:o);else if(null!==o){const l=n.get(o);n.move(l,s),kn(l,i)}});for(let i=0,o=n.length;i<o;i++){const l=n.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{kn(n.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,n){return!0}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function kn(r,t){r.context.$implicit=t.item}let Un=(()=>{class r{constructor(e,n){this._viewContainer=e,this._context=new br,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Zn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Zn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class br{constructor(){this.$implicit=null,this.ngIf=null}}function Zn(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class xr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ii=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(e)}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),r})(),pi=(()=>{class r{constructor(e,n,i){this.ngSwitch=i,i._addCase(),this._view=new xr(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ii,9))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),r})(),no=(()=>{class r{constructor(e,n,i){i._addDefault(new xr(e,n))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(ii,9))},r.\u0275dir=a.lG2({type:r,selectors:[["","ngSwitchDefault",""]],standalone:!0}),r})();function ki(r,t){return new a.vHH(2100,!1)}class rf{createSubscription(t,e){return t.subscribe({next:e,error:n=>{throw n}})}dispose(t){t.unsubscribe()}}class Ro{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}}const va=new Ro,Ja=new rf;let Ls=(()=>{class r{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if((0,a.QGY)(e))return va;if((0,a.F4k)(e))return Ja;throw ki()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO,16))},r.\u0275pipe=a.Yjl({name:"async",type:r,pure:!1,standalone:!0}),r})();const af=new a.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ao=(()=>{class r{constructor(e,n){this.locale=e,this.defaultTimezone=n}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return We(e,n,o||this.locale,i??this.defaultTimezone??void 0)}catch(s){throw ki()}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.soG,16),a.Y36(af,24))},r.\u0275pipe=a.Yjl({name:"date",type:r,pure:!0,standalone:!0}),r})(),df=(()=>{class r{constructor(e,n="USD"){this._locale=e,this._defaultCurrencyCode=n}transform(e,n=this._defaultCurrencyCode,i="symbol",o,s){if(!function z_(r){return!(null==r||""===r||r!=r)}(e))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let l=n||this._defaultCurrencyCode;"code"!==i&&(l="symbol"===i||"symbol-narrow"===i?function ht(r,t,e="en"){const n=function ve(r){return(0,a.cg1)(r)[a.wAp.Currencies]}(e)[r]||X[r]||[],i=n[1];return"narrow"===t&&"string"==typeof i?i:n[0]||r}(l,"symbol"===i?"wide":"narrow",s):i);try{return ze(function W_(r){if("string"==typeof r&&!isNaN(Number(r)-parseFloat(r)))return Number(r);if("number"!=typeof r)throw new Error(`${r} is not a number`);return r}(e),s,l,n,o)}catch(v){throw ki()}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.soG,16),a.Y36(a.EJc,16))},r.\u0275pipe=a.Yjl({name:"currency",type:r,pure:!0,standalone:!0}),r})();let Vs=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const ug="browser";let eM=(()=>{class r{}return r.\u0275prov=(0,a.Yz7)({token:r,providedIn:"root",factory:()=>new Y4((0,a.LFG)(M),window)}),r})();class Y4{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function qo(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=hf(this.window.history)||hf(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hf(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class D1 extends class mM extends class R{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function k(r){T||(T=r)}(new D1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function _g(){return yg=yg||document.querySelector("base"),yg?yg.getAttribute("href"):null}();return null==e?null:function T1(r){vf=vf||document.createElement("a"),vf.setAttribute("href",r);const t=vf.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yg=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function vt(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const n=e.indexOf("="),[i,o]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let vf,yg=null;const yf=new a.OlP("TRANSITION_ID"),R1=[{provide:a.ip1,useFactory:function x1(r,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const n=te(),i=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let o=0;o<i.length;o++)n.remove(i[o])})}},deps:[yf,M,a.zs3],multi:!0}];let gM=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const nl=new a.OlP("EventManagerPlugins");let td=(()=>{class r{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,i){return this._findPluginFor(n).addEventListener(e,n,i)}addGlobalEventListener(e,n,i){return this._findPluginFor(n).addGlobalEventListener(e,n,i)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(nl),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class _f{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=te().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let vM=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),n.add(i))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),nd=(()=>{class r extends vM{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,n,i){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(n.appendChild(s))})}addHost(e){const n=[];this._addStylesToHost(this._stylesSet,e,n),this._hostNodes.set(e,n)}removeHost(e){const n=this._hostNodes.get(e);n&&n.forEach(eb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((n,i)=>{this._addStylesToHost(e,i,n)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(eb))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function eb(r){te().remove(r)}const tb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hs=/%COMP%/g;function Cg(r,t,e){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?Cg(r,i,e):(i=i.replace(hs,r),e.push(i))}return e}function ib(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let bf=(()=>{class r{constructor(e,n,i){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sg(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(n.id);return i||(i=new bM(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,i)),i.applyToHost(e),i}case 1:case a.ifc.ShadowDom:return new O1(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const i=Cg(n.id,n.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(td),a.LFG(nd),a.LFG(a.AFp))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class Sg{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(tb[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(id(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(id(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const o=tb[i];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=tb[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,n,i&a.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ib(n)):this.eventManager.addEventListener(t,e,ib(n))}}function id(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class bM extends Sg{constructor(t,e,n,i){super(t),this.component=n;const o=Cg(i+"-"+n.id,n.styles,[]);e.addStyles(o),this.contentAttr=function bg(r){return"_ngcontent-%COMP%".replace(hs,r)}(i+"-"+n.id),this.hostAttr=function wg(r){return"_nghost-%COMP%".replace(hs,r)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class O1 extends Sg{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Cg(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const l=document.createElement("style");l.textContent=o[s],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let M1=(()=>{class r extends _f{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i){return e.addEventListener(n,i,!1),()=>this.removeEventListener(e,n,i)}removeEventListener(e,n,i){return e.removeEventListener(n,i)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const ku=["alt","control","meta","shift"],wM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I1={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let ob=(()=>{class r extends _f{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,n,i){const o=r.parseEventName(n),s=r.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>te().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const o=r._normalizeKey(n.pop());let s="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),s="code."),ku.forEach(D=>{const F=n.indexOf(D);F>-1&&(n.splice(F,1),s+=D+".")}),s+=o,0!=n.length||0===o.length)return null;const v={};return v.domEventName=i,v.fullKey=s,v}static matchEventFullKeyCode(e,n){let i=wM[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(i=e.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ku.forEach(s=>{s!==i&&(0,I1[s])(e)&&(o+=s+".")}),o+=i,o===n)}static eventCallback(e,n,i){return o=>{r.matchEventFullKeyCode(o,e)&&i.runGuarded(()=>n(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const f5=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:ug},{provide:a.g9A,useValue:function od(){D1.makeCurrent()},multi:!0},{provide:M,useFactory:function ab(){return(0,a.RDi)(document),document},deps:[]}]),F1=new a.OlP(""),Ir=[{provide:a.rWj,useClass:class ed{addToWindow(t){a.dqk.getAngularTestability=(n,i=!0)=>{const o=t.findTestabilityInTree(n,i);if(null==o)throw new Error("Could not find testability for element.");return o},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(n=>{const i=a.dqk.getAllAngularTestabilities();let o=i.length,s=!1;const l=function(v){s=s||v,o--,0==o&&n(s)};i.forEach(function(v){v.whenStable(l)})})}findTestabilityInTree(t,e,n){return null==e?null:t.getTestability(e)??(n?te().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],SM=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function k1(){return new a.qLn},deps:[]},{provide:nl,useClass:M1,multi:!0,deps:[M,a.R0b,a.Lbi]},{provide:nl,useClass:ob,multi:!0,deps:[M]},{provide:bf,useClass:bf,deps:[td,nd,a.AFp]},{provide:a.FYo,useExisting:bf},{provide:vM,useExisting:nd},{provide:nd,useClass:nd,deps:[M]},{provide:td,useClass:td,deps:[nl,a.R0b]},{provide:class q_{},useClass:gM,deps:[]},[]];let EM=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:a.AFp,useValue:e.appId},{provide:yf,useExisting:a.AFp},R1]}}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(F1,12))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[...SM,...Ir],imports:[Vs,a.hGG]}),r})(),DM=(()=>{class r{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:function(e){let n=null;return n=e?new e:function m5(){return new DM((0,a.LFG)(M))}(),n},providedIn:"root"}),r})();typeof window<"u"&&window;let ub=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:function(e){let n=null;return n=e?new(e||r):a.LFG(V1),n},providedIn:"root"}),r})(),V1=(()=>{class r extends ub{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case a.q3G.NONE:return n;case a.q3G.HTML:return(0,a.qzn)(n,"HTML")?(0,a.z3N)(n):(0,a.EiD)(this._doc,String(n)).toString();case a.q3G.STYLE:return(0,a.qzn)(n,"Style")?(0,a.z3N)(n):n;case a.q3G.SCRIPT:if((0,a.qzn)(n,"Script"))return(0,a.z3N)(n);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(n,"URL")?(0,a.z3N)(n):(0,a.mCW)(String(n));case a.q3G.RESOURCE_URL:if((0,a.qzn)(n,"ResourceURL"))return(0,a.z3N)(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:function(e){let n=null;return n=e?new e:function OM(r){return new V1(r.get(M))}(a.LFG(a.zs3)),n},providedIn:"root"}),r})();var Jr=Oe(8996),rl=Oe(3269);function gn(...r){const t=(0,rl.yG)(r);return(0,Jr.D)(r,t)}var dn=Oe(7579);class ro extends dn.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const xg=(0,Oe(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});var Ko=Oe(9751);const{isArray:MM}=Array,{getPrototypeOf:B1,prototype:Df,keys:sd}=Object;function G1(r){if(1===r.length){const t=r[0];if(MM(t))return{args:t,keys:null};if(function mi(r){return r&&"object"==typeof r&&B1(r)===Df}(t)){const e=sd(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:r,keys:null}}var ad=Oe(4671),Dn=Oe(4004);const{isArray:cb}=Array;function db(r){return(0,Dn.U)(t=>function Tf(r,t){return cb(t)?r(...t):r(t)}(r,t))}function j1(r,t){return r.reduce((e,n,i)=>(e[n]=t[i],e),{})}var gi=Oe(5403),hb=Oe(9672);function Lu(...r){const t=(0,rl.yG)(r),e=(0,rl.jO)(r),{args:n,keys:i}=G1(r);if(0===n.length)return(0,Jr.D)([],t);const o=new Ko.y(function H1(r,t,e=ad.y){return n=>{ld(t,()=>{const{length:i}=r,o=new Array(i);let s=i,l=i;for(let v=0;v<i;v++)ld(t,()=>{const D=(0,Jr.D)(r[v],t);let F=!1;D.subscribe((0,gi.x)(n,z=>{o[v]=z,F||(F=!0,l--),l||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,i?s=>j1(i,s):ad.y));return e?o.pipe(db(e)):o}function ld(r,t,e){r?(0,hb.f)(e,r,t):t()}var xf=Oe(8189);function il(...r){return function U1(){return(0,xf.J)(1)}()((0,Jr.D)(r,(0,rl.yG)(r)))}var ba=Oe(8421);function ud(r){return new Ko.y(t=>{(0,ba.Xf)(r()).subscribe(t)})}var IM=Oe(9635),Bs=Oe(576);function Gs(r,t){const e=(0,Bs.m)(r)?r:()=>r,n=i=>i.error(e());return new Ko.y(t?i=>t.schedule(n,0,i):n)}var ps=Oe(515),ei=Oe(727),Yi=Oe(4482);function Rg(){return(0,Yi.e)((r,t)=>{let e=null;r._refCount++;const n=(0,gi.x)(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const i=r._connection,o=e;e=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});r.subscribe(n),n.closed||(e=r.connect())})}class z1 extends Ko.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Yi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ei.w0;const e=this.getSubject();t.add(this.source.subscribe((0,gi.x)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ei.w0.EMPTY)}return t}refCount(){return Rg()(this)}}function Io(r,t){return(0,Yi.e)((e,n)=>{let i=null,o=0,s=!1;const l=()=>s&&!i&&n.complete();e.subscribe((0,gi.x)(n,v=>{i?.unsubscribe();let D=0;const F=o++;(0,ba.Xf)(r(v,F)).subscribe(i=(0,gi.x)(n,z=>n.next(t?t(v,z,F,D++):z),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function Or(r){return r<=0?()=>ps.E:(0,Yi.e)((t,e)=>{let n=0;t.subscribe((0,gi.x)(e,i=>{++n<=r&&(e.next(i),r<=n&&e.complete())}))})}function si(...r){const t=(0,rl.yG)(r);return(0,Yi.e)((e,n)=>{(t?il(r,e,t):il(r,e)).subscribe(n)})}function Pr(r,t){return(0,Yi.e)((e,n)=>{let i=0;e.subscribe((0,gi.x)(n,o=>r.call(t,o,i++)&&n.next(o)))})}var vi=Oe(5577);function Rf(r){return(0,Yi.e)((t,e)=>{let n=!1;t.subscribe((0,gi.x)(e,i=>{n=!0,e.next(i)},()=>{n||e.next(r),e.complete()}))})}function W1(r=$1){return(0,Yi.e)((t,e)=>{let n=!1;t.subscribe((0,gi.x)(e,i=>{n=!0,e.next(i)},()=>n?e.complete():e.error(r())))})}function $1(){return new xg}function Vu(r,t){const e=arguments.length>=2;return n=>n.pipe(r?Pr((i,o)=>r(i,o,n)):ad.y,Or(1),e?Rf(t):W1(()=>new xg))}function ol(r,t){return(0,Bs.m)(t)?(0,vi.z)(r,t,1):(0,vi.z)(r,1)}var yi=Oe(8505);function sl(r){return(0,Yi.e)((t,e)=>{let o,n=null,i=!1;n=t.subscribe((0,gi.x)(e,void 0,void 0,s=>{o=(0,ba.Xf)(r(s,sl(r)(t))),n?(n.unsubscribe(),n=null,o.subscribe(e)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(e))})}function PM(r,t,e,n,i){return(o,s)=>{let l=e,v=t,D=0;o.subscribe((0,gi.x)(s,F=>{const z=D++;v=l?r(v,F,z):(l=!0,F),n&&s.next(v)},i&&(()=>{l&&s.next(v),s.complete()})))}}function Ag(r,t){return(0,Yi.e)(PM(r,t,arguments.length>=2,!0))}function q1(r){return r<=0?()=>ps.E:(0,Yi.e)((t,e)=>{let n=[];t.subscribe((0,gi.x)(e,i=>{n.push(i),r<n.length&&n.shift()},()=>{for(const i of n)e.next(i);e.complete()},void 0,()=>{n=null}))})}function kM(r,t){const e=arguments.length>=2;return n=>n.pipe(r?Pr((i,o)=>r(i,o,n)):ad.y,q1(1),e?Rf(t):W1(()=>new xg))}function Og(r,t=!1){return(0,Yi.e)((e,n)=>{let i=0;e.subscribe((0,gi.x)(n,o=>{const s=r(o,i++);(s||t)&&n.next(o),!s&&n.complete()}))})}function fb(r){return(0,Dn.U)(()=>r)}function pb(r){return(0,Yi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}const ir="primary",Mg=Symbol("RouteTitle");class S5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function cd(r){return new S5(r)}function Y1(r,t,e){const n=e.path.split("/");if(n.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<r.length))return null;const i={};for(let o=0;o<n.length;o++){const s=n[o],l=r[o];if(s.startsWith(":"))i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function js(r,t){const e=r?Object.keys(r):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let o=0;o<e.length;o++)if(i=e[o],!gb(r[i],t[i]))return!1;return!0}function gb(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),n=[...t].sort();return e.every((i,o)=>n[o]===i)}return r===t}function vb(r){return Array.prototype.concat.apply([],r)}function Hs(r){return r.length>0?r[r.length-1]:null}function Ki(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function Gl(r){return(0,a.CqO)(r)?r:(0,a.QGY)(r)?(0,Jr.D)(Promise.resolve(r)):gn(r)}const FM={exact:function X1(r,t,e){if(!Bu(r.segments,t.segments)||!Af(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!r.children[n]||!X1(r.children[n],t.children[n],e))return!1;return!0},subset:io},K1={exact:function Q1(r,t){return js(r,t)},subset:function NM(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>gb(r[e],t[e]))},ignored:()=>!0};function Z1(r,t,e){return FM[e.paths](r.root,t.root,e.matrixParams)&&K1[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function io(r,t,e){return Pg(r,t,t.segments,e)}function Pg(r,t,e,n){if(r.segments.length>e.length){const i=r.segments.slice(0,e.length);return!(!Bu(i,e)||t.hasChildren()||!Af(i,e,n))}if(r.segments.length===e.length){if(!Bu(r.segments,e)||!Af(r.segments,e,n))return!1;for(const i in t.children)if(!r.children[i]||!io(r.children[i],t.children[i],n))return!1;return!0}{const i=e.slice(0,r.segments.length),o=e.slice(r.segments.length);return!!(Bu(r.segments,i)&&Af(r.segments,i,n)&&r.children[ir])&&Pg(r.children[ir],t,o,n)}}function Af(r,t,e){return t.every((n,i)=>K1[e](r[i].parameters,n.parameters))}class al{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cd(this.queryParams)),this._queryParamMap}toString(){return eE.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ki(e,(n,i)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kg(this)}}class ll{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=cd(this.parameters)),this._parameterMap}toString(){return nE(this)}}function Bu(r,t){return r.length===t.length&&r.every((e,n)=>e.path===t[n].path)}let _b=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:function(){return new bb},providedIn:"root"}),r})();class bb{parse(t){const e=new Eb(t);return new al(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${dd(t.root,!0)}`,n=function VM(r){const t=Object.keys(r).map(e=>{const n=r[e];return Array.isArray(n)?n.map(i=>`${Fg(e)}=${Fg(i)}`).join("&"):`${Fg(e)}=${Fg(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function wb(r){return encodeURI(r)}(t.fragment)}`:""}`}}const eE=new bb;function kg(r){return r.segments.map(t=>nE(t)).join("/")}function dd(r,t){if(!r.hasChildren())return kg(r);if(t){const e=r.children[ir]?dd(r.children[ir],!1):"",n=[];return Ki(r.children,(i,o)=>{o!==ir&&n.push(`${o}:${dd(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function LM(r,t){let e=[];return Ki(r.children,(n,i)=>{i===ir&&(e=e.concat(t(n,i)))}),Ki(r.children,(n,i)=>{i!==ir&&(e=e.concat(t(n,i)))}),e}(r,(n,i)=>i===ir?[dd(r.children[ir],!1)]:[`${i}:${dd(n,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ir]?`${kg(r)}/${e[0]}`:`${kg(r)}/(${e.join("//")})`}}function tE(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fg(r){return tE(r).replace(/%3B/gi,";")}function Of(r){return tE(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ng(r){return decodeURIComponent(r)}function Cb(r){return Ng(r.replace(/\+/g,"%20"))}function nE(r){return`${Of(r.path)}${function Mf(r){return Object.keys(r).map(t=>`;${Of(t)}=${Of(r[t])}`).join("")}(r.parameters)}`}const BM=/^[^\/()?;=#]+/;function hd(r){const t=r.match(BM);return t?t[0]:""}const Sb=/^[^=?&#]+/,D5=/^[^&#]+/;class Eb{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ir]=new On(t,e)),n}parseSegment(){const t=hd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new ll(Ng(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const i=hd(this.remaining);i&&(n=i,this.capture(n))}t[Ng(e)]=Ng(n)}parseQueryParam(t){const e=function rE(r){const t=r.match(Sb);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=function fd(r){const t=r.match(D5);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const i=Cb(e),o=Cb(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=hd(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ir);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ir]:new On([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function Lg(r){return r.segments.length>0?new On([],{[ir]:r}):r}function Vg(r){const t={};for(const n of Object.keys(r.children)){const o=Vg(r.children[n]);(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function Db(r){if(1===r.numberOfChildren&&r.children[ir]){const t=r.children[ir];return new On(r.segments.concat(t.segments),t.children)}return r}(new On(r.segments,t))}function Gu(r){return r instanceof al}function HM(r,t,e,n,i){if(0===e.length)return Hu(t.root,t.root,t.root,n,i);const o=function oE(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new iE(!0,0,r);let t=0,e=!1;const n=r.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const l={};return Ki(o.outlets,(v,D)=>{l[D]="string"==typeof v?v.split("/"):v}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((l,v)=>{0==v&&"."===l||(0==v&&""===l?e=!0:".."===l?t++:""!=l&&i.push(l))}),i):[...i,o]},[]);return new iE(e,t,n)}(e);return o.toRoot()?Hu(t.root,t.root,new On([],{}),n,i):function s(v){const D=function zu(r,t,e,n){if(r.isAbsolute)return new Uu(t.root,!0,0);if(-1===n)return new Uu(e,e===t.root,0);return function xb(r,t,e){let n=r,i=t,o=e;for(;o>i;){if(o-=i,n=n.parent,!n)throw new a.vHH(4005,!1);i=n.segments.length}return new Uu(n,!1,i-o)}(e,n+(pd(r.commands[0])?0:1),r.numberOfDoubleDots)}(o,t,r.snapshot?._urlSegment,v),F=D.processChildren?Gg(D.segmentGroup,D.index,o.commands):Rb(D.segmentGroup,D.index,o.commands);return Hu(t.root,D.segmentGroup,F,n,i)}(r.snapshot?._lastPathIndex)}function pd(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function ju(r){return"object"==typeof r&&null!=r&&r.outlets}function Hu(r,t,e,n,i){let s,o={};n&&Ki(n,(v,D)=>{o[D]=Array.isArray(v)?v.map(F=>`${F}`):`${v}`}),s=r===t?e:Bg(r,t,e);const l=Lg(Vg(s));return new al(l,o,i)}function Bg(r,t,e){const n={};return Ki(r.children,(i,o)=>{n[o]=i===t?e:Bg(i,t,e)}),new On(r.segments,n)}class iE{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pd(n[0]))throw new a.vHH(4003,!1);const i=n.find(ju);if(i&&i!==Hs(n))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uu{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Rb(r,t,e){if(r||(r=new On([],{})),0===r.segments.length&&r.hasChildren())return Gg(r,t,e);const n=function jg(r,t,e){let n=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return o;const s=r.segments[i],l=e[n];if(ju(l))break;const v=`${l}`,D=n<e.length-1?e[n+1]:null;if(i>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!Mb(v,D,s))return o;n+=2}else{if(!Mb(v,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){const o=new On(r.segments.slice(0,n.pathIndex),{});return o.children[ir]=new On(r.segments.slice(n.pathIndex),r.children),Gg(o,0,i)}return n.match&&0===i.length?new On(r.segments,{}):n.match&&!r.hasChildren()?Ab(r,t,e):n.match?Gg(r,0,i):Ab(r,t,e)}function Gg(r,t,e){if(0===e.length)return new On(r.segments,{});{const n=function aE(r){return ju(r[0])?r[0].outlets:{[ir]:r}}(e),i={};return Ki(n,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=Rb(r.children[s],t,o))}),Ki(r.children,(o,s)=>{void 0===n[s]&&(i[s]=o)}),new On(r.segments,i)}}function Ab(r,t,e){const n=r.segments.slice(0,t);let i=0;for(;i<e.length;){const o=e[i];if(ju(o)){const v=lE(o.outlets);return new On(n,v)}if(0===i&&pd(e[0])){n.push(new ll(r.segments[t].path,Ob(e[0]))),i++;continue}const s=ju(o)?o.outlets[ir]:`${o}`,l=i<e.length-1?e[i+1]:null;s&&l&&pd(l)?(n.push(new ll(s,Ob(l))),i+=2):(n.push(new ll(s,{})),i++)}return new On(n,{})}function lE(r){const t={};return Ki(r,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Ab(new On([],{}),0,e))}),t}function Ob(r){const t={};return Ki(r,(e,n)=>t[n]=`${e}`),t}function Mb(r,t,e){return r==e.path&&js(t,e.parameters)}class Us{constructor(t,e){this.id=t,this.url=e}}class Hg extends Us{constructor(t,e,n="imperative",i=null){super(t,e),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wa extends Us{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wu extends Us{constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ib extends Us{constructor(t,e,n,i){super(t,e),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pb extends Us{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kb extends Us{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fb extends Us{constructor(t,e,n,i,o){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class If extends Us{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UM extends Us{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uE{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zM{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WM{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cE{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nb{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ug{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zg{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Lb(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=Lb(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hE(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return hE(t,this._root).map(e=>e.value)}}function Lb(r,t){if(r===t.value)return t;for(const e of t.children){const n=Lb(r,e);if(n)return n}return null}function hE(r,t){if(r===t.value)return[t];for(const e of t.children){const n=hE(r,e);if(n.length)return n.unshift(t),n}return[]}class ul{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jl(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class fE extends dE{constructor(t,e){super(t),this.snapshot=e,Gb(this,t)}toString(){return this.snapshot.toString()}}function Vb(r,t){const e=function Wg(r,t){const s=new Pf([],{},{},"",{},ir,t,null,r.root,-1,{});return new Hl("",new ul(s,[]))}(r,t),n=new ro([new ll("",{})]),i=new ro({}),o=new ro({}),s=new ro({}),l=new ro(""),v=new ms(n,i,s,l,o,ir,t,e.root);return v.snapshot=e.root,new fE(new ul(v,[]),e)}class ms{constructor(t,e,n,i,o,s,l,v){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.title=this.data?.pipe((0,Dn.U)(D=>D[Mg]))??gn(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dn.U)(t=>cd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dn.U)(t=>cd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bb(r,t="emptyOnly"){const e=r.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const i=e[n],o=e[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function pE(r){return r.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Pf{constructor(t,e,n,i,o,s,l,v,D,F,z,re){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.title=this.data?.[Mg],this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=F,this._correctedLastPathIndex=re??F,this._resolve=z}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hl extends dE{constructor(t,e){super(e),this.url=t,Gb(this,e)}toString(){return mE(this._root)}}function Gb(r,t){t.value._routerState=r,t.children.forEach(e=>Gb(r,e))}function mE(r){const t=r.children.length>0?` { ${r.children.map(mE).join(", ")} } `:"";return`${r.value}${t}`}function jb(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,js(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),js(t.params,e.params)||r.params.next(e.params),function mb(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!js(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),js(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function Hb(r,t){const e=js(r.params,t.params)&&function J1(r,t){return Bu(r,t)&&r.every((e,n)=>js(e.parameters,t[n].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||Hb(r.parent,t.parent))}function Zo(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const i=function md(r,t,e){return t.children.map(n=>{for(const i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return Zo(r,n,i);return Zo(r,n)})}(r,t,e);return new ul(n,i)}{if(r.shouldAttach(t.value)){const o=r.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>Zo(r,l)),s}}const n=function qM(r){return new ms(new ro(r.url),new ro(r.params),new ro(r.queryParams),new ro(r.fragment),new ro(r.data),r.outlet,r.component,r)}(t.value),i=t.children.map(o=>Zo(r,o));return new ul(n,i)}}const Ub="ngNavigationCancelingError";function gE(r,t){const{redirectTo:e,navigationBehaviorOptions:n}=Gu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=vE(!1,0,t);return i.url=e,i.navigationBehaviorOptions=n,i}function vE(r,t,e){const n=new Error("NavigationCancelingError: "+(r||""));return n[Ub]=!0,n.cancellationCode=t,e&&(n.url=e),n}function yE(r){return _E(r)&&Gu(r.url)}function _E(r){return r&&r[Ub]}class bE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kf,this.attachRef=null}}let kf=(()=>{class r{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new bE,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const $g=!1;let gd=(()=>{class r{constructor(e,n,i,o,s){this.parentContexts=e,this.location=n,this.changeDetector=o,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=i||ir,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,$g);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,$g);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,$g);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new a.vHH(4013,$g);this._activatedRoute=e;const i=this.location,s=e._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,v=new YM(e,l,i.injector);if(n&&function qg(r){return!!r.resolveComponentFactory}(n)){const D=n.resolveComponentFactory(s);this.activated=i.createComponent(D,i.length,v)}else this.activated=i.createComponent(s,{index:i.length,injector:v,environmentInjector:n??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(kf),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},r.\u0275dir=a.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),r})();class YM{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ms?this.route:t===kf?this.childContexts:this.parent.get(t,e)}}let zs=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,n){1&e&&a._UZ(0,"router-outlet")},dependencies:[gd],encapsulation:2}),r})();function vd(r,t){return r.providers&&!r._injector&&(r._injector=(0,a.MMx)(r.providers,t,`Route: ${r.path}`)),r._injector??t}function CE(r){const t=r.children&&r.children.map(CE),e=t?{...r,children:t}:{...r};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ir&&(e.component=zs),e}function Ws(r){return r.outlet||ir}function $b(r,t){const e=r.filter(n=>Ws(n)===t);return e.push(...r.filter(n=>Ws(n)!==t)),e}function Ff(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class JM{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jb(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=jl(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Ki(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(i===o)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=jl(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(n&&n.outlet){const s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,o=jl(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const i=jl(e);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Ug(o.value.snapshot))}),t.children.length&&this.forwardEvent(new cE(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,o=e?e.value:null;if(jb(i),i===o)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),jb(l.route.value),this.activateChildRoutes(t,null,s.children)}else{const l=Ff(i.snapshot),v=l?.get(a._Vd)??null;s.attachRef=null,s.route=i,s.resolver=v,s.injector=l,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class SE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Nf{constructor(t,e){this.component=t,this.route=e}}function Yg(r,t,e){const n=r._root;return Lf(n,t?t._root:null,e,[n.value])}function Ul(r,t){const e=Symbol(),n=t.get(r,e);return n===e?"function"!=typeof r||(0,a.Z0I)(r)?t.get(r):r:n}function Lf(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=jl(t);return r.children.forEach(s=>{(function ai(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=r.value,s=t?t.value:null,l=e?e.getContext(r.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const v=function eI(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!Bu(r.url,t.url);case"pathParamsOrQueryParamsChange":return!Bu(r.url,t.url)||!js(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hb(r,t)||!js(r.queryParams,t.queryParams);default:return!Hb(r,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new SE(n)):(o.data=s.data,o._resolvedData=s._resolvedData),Lf(r,t,o.component?l?l.children:null:e,n,i),v&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Nf(l.outlet.component,s))}else s&&Vf(t,l,i),i.canActivateChecks.push(new SE(n)),Lf(r,null,o.component?l?l.children:null:e,n,i)})(s,o[s.value.outlet],e,n.concat([s.value]),i),delete o[s.value.outlet]}),Ki(o,(s,l)=>Vf(s,e.getContext(l),i)),i}function Vf(r,t,e){const n=jl(r),i=r.value;Ki(n,(o,s)=>{Vf(o,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Nf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function qu(r){return"function"==typeof r}function Yu(r){return r instanceof xg||"EmptyError"===r?.name}const yd=Symbol("INITIAL_VALUE");function Ku(){return Io(r=>Lu(r.map(t=>t.pipe(Or(1),si(yd)))).pipe((0,Dn.U)(t=>{for(const e of t)if(!0!==e){if(e===yd)return yd;if(!1===e||e instanceof al)return e}return!0}),Pr(t=>t!==yd),Or(1)))}function Kb(r){return(0,IM.z)((0,yi.b)(t=>{if(Gu(t))throw gE(0,t)}),(0,Dn.U)(t=>!0===t))}const cl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ME(r,t,e,n,i){const o=Bf(r,t,e);return o.matched?function OE(r,t,e,n){const i=t.canMatch;return i&&0!==i.length?gn(i.map(s=>{const l=Ul(s,r);return Gl(function oI(r){return r&&qu(r.canMatch)}(l)?l.canMatch(t,e):r.runInContext(()=>l(t,e)))})).pipe(Ku(),Kb()):gn(!0)}(n=vd(t,n),t,e).pipe((0,Dn.U)(s=>!0===s?o:{...cl})):gn(o)}function Bf(r,t,e){if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?{...cl}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Y1)(e,r,t);if(!i)return{...cl};const o={};Ki(i.posParams,(l,v)=>{o[v]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Zu(r,t,e,n,i="corrected"){if(e.length>0&&function Kg(r,t,e){return e.some(n=>Gf(r,t,n)&&Ws(n)!==ir)}(r,e,n)){const s=new On(t,function Zb(r,t,e,n){const i={};i[ir]=n,n._sourceSegment=r,n._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Ws(o)!==ir){const s=new On([],{});s._sourceSegment=r,s._segmentIndexShift=t.length,i[Ws(o)]=s}return i}(r,t,n,new On(e,r.children)));return s._sourceSegment=r,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function Qu(r,t,e){return e.some(n=>Gf(r,t,n))}(r,e,n)){const s=new On(r.segments,function lI(r,t,e,n,i,o){const s={};for(const l of n)if(Gf(r,e,l)&&!i[Ws(l)]){const v=new On([],{});v._sourceSegment=r,v._segmentIndexShift="legacy"===o?r.segments.length:t.length,s[Ws(l)]=v}return{...i,...s}}(r,t,e,n,r.children,i));return s._sourceSegment=r,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new On(r.segments,r.children);return o._sourceSegment=r,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Gf(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Zg(r,t,e,n){return!!(Ws(r)===n||n!==ir&&Gf(t,e,r))&&("**"===r.path||Bf(t,r,e).matched)}function IE(r,t,e){return 0===t.length&&!r.children[e]}const Qg=!1;class jf{constructor(t){this.segmentGroup=t||null}}class Xu{constructor(t){this.urlTree=t}}function Hf(r){return Gs(new jf(r))}function PE(r){return Gs(new Xu(r))}class dI{constructor(t,e,n,i,o){this.injector=t,this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Zu(this.urlTree.root,[],[],this.config).segmentGroup,e=new On(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ir).pipe((0,Dn.U)(o=>this.createUrlTree(Vg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sl(o=>{if(o instanceof Xu)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof jf?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ir).pipe((0,Dn.U)(i=>this.createUrlTree(Vg(i),t.queryParams,t.fragment))).pipe(sl(i=>{throw i instanceof jf?this.noMatchError(i):i}))}noMatchError(t){return new a.vHH(4002,Qg)}createUrlTree(t,e,n){const i=Lg(t);return new al(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Dn.U)(o=>new On([],o))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return(0,Jr.D)(i).pipe(ol(o=>{const s=n.children[o],l=$b(e,o);return this.expandSegmentGroup(t,l,s,o).pipe((0,Dn.U)(v=>({segment:v,outlet:o})))}),Ag((o,s)=>(o[s.outlet]=s.segment,o),{}),kM())}expandSegment(t,e,n,i,o,s){return(0,Jr.D)(n).pipe(ol(l=>this.expandSegmentAgainstRoute(t,e,n,l,i,o,s).pipe(sl(D=>{if(D instanceof jf)return gn(null);throw D}))),Vu(l=>!!l),sl((l,v)=>{if(Yu(l))return IE(e,i,o)?gn(new On([],{})):Hf(e);throw l}))}expandSegmentAgainstRoute(t,e,n,i,o,s,l){return Zg(i,e,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,o,s):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s):Hf(e):Hf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?PE(o):this.lineralizeSegments(n,o).pipe((0,vi.z)(s=>{const l=new On(s,{});return this.expandSegment(t,l,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,o,s){const{matched:l,consumedSegments:v,remainingSegments:D,positionalParamSegments:F}=Bf(e,i,o);if(!l)return Hf(e);const z=this.applyRedirectCommands(v,i.redirectTo,F);return i.redirectTo.startsWith("/")?PE(z):this.lineralizeSegments(i,z).pipe((0,vi.z)(re=>this.expandSegment(t,e,n,re.concat(D),s,!1)))}matchSegmentAgainstRoute(t,e,n,i,o){return"**"===n.path?(t=vd(n,t),n.loadChildren?(n._loadedRoutes?gn({routes:n._loadedRoutes,injector:n._loadedInjector}):this.configLoader.loadChildren(t,n)).pipe((0,Dn.U)(l=>(n._loadedRoutes=l.routes,n._loadedInjector=l.injector,new On(i,{})))):gn(new On(i,{}))):ME(e,n,i,t).pipe(Io(({matched:s,consumedSegments:l,remainingSegments:v})=>s?this.getChildConfig(t=n._injector??t,n,i).pipe((0,vi.z)(F=>{const z=F.injector??t,re=F.routes,{segmentGroup:ae,slicedSegments:fe}=Zu(e,l,v,re),ge=new On(ae.segments,ae.children);if(0===fe.length&&ge.hasChildren())return this.expandChildren(z,re,ge).pipe((0,Dn.U)(Ve=>new On(l,Ve)));if(0===re.length&&0===fe.length)return gn(new On(l,{}));const we=Ws(n)===o;return this.expandSegment(z,ge,re,fe,we?ir:o,!0).pipe((0,Dn.U)(Ie=>new On(l.concat(Ie.segments),Ie.children)))})):Hf(e)))}getChildConfig(t,e,n){return e.children?gn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?gn({routes:e._loadedRoutes,injector:e._loadedInjector}):function Yb(r,t,e,n){const i=t.canLoad;return void 0===i||0===i.length?gn(!0):gn(i.map(s=>{const l=Ul(s,r);return Gl(function tI(r){return r&&qu(r.canLoad)}(l)?l.canLoad(t,e):r.runInContext(()=>l(t,e)))})).pipe(Ku(),Kb())}(t,e,n).pipe((0,vi.z)(i=>i?this.configLoader.loadChildren(t,e).pipe((0,yi.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function cI(r){return Gs(vE(Qg,3))}())):gn({routes:[],injector:t})}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return gn(n);if(i.numberOfChildren>1||!i.children[ir])return Gs(new a.vHH(4e3,Qg));i=i.children[ir]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreateUrlTree(t,e,n,i){const o=this.createSegmentGroup(t,e.root,n,i);return new al(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ki(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);n[o]=e[l]}else n[o]=i}),n}createSegmentGroup(t,e,n,i){const o=this.createSegments(t,e.segments,n,i);let s={};return Ki(e.children,(l,v)=>{s[v]=this.createSegmentGroup(t,l,n,i)}),new On(o,s)}createSegments(t,e,n,i){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new a.vHH(4001,Qg);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}class FE{}class Uf{constructor(t,e,n,i,o,s,l,v){this.injector=t,this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l,this.urlSerializer=v}recognize(){const t=Zu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ir).pipe((0,Dn.U)(e=>{if(null===e)return null;const n=new Pf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ir,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ul(n,e),o=new Hl(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,n=Bb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,e,n):this.processSegment(t,e,n,n.segments,i)}processChildren(t,e,n){return(0,Jr.D)(Object.keys(n.children)).pipe(ol(i=>{const o=n.children[i],s=$b(e,i);return this.processSegmentGroup(t,s,o,i)}),Ag((i,o)=>i&&o?(i.push(...o),i):null),Og(i=>null!==i),Rf(null),kM(),(0,Dn.U)(i=>{if(null===i)return null;const o=NE(i);return function fI(r){r.sort((t,e)=>t.value.outlet===ir?-1:e.value.outlet===ir?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,n,i,o){return(0,Jr.D)(e).pipe(ol(s=>this.processSegmentAgainstRoute(s._injector??t,s,n,i,o)),Vu(s=>!!s),sl(s=>{if(Yu(s))return IE(n,i,o)?gn([]):gn(null);throw s}))}processSegmentAgainstRoute(t,e,n,i,o){if(e.redirectTo||!Zg(e,n,i,o))return gn(null);let s;if("**"===e.path){const l=i.length>0?Hs(i).parameters:{},v=LE(n)+i.length;s=gn({snapshot:new Pf(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BE(e),Ws(e),e.component??e._loadedComponent??null,e,Xb(n),v,Jb(e),v),consumedSegments:[],remainingSegments:[]})}else s=ME(n,e,i,t).pipe((0,Dn.U)(({matched:l,consumedSegments:v,remainingSegments:D,parameters:F})=>{if(!l)return null;const z=LE(n)+v.length;return{snapshot:new Pf(v,F,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BE(e),Ws(e),e.component??e._loadedComponent??null,e,Xb(n),z,Jb(e),z),consumedSegments:v,remainingSegments:D}}));return s.pipe(Io(l=>{if(null===l)return gn(null);const{snapshot:v,consumedSegments:D,remainingSegments:F}=l;t=e._injector??t;const z=e._loadedInjector??t,re=function _d(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(e),{segmentGroup:ae,slicedSegments:fe}=Zu(n,D,F,re.filter(we=>void 0===we.redirectTo),this.relativeLinkResolution);if(0===fe.length&&ae.hasChildren())return this.processChildren(z,re,ae).pipe((0,Dn.U)(we=>null===we?null:[new ul(v,we)]));if(0===re.length&&0===fe.length)return gn([new ul(v,[])]);const ge=Ws(e)===o;return this.processSegment(z,re,ae,fe,ge?ir:o).pipe((0,Dn.U)(we=>null===we?null:[new ul(v,we)]))}))}}function zf(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function NE(r){const t=[],e=new Set;for(const n of r){if(!zf(n)){t.push(n);continue}const i=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),e.add(i)):t.push(n)}for(const n of e){const i=NE(n.children);t.push(new ul(n.value,i))}return t.filter(n=>!e.has(n))}function Xb(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function LE(r){let t=r,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function BE(r){return r.data||{}}function Jb(r){return r.resolve||{}}function jE(r){return"string"==typeof r.title||null===r.title}function r0(r){return Io(t=>{const e=r(t);return e?(0,Jr.D)(e).pipe((0,Dn.U)(()=>t)):gn(t)})}let HE=(()=>{class r{buildTitle(e){let n,i=e.root;for(;void 0!==i;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===ir);return n}getResolvedTitleForRoute(e){return e.data[Mg]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:function(){return(0,a.f3M)(UE)},providedIn:"root"}),r})(),UE=(()=>{class r extends HE{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(DM))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class mI{}class bd extends class gI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Jg=new a.OlP("",{providedIn:"root",factory:()=>({})}),WE=new a.OlP("ROUTES");let $E=(()=>{class r{constructor(e,n){this.injector=e,this.compiler=n,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return gn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=Gl(e.loadComponent()).pipe((0,yi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),pb(()=>{this.componentLoaders.delete(e)})),i=new z1(n,()=>new dn.x).pipe(Rg());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return gn({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactoryOrRoutes(n.loadChildren).pipe((0,Dn.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(n);let v,D,F=!1;Array.isArray(l)?D=l:(v=l.create(e).injector,D=vb(v.get(WE,[],a.XFs.Self|a.XFs.Optional)));return{routes:D.map(CE),injector:v}}),pb(()=>{this.childrenLoaders.delete(n)})),s=new z1(o,()=>new dn.x).pipe(Rg());return this.childrenLoaders.set(n,s),s}loadModuleFactoryOrRoutes(e){return Gl(e()).pipe((0,vi.z)(n=>n instanceof a.YKP||Array.isArray(n)?gn(n):(0,Jr.D)(this.compiler.compileModuleAsync(n))))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.zs3),a.LFG(a.Sil))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class qE{}class P5{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function k5(r){throw r}function YE(r,t,e){return t.parse("/")}const vI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ZE(){const r=(0,a.f3M)(_b),t=(0,a.f3M)(kf),e=(0,a.f3M)(S),n=(0,a.f3M)(a.zs3),i=(0,a.f3M)(a.Sil),o=(0,a.f3M)(WE,{optional:!0})??[],s=(0,a.f3M)(Jg,{optional:!0})??{},l=(0,a.f3M)(UE),v=(0,a.f3M)(HE,{optional:!0}),D=(0,a.f3M)(qE,{optional:!0}),F=(0,a.f3M)(mI,{optional:!0}),z=new yr(null,r,t,e,n,i,vb(o));return D&&(z.urlHandlingStrategy=D),F&&(z.routeReuseStrategy=F),z.titleStrategy=v??l,function yI(r,t){r.errorHandler&&(t.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(t.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(t.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(t.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(t.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(t.canceledNavigationResolution=r.canceledNavigationResolution)}(s,z),z}let yr=(()=>{class r{constructor(e,n,i,o,s,l,v){this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dn.x,this.errorHandler=k5,this.malformedUriErrorHandler=YE,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>gn(void 0),this.urlHandlingStrategy=new P5,this.routeReuseStrategy=new bd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get($E),this.configLoader.onLoadEndListener=re=>this.triggerEvent(new zM(re)),this.configLoader.onLoadStartListener=re=>this.triggerEvent(new uE(re)),this.ngModule=s.get(a.h0i),this.console=s.get(a.c2e);const z=s.get(a.R0b);this.isNgZoneEnabled=z instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=function yb(){return new al(new On([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vb(this.currentUrlTree,this.rootComponentType),this.transitions=new ro({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const n=this.events;return e.pipe(Pr(i=>0!==i.id),(0,Dn.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Io(i=>{let o=!1,s=!1;return gn(i).pipe((0,yi.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Io(l=>{const v=this.browserUrlTree.toString(),D=!this.navigated||l.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return o0(l.source)&&(this.browserUrlTree=l.extractedUrl),gn(l).pipe(Io(z=>{const re=this.transitions.getValue();return n.next(new Hg(z.id,this.serializeUrl(z.extractedUrl),z.source,z.restoredState)),re!==this.transitions.getValue()?ps.E:Promise.resolve(z)}),function kE(r,t,e,n){return Io(i=>function Qb(r,t,e,n,i){return new dI(r,t,e,n,i).apply()}(r,t,e,i.extractedUrl,n).pipe((0,Dn.U)(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,yi.b)(z=>{this.currentNavigation={...this.currentNavigation,finalUrl:z.urlAfterRedirects},i.urlAfterRedirects=z.urlAfterRedirects}),function GE(r,t,e,n,i,o){return(0,vi.z)(s=>function hI(r,t,e,n,i,o,s="emptyOnly",l="legacy"){return new Uf(r,t,e,n,i,s,l,o).recognize().pipe(Io(v=>null===v?function O5(r){return new Ko.y(t=>t.error(r))}(new FE):gn(v)))}(r,t,e,s.urlAfterRedirects,n.serialize(s.urlAfterRedirects),n,i,o).pipe((0,Dn.U)(l=>({...s,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yi.b)(z=>{if(i.targetSnapshot=z.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!z.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(z.urlAfterRedirects,z.rawUrl);this.setBrowserUrl(ae,z)}this.browserUrlTree=z.urlAfterRedirects}const re=new Pb(z.id,this.serializeUrl(z.extractedUrl),this.serializeUrl(z.urlAfterRedirects),z.targetSnapshot);n.next(re)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:re,extractedUrl:ae,source:fe,restoredState:ge,extras:we}=l,Te=new Hg(re,this.serializeUrl(ae),fe,ge);n.next(Te);const Ie=Vb(ae,this.rootComponentType).snapshot;return gn(i={...l,targetSnapshot:Ie,urlAfterRedirects:ae,extras:{...we,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),ps.E}),(0,yi.b)(l=>{const v=new kb(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(v)}),(0,Dn.U)(l=>i={...l,guards:Yg(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function TE(r,t){return(0,vi.z)(e=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?gn({...e,guardsResult:!0}):function xE(r,t,e,n){return(0,Jr.D)(r).pipe((0,vi.z)(i=>function aI(r,t,e,n,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?gn(o.map(l=>{const v=Ff(t)??i,D=Ul(l,v);return Gl(function iI(r){return r&&qu(r.canDeactivate)}(D)?D.canDeactivate(r,t,e,n):v.runInContext(()=>D(r,t,e,n))).pipe(Vu())})).pipe(Ku()):gn(!0)}(i.component,i.route,e,t,n)),Vu(i=>!0!==i,!0))}(s,n,i,r).pipe((0,vi.z)(l=>l&&function DE(r){return"boolean"==typeof r}(l)?function sI(r,t,e,n){return(0,Jr.D)(t).pipe(ol(i=>il(function AE(r,t){return null!==r&&t&&t(new WM(r)),gn(!0)}(i.route.parent,n),function RE(r,t){return null!==r&&t&&t(new Nb(r)),gn(!0)}(i.route,n),function A5(r,t,e){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function EE(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(s)).filter(s=>null!==s).map(s=>ud(()=>gn(s.guards.map(v=>{const D=Ff(s.node)??e,F=Ul(v,D);return Gl(function rI(r){return r&&qu(r.canActivateChild)}(F)?F.canActivateChild(n,r):D.runInContext(()=>F(n,r))).pipe(Vu())})).pipe(Ku())));return gn(o).pipe(Ku())}(r,i.path,e),function qb(r,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return gn(!0);const i=n.map(o=>ud(()=>{const s=Ff(t)??e,l=Ul(o,s);return Gl(function nI(r){return r&&qu(r.canActivate)}(l)?l.canActivate(t,r):s.runInContext(()=>l(t,r))).pipe(Vu())}));return gn(i).pipe(Ku())}(r,i.route,e))),Vu(i=>!0!==i,!0))}(n,o,r,t):gn(l)),(0,Dn.U)(l=>({...e,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),(0,yi.b)(l=>{if(i.guardsResult=l.guardsResult,Gu(l.guardsResult))throw gE(0,l.guardsResult);const v=new Fb(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(v)}),Pr(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),r0(l=>{if(l.guards.canActivateChecks.length)return gn(l).pipe((0,yi.b)(v=>{const D=new If(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),Io(v=>{let D=!1;return gn(v).pipe(function e0(r,t){return(0,vi.z)(e=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return gn(e);let o=0;return(0,Jr.D)(i).pipe(ol(s=>function t0(r,t,e,n){const i=r.routeConfig,o=r._resolve;return void 0!==i?.title&&!jE(i)&&(o[Mg]=i.title),function pI(r,t,e,n){const i=function n0(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===i.length)return gn({});const o={};return(0,Jr.D)(i).pipe((0,vi.z)(s=>function Wf(r,t,e,n){const i=Ff(t)??n,o=Ul(r,i);return Gl(o.resolve?o.resolve(t,e):i.runInContext(()=>o(t,e)))}(r[s],t,e,n).pipe(Vu(),(0,yi.b)(l=>{o[s]=l}))),q1(1),fb(o),sl(s=>Yu(s)?ps.E:Gs(s)))}(o,r,t,n).pipe((0,Dn.U)(s=>(r._resolvedData=s,r.data=Bb(r,e).resolve,i&&jE(i)&&(r.data[Mg]=i.title),null)))}(s.route,n,r,t)),(0,yi.b)(()=>o++),q1(1),(0,vi.z)(s=>o===i.length?gn(e):ps.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,yi.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"",2))}}))}),(0,yi.b)(v=>{const D=new UM(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),r0(l=>{const v=D=>{const F=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&F.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,yi.b)(z=>{D.component=z}),(0,Dn.U)(()=>{})));for(const z of D.children)F.push(...v(z));return F};return Lu(v(l.targetSnapshot.root)).pipe(Rf(),Or(1))}),r0(()=>this.afterPreactivation()),(0,Dn.U)(l=>{const v=function $M(r,t,e){const n=Zo(r,t._root,e?e._root:void 0);return new fE(n,t)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:v}}),(0,yi.b)(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((r,t,e)=>(0,Dn.U)(n=>(new JM(t,n.targetRouterState,n.currentRouterState,e).activate(r),n)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),(0,yi.b)({next(){o=!0},complete(){o=!0}}),pb(()=>{o||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),sl(l=>{if(s=!0,_E(l)){yE(l)||(this.navigated=!0,this.restoreHistory(i,!0));const v=new Wu(i.id,this.serializeUrl(i.extractedUrl),l.message,l.cancellationCode);if(n.next(v),yE(l)){const D=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),F={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o0(i.source)};this.scheduleNavigation(D,"imperative",null,F,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const v=new Ib(i.id,this.serializeUrl(i.extractedUrl),l,i.targetSnapshot??void 0);n.next(v);try{i.resolve(this.errorHandler(l))}catch(D){i.reject(D)}}return ps.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{const i={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,n,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(CE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:v}=n,D=i||this.routerState.root,F=v?this.currentUrlTree.fragment:s;let z=null;switch(l){case"merge":z={...this.currentUrlTree.queryParams,...o};break;case"preserve":z=this.currentUrlTree.queryParams;break;default:z=o||null}return null!==z&&(z=this.removeEmptyProps(z)),HM(D,this.currentUrlTree,e,z,F??null)}navigateByUrl(e,n={skipLocationChange:!1}){const i=Gu(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,n)}navigate(e,n={skipLocationChange:!1}){return function _I(r){for(let t=0;t<r.length;t++){if(null==r[t])throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(i){n=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return n}isActive(e,n){let i;if(i=!0===n?{...vI}:!1===n?{...KE}:n,Gu(e))return Z1(this.currentUrlTree,e,i);const o=this.parseUrl(e);return Z1(this.currentUrlTree,o,i)}removeEmptyProps(e){return Object.keys(e).reduce((n,i)=>{const o=e[i];return null!=o&&(n[i]=o),n},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,v,D;s?(l=s.resolve,v=s.reject,D=s.promise):D=new Promise((re,ae)=>{l=re,v=ae});const F=++this.navigationId;let z;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),z=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):z=0,this.setTransition({id:F,targetPageId:z,source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:l,reject:v,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(re=>Promise.reject(re))}setBrowserUrl(e,n){const i=this.urlSerializer.serialize(e),o={...n.extras.state,...this.generateNgRouterState(n.id,n.targetPageId)};this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,n,i){const o=new Wu(e.id,this.serializeUrl(e.extractedUrl),n,i);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return r.\u0275fac=function(e){a.$Z()},r.\u0275prov=a.Yz7({token:r,factory:function(){return ZE()},providedIn:"root"}),r})();function o0(r){return"imperative"!==r}let ev=(()=>{class r{constructor(e,n,i,o,s){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new dn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const n=this.renderer,i=this.el.nativeElement;null!==e?n.setAttribute(i,"tabindex",e):n.removeAttribute(i,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(yr),a.Y36(ms),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,n){1&e&&a.NdJ("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),r})(),tv=(()=>{class r{constructor(e,n,i){this.router=e,this.route=n,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new dn.x,this.subscription=e.events.subscribe(o=>{o instanceof wa&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,n,i,o,s){return!!(0!==e||n||i||o||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(yr),a.Y36(ms),a.Y36(m))},r.\u0275dir=a.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,n){1&e&&a.NdJ("click",function(o){return n.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&a.uIk("target",n.target)("href",n.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),r})(),QE=(()=>{class r{constructor(e,n,i,o,s,l){this.router=e,this.element=n,this.renderer=i,this.cdr=o,this.link=s,this.linkWithHref=l,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=e.events.subscribe(v=>{v instanceof wa&&this.update()})}ngAfterContentInit(){gn(this.links.changes,this.linksWithHrefs.changes,gn(null)).pipe((0,xf.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=(0,Jr.D)(e).pipe((0,xf.J)()).subscribe(n=>{this.isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function bI(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&e.isActive(i.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(yr),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(ev,8),a.Y36(tv,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,ev,5),a.Suo(i,tv,5)),2&e){let o;a.iGM(o=a.CRH())&&(n.links=o),a.iGM(o=a.CRH())&&(n.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),r})();class s0{}let wI=(()=>{class r{constructor(e,n,i,o,s){this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Pr(e=>e instanceof wa),ol(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const i=[];for(const o of n){o.providers&&!o._injector&&(o._injector=(0,a.MMx)(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,l=o._loadedInjector??s;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(s,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(l,o.children??o._loadedRoutes))}return(0,Jr.D)(i).pipe((0,xf.J)())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;i=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):gn(null);const o=i.pipe((0,vi.z)(s=>null===s?gn(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){const s=this.loader.loadComponent(n);return(0,Jr.D)([o,s]).pipe((0,xf.J)())}return o})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(s0),a.LFG($E))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const zn=new a.OlP("");let a0=(()=>{class r{constructor(e,n,i={}){this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof zg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.router.triggerEvent(new zg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){a.$Z()},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();function wd(r,t){return{\u0275kind:r,\u0275providers:t}}function nv(r){return[{provide:WE,multi:!0,useValue:r}]}function l0(){const r=(0,a.f3M)(a.zs3);return t=>{const e=r.get(a.z2F);if(t!==e.components[0])return;const n=r.get(yr),i=r.get(JE);1===r.get(u0)&&n.initialNavigation(),r.get(zl,null,a.XFs.Optional)?.setUpPreloading(),r.get(zn,null,a.XFs.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const JE=new a.OlP("",{factory:()=>new dn.x}),u0=new a.OlP("",{providedIn:"root",factory:()=>1});const zl=new a.OlP("");function SI(r){return wd(0,[{provide:zl,useExisting:wI},{provide:s0,useExisting:r}])}const EI=new a.OlP("ROUTER_FORROOT_GUARD"),G5=[S,{provide:_b,useClass:bb},{provide:yr,useFactory:ZE},kf,{provide:ms,useFactory:function XE(r){return r.routerState.root},deps:[yr]},$E];function j5(){return new a.PXZ("Router",yr)}let rD=(()=>{class r{constructor(e){}static forRoot(e,n){return{ngModule:r,providers:[G5,[],nv(e),{provide:EI,useFactory:Sd,deps:[[yr,new a.FiY,new a.tp0]]},{provide:Jg,useValue:n||{}},n?.useHash?{provide:m,useClass:b}:{provide:m,useClass:y},{provide:zn,useFactory:()=>{const r=(0,a.f3M)(yr),t=(0,a.f3M)(eM),e=(0,a.f3M)(Jg);return e.scrollOffset&&t.setOffset(e.scrollOffset),new a0(r,t,e)}},n?.preloadingStrategy?SI(n.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:j5},n?.initialNavigation?TI(n):[],[{provide:c0,useFactory:l0},{provide:a.tb,multi:!0,useExisting:c0}]]}}static forChild(e){return{ngModule:r,providers:[nv(e)]}}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(EI,8))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[zs]}),r})();function Sd(r){return"guarded"}function TI(r){return["disabled"===r.initialNavigation?wd(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(yr);return()=>{t.setUpLocationChangeListener()}}},{provide:u0,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?wd(2,[{provide:u0,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(w,Promise.resolve());let n=!1;return()=>e.then(()=>new Promise(o=>{const s=t.get(yr),l=t.get(JE);(function i(o){t.get(yr).events.pipe(Pr(l=>l instanceof wa||l instanceof Wu||l instanceof Ib),(0,Dn.U)(l=>l instanceof wa||l instanceof Wu&&(0===l.code||1===l.code)&&null),Pr(l=>null!==l),Or(1)).subscribe(()=>{o()})})(()=>{o(!0),n=!0}),s.afterPreactivation=()=>(o(!0),n||l.closed?gn(void 0):l),s.initialNavigation()}))}}]).\u0275providers:[]]}const c0=new a.OlP("");function d0(...r){const t=(0,rl.jO)(r),{args:e,keys:n}=G1(r),i=new Ko.y(o=>{const{length:s}=e;if(!s)return void o.complete();const l=new Array(s);let v=s,D=s;for(let F=0;F<s;F++){let z=!1;(0,ba.Xf)(e[F]).subscribe((0,gi.x)(o,re=>{z||(z=!0,D--),l[F]=re},()=>v--,void 0,()=>{(!v||!z)&&(D||o.next(n?j1(n,l):l),o.complete())}))}});return t?i.pipe(db(t)):i}let oD=(()=>{class r{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Qsj),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r}),r})(),Ju=(()=>{class r extends oD{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,features:[a.qOj]}),r})();const Po=new a.OlP("NgValueAccessor"),aD={provide:Po,useExisting:(0,a.Gpc)(()=>mo),multi:!0},lD=new a.OlP("CompositionEventMode");let mo=(()=>{class r extends oD{constructor(e,n,i){super(e,n),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function RI(){const r=te()?te().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(lD,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&a.NdJ("input",function(o){return n._handleInput(o.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(o){return n._compositionEnd(o.target.value)})},features:[a._Bn([aD]),a.qOj]}),r})();function ec(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function iv(r){return null!=r&&"number"==typeof r.length}const Zi=new a.OlP("NgValidators"),tc=new a.OlP("NgAsyncValidators"),Ed=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class or{static min(t){return function f0(r){return t=>{if(ec(t.value)||ec(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function Yf(r){return t=>{if(ec(t.value)||ec(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return gs(t)}static requiredTrue(t){return function p0(r){return!0===r.value?null:{required:!0}}(t)}static email(t){return function uD(r){return ec(r.value)||Ed.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function ov(r){return t=>ec(t.value)||!iv(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Ca(r){return t=>iv(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static pattern(t){return function sv(r){if(!r)return Kf;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),n=>{if(ec(n.value))return null;const i=n.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return uv(t)}static composeAsync(t){return cv(t)}}function gs(r){return ec(r.value)?{required:!0}:null}function Kf(r){return null}function av(r){return null!=r}function AI(r){return(0,a.QGY)(r)?(0,Jr.D)(r):r}function m0(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function OI(r,t){return t.map(e=>e(r))}function Zf(r){return r.map(t=>function lv(r){return!r.validate}(t)?t:e=>t.validate(e))}function uv(r){if(!r)return null;const t=r.filter(av);return 0==t.length?null:function(e){return m0(OI(e,t))}}function Qf(r){return null!=r?uv(Zf(r)):null}function cv(r){if(!r)return null;const t=r.filter(av);return 0==t.length?null:function(e){return d0(OI(e,t).map(AI)).pipe((0,Dn.U)(m0))}}function cD(r){return null!=r?cv(Zf(r)):null}function dD(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function hD(r){return r._rawValidators}function fD(r){return r._rawAsyncValidators}function g0(r){return r?Array.isArray(r)?r:[r]:[]}function Xf(r,t){return Array.isArray(r)?r.includes(t):r===t}function MI(r,t){const e=g0(t);return g0(r).forEach(i=>{Xf(e,i)||e.push(i)}),e}function pD(r,t){return g0(t).filter(e=>!Xf(r,e))}class II{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=cD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class oo extends II{get formDirective(){return null}get path(){return null}}class $s extends II{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sa=(()=>{class r extends mD{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36($s,2))},r.\u0275dir=a.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&a.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[a.qOj]}),r})(),Wl=(()=>{class r extends mD{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(oo,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&a.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)("ng-submitted",n.isSubmitted)},features:[a.qOj]}),r})();const Jf="VALID",ep="INVALID",Dd="PENDING",tp="DISABLED";function Td(r){return(xd(r)?r.validators:r)||null}function rc(r){return Array.isArray(r)?Qf(r):r||null}function np(r,t){return(xd(t)?t.asyncValidators:r)||null}function ic(r){return Array.isArray(r)?cD(r):r||null}function xd(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class b0{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=rc(this._rawValidators),this._composedAsyncValidatorFn=ic(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jf}get invalid(){return this.status===ep}get pending(){return this.status==Dd}get disabled(){return this.status===tp}get enabled(){return this.status!==tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rc(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ic(t)}addValidators(t){this.setValidators(MI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(MI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pD(t,this._rawAsyncValidators))}hasValidator(t){return Xf(this._rawValidators,t)}hasAsyncValidator(t){return Xf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Dd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jf,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jf||this.status===Dd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tp:Jf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Dd,this._hasOwnPendingAsyncValidator=!0;const e=AI(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?tp:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dd)?Dd:this._anyControlsHaveStatus(ep)?ep:Jf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){xd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Rd extends b0{constructor(t,e,n){super(Td(e),np(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function _0(r,t,e){r._forEachChild((n,i)=>{if(void 0===e[i])throw new a.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function rp(r,t,e){const n=r.controls;if(!(t?Object.keys(n):n).length)throw new a.vHH(1e3,"");if(!n[e])throw new a.vHH(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{const i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,o)=>{n=e(n,i,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Ea=Rd;function ip(r,t){fv(r,t),t.valueAccessor.writeValue(r.value),r.disabled&&t.valueAccessor.setDisabledState?.(!0),function Qo(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&DD(r,t)})}(r,t),function Y5(r,t){const e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function ED(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&DD(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function SD(r,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function op(r,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),pv(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function hv(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fv(r,t){const e=hD(r);null!==t.validator?r.setValidators(dD(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const n=fD(r);null!==t.asyncValidator?r.setAsyncValidators(dD(n,t.asyncValidator)):"function"==typeof n&&r.setAsyncValidators([n]);const i=()=>r.updateValueAndValidity();hv(t._rawValidators,i),hv(t._rawAsyncValidators,i)}function pv(r,t){let e=!1;if(null!==r){if(null!==t.validator){const i=hD(r);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(e=!0,r.setValidators(o))}}if(null!==t.asyncValidator){const i=fD(r);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(e=!0,r.setAsyncValidators(o))}}}const n=()=>{};return hv(t._rawValidators,n),hv(t._rawAsyncValidators,n),e}function DD(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function TD(r,t){fv(r,t)}function mv(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function E0(r,t){r._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function D0(r,t){if(!t)return null;let e,n,i;return Array.isArray(t),t.forEach(o=>{o.constructor===mo?e=o:function VI(r){return Object.getPrototypeOf(r.constructor)===Ju}(o)?n=o:i=o}),i||n||e||null}const RD={provide:oo,useExisting:(0,a.Gpc)(()=>ko)},sp=(()=>Promise.resolve())();let ko=(()=>{class r extends oo{constructor(e,n){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new Rd({},Qf(e),cD(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sp.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ip(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sp.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){sp.then(()=>{const n=this._findContainer(e.path),i=new Rd({});TD(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sp.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){sp.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,E0(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Zi,10),a.Y36(tc,10))},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&a.NdJ("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([RD]),a.qOj]}),r})();function gv(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function AD(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const T0=class extends b0{constructor(t=null,e,n){super(Td(e),np(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=AD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){AD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Mn=T0;let qs=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const J5={provide:Po,useExisting:(0,a.Gpc)(()=>hl),multi:!0};let hl=(()=>{class r extends Ju{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=n=>{e(""==n?null:parseFloat(n))}}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,n){1&e&&a.NdJ("input",function(o){return n.onChange(o.target.value)})("blur",function(){return n.onTouched()})},features:[a._Bn([J5]),a.qOj]}),r})(),R0=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const oc=new a.OlP("NgModelWithFormControlWarning"),zI={provide:$s,useExisting:(0,a.Gpc)(()=>ql)};let ql=(()=>{class r extends $s{constructor(e,n,i,o){super(),this._ngModelWarningConfig=o,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=D0(0,i)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&op(n,this,!1),ip(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}mv(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&op(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(a.Y36(Zi,10),a.Y36(tc,10),a.Y36(Po,10),a.Y36(oc,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([zI]),a.qOj,a.TTD]}),r})();const kD={provide:oo,useExisting:(0,a.Gpc)(()=>Xo)};let Xo=(()=>{class r extends oo{constructor(e,n){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pv(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return ip(n,e),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){op(e.control||null,e,!1),function BI(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,E0(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,i=this.form.get(e.path);n!==i&&(op(n||null,e),(r=>r instanceof T0)(i)&&(ip(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);TD(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function S0(r,t){return pv(r,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fv(this.form,this),this._oldForm&&pv(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Zi,10),a.Y36(tc,10))},r.\u0275dir=a.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&a.NdJ("submit",function(o){return n.onSubmit(o)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([kD]),a.qOj,a.TTD]}),r})();const e8={provide:$s,useExisting:(0,a.Gpc)(()=>Ta)};let Ta=(()=>{class r extends $s{constructor(e,n,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=D0(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),mv(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function C0(r,t){return[...t.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(a.Y36(oo,13),a.Y36(Zi,10),a.Y36(tc,10),a.Y36(Po,10),a.Y36(oc,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([e8]),a.qOj,a.TTD]}),r})(),Jo=(()=>{class r{constructor(){this._validator=Kf}ngOnChanges(e){if(this.inputName in e){const n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Kf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,features:[a.TTD]}),r})();const I0={provide:Zi,useExisting:(0,a.Gpc)(()=>Fo),multi:!0};let Fo=(()=>{class r extends Jo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=e=>gs}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,n){2&e&&a.uIk("required",n._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([I0]),a.qOj]}),r})(),uc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[R0]}),r})(),Id=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[uc]}),r})(),Pd=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:oc,useValue:e.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[uc]}),r})();var nn,yt=Oe(5861),ts=Oe(6881),k0=Oe(4859),xa=Oe(1877),sr=Oe(2090),UD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ns={},F0=F0||{},Gn=UD||self;function cc(r){var t=typeof r;return"array"==(t="object"!=t?t:r?Array.isArray(r)?"array":t:"null")||"object"==t&&"number"==typeof r.length}function dc(r){var t=typeof r;return"object"==t&&null!=r||"function"==t}var kd="closure_uid_"+(1e9*Math.random()>>>0),_v=0;function N0(r,t,e){return r.call.apply(r.bind,arguments)}function zD(r,t,e){if(!r)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),r.apply(t,i)}}return function(){return r.apply(t,arguments)}}function Li(r,t,e){return(Li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?N0:zD).apply(null,arguments)}function mp(r,t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),r.apply(this,n)}}function Ei(r,t){function e(){}e.prototype=t.prototype,r.$=t.prototype,r.prototype=new e,r.prototype.constructor=r,r.ac=function(n,i,o){for(var s=Array(arguments.length-2),l=2;l<arguments.length;l++)s[l-2]=arguments[l];return t.prototype[i].apply(n,s)}}function Ra(){this.s=this.s,this.o=this.o}Ra.prototype.s=!1,Ra.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sP(r){Object.prototype.hasOwnProperty.call(r,kd)&&r[kd]||(r[kd]=++_v)}(this)},Ra.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WD=Array.prototype.indexOf?function(r,t){return Array.prototype.indexOf.call(r,t,void 0)}:function(r,t){if("string"==typeof r)return"string"!=typeof t||1!=t.length?-1:r.indexOf(t,0);for(let e=0;e<r.length;e++)if(e in r&&r[e]===t)return e;return-1};function bv(r){const t=r.length;if(0<t){const e=Array(t);for(let n=0;n<t;n++)e[n]=r[n];return e}return[]}function V0(r,t){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(cc(n)){const i=r.length||0,o=n.length||0;r.length=i+o;for(let s=0;s<o;s++)r[i+s]=n[s]}else r.push(n)}}function Qi(r,t){this.type=r,this.g=this.target=t,this.defaultPrevented=!1}Qi.prototype.h=function(){this.defaultPrevented=!0};var $D=function(){if(!Gn.addEventListener||!Object.defineProperty)return!1;var r=!1,t=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Gn.addEventListener("test",()=>{},t),Gn.removeEventListener("test",()=>{},t)}catch{}return r}();function gp(r){return/^[\s\xa0]*$/.test(r)}function vp(){var r=Gn.navigator;return r&&(r=r.userAgent)?r:""}function Ys(r){return-1!=vp().indexOf(r)}function yp(r){return yp[" "](r),r}yp[" "]=function(){};var Cv,r,qD=Ys("Opera"),hc=Ys("Trident")||Ys("MSIE"),G0=Ys("Edge"),wv=G0||hc,j0=Ys("Gecko")&&!(-1!=vp().toLowerCase().indexOf("webkit")&&!Ys("Edge"))&&!(Ys("Trident")||Ys("MSIE"))&&!Ys("Edge"),YD=-1!=vp().toLowerCase().indexOf("webkit")&&!Ys("Edge");function H0(){var r=Gn.document;return r?r.documentMode:void 0}e:{var KD="",U0=(r=vp(),j0?/rv:([^\);]+)(\)|;)/.exec(r):G0?/Edge\/([\d\.]+)/.exec(r):hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):YD?/WebKit\/(\S+)/.exec(r):qD?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(U0&&(KD=U0?U0[1]:""),hc){var z0=H0();if(null!=z0&&z0>parseFloat(KD)){Cv=String(z0);break e}}Cv=KD}var Di=Gn.document&&hc&&(H0()||parseInt(Cv,10))||void 0;function Fd(r,t){if(Qi.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var e=this.type=r.type,n=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=t,t=r.relatedTarget){if(j0){e:{try{yp(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==e?t=r.fromElement:"mouseout"==e&&(t=r.toElement);this.relatedTarget=t,n?(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:aP[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Fd.$.h.call(this)}}Ei(Fd,Qi);var aP={2:"touch",3:"pen",4:"mouse"};Fd.prototype.h=function(){Fd.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var _p="closure_listenable_"+(1e6*Math.random()|0),QD=0;function lP(r,t,e,n,i){this.listener=r,this.proxy=null,this.src=t,this.type=e,this.capture=!!n,this.la=i,this.key=++QD,this.fa=this.ia=!1}function bp(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function Ev(r,t,e){for(const n in r)t.call(e,r[n],n,r)}function XD(r){const t={};for(const e in r)t[e]=r[e];return t}const JD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W0(r,t){let e,n;for(let i=1;i<arguments.length;i++){for(e in n=arguments[i],n)r[e]=n[e];for(let o=0;o<JD.length;o++)e=JD[o],Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}}function Dv(r){this.src=r,this.g={},this.h=0}function Tv(r,t){var e=t.type;if(e in r.g){var o,n=r.g[e],i=WD(n,t);(o=0<=i)&&Array.prototype.splice.call(n,i,1),o&&(bp(t),0==r.g[e].length&&(delete r.g[e],r.h--))}}function eT(r,t,e,n){for(var i=0;i<r.length;++i){var o=r[i];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==n)return i}return-1}Dv.prototype.add=function(r,t,e,n,i){var o=r.toString();(r=this.g[o])||(r=this.g[o]=[],this.h++);var s=eT(r,t,n,i);return-1<s?(t=r[s],e||(t.ia=!1)):((t=new lP(t,this.src,o,!!n,i)).ia=e,r.push(t)),t};var wp="closure_lm_"+(1e6*Math.random()|0),Cp={};function Ks(r,t,e,n,i){if(n&&n.once)return Zs(r,t,e,n,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Ks(r,t[o],e,n,i);return null}return e=K0(e),r&&r[_p]?r.O(t,e,dc(n)?!!n.capture:!!n,i):tT(r,t,e,!1,n,i)}function tT(r,t,e,n,i,o){if(!t)throw Error("Invalid event type");var s=dc(i)?!!i.capture:!!i,l=q0(r);if(l||(r[wp]=l=new Dv(r)),(e=l.add(t,e,n,s,o)).proxy)return e;if(n=function uP(){const t=nT;return function r(e){return t.call(r.src,r.listener,e)}}(),e.proxy=n,n.src=r,n.listener=e,r.addEventListener)$D||(i=s),void 0===i&&(i=!1),r.addEventListener(t.toString(),n,i);else if(r.attachEvent)r.attachEvent($0(t.toString()),n);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(n)}return e}function Zs(r,t,e,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Zs(r,t[o],e,n,i);return null}return e=K0(e),r&&r[_p]?r.P(t,e,dc(n)?!!n.capture:!!n,i):tT(r,t,e,!0,n,i)}function vs(r,t,e,n,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vs(r,t[o],e,n,i);else n=dc(n)?!!n.capture:!!n,e=K0(e),r&&r[_p]?(r=r.i,(t=String(t).toString())in r.g&&-1<(e=eT(o=r.g[t],e,n,i))&&(bp(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete r.g[t],r.h--))):r&&(r=q0(r))&&(t=r.g[t.toString()],r=-1,t&&(r=eT(t,e,n,i)),(e=-1<r?t[r]:null)&&rs(e))}function rs(r){if("number"!=typeof r&&r&&!r.fa){var t=r.src;if(t&&t[_p])Tv(t.i,r);else{var e=r.type,n=r.proxy;t.removeEventListener?t.removeEventListener(e,n,r.capture):t.detachEvent?t.detachEvent($0(e),n):t.addListener&&t.removeListener&&t.removeListener(n),(e=q0(t))?(Tv(e,r),0==e.h&&(e.src=null,t[wp]=null)):bp(r)}}}function $0(r){return r in Cp?Cp[r]:Cp[r]="on"+r}function nT(r,t){if(r.fa)r=!0;else{t=new Fd(t,this);var e=r.listener,n=r.la||r.src;r.ia&&rs(r),r=e.call(n,t)}return r}function q0(r){return(r=r[wp])instanceof Dv?r:null}var Y0="__closure_events_fn_"+(1e9*Math.random()>>>0);function K0(r){return"function"==typeof r?r:(r[Y0]||(r[Y0]=function(t){return r.handleEvent(t)}),r[Y0])}function Vi(){Ra.call(this),this.i=new Dv(this),this.S=this,this.J=null}function Ti(r,t){var e,n=r.J;if(n)for(e=[];n;n=n.J)e.push(n);if(r=r.S,n=t.type||t,"string"==typeof t)t=new Qi(t,r);else if(t instanceof Qi)t.target=t.target||r;else{var i=t;W0(t=new Qi(n,r),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.g=e[o];i=Kl(s,n,!0,t)&&i}if(i=Kl(s=t.g=r,n,!0,t)&&i,i=Kl(s,n,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Kl(s=t.g=e[o],n,!1,t)&&i}function Kl(r,t,e,n){if(!(t=r.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==e){var l=s.listener,v=s.la||s.src;s.ia&&Tv(r.i,s),i=!1!==l.call(v,n)&&i}}return i&&!n.defaultPrevented}Ei(Vi,Ra),Vi.prototype[_p]=!0,Vi.prototype.removeEventListener=function(r,t,e,n){vs(this,r,t,e,n)},Vi.prototype.N=function(){if(Vi.$.N.call(this),this.i){var t,r=this.i;for(t in r.g){for(var e=r.g[t],n=0;n<e.length;n++)bp(e[n]);delete r.g[t],r.h--}}this.J=null},Vi.prototype.O=function(r,t,e,n){return this.i.add(String(r),t,!1,e,n)},Vi.prototype.P=function(r,t,e,n){return this.i.add(String(r),t,!0,e,n)};var Z0=Gn.JSON.stringify;function cP(){var r=Vd;let t=null;return r.g&&(t=r.g,r.g=r.g.next,r.g||(r.h=null),t.next=null),t}var Q0=new class rT{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new xv,r=>r.reset());class xv{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function dP(r){var t=1;r=r.split(":");const e=[];for(;0<t&&r.length;)e.push(r.shift()),t--;return r.length&&e.push(r.join(":")),e}function oT(r){Gn.setTimeout(()=>{throw r},0)}let Ld,fc=!1,Vd=new class iT{constructor(){this.h=this.g=null}add(t,e){const n=Q0.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},Rv=()=>{const r=Gn.Promise.resolve(void 0);Ld=()=>{r.then(sT)}};var sT=()=>{for(var r;r=cP();){try{r.h.call(r.g)}catch(e){oT(e)}var t=Q0;t.j(r),100>t.h&&(t.h++,r.next=t.g,t.g=r)}fc=!1};function Sp(r,t){Vi.call(this),this.h=r||1,this.g=t||Gn,this.j=Li(this.qb,this),this.l=Date.now()}function Av(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ov(r,t,e){if("function"==typeof r)e&&(r=Li(r,e));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Li(r.handleEvent,r)}return 2147483647<Number(t)?-1:Gn.setTimeout(r,t||0)}function X0(r){r.g=Ov(()=>{r.g=null,r.i&&(r.i=!1,X0(r))},r.j);const t=r.h;r.h=null,r.m.apply(null,t)}Ei(Sp,Vi),(nn=Sp.prototype).ga=!1,nn.T=null,nn.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ti(this,"tick"),this.ga&&(Av(this),this.start()))}},nn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nn.N=function(){Sp.$.N.call(this),Av(this),delete this.g};class aT extends Ra{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:X0(this)}N(){super.N(),this.g&&(Gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bd(r){Ra.call(this),this.h=r,this.g={}}Ei(Bd,Ra);var J0=[];function lT(r,t,e,n){Array.isArray(e)||(e&&(J0[0]=e.toString()),e=J0);for(var i=0;i<e.length;i++){var o=Ks(t,e[i],n||r.handleEvent,!1,r.h||r);if(!o)break;r.g[o.key]=o}}function uT(r){Ev(r.g,function(t,e){this.g.hasOwnProperty(e)&&rs(t)},r),r.g={}}function Mv(){this.g=!0}function Gd(r,t,e,n){r.info(function(){return"XMLHTTP TEXT ("+t+"): "+function mP(r,t){if(!r.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(r=0;r<e.length;r++)if(Array.isArray(e[r])){var n=e[r];if(!(2>n.length)){var i=n[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Z0(e)}catch{return t}}(r,e)+(n?" "+n:"")})}Bd.prototype.N=function(){Bd.$.N.call(this),uT(this)},Bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mv.prototype.Ea=function(){this.g=!1},Mv.prototype.info=function(){};var pc={},cT=null;function Iv(){return cT=cT||new Vi}function dT(r){Qi.call(this,pc.Ta,r)}function Ep(r){const t=Iv();Ti(t,new dT(t))}function hT(r,t){Qi.call(this,pc.STAT_EVENT,r),this.stat=t}function go(r){const t=Iv();Ti(t,new hT(t,r))}function fT(r,t){Qi.call(this,pc.Ua,r),this.size=t}function Dp(r,t){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Gn.setTimeout(function(){r()},t)}pc.Ta="serverreachability",Ei(dT,Qi),pc.STAT_EVENT="statevent",Ei(hT,Qi),pc.Ua="timingevent",Ei(fT,Qi);var Tp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ew={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pv(){}function nw(){}Pv.prototype.h=null;var Nv,jd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kv(){Qi.call(this,"d")}function Fv(){Qi.call(this,"c")}function Hd(){}function mc(r,t,e,n){this.l=r,this.j=t,this.m=e,this.W=n||1,this.U=new Bd(this),this.P=gP,this.V=new Sp(r=wv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zl}function Zl(){this.i=null,this.g="",this.h=!1}Ei(kv,Qi),Ei(Fv,Qi),Ei(Hd,Pv),Hd.prototype.g=function(){return new XMLHttpRequest},Hd.prototype.i=function(){return{}},Nv=new Hd;var gP=45e3,rw={},fl={};function pT(r,t,e){r.L=1,r.v=Op(Aa(t)),r.s=e,r.S=!0,Lv(r,null)}function Lv(r,t){r.G=Date.now(),Vv(r),r.A=Aa(r.v);var e=r.A,n=r.W;Array.isArray(n)||(n=[String(n)]),Wd(e.i,"t",n),r.C=0,e=r.l.J,r.h=new Zl,r.g=LT(r.l,e?t:null,!r.s),0<r.O&&(r.M=new aT(Li(r.Pa,r,r.g),r.O)),lT(r.U,r.g,"readystatechange",r.nb),t=r.I?XD(r.I):{},r.s?(r.u||(r.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,t)):(r.u="GET",r.g.ha(r.A,r.u,null,t)),Ep(),function hP(r,t,e,n,i,o){r.info(function(){if(r.g)if(o)for(var s="",l=o.split("&"),v=0;v<l.length;v++){var D=l[v].split("=");if(1<D.length){var F=D[0];D=D[1];var z=F.split("_");s=2<=z.length&&"type"==z[1]?s+(F+"=")+D+"&":s+(F+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+n+") [attempt "+i+"]: "+t+"\n"+e+"\n"+s})}(r.j,r.u,r.A,r.m,r.W,r.s)}function vP(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function iw(r,t,e){let i,n=!0;for(;!r.J&&r.C<e.length;){if(i=mT(r,e),i==fl){4==t&&(r.o=4,go(14),n=!1),Gd(r.j,r.m,null,"[Incomplete Response]");break}if(i==rw){r.o=4,go(15),Gd(r.j,r.m,e,"[Invalid Chunk]"),n=!1;break}Gd(r.j,r.m,i,null),Ql(r,i)}vP(r)&&i!=fl&&i!=rw&&(r.h.g="",r.C=0),4!=t||0!=e.length||r.h.h||(r.o=1,go(16),n=!1),r.i=r.i&&n,n?0<e.length&&!r.ba&&(r.ba=!0,(t=r.l).g==r&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),mw(t),t.M=!0,go(11))):(Gd(r.j,r.m,e,"[Invalid Chunked Response]"),gc(r),xp(r))}function mT(r,t){var e=r.C,n=t.indexOf("\n",e);return-1==n?fl:(e=Number(t.substring(e,n)),isNaN(e)?rw:(n+=1)+e>t.length?fl:(t=t.slice(n,n+e),r.C=n+e,t))}function Vv(r){r.Y=Date.now()+r.P,In(r,r.P)}function In(r,t){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Dp(Li(r.lb,r),t)}function Bv(r){r.B&&(Gn.clearTimeout(r.B),r.B=null)}function xp(r){0==r.l.H||r.J||kT(r.l,r)}function gc(r){Bv(r);var t=r.M;t&&"function"==typeof t.sa&&t.sa(),r.M=null,Av(r.V),uT(r.U),r.g&&(t=r.g,r.g=null,t.abort(),t.sa())}function Ql(r,t){try{var e=r.l;if(0!=e.H&&(e.g==r||uw(e.i,r)))if(!r.K&&uw(e.i,r)&&3==e.H){try{var n=e.Ja.g.parse(t)}catch{n=null}if(Array.isArray(n)&&3==n.length){var i=n;if(0==i[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<r.G))break e;Yv(e),$v(e)}pw(e),go(18)}}else e.Fa=i[1],0<e.Fa-e.V&&37500>i[2]&&e.G&&0==e.A&&!e.v&&(e.v=Dp(Li(e.ib,e),6e3));if(1>=lw(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else eu(e,11)}else if((r.K||e.g==r)&&Yv(e),!gp(t))for(i=e.Ja.g.parse(t),t=0;t<i.length;t++){let D=i[t];if(e.V=D[0],D=D[1],2==e.H)if("c"==D[0]){e.K=D[1],e.pa=D[2];const F=D[3];null!=F&&(e.ra=F,e.l.info("VER="+e.ra));const z=D[4];null!=z&&(e.Ga=z,e.l.info("SVER="+e.Ga));const re=D[5];null!=re&&"number"==typeof re&&0<re&&(e.L=n=1.5*re,e.l.info("backChannelRequestTimeoutMs_="+n)),n=e;const ae=r.g;if(ae){const fe=ae.g?ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fe){var o=n.i;o.g||-1==fe.indexOf("spdy")&&-1==fe.indexOf("quic")&&-1==fe.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Uv(o,o.h),o.h=null))}if(n.F){const ge=ae.g?ae.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(n.Da=ge,Vr(n.I,n.F,ge))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-r.G,e.l.info("Handshake RTT: "+e.S+"ms"));var s=r;if((n=e).wa=NT(n,n.J?n.pa:null,n.Y),s.K){_T(n.i,s);var l=s,v=n.L;v&&l.setTimeout(v),l.B&&(Bv(l),Vv(l)),n.g=s}else IT(n);0<e.j.length&&qv(e)}else"stop"!=D[0]&&"close"!=D[0]||eu(e,7);else 3==e.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?eu(e,7):Wv(e):"noop"!=D[0]&&e.h&&e.h.Aa(D),e.A=0)}Ep()}catch{}}function Rp(r,t){if(r.forEach&&"function"==typeof r.forEach)r.forEach(t,void 0);else if(cc(r)||"string"==typeof r)Array.prototype.forEach.call(r,t,void 0);else for(var e=function Gv(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(cc(r)||"string"==typeof r){var t=[];r=r.length;for(var e=0;e<r;e++)t.push(e);return t}t=[],e=0;for(const n in r)t[e++]=n;return t}}}(r),n=function yP(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(cc(r)){for(var t=[],e=r.length,n=0;n<e;n++)t.push(r[n]);return t}for(n in t=[],e=0,r)t[e++]=r[n];return t}(r),i=n.length,o=0;o<i;o++)t.call(void 0,n[o],e&&e[o],r)}(nn=mc.prototype).setTimeout=function(r){this.P=r},nn.nb=function(r){r=r.target;const t=this.M;t&&3==Qs(r)?t.l():this.Pa(r)},nn.Pa=function(r){try{if(r==this.g)e:{const F=Qs(this.g);var t=this.g.Ia();if(this.g.da(),!(3>F)&&(3!=F||wv||this.g&&(this.h.h||this.g.ja()||TT(this.g)))){this.J||4!=F||7==t||Ep(),Bv(this);var e=this.g.da();this.ca=e;t:if(vP(this)){var n=TT(this.g);r="";var i=n.length,o=4==Qs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gc(this),xp(this);var s="";break t}this.h.i=new Gn.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,r+=this.h.i.decode(n[t],{stream:o&&t==i-1});n.splice(0,i),this.h.g+=r,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==e,function fP(r,t,e,n,i,o,s){r.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,F,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,v=this.g;if((l=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gp(l)){var D=l;break t}}D=null}if(!(e=D)){this.i=!1,this.o=3,go(12),gc(this),xp(this);break e}Gd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ql(this,e)}this.S?(iw(this,F,s),wv&&this.i&&3==F&&(lT(this.U,this.V,"tick",this.mb),this.V.start())):(Gd(this.j,this.m,s,null),Ql(this,s)),4==F&&gc(this),this.i&&!this.J&&(4==F?kT(this.l,this):(this.i=!1,Vv(this)))}else(function xT(r){const t={};r=(r.g&&2<=Qs(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let n=0;n<r.length;n++){if(gp(r[n]))continue;var e=dP(r[n]);const i=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[i]||[];t[i]=o,o.push(e)}!function Nd(r,t){for(const e in r)t.call(void 0,r[e],e,r)}(t,function(n){return n.join(", ")})})(this.g),400==e&&0<s.indexOf("Unknown SID")?(this.o=3,go(12)):(this.o=0,go(13)),gc(this),xp(this)}}}catch{}},nn.mb=function(){if(this.g){var r=Qs(this.g),t=this.g.ja();this.C<t.length&&(Bv(this),iw(this,r,t),this.i&&4!=r&&Vv(this))}},nn.cancel=function(){this.J=!0,gc(this)},nn.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function pP(r,t){r.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ep(),go(17)),gc(this),this.o=2,xp(this)):In(this,this.Y-r)};var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xl(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Xl){this.h=r.h,jv(this,r.j),this.s=r.s,this.g=r.g,Ap(this,r.m),this.l=r.l;var t=r.i,e=new zd;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),ow(this,e),this.o=r.o}else r&&(t=String(r).match($r))?(this.h=!1,jv(this,t[1]||"",!0),this.s=Mp(t[2]||""),this.g=Mp(t[3]||"",!0),Ap(this,t[4]),this.l=Mp(t[5]||"",!0),ow(this,t[6]||"",!0),this.o=Mp(t[7]||"")):(this.h=!1,this.i=new zd(null,this.h))}function Aa(r){return new Xl(r)}function jv(r,t,e){r.j=e?Mp(t,!0):t,r.j&&(r.j=r.j.replace(/:$/,""))}function Ap(r,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);r.m=t}else r.m=null}function ow(r,t,e){t instanceof zd?(r.i=t,function SP(r,t){t&&!r.j&&(pl(r),r.i=null,r.g.forEach(function(e,n){var i=n.toLowerCase();n!=i&&(sw(this,n),Wd(this,i,e))},r)),r.j=t}(r.i,r.h)):(e||(t=Ip(t,CP)),r.i=new zd(t,r.h))}function Vr(r,t,e){r.i.set(t,e)}function Op(r){return Vr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Mp(r,t){return r?t?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ip(r,t,e){return"string"==typeof r?(r=encodeURI(r).replace(t,_P),e&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function _P(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Xl.prototype.toString=function(){var r=[],t=this.j;t&&r.push(Ip(t,Ud,!0),":");var e=this.g;return(e||"file"==t)&&(r.push("//"),(t=this.s)&&r.push(Ip(t,Ud,!0),"@"),r.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&r.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&r.push("/"),r.push(Ip(e,"/"==e.charAt(0)?wP:bP,!0))),(e=this.i.toString())&&r.push("?",e),(e=this.o)&&r.push("#",Ip(e,Hv)),r.join("")};var Ud=/[#\/\?@]/g,bP=/[#\?:]/g,wP=/[#\?]/g,CP=/[#\?@]/g,Hv=/#/g;function zd(r,t){this.h=this.g=null,this.i=r||null,this.j=!!t}function pl(r){r.g||(r.g=new Map,r.h=0,r.i&&function r8(r,t){if(r){r=r.split("&");for(var e=0;e<r.length;e++){var n=r[e].indexOf("="),i=null;if(0<=n){var o=r[e].substring(0,n);i=r[e].substring(n+1)}else o=r[e];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(r.i,function(t,e){r.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function sw(r,t){pl(r),t=Oa(r,t),r.g.has(t)&&(r.i=null,r.h-=r.g.get(t).length,r.g.delete(t))}function gT(r,t){return pl(r),t=Oa(r,t),r.g.has(t)}function Wd(r,t,e){sw(r,t),0<e.length&&(r.i=null,r.g.set(Oa(r,t),bv(e)),r.h+=e.length)}function Oa(r,t){return t=String(t),r.j&&(t=t.toLowerCase()),t}function vT(r){this.l=r||yT,r=Gn.PerformanceNavigationTiming?0<(r=Gn.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Gn.g&&Gn.g.Ka&&Gn.g.Ka()&&Gn.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nn=zd.prototype).add=function(r,t){pl(this),this.i=null,r=Oa(this,r);var e=this.g.get(r);return e||this.g.set(r,e=[]),e.push(t),this.h+=1,this},nn.forEach=function(r,t){pl(this),this.g.forEach(function(e,n){e.forEach(function(i){r.call(t,i,n,this)},this)},this)},nn.ta=function(){pl(this);const r=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let n=0;n<t.length;n++){const i=r[n];for(let o=0;o<i.length;o++)e.push(t[n])}return e},nn.Z=function(r){pl(this);let t=[];if("string"==typeof r)gT(this,r)&&(t=t.concat(this.g.get(Oa(this,r))));else{r=Array.from(this.g.values());for(let e=0;e<r.length;e++)t=t.concat(r[e])}return t},nn.set=function(r,t){return pl(this),this.i=null,gT(this,r=Oa(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[t]),this.h+=1,this},nn.get=function(r,t){return r&&0<(r=this.Z(r)).length?String(r[0]):t},nn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var n=t[e];const o=encodeURIComponent(String(n)),s=this.Z(n);for(n=0;n<s.length;n++){var i=o;""!==s[n]&&(i+="="+encodeURIComponent(String(s[n]))),r.push(i)}}return this.i=r.join("&")};var yT=10;function aw(r){return!!r.h||!!r.g&&r.g.size>=r.j}function lw(r){return r.h?1:r.g?r.g.size:0}function uw(r,t){return r.h?r.h==t:!!r.g&&r.g.has(t)}function Uv(r,t){r.g?r.g.add(t):r.h=t}function _T(r,t){r.h&&r.h==t?r.h=null:r.g&&r.g.has(t)&&r.g.delete(t)}function bT(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let t=r.i;for(const e of r.g.values())t=t.concat(e.F);return t}return bv(r.i)}function s8(){this.g=new class{stringify(r){return Gn.JSON.stringify(r,void 0)}parse(r){return Gn.JSON.parse(r,void 0)}}}function a8(r,t,e){const n=e||"";try{Rp(r,function(i,o){let s=i;dc(i)&&(s=Z0(i)),t.push(n+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(n+"type="+encodeURIComponent("_badmap")),i}}function Pp(r,t,e,n,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(n)}catch{}}function Jl(r){this.l=r.fc||null,this.j=r.ob||!1}function zv(r,t){Vi.call(this),this.F=r,this.u=t,this.m=void 0,this.readyState=cw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vT.prototype.cancel=function(){if(this.i=bT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Ei(Jl,Pv),Jl.prototype.g=function(){return new zv(this.l,this.j)},Jl.prototype.i=function(r){return function(){return r}}({}),Ei(zv,Vi);var cw=0;function dw(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function ml(r){r.readyState=4,r.l=null,r.j=null,r.A=null,kp(r)}function kp(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(nn=zv.prototype).open=function(r,t){if(this.readyState!=cw)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=t,this.readyState=1,kp(this)},nn.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(t.body=r),(this.F||Gn).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},nn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ml(this)),this.readyState=cw},nn.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,kp(this)),this.g&&(this.readyState=3,kp(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gn.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dw(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},nn.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var t=r.value?r.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!r.done}))&&(this.response=this.responseText+=t)}r.done?ml(this):kp(this),3==this.readyState&&dw(this)}},nn.Za=function(r){this.g&&(this.response=this.responseText=r,ml(this))},nn.Ya=function(r){this.g&&(this.response=r,ml(this))},nn.ka=function(){this.g&&ml(this)},nn.setRequestHeader=function(r,t){this.v.append(r,t)},nn.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},nn.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],t=this.h.entries();for(var e=t.next();!e.done;)r.push((e=e.value)[0]+": "+e[1]),e=t.next();return r.join("\r\n")},Object.defineProperty(zv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var DP=Gn.JSON.parse;function ti(r){Vi.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wT,this.L=this.M=!1}Ei(ti,Vi);var wT="",TP=/^https?$/i,CT=["POST","PUT"];function ST(r,t){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=t,r.m=5,$d(r),Fp(r)}function $d(r){r.F||(r.F=!0,Ti(r,"complete"),Ti(r,"error"))}function ET(r){if(r.h&&typeof F0<"u"&&(!r.C[1]||4!=Qs(r)||2!=r.da()))if(r.v&&4==Qs(r))Ov(r.La,0,r);else if(Ti(r,"readystatechange"),4==Qs(r)){r.h=!1;try{const s=r.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var n;if(n=0===s){var i=String(r.I).match($r)[1]||null;!i&&Gn.self&&Gn.self.location&&(i=Gn.self.location.protocol.slice(0,-1)),n=!TP.test(i?i.toLowerCase():"")}e=n}if(e)Ti(r,"complete"),Ti(r,"success");else{r.m=6;try{var o=2<Qs(r)?r.g.statusText:""}catch{o=""}r.j=o+" ["+r.da()+"]",$d(r)}}finally{Fp(r)}}}function Fp(r,t){if(r.g){DT(r);const e=r.g,n=r.C[0]?()=>{}:null;r.g=null,r.C=null,t||Ti(r,"ready");try{e.onreadystatechange=n}catch{}}}function DT(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Gn.clearTimeout(r.A),r.A=null)}function Qs(r){return r.g?r.g.readyState:0}function TT(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case wT:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function RT(r){let t="";return Ev(r,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Np(r,t,e){e:{for(n in e){var n=!1;break e}n=!0}n||(e=RT(e),"string"==typeof r?null!=e&&encodeURIComponent(String(e)):Vr(r,t,e))}function Lp(r,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[r]||t}function hw(r){this.Ga=0,this.j=[],this.l=new Mv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lp("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lp("baseRetryDelayMs",5e3,r),this.hb=Lp("retryDelaySeedMs",1e4,r),this.eb=Lp("forwardChannelMaxRetries",2,r),this.xa=Lp("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new vT(r&&r.concurrentRequestLimit),this.Ja=new s8,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Wv(r){if(AT(r),3==r.H){var t=r.W++,e=Aa(r.I);if(Vr(e,"SID",r.K),Vr(e,"RID",t),Vr(e,"TYPE","terminate"),qd(r,e),(t=new mc(r,r.l,t)).L=2,t.v=Op(Aa(e)),e=!1,Gn.navigator&&Gn.navigator.sendBeacon)try{e=Gn.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Gn.Image&&((new Image).src=t.v,e=!0),e||(t.g=LT(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Vv(t)}gw(r)}function $v(r){r.g&&(mw(r),r.g.cancel(),r.g=null)}function AT(r){$v(r),r.u&&(Gn.clearTimeout(r.u),r.u=null),Yv(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Gn.clearTimeout(r.m),r.m=null)}function qv(r){if(!aw(r.i)&&!r.m){r.m=!0;var t=r.Na;Ld||Rv(),fc||(Ld(),fc=!0),Vd.add(t,r),r.C=0}}function OT(r,t){var e;e=t?t.m:r.W++;const n=Aa(r.I);Vr(n,"SID",r.K),Vr(n,"RID",e),Vr(n,"AID",r.V),qd(r,n),r.o&&r.s&&Np(n,r.o,r.s),e=new mc(r,r.l,e,r.C+1),null===r.o&&(e.I=r.s),t&&(r.j=t.F.concat(r.j)),t=MT(r,e,1e3),e.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Uv(r.i,e),pT(e,n,t)}function qd(r,t){r.na&&Ev(r.na,function(e,n){Vr(t,n,e)}),r.h&&Rp({},function(e,n){Vr(t,n,e)})}function MT(r,t,e){e=Math.min(r.j.length,e);var n=r.h?Li(r.h.Va,r.h,r):null;e:{var i=r.j;let o=-1;for(;;){const s=["count="+e];-1==o?0<e?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let l=!0;for(let v=0;v<e;v++){let D=i[v].g;const F=i[v].map;if(D-=o,0>D)o=Math.max(0,i[v].g-100),l=!1;else try{a8(F,s,"req"+D+"_")}catch{n&&n(F)}}if(l){n=s.join("&");break e}}}return r=r.j.splice(0,e),t.F=r,n}function IT(r){if(!r.g&&!r.u){r.ba=1;var t=r.Ma;Ld||Rv(),fc||(Ld(),fc=!0),Vd.add(t,r),r.A=0}}function pw(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Dp(Li(r.Ma,r),FT(r,r.A)),r.A++,0))}function mw(r){null!=r.B&&(Gn.clearTimeout(r.B),r.B=null)}function PT(r){r.g=new mc(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var t=Aa(r.wa);Vr(t,"RID","rpc"),Vr(t,"SID",r.K),Vr(t,"AID",r.V),Vr(t,"CI",r.G?"0":"1"),!r.G&&r.qa&&Vr(t,"TO",r.qa),Vr(t,"TYPE","xmlhttp"),qd(r,t),r.o&&r.s&&Np(t,r.o,r.s),r.L&&r.g.setTimeout(r.L);var e=r.g;r=r.pa,e.L=1,e.v=Op(Aa(t)),e.s=null,e.S=!0,Lv(e,r)}function Yv(r){null!=r.v&&(Gn.clearTimeout(r.v),r.v=null)}function kT(r,t){var e=null;if(r.g==t){Yv(r),mw(r),r.g=null;var n=2}else{if(!uw(r.i,t))return;e=t.F,_T(r.i,t),n=1}if(0!=r.H)if(t.i)if(1==n){e=t.s?t.s.length:0,t=Date.now()-t.G;var i=r.C;Ti(n=Iv(),new fT(n,e)),qv(r)}else IT(r);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==n&&function fw(r,t){return!(lw(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=t.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Dp(Li(r.Na,r,t),FT(r,r.C)),r.C++,0)))}(r,t)||2==n&&pw(r)))switch(e&&0<e.length&&(t=r.i,t.i=t.i.concat(e)),i){case 1:eu(r,5);break;case 4:eu(r,10);break;case 3:eu(r,6);break;default:eu(r,2)}}function FT(r,t){let e=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(e*=2),e*t}function eu(r,t){if(r.l.info("Error code "+t),2==t){var e=null;r.h&&(e=null);var n=Li(r.pb,r);e||(e=new Xl("//www.google.com/images/cleardot.gif"),Gn.location&&"http"==Gn.location.protocol||jv(e,"https"),Op(e)),function l8(r,t){const e=new Mv;if(Gn.Image){const n=new Image;n.onload=mp(Pp,e,n,"TestLoadImage: loaded",!0,t),n.onerror=mp(Pp,e,n,"TestLoadImage: error",!1,t),n.onabort=mp(Pp,e,n,"TestLoadImage: abort",!1,t),n.ontimeout=mp(Pp,e,n,"TestLoadImage: timeout",!1,t),Gn.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=r}else t(!1)}(e.toString(),n)}else go(2);r.H=0,r.h&&r.h.za(t),gw(r),AT(r)}function gw(r){if(r.H=0,r.ma=[],r.h){const t=bT(r.i);(0!=t.length||0!=r.j.length)&&(V0(r.ma,t),V0(r.ma,r.j),r.i.i.length=0,bv(r.j),r.j.length=0),r.h.ya()}}function NT(r,t,e){var n=e instanceof Xl?Aa(e):new Xl(e);if(""!=n.g)t&&(n.g=t+"."+n.g),Ap(n,n.m);else{var i=Gn.location;n=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Xl(null);n&&jv(o,n),t&&(o.g=t),i&&Ap(o,i),e&&(o.l=e),n=o}return t=r.Da,(e=r.F)&&t&&Vr(n,e,t),Vr(n,"VER",r.ra),qd(r,n),n}function LT(r,t,e){if(t&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ti(e&&r.Ha&&!r.va?new Jl({ob:!0}):r.va)).Oa(r.J),t}function vw(){}function Kv(){if(hc&&!(10<=Number(Di)))throw Error("Environmental error: no available transport.")}function is(r,t){Vi.call(this),this.g=new hw(t),this.l=r,this.h=t&&t.messageUrlParams||null,r=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(r?r["X-WebChannel-Content-Type"]=t.messageContentType:r={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(r?r["X-WebChannel-Client-Profile"]=t.Ca:r={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=r,(r=t&&t.cc)&&!gp(r)&&(this.g.o=r),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gp(t)&&(this.g.F=t,null!==(r=this.h)&&t in r&&t in(r=this.h)&&delete r[t]),this.j=new tu(this)}function VT(r){kv.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var t=r.__sm__;if(t){e:{for(const e in t){r=e;break e}r=void 0}(this.i=r)&&(r=this.i,t=null!==t&&r in t?t[r]:void 0),this.data=t}else this.data=r}function Zv(){Fv.call(this),this.status=1}function tu(r){this.g=r}function os(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yw(r,t,e){e||(e=0);var n=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)n[i]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(i=0;16>i;++i)n[i]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=r.g[3],s=(t=r.g[0])+(o^(e=r.g[1])&((i=r.g[2])^o))+n[0]+3614090360&4294967295;s=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=(e=(i=(o=(t=e+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(e^i))+n[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(e^o&(t^e))+n[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^i&(o^t))+n[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(i^o))+n[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(e^i))+n[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(e^o&(t^e))+n[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^i&(o^t))+n[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(i^o))+n[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(e^i))+n[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(e^o&(t^e))+n[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^i&(o^t))+n[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^e&(i^o))+n[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(e^i))+n[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(e^o&(t^e))+n[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=e+(t^i&(o^t))+n[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(e^i))+n[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^i&(t^e))+n[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^e&(o^t))+n[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(i^o))+n[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(e^i))+n[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^i&(t^e))+n[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^e&(o^t))+n[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(i^o))+n[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(e^i))+n[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^i&(t^e))+n[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^e&(o^t))+n[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(i^o))+n[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(e^i))+n[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(e^i&(t^e))+n[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^e&(o^t))+n[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=e+(o^t&(i^o))+n[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(e^i^o)+n[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^i)+n[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^e)+n[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=e+(i^o^t)+n[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^i^o)+n[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^i)+n[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^e)+n[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=e+(i^o^t)+n[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^i^o)+n[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^i)+n[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^e)+n[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=e+(i^o^t)+n[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(e^i^o)+n[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^e^i)+n[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^e)+n[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=e+(i^o^t)+n[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(e|~o))+n[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~i))+n[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~e))+n[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(i|~t))+n[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(e|~o))+n[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~i))+n[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~e))+n[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(i|~t))+n[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(e|~o))+n[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~i))+n[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~e))+n[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=e+(o^(i|~t))+n[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=e+((s=t+(i^(e|~o))+n[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(e^(t|~i))+n[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~e))+n[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+n[9]+3951481745&4294967295,r.g[0]=r.g[0]+t&4294967295,r.g[1]=r.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,r.g[2]=r.g[2]+i&4294967295,r.g[3]=r.g[3]+o&4294967295}function Mr(r,t){this.h=t;for(var e=[],n=!0,i=r.length-1;0<=i;i--){var o=0|r[i];n&&o==t||(e[i]=o,n=!1)}this.g=e}(nn=ti.prototype).Oa=function(r){this.M=r},nn.ha=function(r,t,e,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);t=t?t.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Nv.g(),this.C=function tw(r){return r.h||(r.h=r.i())}(this.u?this.u:Nv),this.g.onreadystatechange=Li(this.La,this);try{this.G=!0,this.g.open(t,String(r),!0),this.G=!1}catch(o){return void ST(this,o)}if(r=e||"",e=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var i in n)e.set(i,n[i]);else{if("function"!=typeof n.keys||"function"!=typeof n.get)throw Error("Unknown input type for opt_headers: "+String(n));for(const o of n.keys())e.set(o,n.get(o))}n=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),i=Gn.FormData&&r instanceof Gn.FormData,!(0<=WD(CT,t))||n||i||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of e)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{DT(this),0<this.B&&((this.L=function xP(r){return hc&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Li(this.ua,this)):this.A=Ov(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(o){ST(this,o)}},nn.ua=function(){typeof F0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ti(this,"timeout"),this.abort(8))},nn.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ti(this,"complete"),Ti(this,"abort"),Fp(this))},nn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fp(this,!0)),ti.$.N.call(this)},nn.La=function(){this.s||(this.G||this.v||this.l?ET(this):this.kb())},nn.kb=function(){ET(this)},nn.isActive=function(){return!!this.g},nn.da=function(){try{return 2<Qs(this)?this.g.status:-1}catch{return-1}},nn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},nn.Wa=function(r){if(this.g){var t=this.g.responseText;return r&&0==t.indexOf(r)&&(t=t.substring(r.length)),DP(t)}},nn.Ia=function(){return this.m},nn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(nn=hw.prototype).ra=8,nn.H=1,nn.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const i=new mc(this,this.l,r);let o=this.s;if(this.U&&(o?(o=XD(o),W0(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var n=this.j[e];if(void 0===(n="__data__"in n.map&&"string"==typeof(n=n.map.__data__)?n.length:void 0))break;if(4096<(t+=n)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=MT(this,i,t),Vr(e=Aa(this.I),"RID",r),Vr(e,"CVER",22),this.F&&Vr(e,"X-HTTP-Session-Id",this.F),qd(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(RT(o)))+"&"+t:this.o&&Np(e,this.o,o)),Uv(this.i,i),this.bb&&Vr(e,"TYPE","init"),this.P?(Vr(e,"$req",t),Vr(e,"SID","null"),i.aa=!0,pT(i,e,null)):pT(i,e,t),this.H=2}}else 3==this.H&&(r?OT(this,r):0==this.j.length||aw(this.i)||OT(this))},nn.Ma=function(){if(this.u=null,PT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Dp(Li(this.jb,this),r)}},nn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,go(10),$v(this),PT(this))},nn.ib=function(){null!=this.v&&(this.v=null,$v(this),pw(this),go(19))},nn.pb=function(r){r?(this.l.info("Successfully pinged google.com"),go(2)):(this.l.info("Failed to ping google.com"),go(1))},nn.isActive=function(){return!!this.h&&this.h.isActive(this)},(nn=vw.prototype).Ba=function(){},nn.Aa=function(){},nn.za=function(){},nn.ya=function(){},nn.isActive=function(){return!0},nn.Va=function(){},Kv.prototype.g=function(r,t){return new is(r,t)},Ei(is,Vi),is.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,t=this.l,e=this.h||void 0;go(0),r.Y=t,r.na=e||{},r.G=r.aa,r.I=NT(r,null,r.Y),qv(r)},is.prototype.close=function(){Wv(this.g)},is.prototype.u=function(r){var t=this.g;if("string"==typeof r){var e={};e.__data__=r,r=e}else this.v&&((e={}).__data__=Z0(r),r=e);t.j.push(new class{constructor(r,t){this.g=r,this.map=t}}(t.fb++,r)),3==t.H&&qv(t)},is.prototype.N=function(){this.g.h=null,delete this.j,Wv(this.g),delete this.g,is.$.N.call(this)},Ei(VT,kv),Ei(Zv,Fv),Ei(tu,vw),tu.prototype.Ba=function(){Ti(this.g,"a")},tu.prototype.Aa=function(r){Ti(this.g,new VT(r))},tu.prototype.za=function(r){Ti(this.g,new Zv)},tu.prototype.ya=function(){Ti(this.g,"b")},Ei(os,function BT(){this.blockSize=-1}),os.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},os.prototype.j=function(r,t){void 0===t&&(t=r.length);for(var e=t-this.blockSize,n=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=e;)yw(this,r,o),o+=this.blockSize;if("string"==typeof r){for(;o<t;)if(n[i++]=r.charCodeAt(o++),i==this.blockSize){yw(this,n),i=0;break}}else for(;o<t;)if(n[i++]=r[o++],i==this.blockSize){yw(this,n),i=0;break}}this.h=i,this.i+=t},os.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var t=1;t<r.length-8;++t)r[t]=0;var e=8*this.i;for(t=r.length-8;t<r.length;++t)r[t]=255&e,e/=256;for(this.j(r),r=Array(16),t=e=0;4>t;++t)for(var n=0;32>n;n+=8)r[e++]=this.g[t]>>>n&255;return r};var _w={};function bw(r){return-128<=r&&128>r?function B0(r,t){var e=_w;return Object.prototype.hasOwnProperty.call(e,r)?e[r]:e[r]=t(r)}(r,function(t){return new Mr([0|t],0>t?-1:0)}):new Mr([0|r],0>r?-1:0)}function Xs(r){if(isNaN(r)||!isFinite(r))return Yd;if(0>r)return xi(Xs(-r));for(var t=[],e=1,n=0;r>=e;n++)t[n]=r/e|0,e*=Qv;return new Mr(t,0)}var Qv=4294967296,Yd=bw(0),GT=bw(1),ww=bw(16777216);function Js(r){if(0!=r.h)return!1;for(var t=0;t<r.g.length;t++)if(0!=r.g[t])return!1;return!0}function ys(r){return-1==r.h}function xi(r){for(var t=r.g.length,e=[],n=0;n<t;n++)e[n]=~r.g[n];return new Mr(e,~r.h).add(GT)}function Xv(r,t){return r.add(xi(t))}function Vp(r,t){for(;(65535&r[t])!=r[t];)r[t+1]+=r[t]>>>16,r[t]&=65535,t++}function yc(r,t){this.g=r,this.h=t}function Bp(r,t){if(Js(t))throw Error("division by zero");if(Js(r))return new yc(Yd,Yd);if(ys(r))return t=Bp(xi(r),t),new yc(xi(t.g),xi(t.h));if(ys(t))return t=Bp(r,xi(t)),new yc(xi(t.g),t.h);if(30<r.g.length){if(ys(r)||ys(t))throw Error("slowDivide_ only works with positive integers.");for(var e=GT,n=t;0>=n.X(r);)e=Cw(e),n=Cw(n);var i=_c(e,1),o=_c(n,1);for(n=_c(n,2),e=_c(e,2);!Js(n);){var s=o.add(n);0>=s.X(r)&&(i=i.add(e),o=s),n=_c(n,1),e=_c(e,1)}return t=Xv(r,i.R(t)),new yc(i,t)}for(i=Yd;0<=r.X(t);){for(e=Math.max(1,Math.floor(r.ea()/t.ea())),n=48>=(n=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,n-48),s=(o=Xs(e)).R(t);ys(s)||0<s.X(r);)s=(o=Xs(e-=n)).R(t);Js(o)&&(o=GT),i=i.add(o),r=Xv(r,s)}return new yc(i,r)}function Cw(r){for(var t=r.g.length+1,e=[],n=0;n<t;n++)e[n]=r.D(n)<<1|r.D(n-1)>>>31;return new Mr(e,r.h)}function _c(r,t){var e=t>>5;t%=32;for(var n=r.g.length-e,i=[],o=0;o<n;o++)i[o]=0<t?r.D(o+e)>>>t|r.D(o+e+1)<<32-t:r.D(o+e);return new Mr(i,r.h)}(nn=Mr.prototype).ea=function(){if(ys(this))return-xi(this).ea();for(var r=0,t=1,e=0;e<this.g.length;e++){var n=this.D(e);r+=(0<=n?n:Qv+n)*t,t*=Qv}return r},nn.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Js(this))return"0";if(ys(this))return"-"+xi(this).toString(r);for(var t=Xs(Math.pow(r,6)),e=this,n="";;){var i=Bp(e,t).g,o=((0<(e=Xv(e,i.R(t))).g.length?e.g[0]:e.h)>>>0).toString(r);if(Js(e=i))return o+n;for(;6>o.length;)o="0"+o;n=o+n}},nn.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},nn.X=function(r){return ys(r=Xv(this,r))?-1:Js(r)?0:1},nn.abs=function(){return ys(this)?xi(this):this},nn.add=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],n=0,i=0;i<=t;i++){var o=n+(65535&this.D(i))+(65535&r.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(r.D(i)>>>16);n=s>>>16,e[i]=(s&=65535)<<16|(o&=65535)}return new Mr(e,-2147483648&e[e.length-1]?-1:0)},nn.R=function(r){if(Js(this)||Js(r))return Yd;if(ys(this))return ys(r)?xi(this).R(xi(r)):xi(xi(this).R(r));if(ys(r))return xi(this.R(xi(r)));if(0>this.X(ww)&&0>r.X(ww))return Xs(this.ea()*r.ea());for(var t=this.g.length+r.g.length,e=[],n=0;n<2*t;n++)e[n]=0;for(n=0;n<this.g.length;n++)for(var i=0;i<r.g.length;i++){var o=this.D(n)>>>16,s=65535&this.D(n),l=r.D(i)>>>16,v=65535&r.D(i);e[2*n+2*i]+=s*v,Vp(e,2*n+2*i),e[2*n+2*i+1]+=o*v,Vp(e,2*n+2*i+1),e[2*n+2*i+1]+=s*l,Vp(e,2*n+2*i+1),e[2*n+2*i+2]+=o*l,Vp(e,2*n+2*i+2)}for(n=0;n<t;n++)e[n]=e[2*n+1]<<16|e[2*n];for(n=t;n<2*t;n++)e[n]=0;return new Mr(e,0)},nn.gb=function(r){return Bp(this,r).h},nn.and=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)&r.D(n);return new Mr(e,this.h&r.h)},nn.or=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)|r.D(n);return new Mr(e,this.h|r.h)},nn.xor=function(r){for(var t=Math.max(this.g.length,r.g.length),e=[],n=0;n<t;n++)e[n]=this.D(n)^r.D(n);return new Mr(e,this.h^r.h)},Kv.prototype.createWebChannel=Kv.prototype.g,is.prototype.send=is.prototype.u,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,Tp.NO_ERROR=0,Tp.TIMEOUT=8,Tp.HTTP_ERROR=6,ew.COMPLETE="complete",nw.EventType=jd,jd.OPEN="a",jd.CLOSE="b",jd.ERROR="c",jd.MESSAGE="d",Vi.prototype.listen=Vi.prototype.O,ti.prototype.listenOnce=ti.prototype.P,ti.prototype.getLastError=ti.prototype.Sa,ti.prototype.getLastErrorCode=ti.prototype.Ia,ti.prototype.getStatus=ti.prototype.da,ti.prototype.getResponseJson=ti.prototype.Wa,ti.prototype.getResponseText=ti.prototype.ja,ti.prototype.send=ti.prototype.ha,ti.prototype.setWithCredentials=ti.prototype.Oa,os.prototype.digest=os.prototype.l,os.prototype.reset=os.prototype.reset,os.prototype.update=os.prototype.j,Mr.prototype.add=Mr.prototype.add,Mr.prototype.multiply=Mr.prototype.R,Mr.prototype.modulo=Mr.prototype.gb,Mr.prototype.compare=Mr.prototype.X,Mr.prototype.toNumber=Mr.prototype.ea,Mr.prototype.toString=Mr.prototype.toString,Mr.prototype.getBits=Mr.prototype.D,Mr.fromNumber=Xs,Mr.fromString=function vc(r,t){if(0==r.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==r.charAt(0))return xi(vc(r.substring(1),t));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Xs(Math.pow(t,8)),n=Yd,i=0;i<r.length;i+=8){var o=Math.min(8,r.length-i),s=parseInt(r.substring(i,i+o),t);8>o?(o=Xs(Math.pow(t,o)),n=n.R(o).add(Xs(s))):n=(n=n.R(e)).add(Xs(s))}return n};var jT=ns.createWebChannelTransport=function(){return new Kv},RP=ns.getStatEventTarget=function(){return Iv()},Sw=ns.ErrorCode=Tp,AP=ns.EventType=ew,OP=ns.Event=pc,Ew=ns.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},u8=ns.FetchXmlHttpFactory=Jl,Gp=ns.WebChannel=nw,MP=ns.XhrIo=ti,IP=ns.Md5=os,jp=ns.Integer=Mr;const PP="@firebase/firestore";class Bi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let Kd="9.23.0";const gl=new xa.Yd("@firebase/firestore");function Dw(){return gl.logLevel}function jt(r,...t){if(gl.logLevel<=xa.in.DEBUG){const e=t.map(Tw);gl.debug(`Firestore (${Kd}): ${r}`,...e)}}function li(r,...t){if(gl.logLevel<=xa.in.ERROR){const e=t.map(Tw);gl.error(`Firestore (${Kd}): ${r}`,...e)}}function ea(r,...t){if(gl.logLevel<=xa.in.WARN){const e=t.map(Tw);gl.warn(`Firestore (${Kd}): ${r}`,...e)}}function Tw(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function fn(r="Unexpected state"){const t=`FIRESTORE (${Kd}) INTERNAL ASSERTION FAILED: `+r;throw li(t),new Error(t)}function En(r,t){r||fn()}function Kt(r,t){return r}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lt extends sr.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class xw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bi.UNAUTHENTICATED))}shutdown(){}}class UT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class kP{constructor(t){this.t=t,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let i=this.i;const o=D=>this.i!==i?(i=this.i,e(D)):Promise.resolve();let s=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _i,t.enqueueRetryable(()=>o(this.currentUser))};const l=()=>{const D=s;t.enqueueRetryable((0,yt.Z)(function*(){yield D.promise,yield o(n.currentUser)}))},v=D=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _i)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(En("string"==typeof n.accessToken),new xw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return En(null===t||"string"==typeof t),new Bi(t)}}class h8{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class zT{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new h8(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FP{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const n=o=>{null!=o.error&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};const i=o=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(En("string"==typeof e.token),this.T=e.token,new Rw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function NP(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(r);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let n=0;n<r;n++)e[n]=Math.floor(256*Math.random());return e}class Zd{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=NP(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<e&&(n+=t.charAt(i[o]%t.length))}return n}}function Wn(r,t){return r<t?-1:r>t?1:0}function nu(r,t,e){return r.length===t.length&&r.every((n,i)=>e(n,t[i]))}class qr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Lt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Lt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Lt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return qr.fromMillis(Date.now())}static fromDate(t){return qr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new qr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Wn(this.nanoseconds,t.nanoseconds):Wn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new bn(t)}static min(){return new bn(new qr(0,0))}static max(){return new bn(new qr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vl{constructor(t,e,n){void 0===e?e=0:e>t.length&&fn(),void 0===n?n=t.length-e:n>t.length-e&&fn(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===vl.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vl?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.get(i),s=e.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class _r extends vl{construct(t,e,n){return new _r(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Lt(dt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(i=>i.length>0))}return new _r(e)}static emptyPath(){return new _r([])}}const LP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ui extends vl{construct(t,e,n){return new ui(t,e,n)}static isValidIdentifier(t){return LP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ui.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ui(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const o=()=>{if(0===n.length)throw new Lt(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const l=t[i];if("\\"===l){if(i+1===t.length)throw new Lt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Lt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=v,i+=2}else"`"===l?(s=!s,i++):"."!==l||s?(n+=l,i++):(o(),i++)}if(o(),s)throw new Lt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ui(e)}static emptyPath(){return new ui([])}}class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(_r.fromString(t))}static fromName(t){return new Zt(_r.fromString(t).popFirst(5))}static empty(){return new Zt(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===_r.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return _r.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new _r(t.slice()))}}function qT(r){return new _s(r.readTime,r.key,-1)}class _s{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new _s(bn.min(),Zt.empty(),-1)}static max(){return new _s(bn.max(),Zt.empty(),-1)}}function Up(r,t){let e=r.readTime.compareTo(t.readTime);return 0!==e?e:(e=Zt.comparator(r.documentKey,t.documentKey),0!==e?e:Wn(r.largestBatchId,t.largestBatchId))}const Jv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ma(r){return zp.apply(this,arguments)}function zp(){return zp=(0,yt.Z)(function*(r){if(r.code!==dt.FAILED_PRECONDITION||r.message!==Jv)throw r;jt("LocalStore","Unexpectedly lost primary lease")}),zp.apply(this,arguments)}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(e,o).next(n,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):rt.reject(e)}static resolve(t){return new rt((e,n)=>{e(t)})}static reject(t){return new rt((e,n)=>{n(t)})}static waitFor(t){return new rt((e,n)=>{let i=0,o=0,s=!1;t.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&e()},v=>n(v))}),s=!0,o===i&&e()})}static or(t){let e=rt.resolve(!1);for(const n of t)e=e.next(i=>i?rt.resolve(i):n());return e}static forEach(t,e){const n=[];return t.forEach((i,o)=>{n.push(e.call(this,i,o))}),this.waitFor(n)}static mapArray(t,e){return new rt((n,i)=>{const o=t.length,s=new Array(o);let l=0;for(let v=0;v<o;v++){const D=v;e(t[D]).next(F=>{s[D]=F,++l,l===o&&n(s)},F=>i(F))}})}static doWhile(t,e){return new rt((n,i)=>{const o=()=>{!0===t()?e().next(()=>{o()},i):n()};o()})}}function Ia(r){return"IndexedDbTransactionError"===r.name}let No=(()=>{class r{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>n.writeSequenceNumber(i))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return r.ct=-1,r})();function Wp(r){return null==r}function Jd(r){return 0===r&&1/r==-1/0}function YP(r){let t=0;for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t++;return t}function iu(r,t){for(const e in r)Object.prototype.hasOwnProperty.call(r,e)&&t(e,r[e])}function KP(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Br{constructor(t,e){this.comparator=t,this.root=e||Xi.EMPTY}insert(t,e){return new Br(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(t){return new Br(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new iy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new iy(this.root,t,this.comparator,!1)}getReverseIterator(){return new iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new iy(this.root,t,this.comparator,!0)}}class iy{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xi{constructor(t,e,n,i,o){this.key=t,this.value=e,this.color=n??Xi.RED,this.left=i??Xi.EMPTY,this.right=o??Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,o){return new Xi(t??this.key,e??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const o=n(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===o?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Xi.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fn();const t=this.left.check();if(t!==this.right.check())throw fn();return t+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw fn()}get value(){throw fn()}get color(){throw fn()}get left(){throw fn()}get right(){throw fn()}copy(r,t,e,n,i){return this}insert(r,t,e){return new Xi(r,t)}remove(r,t){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(t){this.comparator=t,this.data=new Br(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Bw(this.data.getIterator())}getIteratorFrom(t){return new Bw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof Gr)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=n.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Gr(this.comparator);return e.data=t,e}}class Bw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class vo{constructor(t){this.fields=t,t.sort(ui.comparator)}static empty(){return new vo([])}unionWith(t){let e=new Gr(ui.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new vo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nu(this.fields,t.fields,(e,n)=>e.isEqual(n))}}class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ri{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(n){try{return atob(n)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Gw("Invalid base64 string: "+i):i}}(t);return new Ri(e)}static fromUint8Array(t){const e=function(n){let i="";for(let o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t);return new Ri(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(r){if(En(!!r),"string"==typeof r){let t=0;const e=rx.exec(r);if(En(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Yr(r.seconds),nanos:Yr(r.nanos)}}function Yr(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ka(r){return"string"==typeof r?Ri.fromBase64String(r):Ri.fromUint8Array(r)}function qp(r){var t,e;return"server_timestamp"===(null===(e=((null===(t=r?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Yp(r){const t=r.mapValue.fields.__previous_value__;return qp(t)?Yp(t):t}function Kp(r){const t=ou(r.mapValue.fields.__local_write_time__.timestampValue);return new qr(t.seconds,t.nanos)}class ZP{constructor(t,e,n,i,o,s,l,v,D){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=v,this.useFetchStreams=D}}class nh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nh&&t.projectId===this.projectId&&t.database===this.database}}const yl_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Sc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qp(r)?4:Ww(r)?9007199254740991:10:fn()}function _l(r,t){if(r===t)return!0;const e=Sc(r);if(e!==Sc(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Kp(r).isEqual(Kp(t));case 3:return function(n,i){if("string"==typeof n.timestampValue&&"string"==typeof i.timestampValue&&n.timestampValue.length===i.timestampValue.length)return n.timestampValue===i.timestampValue;const o=ou(n.timestampValue),s=ou(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return i=t,ka(r.bytesValue).isEqual(ka(i.bytesValue));case 7:return r.referenceValue===t.referenceValue;case 8:return function(n,i){return Yr(n.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(n.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)}(r,t);case 2:return function(n,i){if("integerValue"in n&&"integerValue"in i)return Yr(n.integerValue)===Yr(i.integerValue);if("doubleValue"in n&&"doubleValue"in i){const o=Yr(n.doubleValue),s=Yr(i.doubleValue);return o===s?Jd(o)===Jd(s):isNaN(o)&&isNaN(s)}return!1}(r,t);case 9:return nu(r.arrayValue.values||[],t.arrayValue.values||[],_l);case 10:return function(n,i){const o=n.mapValue.fields||{},s=i.mapValue.fields||{};if(YP(o)!==YP(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===s[l]||!_l(o[l],s[l])))return!1;return!0}(r,t);default:return fn()}var i}function oy(r,t){return void 0!==(r.values||[]).find(e=>_l(e,t))}function Ec(r,t){if(r===t)return 0;const e=Sc(r),n=Sc(t);if(e!==n)return Wn(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wn(r.booleanValue,t.booleanValue);case 2:return function(i,o){const s=Yr(i.integerValue||i.doubleValue),l=Yr(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(r,t);case 3:return QP(r.timestampValue,t.timestampValue);case 4:return QP(Kp(r),Kp(t));case 5:return Wn(r.stringValue,t.stringValue);case 6:return function(i,o){const s=ka(i),l=ka(o);return s.compareTo(l)}(r.bytesValue,t.bytesValue);case 7:return function(i,o){const s=i.split("/"),l=o.split("/");for(let v=0;v<s.length&&v<l.length;v++){const D=Wn(s[v],l[v]);if(0!==D)return D}return Wn(s.length,l.length)}(r.referenceValue,t.referenceValue);case 8:return function(i,o){const s=Wn(Yr(i.latitude),Yr(o.latitude));return 0!==s?s:Wn(Yr(i.longitude),Yr(o.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return function(i,o){const s=i.values||[],l=o.values||[];for(let v=0;v<s.length&&v<l.length;++v){const D=Ec(s[v],l[v]);if(D)return D}return Wn(s.length,l.length)}(r.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===yl_mapValue&&o===yl_mapValue)return 0;if(i===yl_mapValue)return 1;if(o===yl_mapValue)return-1;const s=i.fields||{},l=Object.keys(s),v=o.fields||{},D=Object.keys(v);l.sort(),D.sort();for(let F=0;F<l.length&&F<D.length;++F){const z=Wn(l[F],D[F]);if(0!==z)return z;const re=Ec(s[l[F]],v[D[F]]);if(0!==re)return re}return Wn(l.length,D.length)}(r.mapValue,t.mapValue);default:throw fn()}}function QP(r,t){if("string"==typeof r&&"string"==typeof t&&r.length===t.length)return Wn(r,t);const e=ou(r),n=ou(t),i=Wn(e.seconds,n.seconds);return 0!==i?i:Wn(e.nanos,n.nanos)}function Zp(r){return ix(r)}function ix(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const i=ou(n);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ka(r.bytesValue).toBase64():"referenceValue"in r?Zt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(t=r.geoPointValue).latitude},${t.longitude})`:"arrayValue"in r?function(n){let i="[",o=!0;for(const s of n.values||[])o?o=!1:i+=",",i+=ix(s);return i+"]"}(r.arrayValue):"mapValue"in r?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",s=!0;for(const l of i)s?s=!1:o+=",",o+=`${l}:${ix(n.fields[l])}`;return o+"}"}(r.mapValue):fn();var t}function rh(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function sy(r){return!!r&&"integerValue"in r}function su(r){return!!r&&"arrayValue"in r}function Hw(r){return!!r&&"nullValue"in r}function Uw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zw(r){return!!r&&"mapValue"in r}function Tc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return iu(r.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Tc(n)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(r.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Tc(r.arrayValue.values[e]);return t}return Object.assign({},r)}function Ww(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ji{constructor(t){this.value=t}static empty(){return new Ji({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!zw(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tc(e)}setAll(t){let e=ui.emptyPath(),n={},i=[];t.forEach((s,l)=>{if(!e.isImmediateParentOf(l)){const v=this.getFieldsMap(e);this.applyChanges(v,n,i),n={},i=[],e=l.popLast()}s?n[l.lastSegment()]=Tc(s):i.push(l.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,n,i)}delete(t){const e=this.field(t.popLast());zw(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return _l(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];zw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){iu(e,(i,o)=>t[i]=o);for(const i of n)delete t[i]}clone(){return new Ji(Tc(this.value))}}function ax(r){const t=[];return iu(r.fields,(e,n)=>{const i=new ui([e]);if(zw(n)){const o=ax(n.mapValue).fields;if(0===o.length)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new vo(t)}class kr{constructor(t,e,n,i,o,s,l){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(t){return new kr(t,0,bn.min(),bn.min(),bn.min(),Ji.empty(),0)}static newFoundDocument(t,e,n,i){return new kr(t,1,e,bn.min(),n,i,0)}static newNoDocument(t,e){return new kr(t,2,e,bn.min(),bn.min(),Ji.empty(),0)}static newUnknownDocument(t,e){return new kr(t,3,e,bn.min(),bn.min(),Ji.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof kr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class au{constructor(t,e){this.position=t,this.inclusive=e}}function ek(r,t,e){let n=0;for(let i=0;i<r.position.length;i++){const o=t[i],s=r.position[i];if(n=o.field.isKeyField()?Zt.comparator(Zt.fromName(s.referenceValue),e.key):Ec(s,e.data.field(o.field)),"desc"===o.dir&&(n*=-1),0!==n)break}return n}function tk(r,t){if(null===r)return null===t;if(null===t||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let e=0;e<r.position.length;e++)if(!_l(r.position[e],t.position[e]))return!1;return!0}class Qp{constructor(t,e="asc"){this.field=t,this.dir=e}}function nk(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class lx{}class dr extends lx{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new bs(t,e,n):"array-contains"===e?new ok(t,n):"in"===e?new cy(t,n):"not-in"===e?new hx(t,n):"array-contains-any"===e?new fx(t,n):new dr(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new ik(t,n):new $w(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Ec(e,this.value)):null!==e&&Sc(this.value)===Sc(e)&&this.matchesComparison(Ec(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return fn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Fr extends lx{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new Fr(t,e)}matches(t){return ih(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function ih(r){return"and"===r.op}function ly(r){return function rk(r){for(const t of r.filters)if(t instanceof Fr)return!1;return!0}(r)&&ih(r)}function ss(r){if(r instanceof dr)return r.field.canonicalString()+r.op.toString()+Zp(r.value);if(ly(r))return r.filters.map(t=>ss(t)).join(",");{const t=r.filters.map(e=>ss(e)).join(",");return`${r.op}(${t})`}}function ux(r,t){return r instanceof dr?(e=r,(n=t)instanceof dr&&e.op===n.op&&e.field.isEqual(n.field)&&_l(e.value,n.value)):r instanceof Fr?function(e,n){return n instanceof Fr&&e.op===n.op&&e.filters.length===n.filters.length&&e.filters.reduce((i,o,s)=>i&&ux(o,n.filters[s]),!0)}(r,t):void fn();var e,n}function cx(r){return r instanceof dr?`${(t=r).field.canonicalString()} ${t.op} ${Zp(t.value)}`:r instanceof Fr?function(t){return t.op.toString()+" {"+t.getFilters().map(cx).join(" ,")+"}"}(r):"Filter";var t}class bs extends dr{constructor(t,e,n){super(t,e,n),this.key=Zt.fromName(n.referenceValue)}matches(t){const e=Zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ik extends dr{constructor(t,e){super(t,"in",e),this.keys=dx(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class $w extends dr{constructor(t,e){super(t,"not-in",e),this.keys=dx(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function dx(r,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(n=>Zt.fromName(n.referenceValue))}class ok extends dr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return su(e)&&oy(e.arrayValue,this.value)}}class cy extends dr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&oy(this.value.arrayValue,e)}}class hx extends dr{constructor(t,e){super(t,"not-in",e)}matches(t){if(oy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!oy(this.value.arrayValue,e)}}class fx extends dr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!su(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>oy(this.value.arrayValue,n))}}class sk{constructor(t,e=null,n=[],i=[],o=null,s=null,l=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.dt=null}}function dy(r,t=null,e=[],n=[],i=null,o=null,s=null){return new sk(r,t,e,n,i,o,s)}function lu(r){const t=Kt(r);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>ss(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>{return(i=n).field.canonicalString()+i.dir;var i}).join(","),Wp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Zp(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Zp(n)).join(",")),t.dt=e}return t.dt}function Xp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<r.orderBy.length;e++)if(!nk(r.orderBy[e],t.orderBy[e]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let e=0;e<r.filters.length;e++)if(!ux(r.filters[e],t.filters[e]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!tk(r.startAt,t.startAt)&&tk(r.endAt,t.endAt)}function Jp(r){return Zt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Fa{constructor(t,e=null,n=[],i=[],o=null,s="F",l=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=v,this.wt=null,this._t=null}}function Lo(r){return new Fa(r)}function px(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function mx(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function my(r){for(const t of r.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function qw(r){return null!==r.collectionGroup}function xc(r){const t=Kt(r);if(null===t.wt){t.wt=[];const e=my(t),n=mx(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Qp(e)),t.wt.push(new Qp(ui.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Qp(ui.keyField(),o))}}}return t.wt}function yo(r){const t=Kt(r);if(!t._t)if("F"===t.limitType)t._t=dy(t.path,t.collectionGroup,xc(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of xc(t))e.push(new Qp(o.field,"desc"===o.dir?"asc":"desc"));const n=t.endAt?new au(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new au(t.startAt.position,t.startAt.inclusive):null;t._t=dy(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}return t._t}function gy(r,t){t.getFirstInequalityField(),my(r);const e=r.filters.concat([t]);return new Fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),e,r.limit,r.limitType,r.startAt,r.endAt)}function Yw(r,t,e){return new Fa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,e,r.startAt,r.endAt)}function oh(r,t){return Xp(yo(r),yo(t))&&r.limitType===t.limitType}function gx(r){return`${lu(yo(r))}|lt:${r.limitType}`}function vy(r){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>cx(n)).join(", ")}]`),Wp(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(i=n).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Zp(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Zp(n)).join(",")),`Target(${e})`}(yo(r))}; limitType=${r.limitType})`}function yy(r,t){return t.isFoundDocument()&&function(e,n){const i=n.key.path;return null!==e.collectionGroup?n.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):Zt.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(r,t)&&function(e,n){for(const i of xc(e))if(!i.field.isKeyField()&&null===n.data.field(i.field))return!1;return!0}(r,t)&&function(e,n){for(const i of e.filters)if(!i.matches(n))return!1;return!0}(r,t)&&(n=t,!((e=r).startAt&&!function(i,o,s){const l=ek(i,o,s);return i.inclusive?l<=0:l<0}(e.startAt,xc(e),n)||e.endAt&&!function(i,o,s){const l=ek(i,o,s);return i.inclusive?l>=0:l>0}(e.endAt,xc(e),n)));var e,n}function Kw(r){return(t,e)=>{let n=!1;for(const i of xc(r)){const o=vx(i,t,e);if(0!==o)return o;n=n||i.field.isKeyField()}return 0}}function vx(r,t,e){const n=r.field.isKeyField()?Zt.comparator(t.key,e.key):function(i,o,s){const l=o.data.field(i),v=s.data.field(i);return null!==l&&null!==v?Ec(l,v):fn()}(r.field,t,e);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return fn()}}class Na{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,o]of n)if(this.equalsFn(i,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){iu(this.inner,(e,n)=>{for(const[i,o]of n)t(i,o)})}isEmpty(){return KP(this.inner)}size(){return this.innerSize}}const yx=new Br(Zt.comparator);function _o(){return yx}const em=new Br(Zt.comparator);function uu(...r){let t=em;for(const e of r)t=t.insert(e.key,e);return t}function Zw(r){let t=em;return r.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function La(){return sh()}function Qw(){return sh()}function sh(){return new Na(r=>r.toString(),(r,t)=>r.isEqual(t))}const g8=new Br(Zt.comparator),ak=new Gr(Zt.comparator);function tr(...r){let t=ak;for(const e of r)t=t.add(e);return t}const v8=new Gr(Wn);function _x(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jd(t)?"-0":t}}function bx(r){return{integerValue:""+r}}function wx(r,t){return function QT(r){return"number"==typeof r&&Number.isInteger(r)&&!Jd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(t)?bx(t):_x(r,t)}class Xw{constructor(){this._=void 0}}function y8(r,t,e){return r instanceof tm?function(n,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return i&&qp(i)&&(i=Yp(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(e,t):r instanceof Rc?nm(r,t):r instanceof Ac?Cx(r,t):function(n,i){const o=lk(n,i),s=cu(o)+cu(n.gt);return sy(o)&&sy(n.gt)?bx(s):_x(n.serializer,s)}(r,t)}function _8(r,t,e){return r instanceof Rc?nm(r,t):r instanceof Ac?Cx(r,t):e}function lk(r,t){return r instanceof Oc?sy(e=t)||(n=e)&&"doubleValue"in n?t:{integerValue:0}:null;var n,e}class tm extends Xw{}class Rc extends Xw{constructor(t){super(),this.elements=t}}function nm(r,t){const e=Jw(t);for(const n of r.elements)e.some(i=>_l(i,n))||e.push(n);return{arrayValue:{values:e}}}class Ac extends Xw{constructor(t){super(),this.elements=t}}function Cx(r,t){let e=Jw(t);for(const n of r.elements)e=e.filter(i=>!_l(i,n));return{arrayValue:{values:e}}}class Oc extends Xw{constructor(t,e){super(),this.serializer=t,this.gt=e}}function cu(r){return Yr(r.integerValue||r.doubleValue)}function Jw(r){return su(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class uk{constructor(t,e){this.version=t,this.transformResults=e}}class jr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new jr}static exists(t){return new jr(void 0,t)}static updateTime(t){return new jr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ah(r,t){return void 0!==r.updateTime?t.isFoundDocument()&&t.version.isEqual(r.updateTime):void 0===r.exists||r.exists===t.isFoundDocument()}class Ic{}function ck(r,t){if(!r.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return r.isNoDocument()?new Pc(r.key,jr.none()):new lh(r.key,r.data,jr.none());{const e=r.data,n=Ji.empty();let i=new Gr(ui.comparator);for(let o of t.fields)if(!i.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?n.delete(o):n.set(o,s),i=i.add(o)}return new wl(r.key,n,new vo(i.toArray()),jr.none())}}function b8(r,t,e){r instanceof lh?function(n,i,o){const s=n.value.clone(),l=Ex(n.fieldTransforms,i,o.transformResults);s.setAll(l),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(r,t,e):r instanceof wl?function(n,i,o){if(!ah(n.precondition,i))return void i.convertToUnknownDocument(o.version);const s=Ex(n.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Sx(n)),l.setAll(s),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function wy(r,t,e,n){return r instanceof lh?function(i,o,s,l){if(!ah(i.precondition,o))return s;const v=i.value.clone(),D=nC(i.fieldTransforms,l,o);return v.setAll(D),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null}(r,t,e,n):r instanceof wl?function(i,o,s,l){if(!ah(i.precondition,o))return s;const v=nC(i.fieldTransforms,l,o),D=o.data;return D.setAll(Sx(i)),D.setAll(v),o.convertToFoundDocument(o.version,D).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(F=>F.field))}(r,t,e,n):(s=e,ah(r.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function w8(r,t){let e=null;for(const n of r.fieldTransforms){const i=t.data.field(n.field),o=lk(n.transform,i||null);null!=o&&(null===e&&(e=Ji.empty()),e.set(n.field,o))}return e||null}function tC(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&(n=t.fieldTransforms,!!(void 0===(e=r.fieldTransforms)&&void 0===n||e&&n&&nu(e,n,(i,o)=>function eC(r,t){return r.field.isEqual(t.field)&&(n=t.transform,(e=r.transform)instanceof Rc&&n instanceof Rc||e instanceof Ac&&n instanceof Ac?nu(e.elements,n.elements,_l):e instanceof Oc&&n instanceof Oc?_l(e.gt,n.gt):e instanceof tm&&n instanceof tm);var e,n}(i,o))))&&(0===r.type?r.value.isEqual(t.value):1!==r.type||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask));var e,n}class lh extends Ic{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wl extends Ic{constructor(t,e,n,i,o=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Sx(r){const t=new Map;return r.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const n=r.data.field(e);t.set(e,n)}}),t}function Ex(r,t,e){const n=new Map;En(r.length===e.length);for(let i=0;i<e.length;i++){const o=r[i],s=o.transform,l=t.data.field(o.field);n.set(o.field,_8(s,l,e[i]))}return n}function nC(r,t,e){const n=new Map;for(const i of r){const o=i.transform,s=e.data.field(i.field);n.set(i.field,y8(o,s,t))}return n}class Pc extends Ic{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cy extends Ic{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rC{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&b8(o,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=wy(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=wy(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Qw();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=e.has(i.key)?null:l;const v=ck(s,l);null!==v&&n.set(i.key,v),s.isValidDocument()||s.convertToNoDocument(bn.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tr())}isEqual(t){return this.batchId===t.batchId&&nu(this.mutations,t.mutations,(e,n)=>tC(e,n))&&nu(this.baseMutations,t.baseMutations,(e,n)=>tC(e,n))}}class iC{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){En(t.mutations.length===n.length);let i=g8;const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,n[s].version);return new iC(t,e,n,i)}}class Sy{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class C8{constructor(t,e){this.count=t,this.unchangedNames=e}}var ci,hr;function Dx(r){switch(r){default:return fn();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0}}function Tx(r){if(void 0===r)return li("GRPC error has no .code"),dt.UNKNOWN;switch(r){case ci.OK:return dt.OK;case ci.CANCELLED:return dt.CANCELLED;case ci.UNKNOWN:return dt.UNKNOWN;case ci.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case ci.INTERNAL:return dt.INTERNAL;case ci.UNAVAILABLE:return dt.UNAVAILABLE;case ci.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case ci.NOT_FOUND:return dt.NOT_FOUND;case ci.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case ci.ABORTED:return dt.ABORTED;case ci.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case ci.DATA_LOSS:return dt.DATA_LOSS;default:return fn()}}(hr=ci||(ci={}))[hr.OK=0]="OK",hr[hr.CANCELLED=1]="CANCELLED",hr[hr.UNKNOWN=2]="UNKNOWN",hr[hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hr[hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hr[hr.NOT_FOUND=5]="NOT_FOUND",hr[hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",hr[hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",hr[hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",hr[hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hr[hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hr[hr.ABORTED=10]="ABORTED",hr[hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",hr[hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",hr[hr.INTERNAL=13]="INTERNAL",hr[hr.UNAVAILABLE=14]="UNAVAILABLE",hr[hr.DATA_LOSS=15]="DATA_LOSS";class xx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sC}static getOrCreateInstance(){return null===sC&&(sC=new xx),sC}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let sC=null;const dk=new jp([4294967295,4294967295],0);function Ax(r){const t=function Rx(){return new TextEncoder}().encode(r),e=new IP;return e.update(t),new Uint8Array(e.digest())}function hk(r){const t=new DataView(r.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new jp([e,n],0),new jp([i,o],0)]}class Ox{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Ey(`Invalid padding: ${e}`);if(n<0)throw new Ey(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Ey(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Ey(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=jp.fromNumber(this.It)}Et(t,e,n){let i=t.add(e.multiply(jp.fromNumber(n)));return 1===i.compare(dk)&&(i=new jp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Ax(t),[n,i]=hk(e);for(let o=0;o<this.hashCount;o++){const s=this.Et(n,i,o);if(!this.At(s))return!1}return!0}static create(t,e,n){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new Ox(o,i,e);return n.forEach(l=>s.insert(l)),s}insert(t){if(0===this.It)return;const e=Ax(t),[n,i]=hk(e);for(let o=0;o<this.hashCount;o++){const s=this.Et(n,i,o);this.Rt(s)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Ey extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dy{constructor(t,e,n,i,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,Ty.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Dy(bn.min(),i,new Br(Wn),_o(),tr())}}class Ty{constructor(t,e,n,i,o){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Ty(n,e,tr(),tr(),tr())}}class xy{constructor(t,e,n,i){this.Pt=t,this.removedTargetIds=e,this.key=n,this.bt=i}}class fk{constructor(t,e){this.targetId=t,this.Vt=e}}class pk{constructor(t,e,n=Ri.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class mk{constructor(){this.St=0,this.Dt=vk(),this.Ct=Ri.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=tr(),e=tr(),n=tr();return this.Dt.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:fn()}}),new Ty(this.Ct,this.xt,t,e,n)}Ft(){this.Nt=!1,this.Dt=vk()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class S8{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=_o(),this.zt=gk(),this.Wt=new Br(Wn)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const n=this.Zt(e);switch(t.state){case 0:this.te(e)&&n.$t(t.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(t.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(e);break;case 3:this.te(e)&&(n.Kt(),n.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),n.$t(t.resumeToken));break;default:fn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((n,i)=>{this.te(i)&&e(i)})}ne(t){var e;const n=t.targetId,i=t.Vt.count,o=this.se(n);if(o){const s=o.target;if(Jp(s))if(0===i){const l=new Zt(s.path);this.Yt(n,l,kr.newNoDocument(l,bn.min()))}else En(1===i);else{const l=this.ie(n);if(l!==i){const v=this.re(t,l);0!==v&&(this.ee(n),this.Wt=this.Wt.insert(n,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=xx.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(D,F,z){var re,ae,fe,ge,we,Te;const Ie={localCacheCount:F,existenceFilterCount:z.count},Ve=z.unchangedNames;return Ve&&(Ie.bloomFilter={applied:0===D,hashCount:null!==(re=Ve?.hashCount)&&void 0!==re?re:0,bitmapLength:null!==(ge=null===(fe=null===(ae=Ve?.bits)||void 0===ae?void 0:ae.bitmap)||void 0===fe?void 0:fe.length)&&void 0!==ge?ge:0,padding:null!==(Te=null===(we=Ve?.bits)||void 0===we?void 0:we.padding)&&void 0!==Te?Te:0}),Ie}(v,l,t.Vt))}}}}re(t,e){const{unchangedNames:n,count:i}=t.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=n;let v,D;try{v=ka(o).toUint8Array()}catch(F){if(F instanceof Gw)return ea("Decoding the base64 bloom filter in existence filter failed ("+F.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw F}try{D=new Ox(v,s,l)}catch(F){return ea(F instanceof Ey?"BloomFilter error: ":"Applying bloom filter failed: ",F),1}return 0===D.It?1:i!==e-this.oe(t.targetId,D)?2:0}oe(t,e){const n=this.Gt.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const s=this.Gt.ue(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.vt(l)||(this.Yt(t,o,null),i++)}),i}ce(t){const e=new Map;this.Qt.forEach((o,s)=>{const l=this.se(s);if(l){if(o.current&&Jp(l.target)){const v=new Zt(l.target.path);null!==this.jt.get(v)||this.ae(s,v)||this.Yt(s,v,kr.newNoDocument(v,t))}o.Mt&&(e.set(s,o.Ot()),o.Ft())}});let n=tr();this.zt.forEach((o,s)=>{let l=!0;s.forEachWhile(v=>{const D=this.se(v);return!D||"TargetPurposeLimboResolution"===D.purpose||(l=!1,!1)}),l&&(n=n.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(t));const i=new Dy(t,e,this.Wt,this.jt,n);return this.jt=_o(),this.zt=gk(),this.Wt=new Br(Wn),i}Jt(t,e){if(!this.te(t))return;const n=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,n),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,n){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,e)?i.Bt(e,1):i.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),n&&(this.jt=this.jt.insert(e,n))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new mk,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Gr(Wn),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||jt("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new mk),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function gk(){return new Br(Zt.comparator)}function vk(){return new Br(Zt.comparator)}const h={asc:"ASCENDING",desc:"DESCENDING"},p={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_={and:"AND",or:"OR"};class I{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function G(r,t){return r.useProto3Json||Wp(t)?t:{value:t}}function Y(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ie(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function le(r,t){return Y(r,t.toTimestamp())}function he(r){return En(!!r),bn.fromTimestamp(function(t){const e=ou(t);return new qr(e.seconds,e.nanos)}(r))}function ye(r,t){return(e=r,new _r(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Ee(r){const t=_r.fromString(r);return En(D8(t)),t}function xe(r,t){return ye(r.databaseId,t.path)}function Ge(r,t){const e=Ee(t);if(e.get(1)!==r.databaseId.projectId)throw new Lt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+r.databaseId.projectId);if(e.get(3)!==r.databaseId.database)throw new Lt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+r.databaseId.database);return new Zt(Qt(e))}function tt(r,t){return ye(r.databaseId,t)}function Ut(r){return new _r(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qt(r){return En(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function yn(r,t,e){return{name:xe(r,t),fields:e.value.mapValue.fields}}function Ry(r,t){return{documents:[tt(r,t.path)]}}function rm(r,t){const e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=tt(r,n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=tt(r,n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);const i=function(v){if(0!==v.length)return E8(Fr.create(v,"and"))}(t.filters);i&&(e.structuredQuery.where=i);const o=function(v){if(0!==v.length)return v.map(D=>{return{field:Va((F=D).field),direction:lC(F.dir)};var F})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const s=G(r,t.limit);var l,v;return null!==s&&(e.structuredQuery.limit=s),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt={before:!(v=t.endAt).inclusive,values:v.position}),e}function Ay(r){let t=function Ct(r){const t=Ee(r);return 4===t.length?_r.emptyPath():Qt(t)}(r.parent);const e=r.structuredQuery,n=e.from?e.from.length:0;let i=null;if(n>0){En(1===n);const F=e.from[0];F.allDescendants?i=F.collectionId:t=t.child(F.collectionId)}let o=[];e.where&&(o=function(F){const z=Oy(F);return z instanceof Fr&&ly(z)?z.getFilters():[z]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(F=>{return new Qp(My((z=F).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));let l=null;e.limit&&(l=function(F){let z;return z="object"==typeof F?F.value:F,Wp(z)?null:z}(e.limit));let v=null;var F;e.startAt&&(v=new au((F=e.startAt).values||[],!!F.before));let D=null;return e.endAt&&(D=function(F){return new au(F.values||[],!F.before)}(e.endAt)),function py(r,t,e,n,i,o,s,l){return new Fa(r,t,e,n,i,o,s,l)}(t,i,s,o,l,"F",v,D)}function Oy(r){return void 0!==r.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=My(t.unaryFilter.field);return dr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=My(t.unaryFilter.field);return dr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=My(t.unaryFilter.field);return dr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=My(t.unaryFilter.field);return dr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fn()}}(r):void 0!==r.fieldFilter?dr.create(My((t=r).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==r.compositeFilter?function(t){return Fr.create(t.compositeFilter.filters.map(e=>Oy(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fn()}}(t.compositeFilter.op))}(r):fn();var t}function lC(r){return h[r]}function uC(r){return p[r]}function cC(r){return _[r]}function Va(r){return{fieldPath:r.canonicalString()}}function My(r){return ui.fromServerFormat(r.fieldPath)}function E8(r){return r instanceof dr?function(t){if("=="===t.op){if(Uw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NAN"}};if(Hw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Uw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NAN"}};if(Hw(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(t.field),op:uC(t.op),value:t.value}}}(r):r instanceof Fr?function(t){const e=t.getFilters().map(n=>E8(n));return 1===e.length?e[0]:{compositeFilter:{op:cC(t.op),filters:e}}}(r):fn()}function Bz(r){const t=[];return r.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function D8(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Fc{constructor(t,e,n,i,o=bn.min(),s=bn.min(),l=Ri.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=v}withSequenceNumber(t){return new Fc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class T8{constructor(t){this.fe=t}}function yk(r){const t=Ay({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Yw(t,t.limit,"L"):t}class am{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Yr(t.integerValue));else if("doubleValue"in t){const n=Yr(t.doubleValue);isNaN(n)?this.ye(e,13):(this.ye(e,15),Jd(n)?e.pe(0):e.pe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.ye(e,20),"string"==typeof n?e.Ie(n):(e.Ie(`${n.seconds||""}`),e.pe(n.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(ka(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.ye(e,45),e.pe(n.latitude||0),e.pe(n.longitude||0)}else"mapValue"in t?Ww(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):fn()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const n=t.fields||{};this.ye(e,55);for(const i of Object.keys(n))this.Te(i,e),this.me(n[i],e)}Pe(t,e){const n=t.values||[];this.ye(e,50);for(const i of n)this.me(i,e)}ve(t,e){this.ye(e,37),Zt.fromName(t).path.forEach(n=>{this.ye(e,60),this.be(n,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}am.Ve=new am;class Yz{constructor(){this.rn=new Ek}addToCollectionParentIndex(t,e){return this.rn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(_s.min())}updateCollectionGroup(t,e,n){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class Ek{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Gr(_r.comparator),o=!i.has(n);return this.index[e]=i.add(n),o}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Gr(_r.comparator)).toArray()}}new Uint8Array(0);class Vo{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Vo(t,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Vo.DEFAULT_COLLECTION_PERCENTILE=10,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vo.DEFAULT=new Vo(41943040,Vo.DEFAULT_COLLECTION_PERCENTILE,Vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vo.DISABLED=new Vo(-1,0,0);class um{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new um(0)}static Mn(){return new um(-1)}}class rW{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class X8{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(null!==n&&wy(n.mutation,i,vo.empty(),qr.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,tr()).next(()=>n))}getLocalViewOfDocuments(t,e,n=tr()){const i=La();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,n).next(o=>{let s=uu();return o.forEach((l,v)=>{s=s.insert(l,v.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const n=La();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,tr()))}populateOverlays(t,e,n){const i=[];return n.forEach(o=>{e.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,l)=>{e.set(s,l)})})}computeViews(t,e,n,i){let o=_o();const s=sh(),l=sh();return e.forEach((v,D)=>{const F=n.get(D.key);i.has(D.key)&&(void 0===F||F.mutation instanceof wl)?o=o.insert(D.key,D):void 0!==F?(s.set(D.key,F.mutation.getFieldMask()),wy(F.mutation,D,F.mutation.getFieldMask(),qr.now())):s.set(D.key,vo.empty())}),this.recalculateAndSaveOverlays(t,o).next(v=>(v.forEach((D,F)=>s.set(D,F)),e.forEach((D,F)=>{var z;return l.set(D,new rW(F,null!==(z=s.get(D))&&void 0!==z?z:null))}),l))}recalculateAndSaveOverlays(t,e){const n=sh();let i=new Br((s,l)=>s-l),o=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const l of s)l.keys().forEach(v=>{const D=e.get(v);if(null===D)return;let F=n.get(v)||vo.empty();F=l.applyToLocalView(D,F),n.set(v,F);const z=(i.get(l.batchId)||tr()).add(v);i=i.insert(l.batchId,z)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const v=l.getNext(),D=v.key,F=v.value,z=Qw();F.forEach(re=>{if(!o.has(re)){const ae=ck(e.get(re),n.get(re));null!==ae&&z.set(re,ae),o=o.add(re)}}),s.push(this.documentOverlayCache.saveOverlays(t,D,z))}return rt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n){return Zt.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):qw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n);var i}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-o.size):rt.resolve(La());let l=-1,v=o;return s.next(D=>rt.forEach(D,(F,z)=>(l<z.largestBatchId&&(l=z.largestBatchId),o.get(F)?rt.resolve():this.remoteDocumentCache.getEntry(t,F).next(re=>{v=v.insert(F,re)}))).next(()=>this.populateOverlays(t,D,o)).next(()=>this.computeViews(t,v,D,tr())).next(F=>({batchId:l,changes:Zw(F)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Zt(e)).next(n=>{let i=uu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let o=uu();return this.indexManager.getCollectionParents(t,i).next(s=>rt.forEach(s,l=>{const v=(D=e,F=l.child(i),new Fa(F,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,F;return this.getDocumentsMatchingCollectionQuery(t,v,n).next(D=>{D.forEach((F,z)=>{o=o.insert(F,z)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i))).next(o=>{i.forEach((l,v)=>{const D=v.getKey();null===o.get(D)&&(o=o.insert(D,kr.newInvalidDocument(D)))});let s=uu();return o.forEach((l,v)=>{const D=i.get(l);void 0!==D&&wy(D.mutation,v,vo.empty(),qr.now()),yy(e,v)&&(s=s.insert(l,v))}),s})}}class iW{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return rt.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var n;return this.cs.set(e.id,{id:(n=e).id,version:n.version,createTime:he(n.createTime)}),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(n=e).name,query:yk(n.bundledQuery),readTime:he(n.readTime)}),rt.resolve();var n}}class oW{constructor(){this.overlays=new Br(Zt.comparator),this.ls=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const n=La();return rt.forEach(e,i=>this.getOverlay(t,i).next(o=>{null!==o&&n.set(i,o)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((i,o)=>{this.we(t,e,o)}),rt.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.ls.get(n);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(n)),rt.resolve()}getOverlaysForCollection(t,e,n){const i=La(),o=e.length+1,s=new Zt(e.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const v=l.getNext().value,D=v.getKey();if(!e.isPrefixOf(D.path))break;D.path.length===o&&v.largestBatchId>n&&i.set(v.getKey(),v)}return rt.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let o=new Br((D,F)=>D-F);const s=this.overlays.getIterator();for(;s.hasNext();){const D=s.getNext().value;if(D.getKey().getCollectionGroup()===e&&D.largestBatchId>n){let F=o.get(D.largestBatchId);null===F&&(F=La(),o=o.insert(D.largestBatchId,F)),F.set(D.getKey(),D)}}const l=La(),v=o.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((D,F)=>l.set(D,F)),!(l.size()>=i)););return rt.resolve(l)}we(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(n.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Sy(e,n));let o=this.ls.get(e);void 0===o&&(o=tr(),this.ls.set(e,o)),this.ls.set(e,o.add(n.key))}}class Dk{constructor(){this.fs=new Gr(ao.ds),this.ws=new Gr(ao._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const n=new ao(t,e);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.ys(new ao(t,e))}ps(t,e){t.forEach(n=>this.removeReference(n,e))}Is(t){const e=new Zt(new _r([])),n=new ao(e,t),i=new ao(e,t+1),o=[];return this.ws.forEachInRange([n,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Zt(new _r([])),n=new ao(e,t),i=new ao(e,t+1);let o=tr();return this.ws.forEachInRange([n,i],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new ao(t,0),n=this.fs.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class ao{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Zt.comparator(t.key,e.key)||Wn(t.As,e.As)}static _s(t,e){return Wn(t.As,e.As)||Zt.comparator(t.key,e.key)}}class sW{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Gr(ao.ds)}checkEmpty(t){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const o=this.vs;this.vs++;const s=new rC(o,e,n,i);this.mutationQueue.push(s);for(const l of i)this.Rs=this.Rs.add(new ao(l.key,o)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return rt.resolve(s)}lookupMutationBatch(t,e){return rt.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.bs(e+1),o=i<0?0:i;return rt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new ao(e,0),i=new ao(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([n,i],s=>{const l=this.Ps(s.As);o.push(l)}),rt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Gr(Wn);return e.forEach(i=>{const o=new ao(i,0),s=new ao(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],l=>{n=n.add(l.As)})}),rt.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let o=n;Zt.isDocumentKey(o)||(o=o.child(""));const s=new ao(new Zt(o),0);let l=new Gr(Wn);return this.Rs.forEachWhile(v=>{const D=v.key.path;return!!n.isPrefixOf(D)&&(D.length===i&&(l=l.add(v.As)),!0)},s),rt.resolve(this.Vs(l))}Vs(t){const e=[];return t.forEach(n=>{const i=this.Ps(n);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){En(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return rt.forEach(e.mutations,i=>{const o=new ao(i.key,e.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=n})}Cn(t){}containsKey(t,e){const n=new ao(e,0),i=this.Rs.firstAfterOrEqual(n);return rt.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return rt.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class aW{constructor(t){this.Ds=t,this.docs=new Br(Zt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),o=i?i.size:0,s=this.Ds(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return rt.resolve(n?n.document.mutableCopy():kr.newInvalidDocument(e))}getEntries(t,e){let n=_o();return e.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():kr.newInvalidDocument(i))}),rt.resolve(n)}getDocumentsMatchingQuery(t,e,n,i){let o=_o();const s=e.path,l=new Zt(s.child("")),v=this.docs.getIteratorFrom(l);for(;v.hasNext();){const{key:D,value:{document:F}}=v.getNext();if(!s.isPrefixOf(D.path))break;D.path.length>s.length+1||Up(qT(F),n)<=0||(i.has(F.key)||yy(e,F))&&(o=o.insert(F.key,F.mutableCopy()))}return rt.resolve(o)}getAllFromCollectionGroup(t,e,n,i){fn()}Cs(t,e){return rt.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new lW(this)}getSize(t){return rt.resolve(this.size)}}class lW extends class eW{constructor(){this.changes=new Na(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,kr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?rt.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?e.push(this.os.addEntry(t,i)):this.os.removeEntry(n)}),rt.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class uW{constructor(t){this.persistence=t,this.xs=new Na(e=>lu(e),Xp),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Dk,this.targetCount=0,this.Ms=um.kn()}forEachTarget(t,e){return this.xs.forEach((n,i)=>e(i)),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ns&&(this.Ns=e),rt.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new um(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Fn(e),rt.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,n){let i=0;const o=[];return this.xs.forEach((s,l)=>{l.sequenceNumber<=e&&null===n.get(l.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),rt.waitFor(o).next(()=>i)}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const n=this.xs.get(e)||null;return rt.resolve(n)}addMatchingKeys(t,e,n){return this.ks.gs(e,n),rt.resolve()}removeMatchingKeys(t,e,n){this.ks.ps(e,n);const i=this.persistence.referenceDelegate,o=[];return i&&e.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),rt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const n=this.ks.Es(e);return rt.resolve(n)}containsKey(t,e){return rt.resolve(this.ks.containsKey(e))}}class Tk{constructor(t,e){this.$s={},this.overlays={},this.Os=new No(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new uW(this),this.indexManager=new Yz,this.remoteDocumentCache=new aW(n=>this.referenceDelegate.Ls(n)),this.serializer=new T8(e),this.qs=new iW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oW,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.$s[t.toKey()];return n||(n=new sW(e,this.referenceDelegate),this.$s[t.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,n){jt("MemoryPersistence","Starting transaction:",t);const i=new cW(this.Os.next());return this.referenceDelegate.Us(),n(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(t,e){return rt.or(Object.values(this.$s).map(n=>()=>n.containsKey(t,e)))}}class cW extends class YT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}{constructor(t){super(),this.currentSequenceNumber=t}}class Bx{constructor(t){this.persistence=t,this.Qs=new Dk,this.js=null}static zs(t){return new Bx(t)}get Ws(){if(this.js)return this.js;throw fn()}addReference(t,e,n){return this.Qs.addReference(n,e),this.Ws.delete(n.toString()),rt.resolve()}removeReference(t,e,n){return this.Qs.removeReference(n,e),this.Ws.add(n.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(i=>this.Ws.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>n.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Ws,n=>{const i=Zt.fromPath(n);return this.Hs(t,i).next(o=>{o||e.removeEntry(i,bn.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(n=>{n?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return rt.or([()=>rt.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class Ok{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Fi=n,this.Bi=i}static Li(t,e){let n=tr(),i=tr();for(const o of e.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ok(t,e.fromCache,n,i)}}class eV{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,n,i){return this.Ki(t,e).next(o=>o||this.Gi(t,e,i,n)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(px(e))return rt.resolve(null);let n=yo(e);return this.indexManager.getIndexType(t,n).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=Yw(e,null,"F"),n=yo(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{const s=tr(...o);return this.Ui.getDocuments(t,s).next(l=>this.indexManager.getMinOffset(t,n).next(v=>{const D=this.ji(e,l);return this.zi(e,D,s,v.readTime)?this.Ki(t,Yw(e,null,"F")):this.Wi(t,D,e,v)}))})))}Gi(t,e,n,i){return px(e)||i.isEqual(bn.min())?this.Qi(t,e):this.Ui.getDocuments(t,n).next(o=>{const s=this.ji(e,o);return this.zi(e,s,n,i)?this.Qi(t,e):(Dw()<=xa.in.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vy(e)),this.Wi(t,s,e,function $T(r,t){const e=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=bn.fromTimestamp(1e9===n?new qr(e+1,0):new qr(e,n));return new _s(i,Zt.empty(),t)}(i,-1)))})}ji(t,e){let n=new Gr(Kw(t));return e.forEach((i,o)=>{yy(t,o)&&(n=n.add(o))}),n}zi(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(t,e){return Dw()<=xa.in.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",vy(e)),this.Ui.getDocumentsMatchingQuery(t,e,_s.min())}Wi(t,e,n,i){return this.Ui.getDocumentsMatchingQuery(t,n,i).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class hW{constructor(t,e,n,i){this.persistence=t,this.Hi=e,this.serializer=i,this.Ji=new Br(Wn),this.Yi=new Na(o=>lu(o),Xp),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(n)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new X8(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function nV(r,t){return Mk.apply(this,arguments)}function Mk(){return Mk=(0,yt.Z)(function*(r,t){const e=Kt(r);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let i;return e.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,e.tr(t),e.mutationQueue.getAllMutationBatches(n))).next(o=>{const s=[],l=[];let v=tr();for(const D of i){s.push(D.batchId);for(const F of D.mutations)v=v.add(F.key)}for(const D of o){l.push(D.batchId);for(const F of D.mutations)v=v.add(F.key)}return e.localDocuments.getDocuments(n,v).next(D=>({er:D,removedBatchIds:s,addedBatchIds:l}))})})}),Mk.apply(this,arguments)}function fW(r,t){const e=Kt(r);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(s,l,v,D){const F=v.batch,z=F.keys();let re=rt.resolve();return z.forEach(ae=>{re=re.next(()=>D.getEntry(l,ae)).next(fe=>{const ge=v.docVersions.get(ae);En(null!==ge),fe.version.compareTo(ge)<0&&(F.applyToRemoteDocument(fe,v),fe.isValidDocument()&&(fe.setReadTime(v.commitVersion),D.addEntry(fe)))})}),re.next(()=>s.mutationQueue.removeMutationBatch(l,F))}(e,n,t,o).next(()=>o.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=tr();for(let v=0;v<s.mutationResults.length;++v)s.mutationResults[v].transformResults.length>0&&(l=l.add(s.batch.mutations[v].key));return l}(t))).next(()=>e.localDocuments.getDocuments(n,i))})}function rV(r){const t=Kt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function pW(r,t){const e=Kt(r),n=t.snapshotVersion;let i=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.Zi.newChangeBuffer({trackRemovals:!0});i=e.Ji;const l=[];t.targetChanges.forEach((F,z)=>{const re=i.get(z);if(!re)return;l.push(e.Bs.removeMatchingKeys(o,F.removedDocuments,z).next(()=>e.Bs.addMatchingKeys(o,F.addedDocuments,z)));let ae=re.withSequenceNumber(o.currentSequenceNumber);var fe,ge,we;null!==t.targetMismatches.get(z)?ae=ae.withResumeToken(Ri.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):F.resumeToken.approximateByteSize()>0&&(ae=ae.withResumeToken(F.resumeToken,n)),i=i.insert(z,ae),ge=ae,we=F,(0===(fe=re).resumeToken.approximateByteSize()||ge.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||we.addedDocuments.size+we.modifiedDocuments.size+we.removedDocuments.size>0)&&l.push(e.Bs.updateTargetData(o,ae))});let v=_o(),D=tr();if(t.documentUpdates.forEach(F=>{t.resolvedLimboDocuments.has(F)&&l.push(e.persistence.referenceDelegate.updateLimboDocument(o,F))}),l.push(function iV(r,t,e){let n=tr(),i=tr();return e.forEach(o=>n=n.add(o)),t.getEntries(r,n).next(o=>{let s=_o();return e.forEach((l,v)=>{const D=o.get(l);v.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(l)),v.isNoDocument()&&v.version.isEqual(bn.min())?(t.removeEntry(l,v.readTime),s=s.insert(l,v)):!D.isValidDocument()||v.version.compareTo(D.version)>0||0===v.version.compareTo(D.version)&&D.hasPendingWrites?(t.addEntry(v),s=s.insert(l,v)):jt("LocalStore","Ignoring outdated watch update for ",l,". Current version:",D.version," Watch version:",v.version)}),{nr:s,sr:i}})}(o,s,t.documentUpdates).next(F=>{v=F.nr,D=F.sr})),!n.isEqual(bn.min())){const F=e.Bs.getLastRemoteSnapshotVersion(o).next(z=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,n));l.push(F)}return rt.waitFor(l).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,v,D)).next(()=>v)}).then(o=>(e.Ji=i,o))}function mW(r,t){const e=Kt(r);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function ky(r,t){const e=Kt(r);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return e.Bs.getTargetData(n,t).next(o=>o?(i=o,rt.resolve(i)):e.Bs.allocateTargetId(n).next(s=>(i=new Fc(t,s,"TargetPurposeListen",n.currentSequenceNumber),e.Bs.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=e.Ji.get(n.targetId);return(null===i||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(n.targetId,n),e.Yi.set(t,n.targetId)),n})}function Fy(r,t,e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,yt.Z)(function*(r,t,e){const n=Kt(r),i=n.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ia(s))throw s;jt("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ji=n.Ji.remove(t),n.Yi.delete(i.target)}),Ik.apply(this,arguments)}function Hx(r,t,e){const n=Kt(r);let i=bn.min(),o=tr();return n.persistence.runTransaction("Execute query","readonly",s=>function(l,v,D){const F=Kt(l),z=F.Yi.get(D);return void 0!==z?rt.resolve(F.Ji.get(z)):F.Bs.getTargetData(v,D)}(n,s,yo(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Bs.getMatchingKeysForTargetId(s,l.targetId).next(v=>{o=v})}).next(()=>n.Hi.getDocumentsMatchingQuery(s,t,e?i:bn.min(),e?o:tr())).next(l=>(function aV(r,t,e){let n=r.Xi.get(t)||bn.min();e.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Xi.set(t,n)}(n,function _y(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(t),l),{documents:l,ir:o})))}class Lk{constructor(){this.activeTargetIds=function by(){return v8}()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cV{constructor(){this.Hr=new Lk,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,n){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new Lk,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yW{Yr(t){}shutdown(){}}class dV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){jt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){jt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wx=null;function Bk(){return null===Wx?Wx=268435456+Math.round(2147483648*Math.random()):Wx++,"0x"+Wx.toString(16)}const _W={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bW{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Bo="WebChannelConnection";class wW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,n,i,o){const s=Bk(),l=this.To(t,e);jt("RestConnection",`Sending RPC '${t}' ${s}:`,l,n);const v={};return this.Eo(v,i,o),this.Ao(t,l,v,n).then(D=>(jt("RestConnection",`Received RPC '${t}' ${s}: `,D),D),D=>{throw ea("RestConnection",`RPC '${t}' ${s} failed with error: `,D,"url: ",l,"request:",n),D})}vo(t,e,n,i,o,s){return this.Io(t,e,n,i,o)}Eo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Kd,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((i,o)=>t[o]=i),n&&n.headers.forEach((i,o)=>t[o]=i)}To(t,e){return`${this.mo}/v1/${e}:${_W[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,n,i){const o=Bk();return new Promise((s,l)=>{const v=new MP;v.setWithCredentials(!0),v.listenOnce(AP.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Sw.NO_ERROR:const F=v.getResponseJson();jt(Bo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(F)),s(F);break;case Sw.TIMEOUT:jt(Bo,`RPC '${t}' ${o} timed out`),l(new Lt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Sw.HTTP_ERROR:const z=v.getStatus();if(jt(Bo,`RPC '${t}' ${o} failed with status:`,z,"response text:",v.getResponseText()),z>0){let re=v.getResponseJson();Array.isArray(re)&&(re=re[0]);const ae=re?.error;if(ae&&ae.status&&ae.message){const fe=function(ge){const we=ge.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(we)>=0?we:dt.UNKNOWN}(ae.status);l(new Lt(fe,ae.message))}else l(new Lt(dt.UNKNOWN,"Server responded with status "+v.getStatus()))}else l(new Lt(dt.UNAVAILABLE,"Connection failed."));break;default:fn()}}finally{jt(Bo,`RPC '${t}' ${o} completed.`)}});const D=JSON.stringify(i);jt(Bo,`RPC '${t}' ${o} sending request:`,i),v.send(e,"POST",D,n,15)})}Ro(t,e,n){const i=Bk(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=jT(),l=RP(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(v.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(v.xmlHttpFactory=new u8({})),this.Eo(v.initMessageHeaders,e,n),v.encodeInitMessageHeaders=!0;const F=o.join("");jt(Bo,`Creating RPC '${t}' stream ${i}: ${F}`,v);const z=s.createWebChannel(F,v);let re=!1,ae=!1;const fe=new bW({ro:we=>{ae?jt(Bo,`Not sending because RPC '${t}' stream ${i} is closed:`,we):(re||(jt(Bo,`Opening RPC '${t}' stream ${i} transport.`),z.open(),re=!0),jt(Bo,`RPC '${t}' stream ${i} sending:`,we),z.send(we))},oo:()=>z.close()}),ge=(we,Te,Ie)=>{we.listen(Te,Ve=>{try{Ie(Ve)}catch(et){setTimeout(()=>{throw et},0)}})};return ge(z,Gp.EventType.OPEN,()=>{ae||jt(Bo,`RPC '${t}' stream ${i} transport opened.`)}),ge(z,Gp.EventType.CLOSE,()=>{ae||(ae=!0,jt(Bo,`RPC '${t}' stream ${i} transport closed`),fe.wo())}),ge(z,Gp.EventType.ERROR,we=>{ae||(ae=!0,ea(Bo,`RPC '${t}' stream ${i} transport errored:`,we),fe.wo(new Lt(dt.UNAVAILABLE,"The operation could not be completed")))}),ge(z,Gp.EventType.MESSAGE,we=>{var Te;if(!ae){const Ie=we.data[0];En(!!Ie);const Ve=Ie,et=Ve.error||(null===(Te=Ve[0])||void 0===Te?void 0:Te.error);if(et){jt(Bo,`RPC '${t}' stream ${i} received error:`,et);const gt=et.status;let Dt=function(Mt){const qt=ci[Mt];if(void 0!==qt)return Tx(qt)}(gt),Bt=et.message;void 0===Dt&&(Dt=dt.INTERNAL,Bt="Unknown error status: "+gt+" with message "+et.message),ae=!0,fe.wo(new Lt(Dt,Bt)),z.close()}else jt(Bo,`RPC '${t}' stream ${i} received:`,Ie),fe._o(Ie)}}),ge(l,OP.STAT_EVENT,we=>{we.stat===Ew.PROXY?jt(Bo,`RPC '${t}' stream ${i} detected buffering proxy`):we.stat===Ew.NOPROXY&&jt(Bo,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{fe.fo()},0),fe}}function $x(){return typeof document<"u"?document:null}function _C(r){return new I(r,!0)}class Gk{constructor(t,e,n=1e3,i=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=n,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),i=Math.max(0,e-n);i>0&&jt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class fV{constructor(t,e,n,i,o,s,l,v){this.ii=t,this.$o=n,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Gk(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,yt.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,yt.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var n=this;return(0,yt.Z)(function*(){n.Ho(),n.Jo(),n.qo.cancel(),n.Fo++,4!==t?n.qo.reset():e&&e.code===dt.RESOURCE_EXHAUSTED?(li(e.toString()),li("Using maximum backoff delay to prevent overloading the backend."),n.qo.xo()):e&&e.code===dt.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Yo(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Fo===e&&this.Zo(n,i)},n=>{t(()=>{const i=new Lt(dt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.tu(i)})})}Zo(t,e){const n=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{n(()=>this.tu(i))}),this.stream.onMessage(i=>{n(()=>this.onMessage(i))})}Go(){var t=this;this.state=5,this.qo.No((0,yt.Z)(function*(){t.state=0,t.start()}))}tu(t){return jt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(jt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CW extends fV{constructor(t,e,n,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function Nn(r,t){let e;if("targetChange"in t){const n="NO_CHANGE"===(v=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:fn(),i=t.targetChange.targetIds||[],o=function(v,D){return v.useProto3Json?(En(void 0===D||"string"==typeof D),Ri.fromBase64String(D||"")):(En(void 0===D||D instanceof Uint8Array),Ri.fromUint8Array(D||new Uint8Array))}(r,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(v){const D=void 0===v.code?dt.UNKNOWN:Tx(v.code);return new Lt(D,v.message||"")}(s);e=new pk(n,i,o,l||null)}else if("documentChange"in t){const n=t.documentChange,i=Ge(r,n.document.name),o=he(n.document.updateTime),s=n.document.createTime?he(n.document.createTime):bn.min(),l=new Ji({mapValue:{fields:n.document.fields}}),v=kr.newFoundDocument(i,o,s,l);e=new xy(n.targetIds||[],n.removedTargetIds||[],v.key,v)}else if("documentDelete"in t){const n=t.documentDelete,i=Ge(r,n.document),o=n.readTime?he(n.readTime):bn.min(),s=kr.newNoDocument(i,o);e=new xy([],n.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const n=t.documentRemove,i=Ge(r,n.document);e=new xy([],n.removedTargetIds||[],i,null)}else{if(!("filter"in t))return fn();{const n=t.filter,{count:i=0,unchangedNames:o}=n,s=new C8(i,o);e=new fk(n.targetId,s)}}var v;return e}(this.serializer,t),n=function(i){if(!("targetChange"in i))return bn.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?bn.min():o.readTime?he(o.readTime):bn.min()}(t);return this.listener.nu(e,n)}su(t){const e={};e.database=Ut(this.serializer),e.addTarget=function(i,o){let s;const l=o.target;if(s=Jp(l)?{documents:Ry(i,l)}:{query:rm(i,l)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=ie(i,o.resumeToken);const v=G(i,o.expectedCount);null!==v&&(s.expectedCount=v)}else if(o.snapshotVersion.compareTo(bn.min())>0){s.readTime=Y(i,o.snapshotVersion.toTimestamp());const v=G(i,o.expectedCount);null!==v&&(s.expectedCount=v)}return s}(this.serializer,t);const n=function aC(r,t){const e=function(n){switch(n){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);n&&(e.labels=n),this.Wo(e)}iu(t){const e={};e.database=Ut(this.serializer),e.removeTarget=t,this.Wo(e)}}class SW extends fV{constructor(t,e,n,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(En(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function kc(r,t){return r&&r.length>0?(En(void 0!==t),r.map(e=>function(n,i){let o=he(n.updateTime?n.updateTime:i);return o.isEqual(bn.min())&&(o=he(i)),new uk(o,n.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),n=he(t.commitTime);return this.listener.cu(n,e)}return En(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=Ut(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(n=>function fr(r,t){let e;if(t instanceof lh)e={update:yn(r,t.key,t.value)};else if(t instanceof Pc)e={delete:xe(r,t.key)};else if(t instanceof wl)e={update:yn(r,t.key,t.data),updateMask:Bz(t.fieldMask)};else{if(!(t instanceof Cy))return fn();e={verify:xe(r,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(i,o){const s=o.transform;if(s instanceof tm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Rc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ac)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Oc)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw fn()}(0,n))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:le(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:fn()),e;var i}(this.serializer,n))};this.Wo(e)}}class EW extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Lt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(t,e,n,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Lt(dt.UNKNOWN,i.toString())})}vo(t,e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(t,e,n,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Lt(dt.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class TW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(li(e),this.mu=!1):jt("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class xW{constructor(t,e,n,i,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(l=>{n.enqueueAndForget((0,yt.Z)(function*(){var v;hh(s)&&(jt("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,yt.Z)(function*(D){const F=Kt(D);F.vu.add(4),yield Ny(F),F.bu.set("Unknown"),F.vu.delete(4),yield bC(F)}),function(D){return v.apply(this,arguments)})(s))}))}),this.bu=new TW(n,i)}}function bC(r){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,yt.Z)(function*(r){if(hh(r))for(const t of r.Ru)yield t(!0)}),Hk.apply(this,arguments)}function Ny(r){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,yt.Z)(function*(r){for(const t of r.Ru)yield t(!1)}),Uk.apply(this,arguments)}function qx(r,t){const e=Kt(r);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),$k(e)?Wk(e):Vy(e).Ko()&&zk(e,t))}function wC(r,t){const e=Kt(r),n=Vy(e);e.Au.delete(t),n.Ko()&&pV(e,t),0===e.Au.size&&(n.Ko()?n.jo():hh(e)&&e.bu.set("Unknown"))}function zk(r,t){if(r.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bn.min())>0){const e=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Vy(r).su(t)}function pV(r,t){r.Vu.qt(t),Vy(r).iu(t)}function Wk(r){r.Vu=new S8({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),le:t=>r.Au.get(t)||null,ue:()=>r.datastore.serializer.databaseId}),Vy(r).start(),r.bu.gu()}function $k(r){return hh(r)&&!Vy(r).Uo()&&r.Au.size>0}function hh(r){return 0===Kt(r).vu.size}function mV(r){r.Vu=void 0}function RW(r){return qk.apply(this,arguments)}function qk(){return qk=(0,yt.Z)(function*(r){r.Au.forEach((t,e)=>{zk(r,t)})}),qk.apply(this,arguments)}function AW(r,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,yt.Z)(function*(r,t){mV(r),$k(r)?(r.bu.Iu(t),Wk(r)):r.bu.set("Unknown")}),Yk.apply(this,arguments)}function OW(r,t,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,yt.Z)(function*(r,t,e){if(r.bu.set("Online"),t instanceof pk&&2===t.state&&t.cause)try{yield(n=(0,yt.Z)(function*(i,o){const s=o.cause;for(const l of o.targetIds)i.Au.has(l)&&(yield i.remoteSyncer.rejectListen(l,s),i.Au.delete(l),i.Vu.removeTarget(l))}),function(i,o){return n.apply(this,arguments)})(r,t)}catch(n){jt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield Yx(r,n)}else if(t instanceof xy?r.Vu.Ht(t):t instanceof fk?r.Vu.ne(t):r.Vu.Xt(t),!e.isEqual(bn.min()))try{const n=yield rV(r.localStore);e.compareTo(n)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((l,v)=>{if(l.resumeToken.approximateByteSize()>0){const D=i.Au.get(v);D&&i.Au.set(v,D.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,v)=>{const D=i.Au.get(l);if(!D)return;i.Au.set(l,D.withResumeToken(Ri.EMPTY_BYTE_STRING,D.snapshotVersion)),pV(i,l);const F=new Fc(D.target,l,v,D.sequenceNumber);zk(i,F)}),i.remoteSyncer.applyRemoteEvent(s)}(r,e))}catch(n){jt("RemoteStore","Failed to raise snapshot:",n),yield Yx(r,n)}var n}),Kk.apply(this,arguments)}function Yx(r,t,e){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,yt.Z)(function*(r,t,e){if(!Ia(t))throw t;r.vu.add(1),yield Ny(r),r.bu.set("Offline"),e||(e=()=>rV(r.localStore)),r.asyncQueue.enqueueRetryable((0,yt.Z)(function*(){jt("RemoteStore","Retrying IndexedDB access"),yield e(),r.vu.delete(1),yield bC(r)}))}),Zk.apply(this,arguments)}function gV(r,t){return t().catch(e=>Yx(r,e,t))}function Ly(r){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,yt.Z)(function*(r){const t=Kt(r),e=fh(t);let n=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;MW(t);)try{const i=yield mW(t.localStore,n);if(null===i){0===t.Eu.length&&e.jo();break}n=i.batchId,IW(t,i)}catch(i){yield Yx(t,i)}vV(t)&&yV(t)}),Qk.apply(this,arguments)}function MW(r){return hh(r)&&r.Eu.length<10}function IW(r,t){r.Eu.push(t);const e=fh(r);e.Ko()&&e.ou&&e.uu(t.mutations)}function vV(r){return hh(r)&&!fh(r).Uo()&&r.Eu.length>0}function yV(r){fh(r).start()}function PW(r){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,yt.Z)(function*(r){fh(r).hu()}),Xk.apply(this,arguments)}function kW(r){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,yt.Z)(function*(r){const t=fh(r);for(const e of r.Eu)t.uu(e.mutations)}),Jk.apply(this,arguments)}function FW(r,t,e){return e2.apply(this,arguments)}function e2(){return e2=(0,yt.Z)(function*(r,t,e){const n=r.Eu.shift(),i=iC.from(n,t,e);yield gV(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),yield Ly(r)}),e2.apply(this,arguments)}function NW(r,t){return t2.apply(this,arguments)}function t2(){return t2=(0,yt.Z)(function*(r,t){var e;t&&fh(r).ou&&(yield(e=(0,yt.Z)(function*(n,i){if(Dx(o=i.code)&&o!==dt.ABORTED){const s=n.Eu.shift();fh(n).Qo(),yield gV(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ly(n)}var o}),function(n,i){return e.apply(this,arguments)})(r,t)),vV(r)&&yV(r)}),t2.apply(this,arguments)}function _V(r,t){return n2.apply(this,arguments)}function n2(){return n2=(0,yt.Z)(function*(r,t){const e=Kt(r);e.asyncQueue.verifyOperationInProgress(),jt("RemoteStore","RemoteStore received new credentials");const n=hh(e);e.vu.add(3),yield Ny(e),n&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield bC(e)}),n2.apply(this,arguments)}function o2(){return o2=(0,yt.Z)(function*(r,t){const e=Kt(r);t?(e.vu.delete(2),yield bC(e)):t||(e.vu.add(2),yield Ny(e),e.bu.set("Unknown"))}),o2.apply(this,arguments)}function Vy(r){return r.Su||(r.Su=function(t,e,n){const i=Kt(t);return i.fu(),new CW(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(r.datastore,r.asyncQueue,{uo:RW.bind(null,r),ao:AW.bind(null,r),nu:OW.bind(null,r)}),r.Ru.push(function(){var t=(0,yt.Z)(function*(e){e?(r.Su.Qo(),$k(r)?Wk(r):r.bu.set("Unknown")):(yield r.Su.stop(),mV(r))});return function(e){return t.apply(this,arguments)}}())),r.Su}function fh(r){return r.Du||(r.Du=function(t,e,n){const i=Kt(t);return i.fu(),new SW(e,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(r.datastore,r.asyncQueue,{uo:PW.bind(null,r),ao:NW.bind(null,r),au:kW.bind(null,r),cu:FW.bind(null,r)}),r.Ru.push(function(){var t=(0,yt.Z)(function*(e){e?(r.Du.Qo(),yield Ly(r)):(yield r.Du.stop(),r.Eu.length>0&&(jt("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),r.Du}class s2{constructor(t,e,n,i,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(t,e,n,i,o){const s=Date.now()+n,l=new s2(t,e,s,i,o);return l.start(n),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lt(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(r,t){if(li("AsyncQueue",`${t}: ${r}`),Ia(r))return new Lt(dt.UNAVAILABLE,`${t}: ${r}`);throw r}class Gy{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Zt.comparator(e.key,n.key):(e,n)=>Zt.comparator(e.key,n.key),this.keyedMap=uu(),this.sortedSet=new Br(this.comparator)}static emptySet(t){return new Gy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Gy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Gy;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class bV{constructor(){this.Cu=new Br(Zt.comparator)}track(t){const e=t.doc.key,n=this.Cu.get(e);n?0!==t.type&&3===n.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==n.type?this.Cu=this.Cu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Cu=this.Cu.remove(e):1===t.type&&2===n.type?this.Cu=this.Cu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):fn():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,n)=>{t.push(n)}),t}}class jy{constructor(t,e,n,i,o,s,l,v,D){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=v,this.hasCachedResults=D}static fromInitialDocuments(t,e,n,i,o){const s=[];return e.forEach(l=>{s.push({type:0,doc:l})}),new jy(t,e,Gy.emptySet(e),s,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}class LW{constructor(){this.Nu=void 0,this.listeners=[]}}class VW{constructor(){this.queries=new Na(t=>gx(t),oh),this.onlineState="Unknown",this.ku=new Set}}function l2(){return l2=(0,yt.Z)(function*(r,t){const e=Kt(r),n=t.query;let i=!1,o=e.queries.get(n);if(o||(i=!0,o=new LW),i)try{o.Nu=yield e.onListen(n)}catch(s){const l=By(s,`Initialization of query '${vy(t.query)}' failed`);return void t.onError(l)}e.queries.set(n,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&d2(e)}),l2.apply(this,arguments)}function c2(){return c2=(0,yt.Z)(function*(r,t){const e=Kt(r),n=t.query;let i=!1;const o=e.queries.get(n);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return e.queries.delete(n),e.onUnlisten(n)}),c2.apply(this,arguments)}function BW(r,t){const e=Kt(r);let n=!1;for(const i of t){const s=e.queries.get(i.query);if(s){for(const l of s.listeners)l.$u(i)&&(n=!0);s.Nu=i}}n&&d2(e)}function GW(r,t,e){const n=Kt(r),i=n.queries.get(t);if(i)for(const o of i.listeners)o.onError(e);n.queries.delete(t)}function d2(r){r.ku.forEach(t=>{t.next()})}class h2{constructor(t,e,n){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)3!==i.type&&n.push(i);t=new jy(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=jy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class SV{constructor(t){this.key=t}}class EV{constructor(t){this.key=t}}class DV{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=tr(),this.mutatedKeys=tr(),this.tc=Kw(t),this.ec=new Gy(this.tc)}get nc(){return this.Yu}sc(t,e){const n=e?e.ic:new bV,i=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,s=i,l=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((F,z)=>{const re=i.get(F),ae=yy(this.query,z)?z:null,fe=!!re&&this.mutatedKeys.has(re.key),ge=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let we=!1;re&&ae?re.data.isEqual(ae.data)?fe!==ge&&(n.track({type:3,doc:ae}),we=!0):this.rc(re,ae)||(n.track({type:2,doc:ae}),we=!0,(v&&this.tc(ae,v)>0||D&&this.tc(ae,D)<0)&&(l=!0)):!re&&ae?(n.track({type:0,doc:ae}),we=!0):re&&!ae&&(n.track({type:1,doc:re}),we=!0,(v||D)&&(l=!0)),we&&(ae?(s=s.add(ae),o=ge?o.add(F):o.delete(F)):(s=s.delete(F),o=o.delete(F)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const F="F"===this.query.limitType?s.last():s.first();s=s.delete(F.key),o=o.delete(F.key),n.track({type:1,doc:F})}return{ec:s,ic:n,zi:l,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((D,F)=>function(z,re){const ae=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn()}};return ae(z)-ae(re)}(D.type,F.type)||this.tc(D.doc,F.doc)),this.oc(n);const s=e?this.uc():[],l=0===this.Zu.size&&this.current?1:0,v=l!==this.Xu;return this.Xu=l,0!==o.length||v?{snapshot:new jy(this.query,t.ec,i,o,t.mutatedKeys,0===l,v,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=tr(),this.ec.forEach(n=>{this.ac(n.key)&&(this.Zu=this.Zu.add(n.key))});const e=[];return t.forEach(n=>{this.Zu.has(n)||e.push(new EV(n))}),this.Zu.forEach(n=>{t.has(n)||e.push(new SV(n))}),e}hc(t){this.Yu=t.ir,this.Zu=tr();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return jy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class UW{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class zW{constructor(t){this.key=t,this.fc=!1}}class WW{constructor(t,e,n,i,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Na(l=>gx(l),oh),this._c=new Map,this.mc=new Set,this.gc=new Br(Zt.comparator),this.yc=new Map,this.Ic=new Dk,this.Tc={},this.Ec=new Map,this.Ac=um.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function $W(r,t){return f2.apply(this,arguments)}function f2(){return f2=(0,yt.Z)(function*(r,t){const e=N2(r);let n,i;const o=e.wc.get(t);if(o)n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),i=o.view.lc();else{const s=yield ky(e.localStore,yo(t)),l=e.sharedClientState.addLocalQueryTarget(s.targetId);n=s.targetId,i=yield p2(e,t,n,"current"===l,s.resumeToken),e.isPrimaryClient&&qx(e.remoteStore,s)}return i}),f2.apply(this,arguments)}function p2(r,t,e,n,i){return m2.apply(this,arguments)}function m2(){return m2=(0,yt.Z)(function*(r,t,e,n,i){r.Rc=(z,re,ae)=>{return(fe=(0,yt.Z)(function*(ge,we,Te,Ie){let Ve=we.view.sc(Te);Ve.zi&&(Ve=yield Hx(ge.localStore,we.query,!1).then(({documents:Dt})=>we.view.sc(Dt,Ve)));const et=Ie&&Ie.targetChanges.get(we.targetId),gt=we.view.applyChanges(Ve,ge.isPrimaryClient,et);return D2(ge,we.targetId,gt.cc),gt.snapshot}),function(ge,we,Te,Ie){return fe.apply(this,arguments)})(r,z,re,ae);var fe};const o=yield Hx(r.localStore,t,!0),s=new DV(t,o.ir),l=s.sc(o.documents),v=Ty.createSynthesizedTargetChangeForCurrentChange(e,n&&"Offline"!==r.onlineState,i),D=s.applyChanges(l,r.isPrimaryClient,v);D2(r,e,D.cc);const F=new UW(t,e,s);return r.wc.set(t,F),r._c.has(e)?r._c.get(e).push(t):r._c.set(e,[t]),D.snapshot}),m2.apply(this,arguments)}function qW(r,t){return g2.apply(this,arguments)}function g2(){return g2=(0,yt.Z)(function*(r,t){const e=Kt(r),n=e.wc.get(t),i=e._c.get(n.targetId);if(i.length>1)return e._c.set(n.targetId,i.filter(o=>!oh(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||(yield Fy(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),wC(e.remoteStore,n.targetId),Hy(e,n.targetId)}).catch(Ma))):(Hy(e,n.targetId),yield Fy(e.localStore,n.targetId,!0))}),g2.apply(this,arguments)}function v2(){return v2=(0,yt.Z)(function*(r,t,e){const n=L2(r);try{const i=yield function(o,s){const l=Kt(o),v=qr.now(),D=s.reduce((re,ae)=>re.add(ae.key),tr());let F,z;return l.persistence.runTransaction("Locally write mutations","readwrite",re=>{let ae=_o(),fe=tr();return l.Zi.getEntries(re,D).next(ge=>{ae=ge,ae.forEach((we,Te)=>{Te.isValidDocument()||(fe=fe.add(we))})}).next(()=>l.localDocuments.getOverlayedDocuments(re,ae)).next(ge=>{F=ge;const we=[];for(const Te of s){const Ie=w8(Te,F.get(Te.key).overlayedDocument);null!=Ie&&we.push(new wl(Te.key,Ie,ax(Ie.value.mapValue),jr.exists(!0)))}return l.mutationQueue.addMutationBatch(re,v,we,s)}).next(ge=>{z=ge;const we=ge.applyToLocalDocumentSet(F,fe);return l.documentOverlayCache.saveOverlays(re,ge.batchId,we)})}).then(()=>({batchId:z.batchId,changes:Zw(F)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let v=o.Tc[o.currentUser.toKey()];v||(v=new Br(Wn)),v=v.insert(s,l),o.Tc[o.currentUser.toKey()]=v}(n,i.batchId,e),yield Nc(n,i.changes),yield Ly(n.remoteStore)}catch(i){const o=By(i,"Failed to persist write");e.reject(o)}}),v2.apply(this,arguments)}function TV(r,t){return y2.apply(this,arguments)}function y2(){return y2=(0,yt.Z)(function*(r,t){const e=Kt(r);try{const n=yield pW(e.localStore,t);t.targetChanges.forEach((i,o)=>{const s=e.yc.get(o);s&&(En(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?En(s.fc):i.removedDocuments.size>0&&(En(s.fc),s.fc=!1))}),yield Nc(e,n,t)}catch(n){yield Ma(n)}}),y2.apply(this,arguments)}function xV(r,t,e){const n=Kt(r);if(n.isPrimaryClient&&0===e||!n.isPrimaryClient&&1===e){const i=[];n.wc.forEach((o,s)=>{const l=s.view.Mu(t);l.snapshot&&i.push(l.snapshot)}),function(o,s){const l=Kt(o);l.onlineState=s;let v=!1;l.queries.forEach((D,F)=>{for(const z of F.listeners)z.Mu(s)&&(v=!0)}),v&&d2(l)}(n.eventManager,t),i.length&&n.dc.nu(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function KW(r,t,e){return _2.apply(this,arguments)}function _2(){return _2=(0,yt.Z)(function*(r,t,e){const n=Kt(r);n.sharedClientState.updateQueryState(t,"rejected",e);const i=n.yc.get(t),o=i&&i.key;if(o){let s=new Br(Zt.comparator);s=s.insert(o,kr.newNoDocument(o,bn.min()));const l=tr().add(o),v=new Dy(bn.min(),new Map,new Br(Wn),s,l);yield TV(n,v),n.gc=n.gc.remove(o),n.yc.delete(t),T2(n)}else yield Fy(n.localStore,t,!1).then(()=>Hy(n,t,e)).catch(Ma)}),_2.apply(this,arguments)}function ZW(r,t){return b2.apply(this,arguments)}function b2(){return b2=(0,yt.Z)(function*(r,t){const e=Kt(r),n=t.batch.batchId;try{const i=yield fW(e.localStore,t);E2(e,n,null),S2(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield Nc(e,i)}catch(i){yield Ma(i)}}),b2.apply(this,arguments)}function QW(r,t,e){return w2.apply(this,arguments)}function w2(){return w2=(0,yt.Z)(function*(r,t,e){const n=Kt(r);try{const i=yield function(o,s){const l=Kt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return l.mutationQueue.lookupMutationBatch(v,s).next(F=>(En(null!==F),D=F.keys(),l.mutationQueue.removeMutationBatch(v,F))).next(()=>l.mutationQueue.performConsistencyCheck(v)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(v,D,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,D)).next(()=>l.localDocuments.getDocuments(v,D))})}(n.localStore,t);E2(n,t,e),S2(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield Nc(n,i)}catch(i){yield Ma(i)}}),w2.apply(this,arguments)}function S2(r,t){(r.Ec.get(t)||[]).forEach(e=>{e.resolve()}),r.Ec.delete(t)}function E2(r,t,e){const n=Kt(r);let i=n.Tc[n.currentUser.toKey()];if(i){const o=i.get(t);o&&(e?o.reject(e):o.resolve(),i=i.remove(t)),n.Tc[n.currentUser.toKey()]=i}}function Hy(r,t,e=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r._c.get(t))r.wc.delete(n),e&&r.dc.Pc(n,e);r._c.delete(t),r.isPrimaryClient&&r.Ic.Is(t).forEach(n=>{r.Ic.containsKey(n)||RV(r,n)})}function RV(r,t){r.mc.delete(t.path.canonicalString());const e=r.gc.get(t);null!==e&&(wC(r.remoteStore,e),r.gc=r.gc.remove(t),r.yc.delete(e),T2(r))}function D2(r,t,e){for(const n of e)n instanceof SV?(r.Ic.addReference(n.key,t),JW(r,n)):n instanceof EV?(jt("SyncEngine","Document no longer in limbo: "+n.key),r.Ic.removeReference(n.key,t),r.Ic.containsKey(n.key)||RV(r,n.key)):fn()}function JW(r,t){const e=t.key,n=e.path.canonicalString();r.gc.get(e)||r.mc.has(n)||(jt("SyncEngine","New document in limbo: "+e),r.mc.add(n),T2(r))}function T2(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const t=r.mc.values().next().value;r.mc.delete(t);const e=new Zt(_r.fromString(t)),n=r.Ac.next();r.yc.set(n,new zW(e)),r.gc=r.gc.insert(e,n),qx(r.remoteStore,new Fc(yo(Lo(e.path)),n,"TargetPurposeLimboResolution",No.ct))}}function Nc(r,t,e){return x2.apply(this,arguments)}function x2(){return x2=(0,yt.Z)(function*(r,t,e){const n=Kt(r),i=[],o=[],s=[];var l;n.wc.isEmpty()||(n.wc.forEach((l,v)=>{s.push(n.Rc(v,t,e).then(D=>{if((D||e)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(v.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const F=Ok.Li(v.targetId,D);o.push(F)}}))}),yield Promise.all(s),n.dc.nu(i),yield(l=(0,yt.Z)(function*(v,D){const F=Kt(v);try{yield F.persistence.runTransaction("notifyLocalViewChanges","readwrite",z=>rt.forEach(D,re=>rt.forEach(re.Fi,ae=>F.persistence.referenceDelegate.addReference(z,re.targetId,ae)).next(()=>rt.forEach(re.Bi,ae=>F.persistence.referenceDelegate.removeReference(z,re.targetId,ae)))))}catch(z){if(!Ia(z))throw z;jt("LocalStore","Failed to update sequence numbers: "+z)}for(const z of D){const re=z.targetId;if(!z.fromCache){const ae=F.Ji.get(re),ge=ae.withLastLimboFreeSnapshotVersion(ae.snapshotVersion);F.Ji=F.Ji.insert(re,ge)}}}),function(v,D){return l.apply(this,arguments)})(n.localStore,o))}),x2.apply(this,arguments)}function e$(r,t){return R2.apply(this,arguments)}function R2(){return R2=(0,yt.Z)(function*(r,t){const e=Kt(r);if(!e.currentUser.isEqual(t)){jt("SyncEngine","User change. New user:",t.toKey());const n=yield nV(e.localStore,t);e.currentUser=t,(i=e).Ec.forEach(s=>{s.forEach(l=>{l.reject(new Lt(dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Nc(e,n.er)}var i}),R2.apply(this,arguments)}function t$(r,t){const e=Kt(r),n=e.yc.get(t);if(n&&n.fc)return tr().add(n.key);{let i=tr();const o=e._c.get(t);if(!o)return i;for(const s of o){const l=e.wc.get(s);i=i.unionWith(l.view.nc)}return i}}function N2(r){const t=Kt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=TV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KW.bind(null,t),t.dc.nu=BW.bind(null,t.eventManager),t.dc.Pc=GW.bind(null,t.eventManager),t}function L2(r){const t=Kt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZW.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QW.bind(null,t),t}class Kx{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,yt.Z)(function*(){e.serializer=_C(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function tV(r,t,e,n){return new hW(r,t,e,n)}(this.persistence,new eV,t.initialUser,this.serializer)}createPersistence(t){return new Tk(Bx.zs,this.serializer)}createSharedClientState(t){return new cV}terminate(){var t=this;return(0,yt.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Uy{initialize(t,e){var n=this;return(0,yt.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=i=>xV(n.syncEngine,i,1),n.remoteStore.remoteSyncer.handleCredentialChange=e$.bind(null,n.syncEngine),yield function r2(r,t){return o2.apply(this,arguments)}(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new VW}createDatastore(t){const e=_C(t.databaseInfo.databaseId),n=new wW(t.databaseInfo);return new EW(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,o=l=>xV(this.syncEngine,l,0),s=dV.D()?new dV:new yW,new xW(e,n,i,o,s);var e,n,i,o,s}createSyncEngine(t,e){return function(n,i,o,s,l,v,D){const F=new WW(n,i,o,s,l,v);return D&&(F.vc=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,yt.Z)(function*(e){const n=Kt(e);jt("RemoteStore","RemoteStore shutting down."),n.vu.add(5),yield Ny(n),n.Pu.shutdown(),n.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}class Zx{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):li("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class p${constructor(t,e,n,i){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=Zd.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var s=(0,yt.Z)(function*(l){jt("FirestoreClient","Received user=",l.uid),yield o.authCredentialListener(l),o.user=l});return function(l){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(n,s=>(jt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var t=this;return(0,yt.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Lt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,yt.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=By(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function Qx(r,t){return V2.apply(this,arguments)}function V2(){return V2=(0,yt.Z)(function*(r,t){r.asyncQueue.verifyOperationInProgress(),jt("FirestoreClient","Initializing OfflineComponentProvider");const e=yield r.getConfiguration();yield t.initialize(e);let n=e.initialUser;r.setCredentialChangeListener(function(){var i=(0,yt.Z)(function*(o){n.isEqual(o)||(yield nV(t.localStore,o),n=o)});return function(o){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}),V2.apply(this,arguments)}function B2(r,t){return G2.apply(this,arguments)}function G2(){return G2=(0,yt.Z)(function*(r,t){r.asyncQueue.verifyOperationInProgress();const e=yield j2(r);jt("FirestoreClient","Initializing OnlineComponentProvider");const n=yield r.getConfiguration();yield t.initialize(e,n),r.setCredentialChangeListener(i=>_V(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>_V(t.remoteStore,o)),r._onlineComponents=t}),G2.apply(this,arguments)}function kV(r){return"FirebaseError"===r.name?r.code===dt.FAILED_PRECONDITION||r.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}function j2(r){return H2.apply(this,arguments)}function H2(){return H2=(0,yt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){jt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qx(r,r._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!kV(e))throw e;ea("Error using user provided cache. Falling back to memory cache: "+e),yield Qx(r,new Kx)}}else jt("FirestoreClient","Using default OfflineComponentProvider"),yield Qx(r,new Kx);return r._offlineComponents}),H2.apply(this,arguments)}function Xx(r){return U2.apply(this,arguments)}function U2(){return U2=(0,yt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(jt("FirestoreClient","Using user provided OnlineComponentProvider"),yield B2(r,r._uninitializedComponentsProvider._online)):(jt("FirestoreClient","Using default OnlineComponentProvider"),yield B2(r,new Uy))),r._onlineComponents}),U2.apply(this,arguments)}function W2(){return W2=(0,yt.Z)(function*(r){const t=yield Xx(r),e=t.eventManager;return e.onListen=$W.bind(null,t.syncEngine),e.onUnlisten=qW.bind(null,t.syncEngine),e}),W2.apply(this,arguments)}function BV(r,t,e={}){const n=new _i;return r.asyncQueue.enqueueAndForget((0,yt.Z)(function*(){return function(i,o,s,l,v){const D=new Zx({next:z=>{o.enqueueAndForget(()=>function u2(r,t){return c2.apply(this,arguments)}(i,F)),z.fromCache&&"server"===l.source?v.reject(new Lt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),F=new h2(s,D,{includeMetadataChanges:!0,Ku:!0});return function a2(r,t){return l2.apply(this,arguments)}(i,F)}(yield function zy(r){return W2.apply(this,arguments)}(r),r.asyncQueue,t,e,n)})),n.promise}function GV(r){const t={};return void 0!==r.timeoutSeconds&&(t.timeoutSeconds=r.timeoutSeconds),t}const jV=new Map;function $2(r,t,e){if(!e)throw new Lt(dt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HV(r){if(!Zt.isDocumentKey(r))throw new Lt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function UV(r){if(Zt.isDocumentKey(r))throw new Lt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function eR(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const t=(e=r).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof r?"a function":fn()}function wr(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Lt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=eR(r);throw new Lt(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return r}class WV{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new Lt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function S$(r,t,e,n){if(!0===t&&!0===n)throw new Lt(dt.INVALID_ARGUMENT,`${r} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=GV(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Lt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Lt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Lt(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class CC{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Lt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Lt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new HT;switch(e.type){case"firstParty":return new zT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=jV.get(t);e&&(jt("ComponentProvider","Removing Datastore"),jV.delete(t),e.terminate())}(this),Promise.resolve()}}class Ai{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ai(this.firestore,t,this._key)}}class bo{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new bo(this.firestore,t,this._query)}}class du extends bo{constructor(t,e,n){super(t,e,Lo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ai(this.firestore,null,new Zt(t))}withConverter(t){return new du(this.firestore,t,this._path)}}function D$(r,t,...e){if(r=(0,sr.m9)(r),$2("collection","path",t),r instanceof CC){const n=_r.fromString(t,...e);return UV(n),new du(r,null,n)}{if(!(r instanceof Ai||r instanceof du))throw new Lt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(_r.fromString(t,...e));return UV(n),new du(r.firestore,null,n)}}function $V(r,t,...e){if(r=(0,sr.m9)(r),1===arguments.length&&(t=Zd.A()),$2("doc","path",t),r instanceof CC){const n=_r.fromString(t,...e);return HV(n),new Ai(r,null,new Zt(n))}{if(!(r instanceof Ai||r instanceof du))throw new Lt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(_r.fromString(t,...e));return HV(n),new Ai(r.firestore,r instanceof du?r.converter:null,new Zt(n))}}class T${constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Gk(this,"async_queue_retry"),this.Xc=()=>{const e=$x();e&&jt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=$x();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=$x();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new _i;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,yt.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Ia(e))throw e;jt("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(n=>{throw this.Wc=n,this.Hc=!1,li("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(n)),n}).then(n=>(this.Hc=!1,n))));return this.Gc=e,e}enqueueAfterDelay(t,e,n){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const i=s2.createAndSchedule(this,t,e,n,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&fn()}verifyOperationInProgress(){}sa(){var t=this;return(0,yt.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}class Kr extends CC{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new T$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||YV(this),this._firestoreClient.terminate()}}function R$(r,t){const e="object"==typeof r?r:(0,ts.Mq)(),n="string"==typeof r?r:t||"(default)",i=(0,ts.qX)(e,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=(0,sr.P0)("firestore");o&&function E$(r,t,e,n={}){var i;const o=(r=wr(r,CC))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let l,v;if("string"==typeof n.mockUserToken)l=n.mockUserToken,v=Bi.MOCK_USER;else{l=(0,sr.Sg)(n.mockUserToken,null===(i=r._app)||void 0===i?void 0:i.options.projectId);const D=n.mockUserToken.sub||n.mockUserToken.user_id;if(!D)throw new Lt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Bi(D)}r._authCredentials=new UT(new xw(l,v))}}(i,...o)}return i}function Gi(r){return r._firestoreClient||YV(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function YV(r){var t,e,n;const i=r._freezeSettings(),o=(l=(null===(t=r._app)||void 0===t?void 0:t.options.appId)||"",new ZP(r._databaseId,l,r._persistenceKey,(D=i).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,GV(D.experimentalLongPollingOptions),D.useFetchStreams));var l,D;r._firestoreClient=new p$(r._authCredentials,r._appCheckCredentials,r._queue,o),(null===(e=i.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(n=i.cache)||void 0===n?void 0:n._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class dm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new dm(Ri.fromBase64String(t))}catch(e){throw new Lt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new dm(Ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Wy{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Lt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ui(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Y2{constructor(t){this._methodName=t}}class K2{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Lt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Lt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wn(this._lat,t._lat)||Wn(this._long,t._long)}}const O$=/^__.*__$/;class M${constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new wl(t,this.data,this.fieldMask,e,this.fieldTransforms):new lh(t,this.data,e,this.fieldTransforms)}}class QV{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new wl(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function XV(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn()}}class tR{constructor(t,e,n,i,o,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new tR(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.aa({path:n,la:!1});return i.fa(t),i}da(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.aa({path:n,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return rR(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(XV(this.ca)&&O$.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class I${constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||_C(t)}ya(t,e,n,i=!1){return new tR({ca:t,methodName:e,ga:n,path:ui.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $y(r){const t=r._freezeSettings(),e=_C(r._databaseId);return new I$(r._databaseId,!!t.ignoreUndefinedProperties,e)}function Z2(r,t,e,n,i,o={}){const s=r.ya(o.merge||o.mergeFields?2:0,t,e,i);X2("Data must be an object, but it was:",s,n);const l=rB(n,s);let v,D;if(o.merge)v=new vo(s.fieldMask),D=s.fieldTransforms;else if(o.mergeFields){const F=[];for(const z of o.mergeFields){const re=DC(t,z,e);if(!s.contains(re))throw new Lt(dt.INVALID_ARGUMENT,`Field '${re}' is specified in your field mask but missing from your input data.`);oB(F,re)||F.push(re)}v=new vo(F),D=s.fieldTransforms.filter(z=>v.covers(z.field))}else v=null,D=s.fieldTransforms;return new M$(new Ji(l),v,D)}class EC extends Y2{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof EC}}function hm(r,t){if(iB(r=(0,sr.m9)(r)))return X2("Unsupported field value:",t,r),rB(r,t);if(r instanceof Y2)return function(e,n){if(!XV(n.ca))throw n._a(`${e._methodName}() can only be used with update() and set()`);if(!n.path)throw n._a(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(n);i&&n.fieldTransforms.push(i)}(r,t),null;if(void 0===r&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,n){const i=[];let o=0;for(const s of e){let l=hm(s,n.wa(o));null==l&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(r,t)}return function(e,n){if(null===(e=(0,sr.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wx(n.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=qr.fromDate(e);return{timestampValue:Y(n.serializer,i)}}if(e instanceof qr){const i=new qr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Y(n.serializer,i)}}if(e instanceof K2)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dm)return{bytesValue:ie(n.serializer,e._byteString)};if(e instanceof Ai){const i=n.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw n._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ye(e.firestore._databaseId||n.databaseId,e._key.path)}}throw n._a(`Unsupported field value: ${eR(e)}`)}(r,t)}function rB(r,t){const e={};return KP(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):iu(r,(n,i)=>{const o=hm(i,t.ha(n));null!=o&&(e[n]=o)}),{mapValue:{fields:e}}}function iB(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof qr||r instanceof K2||r instanceof dm||r instanceof Ai||r instanceof Y2)}function X2(r,t,e){if(!iB(e)||"object"!=typeof(n=e)||null===n||Object.getPrototypeOf(n)!==Object.prototype&&null!==Object.getPrototypeOf(n)){const n=eR(e);throw t._a("an object"===n?r+" a custom object":r+" "+n)}var n}function DC(r,t,e){if((t=(0,sr.m9)(t))instanceof Wy)return t._internalPath;if("string"==typeof t)return nR(r,t);throw rR("Field path arguments must be of type string or ",r,!1,void 0,e)}const N$=new RegExp("[~\\*/\\[\\]]");function nR(r,t,e){if(t.search(N$)>=0)throw rR(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,e);try{return new Wy(...t.split("."))._internalPath}catch{throw rR(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,e)}}function rR(r,t,e,n,i){const o=n&&!n.isEmpty(),s=void 0!==i;let l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let v="";return(o||s)&&(v+=" (found",o&&(v+=` in field ${n}`),s&&(v+=` in document ${i}`),v+=")"),new Lt(dt.INVALID_ARGUMENT,l+r+v)}function oB(r,t){return r.some(e=>e.isEqual(t))}class J2{constructor(t,e,n,i,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new L$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(iR("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class L$ extends J2{data(){return super.data()}}function iR(r,t){return"string"==typeof t?nR(r,t):t instanceof Wy?t._internalPath:t._delegate._internalPath}class eF{}class aB extends eF{}function V$(r,t,...e){let n=[];t instanceof eF&&n.push(t),n=n.concat(e),function(i){const o=i.filter(l=>l instanceof qy).length,s=i.filter(l=>l instanceof TC).length;if(o>1||o>0&&s>0)throw new Lt(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class TC extends aB{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new TC(t,e,n)}_apply(t){const e=this._parse(t);return dB(t._query,e),new bo(t.firestore,t.converter,gy(t._query,e))}_parse(t){const e=$y(t.firestore);return function(i,o,s,l,v,D,F){let z;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Lt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){cB(F,D);const re=[];for(const ae of F)re.push(uB(l,i,ae));z={arrayValue:{values:re}}}else z=uB(l,i,F)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||cB(F,D),z=function nB(r,t,e,n=!1){return hm(e,r.ya(n?4:3,t))}(s,"where",F,"in"===D||"not-in"===D);return dr.create(v,D,z)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function B$(r,t,e){const n=t,i=iR("where",r);return TC._create(i,n,e)}class qy extends eF{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new qy(t,e)}_parse(t){const e=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return 1===e.length?e[0]:Fr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(n,i){let o=n;const s=i.getFlattenedFilters();for(const l of s)dB(o,l),o=gy(o,l)}(t._query,e),new bo(t.firestore,t.converter,gy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class tF extends aB{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new tF(t,e)}_apply(t){const e=function(n,i,o){if(null!==n.startAt)throw new Lt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==n.endAt)throw new Lt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const s=new Qp(i,o);return function(l,v){if(null===mx(l)){const D=my(l);null!==D&&hB(0,D,v.field)}}(n,s),s}(t._query,this._field,this._direction);return new bo(t.firestore,t.converter,function(n,i){const o=n.explicitOrderBy.concat([i]);return new Fa(n.path,n.collectionGroup,o,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}(t._query,e))}}function G$(r,t="asc"){const e=t,n=iR("orderBy",r);return tF._create(n,e)}function uB(r,t,e){if("string"==typeof(e=(0,sr.m9)(e))){if(""===e)throw new Lt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qw(t)&&-1!==e.indexOf("/"))throw new Lt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const n=t.path.child(_r.fromString(e));if(!Zt.isDocumentKey(n))throw new Lt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return rh(r,new Zt(n))}if(e instanceof Ai)return rh(r,e._key);throw new Lt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eR(e)}.`)}function cB(r,t){if(!Array.isArray(r)||0===r.length)throw new Lt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function dB(r,t){if(t.isInequality()){const n=my(r),i=t.field;if(null!==n&&!n.isEqual(i))throw new Lt(dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const o=mx(r);null!==o&&hB(0,i,o)}const e=function(n,i){for(const o of n)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(r.filters,function(n){switch(n){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Lt(dt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function hB(r,t,e){if(!e.isEqual(t))throw new Lt(dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}function nF(r,t,e){let n;return n=r?e&&(e.merge||e.mergeFields)?r.toFirestore(t,e):r.toFirestore(t):t,n}class fm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yy extends J2{constructor(t,e,n,i,o,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(iR("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class lR extends Yy{data(t={}){return super.data(t)}}class Ky{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new fm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new lR(this._firestore,this._userDataWriter,n.key,n,new fm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Lt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(n,i){if(n._snapshot.oldDocs.isEmpty()){let o=0;return n._snapshot.docChanges.map(s=>({type:"added",doc:new lR(n._firestore,n._userDataWriter,s.doc.key,s.doc,new fm(n._snapshot.mutatedKeys.has(s.doc.key),n._snapshot.fromCache),n.query.converter),oldIndex:-1,newIndex:o++}))}{let o=n._snapshot.oldDocs;return n._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const l=new lR(n._firestore,n._userDataWriter,s.doc.key,s.doc,new fm(n._snapshot.mutatedKeys.has(s.doc.key),n._snapshot.fromCache),n.query.converter);let v=-1,D=-1;return 0!==s.type&&(v=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),D=o.indexOf(s.doc.key)),{type:U$(s.type),doc:l,oldIndex:v,newIndex:D}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function U$(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn()}}class ph extends class j${convertValue(t,e="none"){switch(Sc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ka(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw fn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const n={};return iu(t,(i,o)=>{n[i]=this.convertValue(o,e)}),n}convertGeoPoint(t){return new K2(Yr(t.latitude),Yr(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Yp(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Kp(t));default:return null}}convertTimestamp(t){const e=ou(t);return new qr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=_r.fromString(t);En(D8(n));const i=new nh(n.get(1),n.get(3)),o=new Zt(n.popFirst(5));return i.isEqual(e)||li(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new dm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}function uR(r){r=wr(r,bo);const t=wr(r.firestore,Kr),e=Gi(t),n=new ph(t);return function sB(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Lt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query),BV(e,r._query).then(i=>new Ky(t,n,r,i))}function z$(r,t,e){r=wr(r,Ai);const n=wr(r.firestore,Kr),i=nF(r.converter,t,e);return xC(n,[Z2($y(n),"setDoc",r._key,i,null!==r.converter,e).toMutation(r._key,jr.none())])}function W$(r,t,e,...n){r=wr(r,Ai);const i=wr(r.firestore,Kr),o=$y(i);let s;return s="string"==typeof(t=(0,sr.m9)(t))||t instanceof Wy?function tB(r,t,e,n,i,o){const s=r.ya(1,t,e),l=[DC(t,n,e)],v=[i];if(o.length%2!=0)throw new Lt(dt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let re=0;re<o.length;re+=2)l.push(DC(t,o[re])),v.push(o[re+1]);const D=[],F=Ji.empty();for(let re=l.length-1;re>=0;--re)if(!oB(D,l[re])){const ae=l[re];let fe=v[re];fe=(0,sr.m9)(fe);const ge=s.da(ae);if(fe instanceof EC)D.push(ae);else{const we=hm(fe,ge);null!=we&&(D.push(ae),F.set(ae,we))}}const z=new vo(D);return new QV(F,z,s.fieldTransforms)}(o,"updateDoc",r._key,t,e,n):function eB(r,t,e,n){const i=r.ya(1,t,e);X2("Data must be an object, but it was:",i,n);const o=[],s=Ji.empty();iu(n,(v,D)=>{const F=nR(t,v,e);D=(0,sr.m9)(D);const z=i.da(F);if(D instanceof EC)o.push(F);else{const re=hm(D,z);null!=re&&(o.push(F),s.set(F,re))}});const l=new vo(o);return new QV(s,l,i.fieldTransforms)}(o,"updateDoc",r._key,t),xC(i,[s.toMutation(r._key,jr.exists(!0))])}function $$(r){return xC(wr(r.firestore,Kr),[new Pc(r._key,jr.none())])}function pB(r,t){const e=wr(r.firestore,Kr),n=$V(r),i=nF(r.converter,t);return xC(e,[Z2($y(r.firestore),"addDoc",n._key,i,null!==r.converter,{}).toMutation(n._key,jr.exists(!1))]).then(()=>n)}function xC(r,t){return function(e,n){const i=new _i;return e.asyncQueue.enqueueAndForget((0,yt.Z)(function*(){return function YW(r,t,e){return v2.apply(this,arguments)}(yield function z2(r){return Xx(r).then(t=>t.syncEngine)}(e),n,i)})),i.promise}(Gi(r),t)}!function(r,t=!0){Kd=ts.Jn,(0,ts.Xd)(new k0.wA("firestore",(e,{instanceIdentifier:n,options:i})=>{const o=e.getProvider("app").getImmediate(),s=new Kr(new kP(e.getProvider("auth-internal")),new FP(e.getProvider("app-check-internal")),function(l,v){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Lt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(l.options.projectId,v)}(o,n),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),(0,ts.KN)(PP,"3.13.0",r),(0,ts.KN)(PP,"3.13.0","esm2017")}();var di=Oe(4027),pm=Oe(259);class RC{constructor(t){return t}}class gB{constructor(){return(0,pm.C6)()}}const iF=new a.OlP("angularfire2._apps"),oq={provide:RC,useFactory:function iq(r){return r&&1===r.length?r[0]:new RC((0,pm.Mq)())},deps:[[new a.FiY,iF]]},sq={provide:gB,deps:[[new a.FiY,iF]]};function aq(r){return t=>{const e=(0,di.KL)(r,t);return new RC(e)}}let lq=(()=>{class r{constructor(e){(0,pm.KN)("angularfire",di.q4.full,"core"),(0,pm.KN)("angularfire",di.q4.full,"app"),(0,pm.KN)("angular",a.q4F.full,e.toString())}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.Lbi))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[oq,sq]}),r})();function uq(r){return{ngModule:lq,providers:[{provide:iF,useFactory:aq(r),multi:!0,deps:[a.R0b,di.HU]}]}}const cq=(0,di.u3)(pm.ZF,!0);var vB=Oe(7582);const dq=function yB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_B=new sr.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dR=new xa.Yd("@firebase/auth");function hR(r,...t){dR.logLevel<=xa.in.ERROR&&dR.error(`Auth (${ts.Jn}): ${r}`,...t)}function ws(r,...t){throw oF(r,...t)}function hu(r,...t){return oF(r,...t)}function bB(r,t,e){const n=Object.assign(Object.assign({},dq()),{[t]:e});return new sr.LL("auth","Firebase",n).create(t,{appName:r.name})}function oF(r,...t){if("string"!=typeof r){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return _B.create(r,...t)}function en(r,t,...e){if(!r)throw oF(t,...e)}function fu(r){const t="INTERNAL ASSERTION FAILED: "+r;throw hR(t),new Error(t)}function mh(r,t){r||fu(t)}function wB(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.protocol)||null}class OC{constructor(t,e){this.shortDelay=t,this.longDelay=e,mh(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,sr.uI)()||(0,sr.b$)()}get(){return function fq(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sF(){return"http:"===wB()||"https:"===wB()}()||(0,sr.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class CB{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void fu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void fu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void fu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gq=new OC(3e4,6e4);function hi(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}function wi(r,t,e,n){return lF.apply(this,arguments)}function lF(){return lF=(0,yt.Z)(function*(r,t,e,n,i={}){return SB(r,i,(0,yt.Z)(function*(){let o={},s={};n&&("GET"===t?s=n:o={body:JSON.stringify(n)});const l=(0,sr.xO)(Object.assign({key:r.config.apiKey},s)).slice(1),v=yield r._getAdditionalHeaders();return v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode),CB.fetch()(EB(r,r.config.apiHost,e,l),Object.assign({method:t,headers:v,referrerPolicy:"no-referrer"},o))}))}),lF.apply(this,arguments)}function SB(r,t,e){return uF.apply(this,arguments)}function uF(){return uF=(0,yt.Z)(function*(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},mq),t);try{const i=new vq(r),o=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw MC(r,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[v,D]=l.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===v)throw MC(r,"credential-already-in-use",s);if("EMAIL_EXISTS"===v)throw MC(r,"email-already-in-use",s);if("USER_DISABLED"===v)throw MC(r,"user-disabled",s);const F=n[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(D)throw bB(r,F,D);ws(r,F)}}catch(i){if(i instanceof sr.ZR)throw i;ws(r,"network-request-failed",{message:String(i)})}}),uF.apply(this,arguments)}function EB(r,t,e,n){const i=`${t}${e}?${n}`;return r.config.emulator?function aF(r,t){mh(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(r.config,i):`${r.config.apiScheme}://${i}`}class vq{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(hu(this.auth,"network-request-failed")),gq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function MC(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const i=hu(r,t,n);return i.customData._tokenResponse=e,i}function dF(){return dF=(0,yt.Z)(function*(r,t){return wi(r,"POST","/v1/accounts:delete",t)}),dF.apply(this,arguments)}function bq(r,t){return fF.apply(this,arguments)}function fF(){return fF=(0,yt.Z)(function*(r,t){return wi(r,"POST","/v1/accounts:lookup",t)}),fF.apply(this,arguments)}function IC(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function pF(){return pF=(0,yt.Z)(function*(r,t=!1){const e=(0,sr.m9)(r),n=yield e.getIdToken(t),i=fR(n);en(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:n,authTime:IC(mF(i.auth_time)),issuedAtTime:IC(mF(i.iat)),expirationTime:IC(mF(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}),pF.apply(this,arguments)}function mF(r){return 1e3*Number(r)}function fR(r){const[t,e,n]=r.split(".");if(void 0===t||void 0===e||void 0===n)return hR("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,sr.tV)(e);return i?JSON.parse(i):(hR("Failed to decode base64 JWT payload"),null)}catch(i){return hR("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Vc(r,t){return gF.apply(this,arguments)}function gF(){return gF=(0,yt.Z)(function*(r,t,e=!1){if(e)return t;try{return yield t}catch(n){throw n instanceof sr.ZR&&Sq(n)&&r.auth.currentUser===r&&(yield r.auth.signOut()),n}}),gF.apply(this,arguments)}function Sq({code:r}){return"auth/user-disabled"===r||"auth/user-token-expired"===r}class Eq{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}{this.errorBackoff=3e4;const i=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,yt.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,yt.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class DB{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=IC(this.lastLoginAt),this.creationTime=IC(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function PC(r){return vF.apply(this,arguments)}function vF(){return vF=(0,yt.Z)(function*(r){var t;const e=r.auth,n=yield r.getIdToken(),i=yield Vc(r,bq(e,{idToken:n}));en(i?.users.length,e,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?xq(o.providerUserInfo):[],l=Tq(r.providerData,s),F=!!r.isAnonymous&&!(r.email&&o.passwordHash||l?.length),z={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new DB(o.createdAt,o.lastLoginAt),isAnonymous:F};Object.assign(r,z)}),vF.apply(this,arguments)}function yF(){return yF=(0,yt.Z)(function*(r){const t=(0,sr.m9)(r);yield PC(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}),yF.apply(this,arguments)}function Tq(r,t){return[...r.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function xq(r){return r.map(t=>{var{providerId:e}=t,n=(0,vB._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function _F(){return _F=(0,yt.Z)(function*(r,t){const e=yield SB(r,{},(0,yt.Z)(function*(){const n=(0,sr.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,s=EB(r,i,"/v1/token",`key=${o}`),l=yield r._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",CB.fetch()(s,{method:"POST",headers:l,body:n})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}),_F.apply(this,arguments)}class kC{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){en(t.idToken,"internal-error"),en(typeof t.idToken<"u","internal-error"),en(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Cq(r){const t=fR(r);return en(t,"internal-error"),en(typeof t.exp<"u","internal-error"),en(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,yt.Z)(function*(){return en(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,yt.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Rq(r,t){return _F.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:o}=e,s=new kC;return n&&(en("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(en("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(en("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new kC,this.toJSON())}_performRefresh(){return fu("not implemented")}}function gh(r,t){en("string"==typeof r||typeof r>"u","internal-error",{appName:t})}class mm{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,o=(0,vB._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new DB(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,yt.Z)(function*(){const n=yield Vc(e,e.stsTokenManager.getToken(e.auth,t));return en(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function wq(r){return pF.apply(this,arguments)}(this,t)}reload(){return function Dq(r){return yF.apply(this,arguments)}(this)}_assign(t){this!==t&&(en(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new mm(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){en(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,yt.Z)(function*(){let i=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield PC(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,yt.Z)(function*(){const e=yield t.getIdToken();return yield Vc(t,function yq(r,t){return dF.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,o,s,l,v,D,F;const z=null!==(n=e.displayName)&&void 0!==n?n:void 0,re=null!==(i=e.email)&&void 0!==i?i:void 0,ae=null!==(o=e.phoneNumber)&&void 0!==o?o:void 0,fe=null!==(s=e.photoURL)&&void 0!==s?s:void 0,ge=null!==(l=e.tenantId)&&void 0!==l?l:void 0,we=null!==(v=e._redirectEventId)&&void 0!==v?v:void 0,Te=null!==(D=e.createdAt)&&void 0!==D?D:void 0,Ie=null!==(F=e.lastLoginAt)&&void 0!==F?F:void 0,{uid:Ve,emailVerified:et,isAnonymous:gt,providerData:Dt,stsTokenManager:Bt}=e;en(Ve&&Bt,t,"internal-error");const Mt=kC.fromJSON(this.name,Bt);en("string"==typeof Ve,t,"internal-error"),gh(z,t.name),gh(re,t.name),en("boolean"==typeof et,t,"internal-error"),en("boolean"==typeof gt,t,"internal-error"),gh(ae,t.name),gh(fe,t.name),gh(ge,t.name),gh(we,t.name),gh(Te,t.name),gh(Ie,t.name);const qt=new mm({uid:Ve,auth:t,email:re,emailVerified:et,displayName:z,isAnonymous:gt,photoURL:fe,phoneNumber:ae,tenantId:ge,stsTokenManager:Mt,createdAt:Te,lastLoginAt:Ie});return Dt&&Array.isArray(Dt)&&(qt.providerData=Dt.map(an=>Object.assign({},an))),we&&(qt._redirectEventId=we),qt}static _fromIdTokenResponse(t,e,n=!1){return(0,yt.Z)(function*(){const i=new kC;i.updateFromServerResponse(e);const o=new mm({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return yield PC(o),o})()}}const TB=new Map;function Bc(r){mh(r instanceof Function,"Expected a class definition");let t=TB.get(r);return t?(mh(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,TB.set(r,t),t)}const xB=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,yt.Z)(function*(){return!0})()}_set(e,n){var i=this;return(0,yt.Z)(function*(){i.storage[e]=n})()}_get(e){var n=this;return(0,yt.Z)(function*(){const i=n.storage[e];return void 0===i?null:i})()}_remove(e){var n=this;return(0,yt.Z)(function*(){delete n.storage[e]})()}_addListener(e,n){}_removeListener(e,n){}}return r.type="NONE",r})();function pR(r,t,e){return`firebase:${r}:${t}:${e}`}class Qy{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=pR(this.userKey,i.apiKey,o),this.fullPersistenceKey=pR("persistence",i.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,yt.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?mm._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,yt.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,yt.Z)(function*(){if(!e.length)return new Qy(Bc(xB),t,n);const i=(yield Promise.all(e.map(function(){var D=(0,yt.Z)(function*(F){if(yield F._isAvailable())return F});return function(F){return D.apply(this,arguments)}}()))).filter(D=>D);let o=i[0]||Bc(xB);const s=pR(n,t.config.apiKey,t.name);let l=null;for(const D of e)try{const F=yield D._get(s);if(F){const z=mm._fromJSON(t,F);D!==o&&(l=z),o=D;break}}catch{}const v=i.filter(D=>D._shouldAllowMigration);return o._shouldAllowMigration&&v.length?(o=v[0],l&&(yield o._set(s,l.toJSON())),yield Promise.all(e.map(function(){var D=(0,yt.Z)(function*(F){if(F!==o)try{yield F._remove(s)}catch{}});return function(F){return D.apply(this,arguments)}}())),new Qy(o,t,n)):new Qy(o,t,n)})()}}function RB(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function MB(r=(0,sr.z$)()){return/iemobile/i.test(r)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function AB(r=(0,sr.z$)()){return/firefox\//i.test(r)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function PB(r=(0,sr.z$)()){return/blackberry/i.test(r)}(t))return"Blackberry";if(function kB(r=(0,sr.z$)()){return/webos/i.test(r)}(t))return"Webos";if(function bF(r=(0,sr.z$)()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function OB(r=(0,sr.z$)()){return/crios\//i.test(r)}(t))&&!t.includes("edge/"))return"Chrome";if(function IB(r=(0,sr.z$)()){return/android/i.test(r)}(t))return"Android";{const n=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===n?.length)return n[1]}return"Other"}function FB(r,t=[]){let e;switch(r){case"Browser":e=RB((0,sr.z$)());break;case"Worker":e=`${RB((0,sr.z$)())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ts.Jn}/${n}`}function NB(r,t){return CF.apply(this,arguments)}function CF(){return CF=(0,yt.Z)(function*(r,t){return wi(r,"GET","/v2/recaptchaConfig",hi(r,t))}),CF.apply(this,arguments)}function VB(r){return void 0!==r&&void 0!==r.enterprise}class BB{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}class jB{constructor(t){this.type="recaptcha-enterprise",this.auth=lo(t)}verify(t="verify",e=!1){var n=this;return(0,yt.Z)(function*(){function o(){return o=(0,yt.Z)(function*(l){if(!e){if(null==l.tenantId&&null!=l._agentRecaptchaConfig)return l._agentRecaptchaConfig.siteKey;if(null!=l.tenantId&&void 0!==l._tenantRecaptchaConfigs[l.tenantId])return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(function(){var v=(0,yt.Z)(function*(D,F){NB(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(z=>{if(void 0!==z.recaptchaKey){const re=new BB(z);return null==l.tenantId?l._agentRecaptchaConfig=re:l._tenantRecaptchaConfigs[l.tenantId]=re,D(re.siteKey)}F(new Error("recaptcha Enterprise site key undefined"))}).catch(z=>{F(z)})});return function(D,F){return v.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(l,v,D){const F=window.grecaptcha;VB(F)?F.enterprise.ready(()=>{F.enterprise.execute(l,{action:t}).then(z=>{v(z)}).catch(()=>{v("NO_RECAPTCHA")})}):D(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,v)=>{(function i(l){return o.apply(this,arguments)})(n.auth).then(D=>{if(!e&&VB(window.grecaptcha))s(D,l,v);else{if(typeof window>"u")return void v(new Error("RecaptchaVerifier is only supported in browser"));(function SF(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=i=>{const o=hu("internal-error");o.customData=i,e(o)},n.type="text/javascript",n.charset="UTF-8",function Iq(){var r,t;return null!==(t=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==t?t:document}().appendChild(n)})})("https://www.google.com/recaptcha/enterprise.js?render="+D).then(()=>{s(D,l,v)}).catch(F=>{v(F)})}}).catch(D=>{v(D)})})})()}}class Nq{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=o=>new Promise((s,l)=>{try{s(t(o))}catch(v){l(v)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,yt.Z)(function*(){if(e.auth.currentUser===t)return;const n=[];try{for(const i of e.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Lq{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HB(this),this.idTokenSubscription=new HB(this),this.beforeStateQueue=new Nq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_B,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=Bc(e)),this._initializationPromise=this.queue((0,yt.Z)(function*(){var i,o;if(!n._deleted&&(n.persistenceManager=yield Qy.create(n,t),!n._deleted)){if(null!==(i=n._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch{}yield n.initializeCurrentUser(e),n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,yt.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return(0,yt.Z)(function*(){var n;const i=yield e.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const l=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,v=o?._redirectEventId,D=yield e.tryRedirectSignIn(t);(!l||l===v)&&D?.user&&(o=D.user,s=!0)}if(!o)return e.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield e.beforeStateQueue.runMiddleware(o)}catch(l){o=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(l))}return o?e.reloadAndSetCurrentUserOrClear(o):e.directlySetCurrentUser(null)}return en(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===o._redirectEventId?e.directlySetCurrentUser(o):e.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var e=this;return(0,yt.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,yt.Z)(function*(){try{yield PC(t)}catch(n){if("auth/network-request-failed"!==n?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function pq(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}()}_delete(){var t=this;return(0,yt.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,yt.Z)(function*(){const n=t?(0,sr.m9)(t):null;return n&&en(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t,e=!1){var n=this;return(0,yt.Z)(function*(){if(!n._deleted)return t&&en(n.tenantId===t.tenantId,n,"tenant-id-mismatch"),e||(yield n.beforeStateQueue.runMiddleware(t)),n.queue((0,yt.Z)(function*(){yield n.directlySetCurrentUser(t),n.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,yt.Z)(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue((0,yt.Z)(function*(){yield e.assertedPersistence.setPersistence(Bc(t))}))}initializeRecaptchaConfig(){var t=this;return(0,yt.Z)(function*(){const e=yield NB(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new BB(e);null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.emailPasswordEnabled&&new jB(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new sr.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,yt.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,yt.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&Bc(t)||e._popupRedirectResolver;en(n,e,"argument-error"),e.redirectPersistenceManager=yield Qy.create(e,[Bc(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,yt.Z)(function*(){var n,i;return e._isInitialized&&(yield e.queue((0,yt.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,yt.Z)(function*(){if(t===e.currentUser)return e.queue((0,yt.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const o="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return en(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof e?t.addObserver(e,n,i):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,yt.Z)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return en(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,yt.Z)(function*(){var e;const n={"X-Client-Version":t.clientVersion};t.app.options.appId&&(n["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n})()}_getAppCheckToken(){var t=this;return(0,yt.Z)(function*(){var e;const n=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return n?.error&&function hq(r,...t){dR.logLevel<=xa.in.WARN&&dR.warn(`Auth (${ts.Jn}): ${r}`,...t)}(`Error while retrieving App Check token: ${n.error}`),n?.token})()}}function lo(r){return(0,sr.m9)(r)}class HB{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,sr.ne)(e=>this.observer=e)}get next(){return en(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function GB(r){return`__${r}${Math.floor(1e6*Math.random())}`})("rcb"),new OC(3e4,6e4),new OC(2e3,1e4),new OC(3e4,6e4),new OC(5e3,15e3),encodeURIComponent("fac");var vG="@firebase/auth";class AK{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,yt.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);!e||(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){en(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,sr.Pz)("authIdTokenMaxAge"),function MK(r){(0,ts.Xd)(new k0.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=n.options;en(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const v={apiKey:s,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FB(r)},D=new Lq(n,i,o,v);return function Bq(r,t){const e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(Bc);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t?.popupRedirectResolver)}(D,e),D},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,ts.Xd)(new k0.wA("auth-internal",t=>{const e=lo(t.getProvider("auth").getImmediate());return new AK(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ts.KN)(vG,"0.23.2",function OK(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,ts.KN)(vG,"0.23.2","esm2017")}("Browser");class CG{constructor(){return(0,di.vb)("auth")}}class xR{constructor(t){return t}}const SG="firestore";class EG{constructor(){return(0,di.vb)(SG)}}const cL=new a.OlP("angularfire2.firestore-instances");function BK(r){return t=>{const e=(0,di.KL)(r,t);return new xR(e)}}const GK={provide:EG,deps:[[new a.FiY,cL]]},jK={provide:xR,useFactory:function VK(r,t){const e=(0,di.JM)(SG,r,t);return new xR(e)},deps:[[new a.FiY,cL],RC]};let HK=(()=>{class r{constructor(){(0,pm.KN)("angularfire",di.q4.full,"fst")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[jK,GK]}),r})();function UK(r){return{ngModule:HK,providers:[{provide:cL,useFactory:BK(r),multi:!0,deps:[a.R0b,di.HU,gB,[new a.FiY,CG]]}]}}const dL=(0,di.u3)(pB,!0),_m=(0,di.u3)(D$,!0),RR=(0,di.u3)($$,!0),pu=(0,di.u3)($V,!0),BC=(0,di.u3)(uR,!0),zK=(0,di.u3)(R$,!0),WK=(0,di.u3)(G$,!0),Jy=(0,di.u3)(V$,!0),$K=(0,di.u3)(z$,!0),GC=(0,di.u3)(W$,!0),Go=(0,di.u3)(B$,!0);let ut=(()=>{class r{}return r.AGENCY_COLLECTION_NAME="AgencyCollection",r.USER_COLLECTION_NAME="UserCollection",r.ROUTE_COLLECTION_NAME="RouteCollection",r.STORE_COLLECTION_NAME="StoreCollection",r.BILL_COLLECTION_NAME="BillCollection",r.RECOVERY_COLLECTION_NAME="RecoveryCollection",r.PAYMENT_MODE_COLLECTION_NAME="PaymentModeCollection",r.LOGGING_COLLECTION_NAME="LoggingCollection",r.DEFAULT_DATE_TIME_FORMAT="MM/dd/YYYY",r.DATE_TIME_FORMAT="dd/MM/yyyy HH:mm:ss",r.DATE_TIME_FORMAT_PLAIN="yyyyMMddHHmmss",r.SAVE_ACTION="Saved",r.UPDAE_ACTION="Updated",r.DELETE_ACTION="Deleted",r.SEARCH_ACTION="Search",r.YES_ACTION="Yes",r.NO_ACTION="No",r.ERROR_ACTION="Error",r.BILL_ADDED_SUCCESS_MSG="Bill added Successfully",r.STORE_ADDED_SUCCESS_MSG="Store added Successfully",r.ROUTE_ADDED_SUCCESS_MSG="Route added Successfully",r.RECOVERY_ADDED_SUCCESS_MSG="Recovery details added Successfully",r.BILL_DELETED_SUCCESS_MSG="Bill deleted successfully...",r.ROUTE_DELETED_SUCCESS_MSG="Route deleted Successfully",r.STORE_DELETED_SUCCESS_MSG="Store deleted Successfully",r.RECOVERY_DELETED_SUCCESS_MSG="Recovery deleted Successfully",r.ROUTE_NOT_FOUND_MSG="No Route details found...",r.STORE_NOT_FOUND_MSG="No Store details found...",r.BILL_NOT_FOUND_MSG="Bill details not found...",r.ROUTE_UPDATED_SUCCESS_MSG="Route updated Successfully",r.STORE_UPDATED_SUCCESS_MSG="Store updated Successfully",r.BILL_UPDATED_SUCCESS_MSG="Bill details updated Successfully",r.STORE_UPDATED_FAILED_MSG="Store updated failed...",r.STORE_FORM_INVALID_MSG="Store form is invalid...",r.PAYMENT_MODES_NOT_FOUND_MSG="No payment modes found...",r.ROUTE="Route",r.STORE="Store",r.BILL="Bill",r.RECOVERY="Recovery",r.ADD_STORE_VALIDATION="Store with entered mobile number already exist.",r.ADD_BILL_VALIDATION="Bill number already exist.",r.ADD_BILL_PENDING_AMT_VALIDATION="Pending amount can not be less than 0.",r.ADD_RECOVERY_BILL_AND_PENDING_AMT_VALIDATION="Bill amount and Pending amount can not be same.",r.REPORT_FONT_NAME="Times New Roman",r.SUBMIT_BTN_TEXT="Submit",r.ADD_BILL_BTN_TEXT="Add Bill",r.PLEASE_WAIT_BTN_TEXT="Please wait...",r.ROUTE_LOCAL_STORAGE_KEY="route",r.PAID_SEARCH_LOCAL_STORAGE_KEY="paidUnpaidSearch",r.STORE_SEARCH_LOCAL_STORAGE_KEY="storeSearch",r.FROM_DATE_SEARCH_LOCAL_STORAGE_KEY="fromDateSearch",r.TO_DATE_SEARCH_LOCAL_STORAGE_KEY="toDateSearch",r.BILL_SEARCH_LOCAL_STORAGE_KEY="billNumber",r})(),yh=(()=>{class r{constructor(e,n){this.firestore=e,this.fireStoreInstance=n,this.paymentModeCollectionInstance=_m(this.firestore,ut.PAYMENT_MODE_COLLECTION_NAME),this.recoveryCollectionInstance=_m(this.firestore,ut.RECOVERY_COLLECTION_NAME),this.billCollectionInstance=_m(this.firestore,ut.BILL_COLLECTION_NAME),this.userCollectionInstance=_m(this.firestore,ut.USER_COLLECTION_NAME),this.storeCollectionInstance=_m(this.firestore,ut.STORE_COLLECTION_NAME),this.routeCollectionInstance=_m(this.firestore,ut.ROUTE_COLLECTION_NAME),this.loggingCollectionInstance=_m(this.firestore,ut.LOGGING_COLLECTION_NAME)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(xR),a.LFG(EG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_h=(()=>{class r{constructor(e){this.firestoreService=e,this.userSubject=new ro(null),this._users=[]}ngOnInit(){}onLogin(e){var n=this;return(0,yt.Z)(function*(){let i=[];const o=[];o.push(Go("mobileNumber","==",e.mobileNumber)),o.push(Go("password","==",e.password));const s=Jy(n.firestoreService.userCollectionInstance,...o);return(yield BC(s)).forEach(v=>{console.log(v.data()),i.push({...v.data(),id:v.id}),n.userDetails=i[0],n.userSubject.next(i[0]),localStorage.setItem("userData",JSON.stringify(i[0]))}),console.log(JSON.stringify(i)),i})()}autoLogin(){const e=JSON.parse(localStorage.getItem("userData"));!e||e&&(this.userDetails=e,this.userSubject.next(e))}isAdmin(){return!(!this.userDetails||"admin"!=this.userDetails.role)}getuserDetails(){return this.userDetails}onLogout(){this.userDetails=null,localStorage.removeItem("userData"),this.userSubject.next(null)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),DG=(()=>{class r{constructor(e,n){this.firestore=e,this.authService=n,this.level=Cs.All,this.setlogLevel(Cs.All)}debug(e,n,...i){this.writeToLog(e,n,Cs.Debug,i)}info(e,n,...i){this.writeToLog(e,n,Cs.Info,i)}warn(e,n,...i){this.writeToLog(e,n,Cs.Warn,i)}error(e,n,...i){this.writeToLog(e,n,Cs.Error,i)}fatal(e,n,...i){this.writeToLog(e,n,Cs.Fatal,i)}log(e,n,...i){this.writeToLog(e,n,Cs.All,i)}setlogLevel(e){this.level=e}writeToLog(e,n,i,o){try{if(this.shouldLog(i)){let s={};s.LogDate=new Date,s.LogLevel=Cs[i],s.Message=e,n&&(s.RawData=n??""),o.length&&(s.OptionalParams=JSON.stringify(o).toString()),s.User=this.authService.userDetails.username,this.LogToFireBase(s),console.log(s)}}catch{}}shouldLog(e){let n=!1;return(e>=this.level&&e!==Cs.Off||this.level===Cs.All)&&(n=!0),n}LogToFireBase(e){pB(this.firestore.loggingCollectionInstance,{...e})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh),a.LFG(_h))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Cs=(()=>(function(r){r[r.All=0]="All",r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal",r[r.Off=6]="Off"}(Cs||(Cs={})),Cs))();let hL,jC=(()=>{class r{constructor(e,n){this.firestoreService=e,this.logService=n}getPaymentModes(){var e=this;return(0,yt.Z)(function*(){let n=[];return(yield uR(e.firestoreService.paymentModeCollectionInstance)).forEach(o=>{console.log(o.data()),n.push({...o.data(),id:o.id})}),console.log(JSON.stringify(n)),n})()}addRecoveryDetails(e){return this.logService.info("Add Recovery",e),dL(this.firestoreService.recoveryCollectionInstance,e)}getRecoveryDetails(e="",n="",i=""){var o=this;return(0,yt.Z)(function*(){let s=[];const l=[];console.log("start : "+n),console.log("end : "+i),e&&l.push(Go("billNumber","==",e)),n&&(l.push(Go("recoveryDate",">=",n)),l.push(Go("recoveryDate","<=",i||n)));const v=Jy(o.firestoreService.recoveryCollectionInstance,...l);return(yield uR(v)).forEach(F=>{console.log(F.data()),s.push({...F.data(),id:F.id})}),console.log(JSON.stringify(s)),s})()}deleteRecovery(e){this.logService.info("Delete Recovery",e);const n=pu(this.firestoreService.firestore,ut.RECOVERY_COLLECTION_NAME,e);return RR(n)}updateRecoveryBillAmount(e){return this.logService.info("Update Recovery Details",e),GC(pu(this.firestoreService.firestore,ut.RECOVERY_COLLECTION_NAME,e.id),{...e})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh),a.LFG(DG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qK=(()=>{class r{constructor(e){this.firestoreService=e}getSalesmanList(){var e=this;return(0,yt.Z)(function*(){let n=[];const i=Jy(e.firestoreService.userCollectionInstance);return(yield BC(i)).forEach(s=>{console.log(s.data()),n.push({...s.data(),id:s.id})}),n})()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),YK=(()=>{class r{constructor(e){this.firestoreService=e}getPaymentModeList(){var e=this;return(0,yt.Z)(function*(){let n=[];const i=Jy(e.firestoreService.paymentModeCollectionInstance);return(yield BC(i)).forEach(s=>{console.log(s.data()),n.push({...s.data(),id:s.id})}),n})()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();try{hL=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hL=!1}let e_,Hi=(()=>{class r{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function JO(r){return r===ug}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hL)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.Lbi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const TG=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xG(){if(e_)return e_;if("object"!=typeof document||!document)return e_=new Set(TG),e_;let r=document.createElement("input");return e_=new Set(TG.filter(t=>(r.setAttribute("type",t),r.type===t))),e_}let HC,AR,bm,fL;function UC(r){return function KK(){if(null==HC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>HC=!0}))}finally{HC=HC||!1}return HC}()?r:!!r.capture}function RG(){if(null==bm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bm=!1,bm;if("scrollBehavior"in document.documentElement.style)bm=!0;else{const r=Element.prototype.scrollTo;bm=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return bm}function zC(){if("object"!=typeof document||!document)return 0;if(null==AR){const r=document.createElement("div"),t=r.style;r.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",r.appendChild(e),document.body.appendChild(r),AR=0,0===r.scrollLeft&&(r.scrollLeft=1,AR=0===r.scrollLeft?1:2),r.remove()}return AR}function WC(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const t=r.shadowRoot.activeElement;if(t===r)break;r=t}return r}function bh(r){return r.composedPath?r.composedPath()[0]:r.target}function pL(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function as(r,...t){return t.length?t.some(e=>r[e]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var kR=Oe(4986);function FR(r,t=kR.z){return(0,Yi.e)((e,n)=>{let i=null,o=null,s=null;const l=()=>{if(i){i.unsubscribe(),i=null;const D=o;o=null,n.next(D)}};function v(){const D=s+r,F=t.now();if(F<D)return i=this.schedule(void 0,D-F),void n.add(i);l()}e.subscribe((0,gi.x)(n,D=>{o=D,s=t.now(),i||(i=t.schedule(v,r),n.add(i))},()=>{l(),n.complete()},void 0,()=>{o=i=null}))})}function OG(r){return Pr((t,e)=>r<=e)}function gL(r,t=ad.y){return r=r??sZ,(0,Yi.e)((e,n)=>{let i,o=!0;e.subscribe((0,gi.x)(n,s=>{const l=t(s);(o||!r(i,l))&&(o=!1,i=l,n.next(s))}))})}function sZ(r,t){return r===t}var MG=Oe(5032);function Cr(r){return(0,Yi.e)((t,e)=>{(0,ba.Xf)(r).subscribe((0,gi.x)(e,()=>e.complete(),MG.Z)),!e.closed&&t.subscribe(e)})}function er(r){return null!=r&&"false"!=`${r}`}function $C(r,t=0){return function aZ(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):t}function NR(r){return Array.isArray(r)?r:[r]}function Ui(r){return null==r?"":"string"==typeof r?r:`${r}px`}function jc(r){return r instanceof a.SBq?r.nativeElement:r}function IG(r,t=/\s+/){const e=[];if(null!=r){const n=Array.isArray(r)?r:`${r}`.split(t);for(const i of n){const o=`${i}`.trim();o&&e.push(o)}}return e}let PG=(()=>{class r{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),lZ=(()=>{class r{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=jc(e);return new Ko.y(i=>{const s=this._observeElement(n).subscribe(i);return()=>{s.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new dn.x,i=this._mutationObserverFactory.create(o=>n.next(o));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:i}=this._observedElements.get(e);n&&n.disconnect(),i.complete(),this._observedElements.delete(e)}}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(PG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),uZ=(()=>{class r{constructor(e,n,i){this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=er(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=$C(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(FR(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(lZ),a.Y36(a.SBq),a.Y36(a.R0b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),kG=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[PG]}),r})();class VG extends class LG{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new dn.x,this._typeaheadSubscription=ei.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new dn.x,this.change=new dn.x,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,yi.b)(e=>this._pressedLetters.push(e)),FR(t),Pr(()=>this._pressedLetters.length>0),(0,Dn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let i=1;i<n.length+1;i++){const o=(this._activeItemIndex+i)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||as(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t);this._activeItem=e[n]??null,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let vL=(()=>{class r{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function pZ(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function fZ(r){try{return r.frameElement}catch{return null}}(function CZ(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(e));if(n&&(-1===GG(n)||!this.isVisible(n)))return!1;let i=e.nodeName.toLowerCase(),o=GG(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function bZ(r){let t=r.nodeName.toLowerCase(),e="input"===t&&r.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function wZ(r){return!function gZ(r){return function yZ(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function mZ(r){let t=r.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(r)||function vZ(r){return function _Z(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||BG(r))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Hi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function BG(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let t=r.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function GG(r){if(!BG(r))return null;const t=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class SZ{constructor(t,e,n,i,o=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Or(1)).subscribe(t)}}let yL=(()=>{class r{constructor(e,n,i){this._checker=e,this._ngZone=n,this._document=i}create(e,n=!1){return new SZ(e,this._checker,this._ngZone,this._document,n)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(vL),a.LFG(a.R0b),a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),EZ=(()=>{class r{constructor(e,n,i){this._elementRef=e,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=er(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=er(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=WC(),this.focusTrap.focusInitialElementWhenReady()}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(yL),a.Y36(M))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[a.TTD]}),r})();function jG(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function HG(r){const t=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const DZ=new a.OlP("cdk-input-modality-detector-options"),TZ={ignoreKeys:[18,17,224,91,16]},r_=UC({passive:!0,capture:!0});let xZ=(()=>{class r{constructor(e,n,i,o){this._platform=e,this._mostRecentTarget=null,this._modality=new ro(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(l=>l===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bh(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(jG(s)?"keyboard":"mouse"),this._mostRecentTarget=bh(s))},this._onTouchstart=s=>{HG(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bh(s))},this._options={...TZ,...o},this.modalityDetected=this._modality.pipe(OG(1)),this.modalityChanged=this.modalityDetected.pipe(gL()),e.isBrowser&&n.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,r_),i.addEventListener("mousedown",this._onMousedown,r_),i.addEventListener("touchstart",this._onTouchstart,r_)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,r_),document.removeEventListener("mousedown",this._onMousedown,r_),document.removeEventListener("touchstart",this._onTouchstart,r_))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Hi),a.LFG(a.R0b),a.LFG(M),a.LFG(DZ,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const RZ=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function AZ(){return null}}),OZ=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let _L=(()=>{class r{constructor(e,n,i,o){this._ngZone=n,this._defaultOptions=o,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...n){const i=this._defaultOptions;let o,s;return 1===n.length&&"number"==typeof n[0]?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==s&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(RZ,8),a.LFG(a.R0b),a.LFG(M),a.LFG(OZ,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const MZ=new a.OlP("cdk-focus-monitor-default-options"),LR=UC({passive:!0,capture:!0});let i_=(()=>{class r{constructor(e,n,i,o,s){this._ngZone=e,this._platform=n,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new dn.x,this._rootNodeFocusAndBlurListener=l=>{const v=bh(l),D="focus"===l.type?this._onFocus:this._onBlur;for(let F=v;F;F=F.parentElement)D.call(this,l,F)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,n=!1){const i=jc(e);if(!this._platform.isBrowser||1!==i.nodeType)return gn(null);const o=function QK(r){if(function ZK(){if(null==fL){const r=typeof document<"u"?document.head:null;fL=!(!r||!r.createShadowRoot&&!r.attachShadow)}return fL}()){const t=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),s=this._elementInfo.get(i);if(s)return n&&(s.checkChildren=!0),s.subject;const l={checkChildren:n,subject:new dn.x,rootNode:o};return this._elementInfo.set(i,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){const n=jc(e),i=this._elementInfo.get(n);i&&(i.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(i))}focusVia(e,n,i){const o=jc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([l,v])=>this._originChanged(l,n,v)):(this._setOrigin(n),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const i=this._elementInfo.get(n),o=bh(e);!i||!i.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),i)}_onBlur(e,n){const i=this._elementInfo.get(n);!i||i.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(i.subject,null))}_emitOrigin(e,n){this._ngZone.run(()=>e.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,LR),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,LR)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Cr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const i=this._rootNodeFocusListenerCount.get(n);i>1?this._rootNodeFocusListenerCount.set(n,i-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,LR),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,LR),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,i){this._setClasses(e,n),this._emitOrigin(i.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((i,o)=>{(o===e||i.checkChildren&&o.contains(e))&&n.push([o,i])}),n}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.R0b),a.LFG(Hi),a.LFG(xZ),a.LFG(M,8),a.LFG(MZ,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),IZ=(()=>{class r{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new a.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>this.cdkFocusChange.emit(n))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(i_))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const zG="cdk-high-contrast-black-on-white",WG="cdk-high-contrast-white-on-black",bL="cdk-high-contrast-active";let $G=(()=>{class r{constructor(e,n){this._platform=e,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,i=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(bL),e.remove(zG),e.remove(WG),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(e.add(bL),e.add(zG)):2===n&&(e.add(bL),e.add(WG))}}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Hi),a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),PZ=(()=>{class r{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG($G))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[kG]]}),r})();const kZ=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function FZ(){return(0,a.f3M)(M)}}),NZ=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ss=(()=>{class r{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const i=e.documentElement?e.documentElement.dir:null;this.value=function LZ(r){const t=r?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?NZ.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(kZ,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();function VZ(r,t){if(1&r&&a._UZ(0,"mat-pseudo-checkbox",4),2&r){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function BZ(r,t){if(1&r&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const GZ=["*"],zZ=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function UZ(){return!0}});let ur=(()=>{class r{constructor(e,n,i){this._sanityChecks=n,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!pL()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return r.\u0275fac=function(e){return new(e||r)(a.LFG($G),a.LFG(zZ,8),a.LFG(M))},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[qC],qC]}),r})();function wL(r){return class extends r{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=er(t)}}}function YC(r,t){return class extends r{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function Cm(r){return class extends r{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=er(t)}}}function WZ(r,t=0){return class extends r{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?$C(e):this.defaultTabIndex}}}function KG(r){return class extends r{constructor(...t){super(...t),this.stateChanges=new dn.x,this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const ZG=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function $Z(){return(0,a.f3M)(a.soG)}});class wo{constructor(){this._localeChanges=new dn.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),i=this.isValid(e);return n&&i?!this.compareDate(t,e):n==i}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const wh=new a.OlP("mat-date-formats"),qZ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function CL(r,t){const e=Array(r);for(let n=0;n<r;n++)e[n]=t(n);return e}let YZ=(()=>{class r extends wo{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return CL(12,i=>this._format(n,new Date(2017,i,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return CL(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return CL(7,i=>this._format(n,new Date(2017,0,i+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,i){let o=this._createDateWithOverflow(e,n,i);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const i=new Intl.DateTimeFormat(this.locale,{...n,timeZone:"utc"});return this._format(i,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let i=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(i)!=((this.getMonth(e)+n)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(qZ.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,i){const o=new Date;return o.setFullYear(e,n,i),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const i=new Date;return i.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),i.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(i)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(ZG,8),a.LFG(Hi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const KZ={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ZZ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[{provide:wo,useClass:YZ}]}),r})(),QZ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[{provide:wh,useValue:KZ}],imports:[[ZZ]]}),r})(),SL=(()=>{class r{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),QG=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),r})();function KC(r,t,e){r.nativeElement.classList.toggle(t,e)}let VR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur],ur]}),r})();class XZ{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JG={enterDuration:225,exitDuration:150},EL=UC({passive:!0}),ej=["mousedown","touchstart"],tj=["mouseup","mouseleave","touchend","touchcancel"];class eQ{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jc(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...JG,...n.animation};n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function nQ(r,t,e){const n=Math.max(Math.abs(r-e.left),Math.abs(r-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+i*i)}(t,e,i),l=t-i.left,v=e-i.top,D=o.enterDuration,F=document.createElement("div");F.classList.add("mat-ripple-element"),F.style.left=l-s+"px",F.style.top=v-s+"px",F.style.height=2*s+"px",F.style.width=2*s+"px",null!=n.color&&(F.style.backgroundColor=n.color),F.style.transitionDuration=`${D}ms`,this._containerElement.appendChild(F),function tQ(r){window.getComputedStyle(r).getPropertyValue("opacity")}(F),F.style.transform="scale(1)";const z=new XZ(this,F,n);return z.state=0,this._activeRipples.add(z),n.persistent||(this._mostRecentTransientRipple=z),this._runTimeoutOutsideZone(()=>{const re=z===this._mostRecentTransientRipple;z.state=1,!n.persistent&&(!re||!this._isPointerDown)&&z.fadeOut()},D),z}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i={...JG,...t.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=jc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ej))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tj),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=jG(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!HG(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,EL)})})}_removeTriggerEvents(){this._triggerElement&&(ej.forEach(t=>{this._triggerElement.removeEventListener(t,this,EL)}),this._pointerUpEventsRegistered&&tj.forEach(t=>{this._triggerElement.removeEventListener(t,this,EL)}))}}const rQ=new a.OlP("mat-ripple-global-options");let o_=(()=>{class r{constructor(e,n,i,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new eQ(this,n,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Hi),a.Y36(rQ,8),a.Y36(a.QbO,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&a.ekj("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),BR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur],ur]}),r})(),nj=(()=>{class r{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.QbO,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,n){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),r})(),DL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur]]}),r})();const TL=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),xL=new a.OlP("MatOptgroup");let iQ=0;class rj{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let oQ=(()=>{class r{constructor(e,n,i,o){this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+iQ++,this.onSelectionChange=new a.vpe,this._stateChanges=new dn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=er(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,n){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!as(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new rj(this,e))}}return r.\u0275fac=function(e){a.$Z()},r.\u0275dir=a.lG2({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),ra=(()=>{class r extends oQ{constructor(e,n,i,o){super(e,n,i,o)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(TL,8),a.Y36(xL,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,n){1&e&&a.NdJ("click",function(){return n._selectViaInteraction()})("keydown",function(o){return n._handleKeydown(o)}),2&e&&(a.Ikx("id",n.id),a.uIk("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),a.ekj("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:GZ,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,n){1&e&&(a.F$t(),a.YNc(0,VZ,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,BZ,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",n.multiple),a.xp6(3),a.Q6J("ngIf",n.group&&n.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},dependencies:[nj,Un,o_],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})();function RL(r,t,e){if(e.length){let n=t.toArray(),i=e.toArray(),o=0;for(let s=0;s<r+1;s++)n[s].group&&n[s].group===i[o]&&o++;return o}return 0}function ij(r,t,e,n){return r<e?r:r+t>e+n?Math.max(0,r-n+t):e}let GR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[BR,Vs,ur,DL]]}),r})();const oj=["mat-button",""],sj=["*"],lQ=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],uQ=YC(wL(Cm(class{constructor(r){this._elementRef=r}})));let Oi=(()=>{class r extends uQ{constructor(e,n,i){super(e),this._focusMonitor=n,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of lQ)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(n=>this._getHostElement().hasAttribute(n))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(i_),a.Y36(a.QbO,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,n){if(1&e&&a.Gf(o_,5),2&e){let i;a.iGM(i=a.CRH())&&(n.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,n){2&e&&(a.uIk("disabled",n.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:oj,ngContentSelectors:sj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,n){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",n.isRoundButton||n.isIconButton),a.Q6J("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},dependencies:[o_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),cQ=(()=>{class r extends Oi{constructor(e,n,i,o){super(n,e,i),this._ngZone=o,this._haltDisabledEvents=s=>{this.disabled&&(s.preventDefault(),s.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(i_),a.Y36(a.SBq),a.Y36(a.QbO,8),a.Y36(a.R0b,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,n){2&e&&(a.uIk("tabindex",n.disabled?-1:n.tabIndex)("disabled",n.disabled||null)("aria-disabled",n.disabled.toString()),a.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[a.qOj],attrs:oj,ngContentSelectors:sj,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,n){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",n.isRoundButton||n.isIconButton),a.Q6J("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},dependencies:[o_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),AL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[BR,ur],ur]}),r})();var ia=Oe(6451),dQ=Oe(1144);const hQ=["addListener","removeListener"],fQ=["addEventListener","removeEventListener"],pQ=["on","off"];function Hc(r,t,e,n){if((0,Bs.m)(e)&&(n=e,e=void 0),n)return Hc(r,t,e).pipe(db(n));const[i,o]=function vQ(r){return(0,Bs.m)(r.addEventListener)&&(0,Bs.m)(r.removeEventListener)}(r)?fQ.map(s=>l=>r[s](t,l,e)):function mQ(r){return(0,Bs.m)(r.addListener)&&(0,Bs.m)(r.removeListener)}(r)?hQ.map(aj(r,t)):function gQ(r){return(0,Bs.m)(r.on)&&(0,Bs.m)(r.off)}(r)?pQ.map(aj(r,t)):[];if(!i&&(0,dQ.z)(r))return(0,vi.z)(s=>Hc(s,t,e))((0,ba.Xf)(r));if(!i)throw new TypeError("Invalid event target");return new Ko.y(s=>{const l=(...v)=>s.next(1<v.length?v:v[0]);return i(l),()=>o(l)})}function aj(r,t){return e=>n=>r[e](t,n)}class lj{}const Uc="*";function jo(r,t){return{type:7,name:r,definitions:t,options:{}}}function Zr(r,t=null){return{type:4,styles:t,timings:r}}function uj(r,t=null){return{type:3,steps:r,options:t}}function cj(r,t=null){return{type:2,steps:r,options:t}}function jn(r){return{type:6,styles:r,offset:null}}function Wr(r,t,e){return{type:0,name:r,styles:t,options:e}}function s_(r){return{type:5,steps:r}}function zr(r,t,e=null){return{type:1,expr:r,animation:t,options:e}}function jR(r=null){return{type:9,options:r}}function HR(r,t,e=null){return{type:11,selector:r,animation:t,options:e}}function dj(r){Promise.resolve().then(r)}class ZC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dj(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class hj{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const o=this.players.length;0==o?dj(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}const _Q=["connectionContainer"],bQ=["inputContainer"],wQ=["label"];function CQ(r,t){1&r&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function SQ(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&r){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function EQ(r,t){if(1&r&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&r){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function DQ(r,t){1&r&&a.Hsn(0,3,["*ngSwitchCase","true"])}function TQ(r,t){1&r&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function xQ(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.updateOutlineGap())}),a.YNc(2,EQ,4,1,"ng-container",12),a.YNc(3,DQ,1,0,"ng-content",12),a.YNc(4,TQ,2,0,"span",22),a.qZA()}if(2&r){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function RQ(r,t){1&r&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function AQ(r,t){if(1&r&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function OQ(r,t){if(1&r&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&r){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function MQ(r,t){if(1&r&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&r){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function IQ(r,t){if(1&r&&(a.TgZ(0,"div",27),a.YNc(1,MQ,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&r){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const PQ=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kQ=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],FQ=new a.OlP("MatError"),NQ={transitionMessages:jo("transitionMessages",[Wr("enter",jn({opacity:1,transform:"translateY(0%)"})),zr("void => enter",[jn({opacity:0,transform:"translateY(-5px)"}),Zr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let UR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r}),r})(),LQ=0;const fj=new a.OlP("MatHint");let pj=(()=>{class r{constructor(){this.align="start",this.id="mat-hint-"+LQ++}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,n){2&e&&(a.uIk("id",n.id)("align",null),a.ekj("mat-form-field-hint-end","end"===n.align))},inputs:{align:"align",id:"id"},features:[a._Bn([{provide:fj,useExisting:r}])]}),r})(),Ho=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-label"]]}),r})(),VQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const BQ=new a.OlP("MatPrefix"),mj=new a.OlP("MatSuffix");let QC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:mj,useExisting:r}])]}),r})(),gj=0;const jQ=YC(class{constructor(r){this._elementRef=r}},"primary"),HQ=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),XC=new a.OlP("MatFormField");let Es=(()=>{class r extends jQ{constructor(e,n,i,o,s,l,v){super(e),this._changeDetectorRef=n,this._dir=i,this._defaults=o,this._platform=s,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new dn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gj++,this._labelId="mat-form-field-label-"+gj++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==v,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&n!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=er(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(si(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Cr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Cr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ia.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(si(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(si(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Cr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Hc(this._label.nativeElement,"transitionend").pipe(Or(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,n=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const F=n.querySelectorAll(`${i}, ${o}`);for(let z=0;z<F.length;z++)F[z].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,l=0;const v=n.querySelectorAll(i),D=n.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const F=n.getBoundingClientRect();if(0===F.width&&0===F.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const z=this._getStartEnd(F),re=e.children,ae=this._getStartEnd(re[0].getBoundingClientRect());let fe=0;for(let ge=0;ge<re.length;ge++)fe+=re[ge].offsetWidth;s=Math.abs(ae-z)-5,l=fe>0?.75*fe+10:0}for(let F=0;F<v.length;F++)v[F].style.width=`${s}px`;for(let F=0;F<D.length;F++)D[F].style.width=`${l}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Ss,8),a.Y36(HQ,8),a.Y36(Hi),a.Y36(a.R0b),a.Y36(a.QbO,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,UR,5),a.Suo(i,UR,7),a.Suo(i,Ho,5),a.Suo(i,Ho,7),a.Suo(i,VQ,5),a.Suo(i,FQ,5),a.Suo(i,fj,5),a.Suo(i,BQ,5),a.Suo(i,mj,5)),2&e){let o;a.iGM(o=a.CRH())&&(n._controlNonStatic=o.first),a.iGM(o=a.CRH())&&(n._controlStatic=o.first),a.iGM(o=a.CRH())&&(n._labelChildNonStatic=o.first),a.iGM(o=a.CRH())&&(n._labelChildStatic=o.first),a.iGM(o=a.CRH())&&(n._placeholderChild=o.first),a.iGM(o=a.CRH())&&(n._errorChildren=o),a.iGM(o=a.CRH())&&(n._hintChildren=o),a.iGM(o=a.CRH())&&(n._prefixChildren=o),a.iGM(o=a.CRH())&&(n._suffixChildren=o)}},viewQuery:function(e,n){if(1&e&&(a.Gf(_Q,7),a.Gf(bQ,5),a.Gf(wQ,5)),2&e){let i;a.iGM(i=a.CRH())&&(n._connectionContainerRef=i.first),a.iGM(i=a.CRH())&&(n._inputContainerRef=i.first),a.iGM(i=a.CRH())&&(n._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,n){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:XC,useExisting:r}]),a.qOj],ngContentSelectors:kQ,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,n){1&e&&(a.F$t(PQ),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(o){return n._control.onContainerClick&&n._control.onContainerClick(o)}),a.YNc(3,CQ,9,0,"ng-container",3),a.YNc(4,SQ,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,xQ,5,16,"label",8),a.qZA()(),a.YNc(10,RQ,2,0,"div",9),a.qZA(),a.YNc(11,AQ,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,OQ,2,1,"div",12),a.YNc(14,IQ,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==n.appearance),a.xp6(1),a.Q6J("ngIf",n._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",n._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",n._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=n.appearance),a.xp6(1),a.Q6J("ngSwitch",n._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[Un,uZ,ii,pi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[NQ.transitionMessages]},changeDetection:0}),r})(),zR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Vs,ur,kG],ur]}),r})();const yj=UC({passive:!0});let UQ=(()=>{class r{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ps.E;const n=jc(e),i=this._monitoredElements.get(n);if(i)return i.subject;const o=new dn.x,s="cdk-text-field-autofilled",l=v=>{"cdk-text-field-autofill-start"!==v.animationName||n.classList.contains(s)?"cdk-text-field-autofill-end"===v.animationName&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!1}))):(n.classList.add(s),this._ngZone.run(()=>o.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",l,yj),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:o,unlisten:()=>{n.removeEventListener("animationstart",l,yj)}}),o}stopMonitoring(e){const n=jc(e),i=this._monitoredElements.get(n);i&&(i.unlisten(),i.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Hi),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_j=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const bj=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),zQ=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let WQ=0;const $Q=KG(class{constructor(r,t,e,n){this._defaultErrorStateMatcher=r,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n}});let vu=(()=>{class r extends $Q{constructor(e,n,i,o,s,l,v,D,F,z){super(l,o,s,i),this._elementRef=e,this._platform=n,this._autofillMonitor=D,this._formField=z,this._uid="mat-input-"+WQ++,this.focused=!1,this.stateChanges=new dn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(fe=>xG().has(fe)),this._iOSKeyupListener=fe=>{const ge=fe.target;!ge.value&&0===ge.selectionStart&&0===ge.selectionEnd&&(ge.setSelectionRange(1,1),ge.setSelectionRange(0,0))};const re=this._elementRef.nativeElement,ae=re.nodeName.toLowerCase();this._inputValueAccessor=v||re,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&F.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ae,this._isTextarea="textarea"===ae,this._isInFormField=!!z,this._isNativeSelect&&(this.controlType=re.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=er(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(or.required)??!1}set required(e){this._required=er(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&xG().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=er(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(e!==this._previousPlaceholder){const n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){zQ.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(Hi),a.Y36($s,10),a.Y36(ko,8),a.Y36(Xo,8),a.Y36(SL),a.Y36(bj,10),a.Y36(UQ),a.Y36(a.R0b),a.Y36(XC,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,n){1&e&&a.NdJ("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&e&&(a.Ikx("disabled",n.disabled)("required",n.required),a.uIk("id",n.id)("data-placeholder",n.placeholder)("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),a.ekj("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:UR,useExisting:r}]),a.qOj,a.TTD]}),r})(),qQ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[SL],imports:[[_j,zR,ur],_j,zR]}),r})();var wj=Oe(4408);const JC={schedule(r){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=JC;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const i=t(o=>{e=void 0,r(o)});return new ei.w0(()=>e?.(i))},requestAnimationFrame(...r){const{delegate:t}=JC;return(t?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:t}=JC;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};var Cj=Oe(7565);new class KQ extends Cj.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;t=t||n.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,i){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw i}}}(class YQ extends wj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=JC.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(JC.cancelAnimationFrame(e),t._scheduled=void 0)}});let ML,QQ=1;const WR={};function Sj(r){return r in WR&&(delete WR[r],!0)}const XQ={setImmediate(r){const t=QQ++;return WR[t]=!0,ML||(ML=Promise.resolve()),ML.then(()=>Sj(t)&&r()),t},clearImmediate(r){Sj(r)}},{setImmediate:JQ,clearImmediate:eX}=XQ,$R={setImmediate(...r){const{delegate:t}=$R;return(t?.setImmediate||JQ)(...r)},clearImmediate(r){const{delegate:t}=$R;return(t?.clearImmediate||eX)(r)},delegate:void 0};new class nX extends Cj.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let i;t=t||n.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,i){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw i}}}(class tX extends wj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=$R.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){var i;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(t,e,n);const{actions:o}=t;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&($R.clearImmediate(e),t._scheduled=void 0)}});var oX=Oe(3532);function Ej(r=0,t,e=kR.P){let n=-1;return null!=t&&((0,oX.K)(t)?e=t:n=t),new Ko.y(i=>{let o=function sX(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;o<0&&(o=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Dj(r,t=kR.z){return function iX(r){return(0,Yi.e)((t,e)=>{let n=!1,i=null,o=null,s=!1;const l=()=>{if(o?.unsubscribe(),o=null,n){n=!1;const D=i;i=null,e.next(D)}s&&e.complete()},v=()=>{o=null,s&&e.complete()};t.subscribe((0,gi.x)(e,D=>{n=!0,i=D,o||(0,ba.Xf)(r(D)).subscribe(o=(0,gi.x)(e,l,v))},()=>{s=!0,(!n||!o||o.closed)&&e.complete()}))})}(()=>Ej(r,t))}let qR=(()=>{class r{constructor(e,n,i){this._ngZone=e,this._platform=n,this._scrolled=new dn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ko.y(n=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(Dj(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const i=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Pr(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let i=jc(n),o=e.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Hc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.R0b),a.LFG(Hi),a.LFG(M,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eS=(()=>{class r{constructor(e,n,i,o){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=o,this._destroyed=new dn.x,this._elementScrolled=new Ko.y(s=>this.ngZone.runOutsideAngular(()=>Hc(this.elementRef.nativeElement,"scroll").pipe(Cr(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),i&&0!=zC()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==zC()?e.left=e.right:1==zC()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;RG()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",i="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?i:n:"end"==e&&(e=s?n:i),s&&2==zC()?e==n?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==zC()?e==n?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==n?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(qR),a.Y36(a.R0b),a.Y36(Ss,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),a_=(()=>{class r{constructor(e,n,i){this._platform=e,this._change=new dn.x,this._changeListener=o=>{this._change.next(o)},this._document=i,n.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+n,height:i,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),i=e.documentElement,o=i.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||n.scrollY||i.scrollTop||0,left:-o.left||e.body.scrollLeft||n.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Dj(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Hi),a.LFG(a.R0b),a.LFG(M,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ch=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),IL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[qC,Ch],qC,Ch]}),r})();class PL{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Sm extends PL{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class tS extends PL{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class uX extends PL{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class YR{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Sm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof tS?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof uX?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class cX extends YR{constructor(t,e,n,i,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=s=>{const l=s.element,v=this._document.createComment("dom-portal");l.parentNode.insertBefore(v,l),this.outletElement.appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(l,v)})},this._document=o}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=n.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(i=>this.outletElement.appendChild(i)),n.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(n);-1!==i&&e.remove(i)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let l_=(()=>{class r extends YR{constructor(e,n,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=o=>{const s=o.element,l=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(l,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=n.createComponent(o,n.length,e.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(M))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),r})(),KR=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const Tj=RG();class dX{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ui(-this._previousScrollPosition.left),t.style.top=Ui(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,i=this._document.body.style,o=n.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Tj&&(n.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Tj&&(n.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class hX{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xj{enable(){}disable(){}attach(){}}function kL(r,t){return t.some(e=>r.bottom<e.top||r.top>e.bottom||r.right<e.left||r.left>e.right)}function Rj(r,t){return t.some(e=>r.top<e.top||r.bottom>e.bottom||r.left<e.left||r.right>e.right)}class fX{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:i}=this._viewportRuler.getViewportSize();kL(e,[{width:n,height:i,bottom:i,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let pX=(()=>{class r{constructor(e,n,i,o){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=()=>new xj,this.close=s=>new hX(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new dX(this._viewportRuler,this._document),this.reposition=s=>new fX(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(qR),a.LFG(a_),a.LFG(a.R0b),a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class u_{constructor(t){if(this.scrollStrategy=new xj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class mX{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Aj=(()=>{class r{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),gX=(()=>{class r extends Aj{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const l=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M),a.LFG(a.R0b,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vX=(()=>{class r extends Aj{constructor(e,n,i){super(e),this._platform=n,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bh(o)},this._clickListener=o=>{const s=bh(o),l="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let D=v.length-1;D>-1;D--){const F=v[D];if(F._outsidePointerEvents.observers.length<1||!F.hasAttached())continue;if(F.overlayElement.contains(s)||F.overlayElement.contains(l))break;const z=F._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>z.next(o)):z.next(o)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M),a.LFG(Hi),a.LFG(a.R0b,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),FL=(()=>{class r{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||pL()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const n=this._document.createElement("div");n.classList.add(e),pL()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M),a.LFG(Hi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class yX{constructor(t,e,n,i,o,s,l,v,D){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=v,this._outsideClickDispatcher=D,this._backdropElement=null,this._backdropClick=new dn.x,this._attachments=new dn.x,this._detachments=new dn.x,this._locationChanges=ei.w0.EMPTY,this._backdropClickHandler=F=>this._backdropClick.next(F),this._backdropTransitionendHandler=F=>{this._disposeBackdrop(F.target)},this._keydownEvents=new dn.x,this._outsidePointerEvents=new dn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Or(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ui(this._config.width),t.height=Ui(this._config.height),t.minWidth=Ui(this._config.minWidth),t.minHeight=Ui(this._config.minHeight),t.maxWidth=Ui(this._config.maxWidth),t.maxHeight=Ui(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,n){const i=NR(e||[]).filter(o=>!!o);i.length&&(n?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Cr((0,ia.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Oj="cdk-overlay-connected-position-bounding-box",_X=/([A-Za-z%]+)$/;class Mj{constructor(t,e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dn.x,this._resizeSubscription=ei.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Oj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=this._containerRect,o=[];let s;for(let l of this._preferredPositions){let v=this._getOriginPoint(t,i,l),D=this._getOverlayPoint(v,e,l),F=this._getOverlayFit(D,e,n,l);if(F.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,v);this._canFitWithFlexibleDimensions(F,D,n)?o.push({position:l,origin:v,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(v,l)}):(!s||s.overlayFit.visibleArea<F.visibleArea)&&(s={overlayFit:F,overlayPoint:D,originPoint:v,position:l,overlayRect:e})}if(o.length){let l=null,v=-1;for(const D of o){const F=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);F>v&&(v=F,l=D)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Em(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Oj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let i,o;if("center"==n.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;i="start"==n.originX?s:l}return e.left<0&&(i-=e.left),o="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:i,y:o}}_getOverlayPoint(t,e,n){let i,o;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,e,n,i){const o=Pj(e);let{x:s,y:l}=t,v=this._getOffset(i,"x"),D=this._getOffset(i,"y");v&&(s+=v),D&&(l+=D);let re=0-l,ae=l+o.height-n.height,fe=this._subtractOverflows(o.width,0-s,s+o.width-n.width),ge=this._subtractOverflows(o.height,re,ae),we=fe*ge;return{visibleArea:we,isCompletelyWithinViewport:o.width*o.height===we,fitsInViewportVertically:ge===o.height,fitsInViewportHorizontally:fe==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,o=n.right-e.x,s=Ij(this._overlayRef.getConfig().minHeight),l=Ij(this._overlayRef.getConfig().minWidth),D=t.fitsInViewportHorizontally||null!=l&&l<=o;return(t.fitsInViewportVertically||null!=s&&s<=i)&&D}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=Pj(e),o=this._viewportRect,s=Math.max(t.x+i.width-o.width,0),l=Math.max(t.y+i.height-o.height,0),v=Math.max(o.top-n.top-t.y,0),D=Math.max(o.left-n.left-t.x,0);let F=0,z=0;return F=i.width<=o.width?D||-s:t.x<this._viewportMargin?o.left-n.left-t.x:0,z=i.height<=o.height?v||-l:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:F,y:z},{x:t.x+F,y:t.y+z}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),i=new mX(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let o,s,l,F,z,re;if("top"===e.overlayY)s=t.y,o=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)l=n.height-t.y+2*this._viewportMargin,o=n.height-l+this._viewportMargin;else{const ae=Math.min(n.bottom-t.y+n.top,t.y),fe=this._lastBoundingBoxSize.height;o=2*ae,s=t.y-ae,o>fe&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-fe/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)re=n.width-t.x+this._viewportMargin,F=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)z=t.x,F=n.right-t.x;else{const ae=Math.min(n.right-t.x+n.left,t.x),fe=this._lastBoundingBoxSize.width;F=2*ae,z=t.x-ae,F>fe&&!this._isInitialRender&&!this._growAfterOpen&&(z=t.x-fe/2)}return{top:s,left:z,bottom:l,right:re,width:F,height:o}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Ui(n.height),i.top=Ui(n.top),i.bottom=Ui(n.bottom),i.width=Ui(n.width),i.left=Ui(n.left),i.right=Ui(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Ui(o)),s&&(i.maxWidth=Ui(s))}this._lastBoundingBoxSize=n,Em(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Em(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Em(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const F=this._viewportRuler.getViewportScrollPosition();Em(n,this._getExactOverlayY(e,t,F)),Em(n,this._getExactOverlayX(e,t,F))}else n.position="static";let l="",v=this._getOffset(e,"x"),D=this._getOffset(e,"y");v&&(l+=`translateX(${v}px) `),D&&(l+=`translateY(${D}px)`),n.transform=l.trim(),s.maxHeight&&(i?n.maxHeight=Ui(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=Ui(s.maxWidth):o&&(n.maxWidth="")),Em(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Ui(o.y),i}_getExactOverlayX(t,e,n){let s,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Ui(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Rj(t,n),isOriginOutsideView:kL(t,n),isOverlayClipped:Rj(e,n),isOverlayOutsideView:kL(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,i)=>n-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&NR(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Em(r,t){for(let e in t)t.hasOwnProperty(e)&&(r[e]=t[e]);return r}function Ij(r){if("number"!=typeof r&&null!=r){const[t,e]=r.split(_X);return e&&"px"!==e?null:parseFloat(t)}return r||null}function Pj(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const kj="cdk-global-overlay-wrapper";class bX{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:l}=n,v=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),D=!("100%"!==o&&"100vh"!==o||l&&"100%"!==l&&"100vh"!==l);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=D?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(kj),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let wX=(()=>{class r{constructor(e,n,i,o){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=o}global(){return new bX}flexibleConnectedTo(e){return new Mj(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a_),a.LFG(M),a.LFG(Hi),a.LFG(FL))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),CX=0,oa=(()=>{class r{constructor(e,n,i,o,s,l,v,D,F,z,re){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=l,this._ngZone=v,this._document=D,this._directionality=F,this._location=z,this._outsideClickDispatcher=re}create(e){const n=this._createHostElement(),i=this._createPaneElement(n),o=this._createPortalOutlet(i),s=new u_(e);return s.direction=s.direction||this._directionality.value,new yX(o,n,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+CX++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new cX(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(pX),a.LFG(FL),a.LFG(a._Vd),a.LFG(wX),a.LFG(gX),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(M),a.LFG(Ss),a.LFG(S),a.LFG(vX))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const SX=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Fj=new a.OlP("cdk-connected-overlay-scroll-strategy");let Nj=(()=>{class r{constructor(e){this.elementRef=e}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),Lj=(()=>{class r{constructor(e,n,i,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ei.w0.EMPTY,this._attachSubscription=ei.w0.EMPTY,this._detachSubscription=ei.w0.EMPTY,this._positionSubscription=ei.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new tS(n,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=er(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=er(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=er(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=er(e)}get push(){return this._push}set push(e){this._push=er(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=SX);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!as(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new u_({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Nj?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Og(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(oa),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(Fj),a.Y36(Ss,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),r})();const DX={provide:Fj,deps:[oa],useFactory:function EX(r){return()=>r.scrollStrategies.reposition()}};let c_=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[oa,DX],imports:[[qC,KR,IL],IL]}),r})();function NL(r){return r&&"function"==typeof r.connect}class Vj{applyChanges(t,e,n,i,o){t.forEachOperation((s,l,v)=>{let D,F;if(null==s.previousIndex){const z=n(s,l,v);D=e.createEmbeddedView(z.templateRef,z.context,z.index),F=1}else null==v?(e.remove(l),F=3):(D=e.get(l),e.move(D,v),F=2);o&&o({context:D?.context,operation:F,record:s})})}detach(){}}class LL{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new dn.x,e&&e.length&&(t?e.forEach(i=>this._markSelected(i)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const nS=new a.OlP("_ViewRepeater"),TX=["trigger"],xX=["panel"];function RX(r,t){if(1&r&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function AX(r,t){if(1&r&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&r){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function OX(r,t){1&r&&a.Hsn(0,0,["*ngSwitchCase","true"])}function MX(r,t){if(1&r&&(a.TgZ(0,"span",9),a.YNc(1,AX,2,1,"span",10),a.YNc(2,OX,1,0,"ng-content",11),a.qZA()),2&r){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function IX(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._handleKeydown(i))}),a.Hsn(3,1),a.qZA()()}if(2&r){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const PX=[[["mat-select-trigger"]],"*"],kX=["mat-select-trigger","*"],Gj={transformPanelWrap:jo("transformPanelWrap",[zr("* => void",HR("@transformPanel",[jR()],{optional:!0}))]),transformPanel:jo("transformPanel",[Wr("void",jn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Wr("showing",jn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Wr("showing-multiple",jn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),zr("void => *",Zr("120ms cubic-bezier(0, 0, 0.2, 1)")),zr("* => void",Zr("100ms 25ms linear",jn({opacity:0})))])};let jj=0;const Uj=new a.OlP("mat-select-scroll-strategy"),VX=new a.OlP("MAT_SELECT_CONFIG"),BX={provide:Uj,deps:[oa],useFactory:function LX(r){return()=>r.scrollStrategies.reposition()}};class GX{constructor(t,e){this.source=t,this.value=e}}const jX=Cm(WZ(wL(KG(class{constructor(r,t,e,n,i){this._elementRef=r,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}})))),HX=new a.OlP("MatSelectTrigger");let UX=(()=>{class r extends jX{constructor(e,n,i,o,s,l,v,D,F,z,re,ae,fe,ge){super(s,o,v,D,z),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=i,this._dir=l,this._parentFormField=F,this._liveAnnouncer=fe,this._defaultOptions=ge,this._panelOpen=!1,this._compareWith=(we,Te)=>we===Te,this._uid="mat-select-"+jj++,this._triggerAriaLabelledBy=null,this._destroy=new dn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+jj++,this._panelDoneAnimatingStream=new dn.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=ud(()=>{const we=this.options;return we?we.changes.pipe(si(we),Io(()=>(0,ia.T)(...we.map(Te=>Te.onSelectionChange)))):this._ngZone.onStable.pipe(Or(1),Io(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(Pr(we=>we),(0,Dn.U)(()=>{})),this._closedStream=this.openedChange.pipe(Pr(we=>!we),(0,Dn.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=ge?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=ge.typeaheadDebounceInterval),this._scrollStrategyFactory=ae,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(re)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(or.required)??!1}set required(e){this._required=er(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=er(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=er(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=$C(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new LL(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(gL(),Cr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Cr(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(si(null),Cr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,i=40===n||38===n||37===n||39===n,o=13===n||32===n,s=this._keyManager;if(!s.isTyping()&&o&&!as(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;s.onKeydown(e);const v=this.selected;v&&l!==v&&this._liveAnnouncer.announce(v.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,i=e.keyCode,o=40===i||38===i,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==i&&32!==i||!n.activeItem||as(e))if(!s&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const l=this.options.some(v=>!v.disabled&&!v.selected);this.options.forEach(v=>{v.disabled||(l?v.select():v.deselect())})}else{const l=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Or(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new VG(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Cr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Cr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ia.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Cr(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ia.T)(...this.options.map(n=>n._stateChanges)).pipe(Cr(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,n){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,i)=>this.sortComparator?this.sortComparator(n,i,e):e.indexOf(n)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a_),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(SL),a.Y36(a.SBq),a.Y36(Ss,8),a.Y36(ko,8),a.Y36(Xo,8),a.Y36(XC,8),a.Y36($s,10),a.$8M("tabindex"),a.Y36(Uj),a.Y36(_L),a.Y36(VX,8))},r.\u0275dir=a.lG2({type:r,viewQuery:function(e,n){if(1&e&&(a.Gf(TX,5),a.Gf(xX,5),a.Gf(Lj,5)),2&e){let i;a.iGM(i=a.CRH())&&(n.trigger=i.first),a.iGM(i=a.CRH())&&(n.panel=i.first),a.iGM(i=a.CRH())&&(n._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),r})(),El=(()=>{class r extends UX{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,n,i){const o=this._getItemHeight();return Math.min(Math.max(0,o*e-n+o/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Cr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Or(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const n=RL(e,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===n?0:ij((e+n)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new GX(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),i=this._isRtl(),o=this.multiple?56:32;let s;if(this.multiple)s=40;else if(this.disableOptionCentering)s=16;else{let D=this._selectionModel.selected[0]||this.options.first;s=D&&D.group?32:16}i||(s*=-1);const l=0-(e.left+s-(i?o:0)),v=e.right+s-n.width+(i?0:o);l>0?s+=l+8:v>0&&(s-=v+8),this._overlayDir.offsetX=Math.round(s),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,n,i){const o=this._getItemHeight(),s=(o-this._triggerRect.height)/2,l=Math.floor(256/o);let v;return this.disableOptionCentering?0:(v=0===this._scrollTop?e*o:this._scrollTop===i?(e-(this._getItemCount()-l))*o+(o-(this._getItemCount()*o-256)%o):n-o/2,Math.round(-1*v-s))}_checkOverlayWithinViewport(e){const n=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,s=i.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),D=Math.min(this._getItemCount()*n,256)-l-this._triggerRect.height;D>s?this._adjustPanelUp(D,s):l>o?this._adjustPanelDown(l,o,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,n){const i=Math.round(e-n);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,n,i){const o=Math.round(e-n);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),n=this._getItemCount(),i=Math.min(n*e,256),s=n*e-i;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=RL(l,this.options,this.optionGroups);const v=i/2;this._scrollTop=this._calculateOverlayScroll(l,v,s),this._offsetY=this._calculateOverlayOffsetY(l,v,s),this._checkOverlayWithinViewport(s)}_getOriginBasedOnOption(){const e=this._getItemHeight(),n=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-select"]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,HX,5),a.Suo(i,ra,5),a.Suo(i,xL,5)),2&e){let o;a.iGM(o=a.CRH())&&(n.customTrigger=o.first),a.iGM(o=a.CRH())&&(n.options=o),a.iGM(o=a.CRH())&&(n.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,n){1&e&&a.NdJ("keydown",function(o){return n._handleKeydown(o)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&e&&(a.uIk("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),a.ekj("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:UR,useExisting:r},{provide:TL,useExisting:r}]),a.qOj],ngContentSelectors:kX,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,n){if(1&e&&(a.F$t(PX),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return n.toggle()}),a.TgZ(3,"div",2),a.YNc(4,RX,2,1,"span",3),a.YNc(5,MX,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,IX,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&e){const i=a.MAs(1);a.uIk("aria-owns",n.panelOpen?n.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",n.empty),a.uIk("id",n._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},dependencies:[Nj,ii,pi,no,Lj,Rt],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[Gj.transformPanelWrap,Gj.transformPanel]},changeDetection:0}),r})(),zX=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[BX],imports:[[Vs,c_,GR,ur],Ch,zR,GR,ur]}),r})();const $X=[[["caption"]],[["colgroup"],["col"]]],qX=["caption","colgroup, col"];function VL(r){return class extends r{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=er(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const h_=new a.OlP("CDK_TABLE");let f_=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkCellDef",""]]}),r})(),p_=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),QR=(()=>{class r{constructor(e){this.template=e}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class QX{}const XX=VL(QX);let zc=(()=>{class r extends XX{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=er(e),this._hasStickyChanged=n!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(h_,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,f_,5),a.Suo(i,p_,5),a.Suo(i,QR,5)),2&e){let o;a.iGM(o=a.CRH())&&(n.cell=o.first),a.iGM(o=a.CRH())&&(n.headerCell=o.first),a.iGM(o=a.CRH())&&(n.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),a.qOj]}),r})();class BL{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let GL=(()=>{class r extends BL{constructor(e,n){super(e,n)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(zc),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),r})(),zj=(()=>{class r extends BL{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const i=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(zc),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[a.qOj]}),r})(),jL=(()=>{class r extends BL{constructor(e,n){if(super(e,n),1===e._table?._elementRef.nativeElement.nodeType){const i=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===i||"treegrid"===i?"gridcell":"cell")}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(zc),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),r})();class Wj{constructor(){this.tasks=[],this.endTasks=[]}}const HL=new a.OlP("_COALESCED_STYLE_SCHEDULER");let $j=(()=>{class r{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new dn.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Wj,this._getScheduleObservable().pipe(Cr(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Wj;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Jr.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Or(1))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),UL=(()=>{class r{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof iS?e.headerCell.template:this instanceof oS?e.footerCell.template:e.cell.template}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},r.\u0275dir=a.lG2({type:r,features:[a.TTD]}),r})();class JX extends UL{}const eJ=VL(JX);let iS=(()=>{class r extends eJ{constructor(e,n,i){super(e,n),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(h_,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),r})();class tJ extends UL{}const nJ=VL(tJ);let oS=(()=>{class r extends nJ{constructor(e,n,i){super(e,n),this._table=i}ngOnChanges(e){super.ngOnChanges(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(h_,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),r})(),XR=(()=>{class r extends UL{constructor(e,n,i){super(e,n),this._table=i}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(h_,8))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),r})(),Wc=(()=>{class r{constructor(e){this._viewContainer=e,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.mostRecentCellOutlet=null,r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b))},r.\u0275dir=a.lG2({type:r,selectors:[["","cdkCellOutlet",""]]}),r})(),zL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&a.GkF(0,0)},dependencies:[Wc],encapsulation:2}),r})(),WL=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&a.GkF(0,0)},dependencies:[Wc],encapsulation:2}),r})(),$L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&a.GkF(0,0)},dependencies:[Wc],encapsulation:2}),r})(),JR=(()=>{class r{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Rgc))},r.\u0275dir=a.lG2({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const qj=["top","bottom","left","right"];class rJ{constructor(t,e,n,i,o=!0,s=!0,l){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=l,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const i of t)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let o=0;o<i.children.length;o++)n.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const i of n)this._removeStickyStyle(i,e)})}updateStickyColumns(t,e,n,i=!0){if(!t.length||!this._isBrowser||!e.some(re=>re)&&!n.some(re=>re))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],s=o.children.length,l=this._getCellWidths(o,i),v=this._getStickyStartColumnPositions(l,e),D=this._getStickyEndColumnPositions(l,n),F=e.lastIndexOf(!0),z=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const re="rtl"===this.direction,ae=re?"right":"left",fe=re?"left":"right";for(const ge of t)for(let we=0;we<s;we++){const Te=ge.children[we];e[we]&&this._addStickyStyle(Te,ae,v[we],we===F),n[we]&&this._addStickyStyle(Te,fe,D[we],we===z)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===F?[]:l.slice(0,F+1).map((ge,we)=>e[we]?ge:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===z?[]:l.slice(z).map((ge,we)=>n[we+z]?ge:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.slice().reverse():t,o="bottom"===n?e.slice().reverse():e,s=[],l=[],v=[];for(let F=0,z=0;F<i.length;F++){if(!o[F])continue;s[F]=z;const re=i[F];v[F]=this._isNativeHtmlTable?Array.from(re.children):[re];const ae=re.getBoundingClientRect().height;z+=ae,l[F]=ae}const D=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let F=0;F<i.length;F++){if(!o[F])continue;const z=s[F],re=F===D;for(const ae of v[F])this._addStickyStyle(ae,n,z,re)}"top"===n?this._positionListener?.stickyHeaderRowsUpdated({sizes:l,offsets:s,elements:v}):this._positionListener?.stickyFooterRowsUpdated({sizes:l,offsets:s,elements:v})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(i=>!i)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const i of e)t.style[i]="",t.classList.remove(this._borderCellCss[i]);qj.some(i=>-1===e.indexOf(i)&&t.style[i])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,i){t.classList.add(this._stickCellCss),i&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of qj)t.style[i]&&(n+=e[i]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],i=t.children;for(let o=0;o<i.length;o++)n.push(i[o].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let o=0;o<t.length;o++)e[o]&&(n[o]=i,i+=t[o]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let o=t.length;o>0;o--)e[o]&&(n[o]=i,i+=t[o]);return n}}const qL=new a.OlP("CDK_SPL");let eA=(()=>{class r{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["","rowOutlet",""]]}),r})(),tA=(()=>{class r{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),nA=(()=>{class r{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),rA=(()=>{class r{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.s_b),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),iA=(()=>{class r{constructor(e,n,i,o,s,l,v,D,F,z,re,ae){this._differs=e,this._changeDetectorRef=n,this._elementRef=i,this._dir=s,this._platform=v,this._viewRepeater=D,this._coalescedStyleScheduler=F,this._viewportRuler=z,this._stickyPositioningListener=re,this._ngZone=ae,this._onDestroy=new dn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new ro({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=l,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=er(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=er(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Cr(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),NL(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(i,o,s)=>this._getEmbeddedViewArgs(i.item,s),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(i=>{n.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Or(1),Cr(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=e.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=e.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let l=0;l<n.length;l++)this._renderRows[l].rowDef===o&&s.push(n[l]);this._addStickyColumnStyles(s,o)}),i.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i];const s=this._getRenderRowsForData(o,i,n.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<s.length;l++){let v=s[l];const D=this._cachedRenderRowsMap.get(v.data);D.has(v.rowDef)?D.get(v.rowDef).push(v):D.set(v.rowDef,[v]),e.push(v)}}return e}_getRenderRowsForData(e,n,i){return this._getRowDefs(e,n).map(s=>{const l=i&&i.has(s)?i.get(s):[];if(l.length){const v=l.shift();return v.dataIndex=n,v}return{data:e,rowDef:s,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),oA(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=oA(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=oA(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=oA(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,l)=>s||!!l.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(e,!1);i&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),n||i||o}_switchDataSource(e){this._data=[],NL(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;NL(this.dataSource)?e=this.dataSource.connect(this):function WX(r){return!!r&&(r instanceof Ko.y||(0,Bs.m)(r.lift)&&(0,Bs.m)(r.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=gn(this.dataSource)),this._renderChangeSubscription=e.pipe(Cr(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const i=Array.from(n.columns||[]).map(l=>this._columnDefsByName.get(l)),o=i.map(l=>l.sticky),s=i.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let i=0;i<e.viewContainer.length;i++){const o=e.viewContainer.get(i);n.push(o.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(n,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(n,e))||this._defaultRowDef;o&&i.push(o)}return i}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,i,o={}){const s=e.viewContainer.createEmbeddedView(n.template,o,i);return this._renderCellTemplateForItem(n,o),s}_renderCellTemplateForItem(e,n){for(let i of this._getCellTemplates(e))Wc.mostRecentCellOutlet&&Wc.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,i=e.length;n<i;n++){const s=e.get(n).context;s.count=i,s.first=0===n,s.last=n===i-1,s.even=n%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[n].dataIndex,s.renderIndex=n):s.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const i=this._columnDefsByName.get(n);return e.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of n){const o=this._document.createElement(i.tag);o.setAttribute("role","rowgroup");for(const s of i.outlets)o.appendChild(s.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,i)=>n||i.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new rJ(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:gn()).pipe(Cr(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(n){const o=i.createEmbeddedView(e.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else i.clear();this._isShowingNoDataRow=n}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(Ss,8),a.Y36(M),a.Y36(Hi),a.Y36(nS),a.Y36(HL),a.Y36(a_),a.Y36(qL,12),a.Y36(a.R0b,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,JR,5),a.Suo(i,zc,5),a.Suo(i,XR,5),a.Suo(i,iS,5),a.Suo(i,oS,5)),2&e){let o;a.iGM(o=a.CRH())&&(n._noDataRow=o.first),a.iGM(o=a.CRH())&&(n._contentColumnDefs=o),a.iGM(o=a.CRH())&&(n._contentRowDefs=o),a.iGM(o=a.CRH())&&(n._contentHeaderRowDefs=o),a.iGM(o=a.CRH())&&(n._contentFooterRowDefs=o)}},viewQuery:function(e,n){if(1&e&&(a.Gf(eA,7),a.Gf(tA,7),a.Gf(nA,7),a.Gf(rA,7)),2&e){let i;a.iGM(i=a.CRH())&&(n._rowOutlet=i.first),a.iGM(i=a.CRH())&&(n._headerRowOutlet=i.first),a.iGM(i=a.CRH())&&(n._footerRowOutlet=i.first),a.iGM(i=a.CRH())&&(n._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,n){2&e&&a.ekj("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:h_,useExisting:r},{provide:nS,useClass:Vj},{provide:HL,useClass:$j},{provide:qL,useValue:null}])],ngContentSelectors:qX,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(a.F$t($X),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[tA,eA,rA,nA],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),r})();function oA(r,t){return r.concat(Array.from(t))}let oJ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[IL]]}),r})();const sJ=[[["caption"]],[["colgroup"],["col"]]],aJ=["caption","colgroup, col"];let Dm=(()=>{class r extends iA{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,n){2&e&&a.ekj("mat-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:nS,useClass:Vj},{provide:iA,useExisting:r},{provide:h_,useExisting:r},{provide:HL,useClass:$j},{provide:qL,useValue:null}]),a.qOj],ngContentSelectors:aJ,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(a.F$t(sJ),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[tA,eA,rA,nA],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),r})(),Sh=(()=>{class r extends f_{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:f_,useExisting:r}]),a.qOj]}),r})(),Eh=(()=>{class r extends p_{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:p_,useExisting:r}]),a.qOj]}),r})(),m_=(()=>{class r extends QR{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matFooterCellDef",""]],features:[a._Bn([{provide:QR,useExisting:r}]),a.qOj]}),r})(),Dh=(()=>{class r extends zc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:zc,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),a.qOj]}),r})(),Th=(()=>{class r extends GL{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),r})(),g_=(()=>{class r extends zj{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[a.qOj]}),r})(),xh=(()=>{class r extends jL{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),r})(),Tm=(()=>{class r extends iS{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:iS,useExisting:r}]),a.qOj]}),r})(),v_=(()=>{class r extends oS{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[a._Bn([{provide:oS,useExisting:r}]),a.qOj]}),r})(),xm=(()=>{class r extends XR{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:XR,useExisting:r}]),a.qOj]}),r})(),Rm=(()=>{class r extends zL{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:zL,useExisting:r}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&a.GkF(0,0)},dependencies:[Wc],encapsulation:2}),r})(),y_=(()=>{class r extends WL{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[a._Bn([{provide:WL,useExisting:r}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&a.GkF(0,0)},dependencies:[Wc],encapsulation:2}),r})(),Am=(()=>{class r extends $L{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:$L,useExisting:r}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&a.GkF(0,0)},dependencies:[Wc],encapsulation:2}),r})(),fJ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[oJ,ur],ur]}),r})();const mJ=["mat-calendar-body",""];function gJ(r,t){if(1&r&&(a.TgZ(0,"tr",2)(1,"td",3),a._uU(2),a.qZA()()),2&r){const e=a.oxw();a.xp6(1),a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e.numCols),a.xp6(1),a.hij(" ",e.label," ")}}function vJ(r,t){if(1&r&&(a.TgZ(0,"td",3),a._uU(1),a.qZA()),2&r){const e=a.oxw(2);a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e._firstRowOffset),a.xp6(1),a.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function yJ(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"td",7)(1,"button",8),a.NdJ("click",function(i){const s=a.CHM(e).$implicit,l=a.oxw(2);return a.KtG(l._cellClicked(s,i))}),a.TgZ(2,"div",9),a._uU(3),a.qZA(),a._UZ(4,"div",10),a.qZA()()}if(2&r){const e=t.$implicit,n=t.index,i=a.oxw().index,o=a.oxw();a.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),a.uIk("data-mat-row",i)("data-mat-col",n),a.xp6(1),a.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(i,n))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,i,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,i,n))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),a.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(i,n)?0:-1),a.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),a.xp6(1),a.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),a.xp6(1),a.hij(" ",e.displayValue," ")}}function _J(r,t){if(1&r&&(a.TgZ(0,"tr",4),a.YNc(1,vJ,2,6,"td",5),a.YNc(2,yJ,5,47,"td",6),a.qZA()),2&r){const e=t.$implicit,n=t.index,i=a.oxw();a.xp6(1),a.Q6J("ngIf",0===n&&i._firstRowOffset),a.xp6(1),a.Q6J("ngForOf",e)}}function bJ(r,t){if(1&r&&(a.TgZ(0,"th",5)(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a._uU(4),a.qZA()()),2&r){const e=t.$implicit;a.xp6(2),a.Oqu(e.long),a.xp6(2),a.Oqu(e.narrow)}}const wJ=["*"];function CJ(r,t){}function SJ(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"mat-month-view",5),a.NdJ("activeDateChange",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o.activeDate=i)})("_userSelection",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._dateSelected(i))}),a.qZA()}if(2&r){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function EJ(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"mat-year-view",6),a.NdJ("activeDateChange",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o.activeDate=i)})("monthSelected",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._monthSelectedInYearView(i))})("selectedChange",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._goToDateInView(i,"month"))}),a.qZA()}if(2&r){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function DJ(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"mat-multi-year-view",7),a.NdJ("activeDateChange",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o.activeDate=i)})("yearSelected",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._yearSelectedInMultiYearView(i))})("selectedChange",function(i){a.CHM(e);const o=a.oxw();return a.KtG(o._goToDateInView(i,"year"))}),a.qZA()}if(2&r){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function TJ(r,t){}const xJ=["button"];function RJ(r,t){1&r&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"path",4),a.qZA())}const AJ=[[["","matDatepickerToggleIcon",""]]],OJ=["[matDatepickerToggleIcon]"];let sS=(()=>{class r{constructor(){this.changes=new dn.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,n){return`${e} \u2013 ${n}`}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class YL{constructor(t,e,n,i,o={},s=t,l){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=i,this.cssClasses=o,this.compareValue=s,this.rawValue=l}}let __=(()=>{class r{constructor(e,n){this._elementRef=e,this._ngZone=n,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new a.vpe,this.previewChange=new a.vpe,this._enterHandler=i=>{if(this._skipNextFocus&&"focus"===i.type)this._skipNextFocus=!1;else if(i.target&&this.isRange){const o=this._getCellFromElement(i.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:i}))}},this._leaveHandler=i=>{null!==this.previewEnd&&this.isRange&&i.target&&this._getCellFromElement(i.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i}))},n.runOutsideAngular(()=>{const i=e.nativeElement;i.addEventListener("mouseenter",this._enterHandler,!0),i.addEventListener("focus",this._enterHandler,!0),i.addEventListener("mouseleave",this._leaveHandler,!0),i.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,n){e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const n=e.numCols,{rows:i,numCols:o}=this;(e.rows||n)&&(this._firstRowOffset=i&&i.length&&i[0].length?o-i[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(n||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,n){let i=e*this.numCols+n;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Or(1)).subscribe(()=>{setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})})})}_isRangeStart(e){return KL(e,this.startValue,this.endValue)}_isRangeEnd(e){return ZL(e,this.startValue,this.endValue)}_isInRange(e){return QL(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return KL(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[n][i-1];if(!o){const s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,n,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[n][i+1];if(!o){const s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return ZL(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return QL(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return KL(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return ZL(e,this.previewStart,this.previewEnd)}_isInPreview(e){return QL(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let n;if(Kj(e)?n=e:Kj(e.parentNode)&&(n=e.parentNode),n){const i=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(i&&o)return this.rows[parseInt(i)][parseInt(o)]}return null}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.R0b))},r.\u0275cmp=a.Xpm({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[a.TTD],attrs:mJ,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,n){1&e&&(a.YNc(0,gJ,3,6,"tr",0),a.YNc(1,_J,3,2,"tr",1)),2&e&&(a.Q6J("ngIf",n._firstRowOffset<n.labelMinRequiredCells),a.xp6(1),a.Q6J("ngForOf",n.rows))},dependencies:[Un,Sn,Rt],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),r})();function Kj(r){return"TD"===r.nodeName}function KL(r,t,e){return null!==e&&t!==e&&r<e&&r===t}function ZL(r,t,e){return null!==t&&t!==e&&r>=t&&r===e}function QL(r,t,e,n){return n&&null!==t&&null!==e&&t!==e&&r>=t&&r<=e}class Ds{constructor(t,e){this.start=t,this.end=e}}let Rh=(()=>{class r{constructor(e,n){this.selection=e,this._adapter=n,this._selectionChanged=new dn.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,n){const i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return r.\u0275fac=function(e){a.$Z()},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),MJ=(()=>{class r extends Rh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new r(this._adapter);return e.updateSelection(this.selection,this),e}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(wo))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Zj={provide:Rh,deps:[[new a.FiY,new a.tp0,Rh],wo],useFactory:function PJ(r,t){return r||new MJ(t)}},sA=new a.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Qj=(()=>{class r{constructor(e,n,i,o,s){this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=i,this._dir=o,this._rangeStrategy=s,this._rerenderSubscription=ei.w0.EMPTY,this.selectedChange=new a.vpe,this._userSelection=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const n=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ds?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(si(null)).subscribe(()=>this._init())}ngOnChanges(e){const n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const n=e.value,i=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.createDate(i,o,n);let l,v;this._selected instanceof Ds?(l=this._getDateInCurrentMonth(this._selected.start),v=this._getDateInCurrentMonth(this._selected.end)):l=v=this._getDateInCurrentMonth(this._selected),(l!==n||v!==n)&&this.selectedChange.emit(s),this._userSelection.emit({value:s,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const n=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!as(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:n}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(n?n.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:n[l]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,o=this._firstWeekOffset;i<e;i++,o++){7==o&&(this._weeks.push([]),o=0);const s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),l=this._shouldEnableDate(s),v=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),D=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new YL(i+1,n[i],v,l,D,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!(!e||!n||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(n)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){const n=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(n,i,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Ds?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO),a.Y36(wh,8),a.Y36(wo,8),a.Y36(Ss,8),a.Y36(sA,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-month-view"]],viewQuery:function(e,n){if(1&e&&a.Gf(__,5),2&e){let i;a.iGM(i=a.CRH())&&(n._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[a.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,n){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a.YNc(3,bJ,5,2,"th",2),a.qZA(),a.TgZ(4,"tr"),a._UZ(5,"th",3),a.qZA()(),a.TgZ(6,"tbody",4),a.NdJ("selectedValueChange",function(o){return n._dateSelected(o)})("previewChange",function(o){return n._previewChanged(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngForOf",n._weekdays),a.xp6(3),a.Q6J("label",n._monthLabel)("rows",n._weeks)("todayValue",n._todayDate)("startValue",n._rangeStart)("endValue",n._rangeEnd)("comparisonStart",n._comparisonRangeStart)("comparisonEnd",n._comparisonRangeEnd)("previewStart",n._previewStart)("previewEnd",n._previewEnd)("isRange",n._isRange)("labelMinRequiredCells",3)("activeCell",n._dateAdapter.getDate(n.activeDate)-1))},dependencies:[__,Sn],encapsulation:2,changeDetection:0}),r})(),Xj=(()=>{class r{constructor(e,n,i){this._changeDetectorRef=e,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=ei.w0.EMPTY,this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),Jj(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ds?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(si(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const n=this._dateAdapter.getYear(this._activeDate)-aS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,o=[];i<24;i++)o.push(n+i),4==o.length&&(this._years.push(o.map(s=>this._createCellForYear(s))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const n=e.value;this.yearSelected.emit(this._dateAdapter.createDate(n,0,1));let i=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(n,i,1));this.selectedChange.emit(this._dateAdapter.createDate(n,i,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const n=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-aS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-aS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return aS(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const n=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new YL(e,i,i,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Ds){const n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO),a.Y36(wo,8),a.Y36(Ss,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(e,n){if(1&e&&a.Gf(__,5),2&e){let i;a.iGM(i=a.CRH())&&(n._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,n){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(o){return n._yearSelected(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("rows",n._years)("todayValue",n._todayYear)("startValue",n._selectedYear)("endValue",n._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._getActiveCell()))},dependencies:[__],encapsulation:2,changeDetection:0}),r})();function Jj(r,t,e,n,i){const o=r.getYear(t),s=r.getYear(e),l=eH(r,n,i);return Math.floor((o-l)/24)===Math.floor((s-l)/24)}function aS(r,t,e,n){return function LJ(r,t){return(r%t+t)%t}(r.getYear(t)-eH(r,e,n),24)}function eH(r,t,e){let n=0;return e?n=r.getYear(e)-24+1:t&&(n=r.getYear(t)),n}let tH=(()=>{class r{constructor(e,n,i,o){this._changeDetectorRef=e,this._dateFormats=n,this._dateAdapter=i,this._dir=o,this._rerenderSubscription=ei.w0.EMPTY,this.selectedChange=new a.vpe,this.monthSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate;const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ds?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(si(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const n=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(i);const o=this._dateAdapter.getNumDaysInMonth(i);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,Math.min(this._dateAdapter.getDate(this.activeDate),o)))}_handleCalendarBodyKeydown(e){const n=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,n){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(i,"year"):void 0;return new YL(e,n.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){const n=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(n,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&n>o}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&n<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Ds?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO),a.Y36(wh,8),a.Y36(wo,8),a.Y36(Ss,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-year-view"]],viewQuery:function(e,n){if(1&e&&a.Gf(__,5),2&e){let i;a.iGM(i=a.CRH())&&(n._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,n){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(o){return n._monthSelected(o)})("keyup",function(o){return n._handleCalendarBodyKeyup(o)})("keydown",function(o){return n._handleCalendarBodyKeydown(o)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("label",n._yearLabel)("rows",n._months)("todayValue",n._todayMonth)("startValue",n._selectedMonth)("endValue",n._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",n._dateAdapter.getMonth(n.activeDate)))},dependencies:[__],encapsulation:2,changeDetection:0}),r})(),VJ=0,BJ=(()=>{class r{constructor(e,n,i,o,s){this._intl=e,this.calendar=n,this._dateAdapter=i,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+VJ++,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const n=this._dateAdapter.getYear(this.calendar.activeDate)-aS(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=n+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return this._intl.formatYearRange(o,s)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,n){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):Jj(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(sS),a.Y36((0,a.Gpc)(()=>e3)),a.Y36(wo,8),a.Y36(wh,8),a.Y36(a.sBO))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:wJ,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,n){1&e&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return n.currentPeriodClicked()}),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.O4$(),a.TgZ(5,"svg",3),a._UZ(6,"polygon",4),a.qZA()(),a.kcU(),a._UZ(7,"div",5),a.Hsn(8),a.TgZ(9,"button",6),a.NdJ("click",function(){return n.previousClicked()}),a.qZA(),a.TgZ(10,"button",7),a.NdJ("click",function(){return n.nextClicked()}),a.qZA()()()),2&e&&(a.xp6(2),a.uIk("aria-label",n.periodButtonLabel)("aria-describedby",n._buttonDescriptionId),a.xp6(1),a.uIk("id",n._buttonDescriptionId),a.xp6(1),a.Oqu(n.periodButtonText),a.xp6(1),a.ekj("mat-calendar-invert","month"!==n.calendar.currentView),a.xp6(4),a.Q6J("disabled",!n.previousEnabled()),a.uIk("aria-label",n.prevButtonLabel),a.xp6(1),a.Q6J("disabled",!n.nextEnabled()),a.uIk("aria-label",n.nextButtonLabel))},dependencies:[Oi],encapsulation:2,changeDetection:0}),r})(),e3=(()=>{class r{constructor(e,n,i,o){this._dateAdapter=n,this._dateFormats=i,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this._userSelection=new a.vpe,this.stateChanges=new dn.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Ds?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}ngAfterContentInit(){this._calendarHeaderPortal=new Sm(this.headerComponent||BJ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=n||i||e.dateFilter;if(o&&!o.firstChange){const s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const n=e.value;(this.selected instanceof Ds||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(sS),a.Y36(wo,8),a.Y36(wh,8),a.Y36(a.sBO))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-calendar"]],viewQuery:function(e,n){if(1&e&&(a.Gf(Qj,5),a.Gf(tH,5),a.Gf(Xj,5)),2&e){let i;a.iGM(i=a.CRH())&&(n.monthView=i.first),a.iGM(i=a.CRH())&&(n.yearView=i.first),a.iGM(i=a.CRH())&&(n.multiYearView=i.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[a._Bn([Zj]),a.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,n){1&e&&(a.YNc(0,CJ,0,0,"ng-template",0),a.TgZ(1,"div",1),a.YNc(2,SJ,1,8,"mat-month-view",2),a.YNc(3,EJ,1,6,"mat-year-view",3),a.YNc(4,DJ,1,6,"mat-multi-year-view",4),a.qZA()),2&e&&(a.Q6J("cdkPortalOutlet",n._calendarHeaderPortal),a.xp6(1),a.Q6J("ngSwitch",n.currentView),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngSwitchCase","multi-year"))},dependencies:[Qj,tH,Xj,l_,IZ,ii,pi],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),r})();const nH={transformPanel:jo("transformPanel",[zr("void => enter-dropdown",Zr("120ms cubic-bezier(0, 0, 0.2, 1)",s_([jn({opacity:0,transform:"scale(1, 0.8)"}),jn({opacity:1,transform:"scale(1, 1)"})]))),zr("void => enter-dialog",Zr("150ms cubic-bezier(0, 0, 0.2, 1)",s_([jn({opacity:0,transform:"scale(0.7)"}),jn({transform:"none",opacity:1})]))),zr("* => void",Zr("100ms linear",jn({opacity:0})))]),fadeInCalendar:jo("fadeInCalendar",[Wr("void",jn({opacity:0})),Wr("enter",jn({opacity:1})),zr("void => *",Zr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let GJ=0;const rH=new a.OlP("mat-datepicker-scroll-strategy"),HJ={provide:rH,deps:[oa],useFactory:function jJ(r){return()=>r.scrollStrategies.reposition()}},UJ=YC(class{constructor(r){this._elementRef=r}});let zJ=(()=>{class r extends UJ{constructor(e,n,i,o,s,l){super(e),this._changeDetectorRef=n,this._globalModel=i,this._dateAdapter=o,this._rangeSelectionStrategy=s,this._subscriptions=new ei.w0,this._animationDone=new dn.x,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const n=this._model.selection,i=e.value,o=n instanceof Ds;if(o&&this._rangeSelectionStrategy){const s=this._rangeSelectionStrategy.selectionFinished(i,n,e.event);this._model.updateSelection(s,this)}else i&&(o||!this._dateAdapter.sameDate(i,n))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Rh),a.Y36(wo),a.Y36(sA,8),a.Y36(sS))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(e,n){if(1&e&&a.Gf(e3,5),2&e){let i;a.iGM(i=a.CRH())&&(n._calendar=i.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,n){1&e&&a.WFA("@transformPanel.done",function(){return n._animationDone.next()}),2&e&&(a.d8E("@transformPanel",n._animationState),a.ekj("mat-datepicker-content-touch",n.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[a.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,n){if(1&e&&(a.TgZ(0,"div",0)(1,"mat-calendar",1),a.NdJ("yearSelected",function(o){return n.datepicker._selectYear(o)})("monthSelected",function(o){return n.datepicker._selectMonth(o)})("viewChanged",function(o){return n.datepicker._viewChanged(o)})("_userSelection",function(o){return n._handleUserSelection(o)}),a.qZA(),a.YNc(2,TJ,0,0,"ng-template",2),a.TgZ(3,"button",3),a.NdJ("focus",function(){return n._closeButtonFocused=!0})("blur",function(){return n._closeButtonFocused=!1})("click",function(){return n.datepicker.close()}),a._uU(4),a.qZA()()),2&e){let i;a.ekj("mat-datepicker-content-container-with-custom-header",n.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",n._actionsPortal),a.uIk("aria-modal",!0)("aria-labelledby",null!==(i=n._dialogLabelId)&&void 0!==i?i:void 0),a.xp6(1),a.Q6J("id",n.datepicker.id)("ngClass",n.datepicker.panelClass)("startAt",n.datepicker.startAt)("startView",n.datepicker.startView)("minDate",n.datepicker._getMinDate())("maxDate",n.datepicker._getMaxDate())("dateFilter",n.datepicker._getDateFilter())("headerComponent",n.datepicker.calendarHeaderComponent)("selected",n._getSelected())("dateClass",n.datepicker.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)("@fadeInCalendar","enter"),a.xp6(1),a.Q6J("cdkPortalOutlet",n._actionsPortal),a.xp6(1),a.ekj("cdk-visually-hidden",!n._closeButtonFocused),a.Q6J("color",n.color||"primary"),a.xp6(1),a.Oqu(n._closeButtonText)}},dependencies:[e3,Oi,EZ,Rt,l_],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[nH.transformPanel,nH.fadeInCalendar]},changeDetection:0}),r})(),iH=(()=>{class r{constructor(e,n,i,o,s,l,v){this._overlay=e,this._ngZone=n,this._viewContainerRef=i,this._dateAdapter=s,this._dir=l,this._model=v,this._inputStateChanges=ei.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this.openedStream=new a.vpe,this.closedStream=new a.vpe,this._opened=!1,this.id="mat-datepicker-"+GJ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new dn.x,this._scrollStrategy=o}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=er(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const n=er(e);n!==this._disabled&&(this._disabled=n,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=er(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=IG(e)}get opened(){return this._opened}set opened(e){er(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){const i=this._overlayRef.getConfig().positionStrategy;i instanceof Mj&&(this._setConnectedPositions(i),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=WC(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const n=this._componentRef.instance;n._startExitAnimation(),n._animationDone.pipe(Or(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,n=new Sm(zJ,this._viewContainerRef),i=this._overlayRef=this._overlay.create(new u_({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(i).subscribe(o=>{o&&o.preventDefault(),this.close()}),i.keydownEvents().subscribe(o=>{const s=o.keyCode;(38===s||40===s||37===s||39===s||33===s||34===s)&&o.preventDefault()}),this._componentRef=i.attach(n),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Or(1)).subscribe(()=>i.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const n="end"===this.xPosition?"end":"start",i="start"===n?"end":"start",o="above"===this.yPosition?"bottom":"top",s="top"===o?"bottom":"top";return e.withPositions([{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:i,originY:o,overlayX:i,overlayY:s}])}_getCloseStream(e){return(0,ia.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Pr(n=>27===n.keyCode&&!as(n)||this.datepickerInput&&as(n,"altKey")&&38===n.keyCode)))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(oa),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(rH),a.Y36(wo,8),a.Y36(Ss,8),a.Y36(Rh))},r.\u0275dir=a.lG2({type:r,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[a.TTD]}),r})(),aA=(()=>{class r extends iH{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[a._Bn([Zj,{provide:iH,useExisting:r}]),a.qOj],decls:0,vars:0,template:function(e,n){},encapsulation:2,changeDetection:0}),r})();class lA{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let WJ=(()=>{class r{constructor(e,n,i){this._elementRef=e,this._dateAdapter=n,this._dateFormats=i,this.dateChange=new a.vpe,this.dateInput=new a.vpe,this.stateChanges=new dn.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ei.w0.EMPTY,this._localeSubscription=ei.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value));return!s||this._matchesFilter(s)?null:{matDatepickerFilter:!0}},this._minValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMinDate();return!l||!s||this._dateAdapter.compareDate(l,s)<=0?null:{matDatepickerMin:{min:l,actual:s}}},this._maxValidator=o=>{const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(o.value)),l=this._getMaxDate();return!l||!s||this._dateAdapter.compareDate(l,s)>=0?null:{matDatepickerMax:{max:l,actual:s}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const n=er(e),i=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&i.blur&&i.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){const i=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(i),this._cvaOnChange(i),this._onTouched(),this._formatValue(i),this.dateInput.emit(new lA(this,this._elementRef.nativeElement)),this.dateChange.emit(new lA(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function $J(r,t){const e=Object.keys(r);for(let n of e){const{previousValue:i,currentValue:o}=r[n];if(!t.isDateInstance(i)||!t.isDateInstance(o))return!0;if(!t.sameDate(i,o))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const n=this._lastValueValid;let i=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(i),i=this._dateAdapter.getValidDateOrNull(i);const o=!this._dateAdapter.sameDate(i,this.value);!i||o?this._cvaOnChange(i):(e&&!this.value&&this._cvaOnChange(i),n!==this._lastValueValid&&this._validatorOnChange()),o&&(this._assignValue(i),this.dateInput.emit(new lA(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new lA(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const n=this._getDateFilter();return!n||n(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(wo,8),a.Y36(wh,8))},r.\u0275dir=a.lG2({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a.TTD]}),r})();const qJ={provide:Po,useExisting:(0,a.Gpc)(()=>b_),multi:!0},YJ={provide:Zi,useExisting:(0,a.Gpc)(()=>b_),multi:!0};let b_=(()=>{class r extends WJ{constructor(e,n,i,o){super(e,n,i),this._formField=o,this._closedSubscription=ei.w0.EMPTY,this._validator=or.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}get max(){return this._max}set max(e){const n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(wo,8),a.Y36(wh,8),a.Y36(XC,8))},r.\u0275dir=a.lG2({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,n){1&e&&a.NdJ("input",function(o){return n._onInput(o.target.value)})("change",function(){return n._onChange()})("blur",function(){return n._onBlur()})("keydown",function(o){return n._onKeydown(o)}),2&e&&(a.Ikx("disabled",n.disabled),a.uIk("aria-haspopup",n._datepicker?"dialog":null)("aria-owns",(null==n._datepicker?null:n._datepicker.opened)&&n._datepicker.id||null)("min",n.min?n._dateAdapter.toIso8601(n.min):null)("max",n.max?n._dateAdapter.toIso8601(n.max):null)("data-mat-calendar",n._datepicker?n._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[a._Bn([qJ,YJ,{provide:bj,useExisting:r}]),a.qOj]}),r})(),KJ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","matDatepickerToggleIcon",""]]}),r})(),uA=(()=>{class r{constructor(e,n,i){this._intl=e,this._changeDetectorRef=n,this._stateChanges=ei.w0.EMPTY;const o=Number(i);this.tabIndex=o||0===o?o:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=er(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:gn(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:gn(),i=this.datepicker?(0,ia.T)(this.datepicker.openedStream,this.datepicker.closedStream):gn();this._stateChanges.unsubscribe(),this._stateChanges=(0,ia.T)(this._intl.changes,e,n,i).subscribe(()=>this._changeDetectorRef.markForCheck())}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(sS),a.Y36(a.sBO),a.$8M("tabindex"))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,n,i){if(1&e&&a.Suo(i,KJ,5),2&e){let o;a.iGM(o=a.CRH())&&(n._customIcon=o.first)}},viewQuery:function(e,n){if(1&e&&a.Gf(xJ,5),2&e){let i;a.iGM(i=a.CRH())&&(n._button=i.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,n){1&e&&a.NdJ("click",function(o){return n._open(o)}),2&e&&(a.uIk("tabindex",null)("data-mat-calendar",n.datepicker?n.datepicker.id:null),a.ekj("mat-datepicker-toggle-active",n.datepicker&&n.datepicker.opened)("mat-accent",n.datepicker&&"accent"===n.datepicker.color)("mat-warn",n.datepicker&&"warn"===n.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[a.TTD],ngContentSelectors:OJ,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,n){1&e&&(a.F$t(AJ),a.TgZ(0,"button",0,1),a.YNc(2,RJ,2,0,"svg",2),a.Hsn(3),a.qZA()),2&e&&(a.Q6J("disabled",n.disabled)("disableRipple",n.disableRipple),a.uIk("aria-haspopup",n.datepicker?"dialog":null)("aria-label",n.ariaLabel||n._intl.openCalendarLabel)("tabindex",n.disabled?-1:n.tabIndex),a.xp6(2),a.Q6J("ngIf",!n._customIcon))},dependencies:[Oi,Un],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),r})(),ZJ=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[sS,HJ],imports:[[Vs,AL,c_,PZ,KR,ur],Ch]}),r})();function QJ(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",27),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e),a.xp6(1),a.Oqu(e)}}function XJ(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",27),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e),a.xp6(1),a.Oqu(e)}}function JJ(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Payment Mode"),a.qZA())}function eee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.paymentMode," ")}}function tee(r,t){if(1&r&&(a.TgZ(0,"td",30),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" TOTAL : ",e.recoveryModeWiseCollection.length," ")}}function nee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Amount"),a.qZA())}function ree(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.amount,"\u20b9")," ")}}function iee(r,t){if(1&r&&(a.TgZ(0,"td",30),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" ",a.xi3(2,1,e.getTotalModeWiseAmountReceived(),"\u20b9")," ")}}function oee(r,t){1&r&&a._UZ(0,"tr",31)}function see(r,t){1&r&&a._UZ(0,"tr",32)}function aee(r,t){1&r&&a._UZ(0,"tr",33)}function lee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Store Name"),a.qZA())}function uee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.storeName.storeName," ")}}function cee(r,t){if(1&r&&(a.TgZ(0,"td",30),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" TOTAL : ",e.recoveryCollection.length," ")}}function dee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Bill No."),a.qZA())}function hee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.billNumber," ")}}function fee(r,t){1&r&&a._UZ(0,"td",30)}function pee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Recovery Date"),a.qZA())}function mee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.createdDate," ")}}function gee(r,t){1&r&&a._UZ(0,"td",30)}function vee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Salesman"),a.qZA())}function yee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.recoveryAgent," ")}}function _ee(r,t){1&r&&a._UZ(0,"td",30)}function bee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Receipt No."),a.qZA())}function wee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.receiptNumber," ")}}function Cee(r,t){1&r&&a._UZ(0,"td",30)}function See(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Mode"),a.qZA())}function Eee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.modeOfPayment," ")}}function Dee(r,t){1&r&&a._UZ(0,"td",30)}function Tee(r,t){1&r&&(a.TgZ(0,"th",28),a._uU(1,"Amount Received"),a.qZA())}function xee(r,t){if(1&r&&(a.TgZ(0,"td",29),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.amountReceived,"\u20b9")," ")}}function Ree(r,t){if(1&r&&(a.TgZ(0,"td",30),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" ",a.xi3(2,1,e.getTotalAmountReceived(),"\u20b9")," ")}}function Aee(r,t){1&r&&a._UZ(0,"tr",31)}function Oee(r,t){1&r&&a._UZ(0,"tr",32)}function Mee(r,t){1&r&&a._UZ(0,"tr",33)}let Iee=(()=>{class r{constructor(e,n,i){this.recoveryService=e,this.userService=n,this.paymentModeService=i,this.recoveryFixedCollection=[],this.recoveryCollection=[],this.recoveryModeWiseCollection=[],this.salesmanCollection=[],this.paymentModeCollection=[],this.displayedColumns=["storeName","salesman","billNo","recoveryDate","receiptNo","paymentmode","recoveryAmount"],this.recoveryModeWisedisplayedColumns=["paymentMode","amount"]}ngOnInit(){this.fromDate=new Mn(new Date),this.toDate=new Mn(new Date),this.salesmanSelected=new Mn("ALL"),this.getSalesmanDetail(),this.paymentModeSelected=new Mn("ALL"),this.getPaymentModes(),this.onfetchRecoveryDetails()}onfetchRecoveryDetails(){this.fromDate&&this.fromDate?(this.recoveryCollection=[],this.recoveryModeWiseCollection=[],this.fromDate.value.setHours(0,0,0,0),this.toDate.value.setHours(23,59,59,0),this.recoveryService.getRecoveryDetails("",this.fromDate.value,this.toDate.value).then(e=>{this.recoveryFixedCollection=this.sortData(e),this.onSelectionChange()}).catch(e=>{console.log(e)})):console.log("error in form")}sortData(e){return e.sort((n,i)=>n.recoveryDate-i.recoveryDate)}GroupByPaymentMode(e){let n=[];return e.map(o=>o.modeOfPayment).forEach(o=>{if(!n.find(s=>s.paymentMode==o)){let l=e.filter(v=>v.modeOfPayment==o).reduce((v,D)=>v+ +D.amountReceived,0);n.push({paymentMode:o,amount:l})}}),n}getTotalAmountReceived(){return this.recoveryCollection.map(e=>+e.amountReceived).reduce((e,n)=>e+n,0)}getTotalModeWiseAmountReceived(){return this.recoveryModeWiseCollection.map(e=>+e.amount).reduce((e,n)=>e+n,0)}getSalesmanDetail(){this.salesmanCollection=[],this.userService.getSalesmanList().then(e=>{if(e&&e.length>0){let n=e.filter(i=>"salesman"==i.role);this.salesmanCollection.push("ALL"),n.forEach(i=>this.salesmanCollection.push(i.username))}}).catch(()=>{})}getPaymentModes(){this.paymentModeCollection=[],this.paymentModeService.getPaymentModeList().then(e=>{e&&e.length>0&&(this.paymentModeCollection.push("ALL"),e.forEach(n=>this.paymentModeCollection.push(n.mode)))}).catch(()=>{})}onSelectionChange(){this.filterData()}filterData(){let e=[];e="ALL"==this.salesmanSelected.value?this.recoveryFixedCollection:this.recoveryFixedCollection.filter(n=>n.recoveryAgent==this.salesmanSelected.value),this.paymentModeSelected.value&&"ALL"!=this.paymentModeSelected.value&&(e=e.filter(n=>n.modeOfPayment==this.paymentModeSelected.value)),this.recoveryCollection=this.sortData(e),this.recoveryModeWiseCollection=this.GroupByPaymentMode(e)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(jC),a.Y36(qK),a.Y36(YK))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-dashboard"]],decls:76,vars:18,consts:[[1,"centerFlex"],["appearance","outline"],[3,"formControl","selectionChange"],[4,"ngFor","ngForOf"],["appearance","outline",1,"mat-form-field-custome"],["matInput","","placeholder","From date",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","To date",3,"matDatepicker","formControl"],["toPicker",""],["mat-raised-button","","color","primary",2,"margin-left","1em",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","paymentMode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","amount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["matColumnDef","storeName"],["matColumnDef","billNo"],["matColumnDef","recoveryDate"],["matColumnDef","salesman"],["matColumnDef","receiptNo"],["matColumnDef","paymentmode"],["matColumnDef","recoveryAmount"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){if(1&e&&(a.TgZ(0,"div",0)(1,"div")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Salesman Filter"),a.qZA(),a.TgZ(5,"mat-select",2),a.NdJ("selectionChange",function(){return n.onSelectionChange()}),a.YNc(6,QJ,3,2,"div",3),a.qZA()(),a.TgZ(7,"mat-form-field",1)(8,"mat-label"),a._uU(9,"Payment Mode"),a.qZA(),a.TgZ(10,"mat-select",2),a.NdJ("selectionChange",function(){return n.onSelectionChange()}),a.YNc(11,XJ,3,2,"div",3),a.qZA()(),a.TgZ(12,"mat-form-field",4)(13,"mat-label"),a._uU(14,"From date"),a.qZA(),a._UZ(15,"input",5)(16,"mat-datepicker-toggle",6)(17,"mat-datepicker",null,7),a.qZA(),a.TgZ(19,"mat-form-field",4)(20,"mat-label"),a._uU(21,"To date"),a.qZA(),a._UZ(22,"input",8)(23,"mat-datepicker-toggle",6)(24,"mat-datepicker",null,9),a.qZA(),a.TgZ(26,"button",10),a.NdJ("click",function(){return n.onfetchRecoveryDetails()}),a._uU(27," Search "),a.qZA()()(),a.TgZ(28,"div")(29,"table",11),a.ynx(30,12),a.YNc(31,JJ,2,0,"th",13),a.YNc(32,eee,2,1,"td",14),a.YNc(33,tee,2,1,"td",15),a.BQk(),a.ynx(34,16),a.YNc(35,nee,2,0,"th",13),a.YNc(36,ree,3,4,"td",14),a.YNc(37,iee,3,4,"td",15),a.BQk(),a.YNc(38,oee,1,0,"tr",17),a.YNc(39,see,1,0,"tr",18),a.YNc(40,aee,1,0,"tr",19),a.qZA()(),a._UZ(41,"br")(42,"br"),a.TgZ(43,"div")(44,"table",11),a.ynx(45,20),a.YNc(46,lee,2,0,"th",13),a.YNc(47,uee,2,1,"td",14),a.YNc(48,cee,2,1,"td",15),a.BQk(),a.ynx(49,21),a.YNc(50,dee,2,0,"th",13),a.YNc(51,hee,2,1,"td",14),a.YNc(52,fee,1,0,"td",15),a.BQk(),a.ynx(53,22),a.YNc(54,pee,2,0,"th",13),a.YNc(55,mee,2,1,"td",14),a.YNc(56,gee,1,0,"td",15),a.BQk(),a.ynx(57,23),a.YNc(58,vee,2,0,"th",13),a.YNc(59,yee,2,1,"td",14),a.YNc(60,_ee,1,0,"td",15),a.BQk(),a.ynx(61,24),a.YNc(62,bee,2,0,"th",13),a.YNc(63,wee,2,1,"td",14),a.YNc(64,Cee,1,0,"td",15),a.BQk(),a.ynx(65,25),a.YNc(66,See,2,0,"th",13),a.YNc(67,Eee,2,1,"td",14),a.YNc(68,Dee,1,0,"td",15),a.BQk(),a.ynx(69,26),a.YNc(70,Tee,2,0,"th",13),a.YNc(71,xee,3,4,"td",14),a.YNc(72,Ree,3,4,"td",15),a.BQk(),a.YNc(73,Aee,1,0,"tr",17),a.YNc(74,Oee,1,0,"tr",18),a.YNc(75,Mee,1,0,"tr",19),a.qZA()()),2&e){const i=a.MAs(18),o=a.MAs(25);a.xp6(5),a.Q6J("formControl",n.salesmanSelected),a.xp6(1),a.Q6J("ngForOf",n.salesmanCollection),a.xp6(4),a.Q6J("formControl",n.paymentModeSelected),a.xp6(1),a.Q6J("ngForOf",n.paymentModeCollection),a.xp6(4),a.Q6J("matDatepicker",i)("formControl",n.fromDate),a.xp6(1),a.Q6J("for",i),a.xp6(6),a.Q6J("matDatepicker",o)("formControl",n.toDate),a.xp6(1),a.Q6J("for",o),a.xp6(6),a.Q6J("dataSource",n.recoveryModeWiseCollection),a.xp6(9),a.Q6J("matHeaderRowDef",n.recoveryModeWisedisplayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.recoveryModeWisedisplayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",n.recoveryModeWisedisplayedColumns),a.xp6(4),a.Q6J("dataSource",n.recoveryCollection),a.xp6(29),a.Q6J("matHeaderRowDef",n.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.displayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",n.displayedColumns)}},dependencies:[Sn,Oi,Es,Ho,QC,vu,El,ra,Dm,Eh,Tm,Dh,Sh,xm,m_,v_,Th,xh,g_,Rm,Am,y_,aA,b_,uA,mo,Sa,ql,df],styles:["button[_ngcontent-%COMP%]{width:20em;margin:1em}mat-form-field[_ngcontent-%COMP%]{width:20em;margin-left:1em}"]}),r})();var oH=Oe(3099);class Pee{}class Ah{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const i=e.slice(0,n),o=i.toLowerCase(),s=e.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ah?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ah;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ah?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(l=>-1===o.indexOf(l)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class kee{encodeKey(t){return sH(t)}encodeValue(t){return sH(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Nee=/%(\d[a-f0-9])/gi,Lee={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sH(r){return encodeURIComponent(r).replace(Nee,(t,e)=>Lee[e]??t)}function cA(r){return`${r}`}class Oh{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new kee,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Fee(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,l]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],v=e.get(s)||[];v.push(l),e.set(s,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e],i=Array.isArray(n)?n.map(cA):[cA(n)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Oh({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(cA(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const i=n.indexOf(cA(t.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Vee{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function aH(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function lH(r){return typeof Blob<"u"&&r instanceof Blob}function uH(r){return typeof FormData<"u"&&r instanceof FormData}class lS{constructor(t,e,n,i){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Bee(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ah),this.context||(this.context=new Vee),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+s}}else this.params=new Oh,this.urlWithParams=e}serializeBody(){return null===this.body?null:aH(this.body)||lH(this.body)||uH(this.body)||function Gee(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uH(this.body)?null:lH(this.body)?this.body.type||null:aH(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,D=t.params||this.params;const F=t.context??this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((z,re)=>z.set(re,t.setHeaders[re]),v)),t.setParams&&(D=Object.keys(t.setParams).reduce((z,re)=>z.set(re,t.setParams[re]),D)),new lS(e,n,o,{params:D,headers:v,context:F,reportProgress:l,responseType:i,withCredentials:s})}}var Co=(()=>((Co=Co||{})[Co.Sent=0]="Sent",Co[Co.UploadProgress=1]="UploadProgress",Co[Co.ResponseHeader=2]="ResponseHeader",Co[Co.DownloadProgress=3]="DownloadProgress",Co[Co.Response=4]="Response",Co[Co.User=5]="User",Co))();class t3 extends class jee{constructor(t,e=200,n="OK"){this.headers=t.headers||new Ah,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Co.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new t3({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function n3(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let dH=(()=>{class r{constructor(e){this.handler=e}request(e,n,i={}){let o;if(e instanceof lS)o=e;else{let v,D;v=i.headers instanceof Ah?i.headers:new Ah(i.headers),i.params&&(D=i.params instanceof Oh?i.params:new Oh({fromObject:i.params})),o=new lS(e,n,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=gn(o).pipe(ol(v=>this.handler.handle(v)));if(e instanceof lS||"events"===i.observe)return s;const l=s.pipe(Pr(v=>v instanceof t3));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe((0,Dn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return l.pipe((0,Dn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return l.pipe((0,Dn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return l.pipe((0,Dn.U)(v=>v.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new Oh).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,i={}){return this.request("PATCH",e,n3(i,n))}post(e,n,i={}){return this.request("POST",e,n3(i,n))}put(e,n,i={}){return this.request("PUT",e,n3(i,n))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Pee))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const Uee=["*"];let dA;function uS(r){return function zee(){if(void 0===dA&&(dA=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(dA=r.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return dA}()?.createHTML(r)||r}function hH(r){return Error(`Unable to find icon with the name "${r}"`)}function fH(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function pH(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class Om{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let hA=(()=>{class r{constructor(e,n,i,o){this._httpClient=e,this._sanitizer=n,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,n,i){return this.addSvgIconInNamespace("",e,n,i)}addSvgIconLiteral(e,n,i){return this.addSvgIconLiteralInNamespace("",e,n,i)}addSvgIconInNamespace(e,n,i,o){return this._addSvgIconConfig(e,n,new Om(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,i,o){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw pH(i);const l=uS(s);return this._addSvgIconConfig(e,n,new Om("",l,o))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,i){return this._addSvgIconSetConfig(e,new Om(n,null,i))}addSvgIconSetLiteralInNamespace(e,n,i){const o=this._sanitizer.sanitize(a.q3G.HTML,n);if(!o)throw pH(n);const s=uS(o);return this._addSvgIconSetConfig(e,new Om("",s,i))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!n)throw fH(e);const i=this._cachedIconsByUrl.get(n);return i?gn(fA(i)):this._loadSvgIconFromConfig(new Om(e,null)).pipe((0,yi.b)(o=>this._cachedIconsByUrl.set(n,o)),(0,Dn.U)(o=>fA(o)))}getNamedSvgIcon(e,n=""){const i=mH(n,e);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(n,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(n);return s?this._getSvgFromIconSetConfigs(e,s):Gs(hH(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?gn(fA(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Dn.U)(n=>fA(n)))}_getSvgFromIconSetConfigs(e,n){const i=this._extractIconWithNameFromAnySet(e,n);return i?gn(i):d0(n.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(sl(l=>{const D=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,s.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(D)),gn(null)})))).pipe((0,Dn.U)(()=>{const s=this._extractIconWithNameFromAnySet(e,n);if(!s)throw hH(e);return s}))}_extractIconWithNameFromAnySet(e,n){for(let i=n.length-1;i>=0;i--){const o=n[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(s,e,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,yi.b)(n=>e.svgText=n),(0,Dn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?gn(null):this._fetchIcon(e).pipe((0,yi.b)(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,i){const o=e.querySelector(`[id="${n}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,i);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),i);const l=this._svgElementFromString(uS("<svg></svg>"));return l.appendChild(s),this._setSvgAttributes(l,i)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const i=n.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const n=this._svgElementFromString(uS("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){const{name:s,value:l}=i[o];"id"!==s&&n.setAttribute(s,l)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[o].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){const{url:n,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw function Wee(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,n);if(!s)throw fH(n);const l=this._inProgressUrlFetches.get(s);if(l)return l;const v=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe((0,Dn.U)(D=>uS(D)),pb(()=>this._inProgressUrlFetches.delete(s)),(0,oH.B)());return this._inProgressUrlFetches.set(s,v),v}_addSvgIconConfig(e,n,i){return this._svgIconConfigs.set(mH(e,n),i),this}_addSvgIconSetConfig(e,n){const i=this._iconSetConfigs.get(e);return i?i.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](n,e);if(o)return qee(o)?new Om(o.url,null,o.options):new Om(o,null)}}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(dH,8),a.LFG(ub),a.LFG(M,8),a.LFG(a.qLn))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function fA(r){return r.cloneNode(!0)}function mH(r,t){return r+":"+t}function qee(r){return!(!r.url||!r.options)}const Yee=YC(class{constructor(r){this._elementRef=r}}),Kee=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Zee(){const r=(0,a.f3M)(M),t=r?r.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),gH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Qee=gH.map(r=>`[${r}]`).join(", "),Xee=/^url\(['"]?#(.*?)['"]?\)$/;let cS=(()=>{class r extends Yee{constructor(e,n,i,o,s){super(e),this._iconRegistry=n,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=ei.w0.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=er(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const i=e.childNodes[n];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),n&&e.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(Qee),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<n.length;o++)gH.forEach(s=>{const l=n[o],v=l.getAttribute(s),D=v?v.match(Xee):null;if(D){let F=i.get(l);F||(F=[],i.set(l,F)),F.push({name:s,value:D[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,i]=this._splitIconName(e);n&&(this._svgNamespace=n),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,n).pipe(Or(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${i}! ${o.message}`))})}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(hA),a.$8M("aria-hidden"),a.Y36(Kee),a.Y36(a.qLn))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,n){2&e&&(a.uIk("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),a.ekj("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Uee,decls:1,vars:0,template:function(e,n){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),Jee=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur],ur]}),r})();function ete(r,t){1&r&&(a.TgZ(0,"span",9),a._uU(1,"Login failed please enter valid details..."),a.qZA())}let tte=(()=>{class r{constructor(e,n){this.authService=e,this.router=n,this.hide=!0}ngOnInit(){this.initForm()}initForm(){this.loginFormGroup=new Ea({mobileNumber:new Mn("",[or.required]),password:new Mn("",[or.required])})}onLogin(){if(this.loginFormGroup.invalid)return void console.log("Enter login details");let e={mobileNumber:this.loginFormGroup.value.mobileNumber,password:this.loginFormGroup.value.password};this.loginFailed=!1,this.authService.onLogin(e).then(n=>{n&&n.length>0?this.router.navigate(["/dashboard"]):(this.loginFailed=!0,this.initForm())}).catch(n=>{console.log(n),this.loginFailed=!0,this.initForm()})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(_h),a.Y36(yr))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-login"]],decls:21,vars:6,consts:[[3,"formGroup"],["appearance","outline"],["formControlName","mobileNumber","matInput","","type","number","placeholder","Enter Mobile No."],["matSuffix",""],["matInput","","formControlName","password","placeholder","Enter Password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["style","color: red; font-size: medium",4,"ngIf"],["align","center"],["mat-raised-button","","color","primary",1,"button",3,"click"],[2,"color","red","font-size","medium"]],template:function(e,n){1&e&&(a.TgZ(0,"form",0)(1,"p")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Enter Mobile Number"),a.qZA(),a._UZ(5,"input",2),a.TgZ(6,"mat-icon",3),a._uU(7,"phone"),a.qZA()()(),a.TgZ(8,"p")(9,"mat-form-field",1)(10,"mat-label"),a._uU(11,"Enter Password"),a.qZA(),a._UZ(12,"input",4),a.TgZ(13,"button",5),a.NdJ("click",function(){return n.hide=!n.hide}),a.TgZ(14,"mat-icon"),a._uU(15),a.qZA()()()(),a.TgZ(16,"p"),a.YNc(17,ete,2,0,"span",6),a.qZA(),a.TgZ(18,"p",7)(19,"button",8),a.NdJ("click",function(){return n.onLogin()}),a._uU(20," Login "),a.qZA()()()),2&e&&(a.Q6J("formGroup",n.loginFormGroup),a.xp6(12),a.Q6J("type",n.hide?"password":"text"),a.xp6(1),a.uIk("aria-label","Hide password")("aria-pressed",n.hide),a.xp6(2),a.Oqu(n.hide?"visibility_off":"visibility"),a.xp6(2),a.Q6J("ngIf",n.loginFailed))},dependencies:[Un,Oi,cS,Es,Ho,QC,vu,qs,mo,hl,Sa,Wl,Xo,Ta],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10em}button[_ngcontent-%COMP%]{width:25em}"]}),r})(),dS=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=er(e)}get inset(){return this._inset}set inset(e){this._inset=er(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,n){2&e&&(a.uIk("aria-orientation",n.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",n.vertical)("mat-divider-horizontal",!n.vertical)("mat-divider-inset",n.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,n){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),r})(),vH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur],ur]}),r})(),nte=(()=>{class r{constructor(e,n){this.router=e,this.activatedRoute=n}ngOnInit(){}onSelectionChange(e){console.log(e),e&&("store"===e?this.router.navigate(["storedataentry"],{relativeTo:this.activatedRoute}):"route"===e?this.router.navigate(["routedataentry"],{relativeTo:this.activatedRoute}):"bill"===e&&this.router.navigate(["billdataentry"],{relativeTo:this.activatedRoute}))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(yr),a.Y36(ms))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-data-entry"]],decls:17,vars:0,consts:[["appearance","outline"],[3,"selectionChange"],["value","route"],["value","store"],["value","bill"],[1,"container"],[1,"line"]],template:function(e,n){1&e&&(a.TgZ(0,"p")(1,"mat-form-field",0)(2,"mat-label"),a._uU(3,"Select Option to Enter Data"),a.qZA(),a.TgZ(4,"mat-select",1),a.NdJ("selectionChange",function(o){return n.onSelectionChange(o.value)}),a.TgZ(5,"mat-option",2),a._uU(6,"Route"),a.qZA(),a.TgZ(7,"mat-option",3),a._uU(8,"Store"),a.qZA(),a.TgZ(9,"mat-option",4),a._uU(10,"Bill"),a.qZA()()()(),a.TgZ(11,"div",5)(12,"div",6),a._UZ(13,"mat-divider"),a.qZA(),a.TgZ(14,"div",6),a._UZ(15,"mat-divider"),a.qZA()(),a._UZ(16,"router-outlet"))},dependencies:[gd,dS,Es,Ho,El,ra],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:10px}.line[_ngcontent-%COMP%]{flex:1}button[_ngcontent-%COMP%]{width:25em}"]}),r})(),Mm=(()=>{class r{constructor(e){this.firestoreService=e}getStores(e){var n=this;return(0,yt.Z)(function*(){const i=[];return e&&i.push(Go("route","==",e)),n.getStoreFilterdData(i)})()}addStoreDetails(e){return dL(this.firestoreService.storeCollectionInstance,e)}getSpecificStoreDetails(e){var n=this;return(0,yt.Z)(function*(){const i=[];return i.push(Go("mobileNo","==",e.mobileNo)),n.getStoreFilterdData(i)})()}updateStoreDetails(e){return GC(pu(this.firestoreService.firestore,ut.STORE_COLLECTION_NAME,e.id),{...e})}deleteStore(e){const n=pu(this.firestoreService.firestore,ut.STORE_COLLECTION_NAME,e);return RR(n)}getStoreFilterdData(e){var n=this;return(0,yt.Z)(function*(){let i=[];const o=Jy(n.firestoreService.storeCollectionInstance,...e);return(yield BC(o)).forEach(l=>{console.log(l.data()),i.push({...l.data(),id:l.id})}),i})()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Mh=(()=>{class r{constructor(e){this.firestoreService=e}getRoutes(){var e=this;return(0,yt.Z)(function*(){let n=[];return(yield BC(e.firestoreService.routeCollectionInstance)).forEach(o=>{console.log(o.data()),n.push({...o.data(),id:o.id})}),console.log(JSON.stringify(n)),n})()}addRoute(e){return $K(pu(this.firestoreService.firestore,ut.ROUTE_COLLECTION_NAME,e.routeName.toLowerCase()),e)}updateRoute(e){return GC(pu(this.firestoreService.firestore,ut.ROUTE_COLLECTION_NAME,e.id),{...e})}deleteRoute(e){const n=pu(this.firestoreService.firestore,ut.ROUTE_COLLECTION_NAME,e);return RR(n)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),w_=(()=>{class r{constructor(e,n){this.firestoreService=e,this.logService=n}getFilteredBills(e,n,i,o,s,l=""){var v=this;return(0,yt.Z)(function*(){const D=[];return e&&D.push(Go("route","==",e)),n&&D.push(Go("storeName.storeName","==",n)),i&&(D.push(Go("billDate",">=",i)),o&&D.push(Go("billDate","<=",o))),s&&D.push(Go("billNumber","==",s)),v.getBills(D)})()}deleteBill(e){const n=pu(this.firestoreService.firestore,ut.BILL_COLLECTION_NAME,e);return RR(n)}getFilteredBillsByStoreName(e){var n=this;return(0,yt.Z)(function*(){const i=[Go("storeName.storeName","==",e),Go("pendingAmount",">",0),WK("pendingAmount","asc")];return n.getBills(i)})()}getFilteredBillsByBillNumber(e){var n=this;return(0,yt.Z)(function*(){const i=[Go("billNumber","==",e)];return n.getBills(i)})()}getBills(e){var n=this;return(0,yt.Z)(function*(){let i=[];const o=Jy(n.firestoreService.billCollectionInstance,...e);return(yield uR(o)).forEach(l=>{console.log(l.data()),i.push({...l.data(),id:l.id})}),console.log(JSON.stringify(i)),i})()}updateBillPendingAmount(e){return this.logService.info("Update Bill Pending Amount",e),GC(pu(this.firestoreService.firestore,ut.BILL_COLLECTION_NAME,e.id),{...e})}addBillDetails(e){return dL(this.firestoreService.billCollectionInstance,e)}updateBillDetails(e){return this.logService.info("Update Bill Details",e),GC(pu(this.firestoreService.firestore,ut.BILL_COLLECTION_NAME,e.id),{...e})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(yh),a.LFG(DG))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rte=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})();const yH=new Set;let C_,ite=(()=>{class r{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ste}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function ote(r){if(!yH.has(r))try{C_||(C_=document.createElement("style"),C_.setAttribute("type","text/css"),document.head.appendChild(C_)),C_.sheet&&(C_.sheet.insertRule(`@media ${r} {body{ }}`,0),yH.add(r))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Hi))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ste(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let r3=(()=>{class r{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new dn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _H(NR(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let o=Lu(_H(NR(e)).map(s=>this._registerQuery(s).observable));return o=il(o.pipe(Or(1)),o.pipe(OG(1),FR(0))),o.pipe((0,Dn.U)(s=>{const l={matches:!1,breakpoints:{}};return s.forEach(({matches:v,query:D})=>{l.matches=l.matches||v,l.breakpoints[D]=v}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),o={observable:new Ko.y(s=>{const l=v=>this._zone.run(()=>s.next(v));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(si(n),(0,Dn.U)(({matches:s})=>({query:e,matches:s})),Cr(this._destroySubject)),mql:n};return this._queries.set(e,o),o}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(ite),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function _H(r){return r.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function ate(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.action())}),a._uU(2),a.qZA()()}if(2&r){const e=a.oxw();a.xp6(2),a.Oqu(e.data.action)}}function lte(r,t){}const wH=new a.OlP("MatSnackBarData");class pA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ute=Math.pow(2,31)-1;class o3{constructor(t,e){this._overlayRef=e,this._afterDismissed=new dn.x,this._afterOpened=new dn.x,this._onAction=new dn.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,ute))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let cte=(()=>{class r{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(o3),a.Y36(wH))},r.\u0275cmp=a.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,n){1&e&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,ate,3,1,"div",1)),2&e&&(a.xp6(1),a.Oqu(n.data.message),a.xp6(1),a.Q6J("ngIf",n.hasAction))},dependencies:[Oi,Un],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),r})();const dte={snackBarState:jo("state",[Wr("void, hidden",jn({transform:"scale(0.8)",opacity:0})),Wr("visible",jn({transform:"scale(1)",opacity:1})),zr("* => visible",Zr("150ms cubic-bezier(0, 0, 0.2, 1)")),zr("* => void, * => hidden",Zr("75ms cubic-bezier(0.4, 0.0, 1, 1)",jn({opacity:0})))])};let hte=(()=>{class r extends YR{constructor(e,n,i,o,s){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=s,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new dn.x,this._onExit=new dn.x,this._onEnter=new dn.x,this._animationState="void",this.attachDomPortal=l=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(l)),this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:n,toState:i}=e;if(("void"===i&&"void"!==n||"hidden"===i)&&this._completeExit(),"visible"===i){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Or(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(i=>e.classList.add(i)):e.classList.add(n)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Hi),a.Y36(pA))},r.\u0275cmp=a.Xpm({type:r,selectors:[["snack-bar-container"]],viewQuery:function(e,n){if(1&e&&a.Gf(l_,7),2&e){let i;a.iGM(i=a.CRH())&&(n._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,n){1&e&&a.WFA("@state.done",function(o){return n.onAnimationEnd(o)}),2&e&&a.d8E("@state",n._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a.YNc(1,lte,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&e&&(a.xp6(2),a.uIk("aria-live",n._live)("role",n._role))},dependencies:[l_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[dte.snackBarState]}}),r})(),CH=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[c_,KR,Vs,AL,ur],ur]}),r})();const SH=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function fte(){return new pA}});let pte=(()=>{class r{constructor(e,n,i,o,s,l){this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",i){const o={...this._defaultConfig,...i};return o.data={message:e,action:n},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){const o=a.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:pA,useValue:n}]}),s=new Sm(this.snackBarContainerComponent,n.viewContainerRef,o),l=e.attach(s);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){const i={...new pA,...this._defaultConfig,...n},o=this._createOverlay(i),s=this._attachSnackBarContainer(o,i),l=new o3(s,o);if(e instanceof a.Rgc){const v=new tS(e,null,{$implicit:i.data,snackBarRef:l});l.instance=s.attachTemplatePortal(v)}else{const v=this._createInjector(i,l),D=new Sm(e,void 0,v),F=s.attachComponentPortal(D);l.instance=F.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Cr(o.detachments())).subscribe(v=>{o.overlayElement.classList.toggle(this.handsetCssClass,v.matches)}),i.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(l,i),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){const n=new u_;n.direction=e.direction;let i=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,l=!s&&"center"!==e.horizontalPosition;return s?i.left("0"):l?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),n.positionStrategy=i,this._overlay.create(n)}_createInjector(e,n){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:o3,useValue:n},{provide:wH,useValue:e.data}]})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(oa),a.LFG(_L),a.LFG(a.zs3),a.LFG(r3),a.LFG(r,12),a.LFG(SH))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),S_=(()=>{class r extends pte{constructor(e,n,i,o,s,l){super(e,n,i,o,s,l),this.simpleSnackBarComponent=cte,this.snackBarContainerComponent=hte,this.handsetCssClass="mat-snack-bar-handset"}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(oa),a.LFG(_L),a.LFG(a.zs3),a.LFG(r3),a.LFG(r,12),a.LFG(SH))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:CH}),r})(),Dl=(()=>{class r{constructor(e){this.snackBar=e}openSnackBar(e,n){this.snackBar.open(e,n,{duration:5e3})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(S_))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function mte(r,t){}class s3{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const gte={dialogContainer:jo("dialogContainer",[Wr("void, exit",jn({opacity:0,transform:"scale(0.7)"})),Wr("enter",jn({transform:"none"})),zr("* => enter",uj([Zr("150ms cubic-bezier(0, 0, 0.2, 1)",jn({transform:"none",opacity:1})),HR("@*",jR(),{optional:!0})])),zr("* => void, * => exit",uj([Zr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",jn({opacity:0})),HR("@*",jR(),{optional:!0})]))])};let vte=(()=>{class r extends YR{constructor(e,n,i,o,s,l,v,D){super(),this._elementRef=e,this._focusTrapFactory=n,this._changeDetectorRef=i,this._config=s,this._interactivityChecker=l,this._ngZone=v,this._focusMonitor=D,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=F=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(F)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=WC())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const n=WC(),i=this._elementRef.nativeElement;(!n||n===this._document.body||n===i||i.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=WC();return e===n||e.contains(n)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(yL),a.Y36(a.sBO),a.Y36(M,8),a.Y36(s3),a.Y36(vL),a.Y36(a.R0b),a.Y36(i_))},r.\u0275dir=a.lG2({type:r,viewQuery:function(e,n){if(1&e&&a.Gf(l_,7),2&e){let i;a.iGM(i=a.CRH())&&(n._portalOutlet=i.first)}},features:[a.qOj]}),r})(),yte=(()=>{class r extends vte{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:n}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}_onAnimationStart({toState:e,totalTime:n}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:n})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,n){1&e&&a.WFA("@dialogContainer.start",function(o){return n._onAnimationStart(o)})("@dialogContainer.done",function(o){return n._onAnimationDone(o)}),2&e&&(a.Ikx("id",n._id),a.uIk("role",n._config.role)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null),a.d8E("@dialogContainer",n._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&a.YNc(0,mte,0,0,"ng-template",0)},dependencies:[l_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[gte.dialogContainer]}}),r})(),_te=0;class hS{constructor(t,e,n="mat-dialog-"+_te++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new dn.x,this._afterClosed=new dn.x,this._beforeClosed=new dn.x,this._state=0,e._id=n,e._animationStateChanged.pipe(Pr(i=>"opened"===i.state),Or(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Pr(i=>"closed"===i.state),Or(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Pr(i=>27===i.keyCode&&!this.disableClose&&!as(i))).subscribe(i=>{i.preventDefault(),a3(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():a3(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Pr(e=>"closing"===e.state),Or(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function a3(r,t,e){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=t),r.close(e)}const mA=new a.OlP("MatDialogData"),bte=new a.OlP("mat-dialog-default-options"),EH=new a.OlP("mat-dialog-scroll-strategy"),Cte={provide:EH,deps:[oa],useFactory:function wte(r){return()=>r.scrollStrategies.block()}};let Ste=(()=>{class r{constructor(e,n,i,o,s,l,v,D,F,z){this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=v,this._dialogContainerType=D,this._dialogDataToken=F,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dn.x,this._afterOpenedAtThisLevel=new dn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ud(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(si(void 0))),this._scrollStrategy=l}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,n){n=function Ete(r,t){return{...t,...r}}(n,this._defaultOptions||new s3),n.id&&this.getDialogById(n.id);const i=this._createOverlay(n),o=this._attachDialogContainer(i,n),s=this._attachDialogContent(e,o,i,n);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const n=this._getOverlayConfig(e);return this._overlay.create(n)}_getOverlayConfig(e){const n=new u_({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachDialogContainer(e,n){const o=a.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:s3,useValue:n}]}),s=new Sm(this._dialogContainerType,n.viewContainerRef,o,n.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,n,i,o){const s=new this._dialogRefConstructor(i,n,o.id);if(e instanceof a.Rgc)n.attachTemplatePortal(new tS(e,null,{$implicit:o.data,dialogRef:s}));else{const l=this._createInjector(o,s,n),v=n.attachComponentPortal(new Sm(e,o.viewContainerRef,l,o.componentFactoryResolver));s.componentInstance=v.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,n,i){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:n}];return e.direction&&(!o||!o.get(Ss,null,a.XFs.Optional))&&s.push({provide:Ss,useValue:{value:e.direction,change:gn()}}),a.zs3.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,o)=>{i?o.setAttribute("aria-hidden",i):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let i=n.length-1;i>-1;i--){let o=n[i];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}}return r.\u0275fac=function(e){a.$Z()},r.\u0275dir=a.lG2({type:r}),r})(),Im=(()=>{class r extends Ste{constructor(e,n,i,o,s,l,v,D){super(e,n,o,l,v,s,hS,yte,mA,D)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(oa),a.LFG(a.zs3),a.LFG(S,8),a.LFG(bte,8),a.LFG(EH),a.LFG(r,12),a.LFG(FL),a.LFG(a.QbO,8))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),Dte=(()=>{class r{constructor(e,n,i){this.dialogRef=e,this._elementRef=n,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Tte(r,t){let e=r.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(n=>n.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){a3(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(hS,8),a.Y36(a.SBq),a.Y36(Im))},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,n){1&e&&a.NdJ("click",function(o){return n._onButtonClick(o)}),2&e&&a.uIk("aria-label",n.ariaLabel||null)("type",n.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),r})(),xte=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Im,Cte],imports:[[c_,KR,ur],ur]}),r})(),Rte=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(hS),a.Y36(mA))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-validation-dialog"]],decls:14,vars:1,consts:[[2,"font-size","medium","color","red","font-weight","bold"],[2,"font-size","medium"],[1,"container"],[1,"line"],["align","right",2,"margin-top","1em"],["mat-raised-button","","color","warn",2,"margin-left","1em",3,"matDialogClose"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a._uU(1,"Warning"),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"div",1),a._uU(4),a.qZA(),a._UZ(5,"br"),a.TgZ(6,"div",2)(7,"div",3),a._UZ(8,"mat-divider"),a.qZA(),a.TgZ(9,"div",3),a._UZ(10,"mat-divider"),a.qZA()(),a.TgZ(11,"div",4)(12,"button",5),a._uU(13," Ok "),a.qZA()()),2&e&&(a.xp6(4),a.hij(" ",n.data.message,"\n"))},dependencies:[Oi,dS,Dte],styles:[".line[_ngcontent-%COMP%]{flex:1}"]}),r})(),l3=(()=>{class r{constructor(e){this.dialog=e}openValidationDialog(e){this.dialog.open(Rte,{data:{message:e}}).afterClosed().subscribe(()=>{})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Im))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),DH=(()=>{class r{constructor(){}setKeyValue(e,n){localStorage.setItem(e,n)}getKeyValue(e){return localStorage.getItem(e)}removeKey(e){localStorage.removeItem(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function TH(r,t){return t?e=>il(t.pipe(Or(1),function Ate(){return(0,Yi.e)((r,t)=>{r.subscribe((0,gi.x)(t,MG.Z))})}()),e.pipe(TH(r))):(0,vi.z)((e,n)=>r(e,n).pipe(Or(1),fb(e)))}const Mte=["panel"];function Ite(r,t){if(1&r&&(a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA()),2&r){const e=t.id,n=a.oxw();a.Q6J("id",n.id)("ngClass",n._classList),a.uIk("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(e))}}const Pte=["*"];let kte=0;class Fte{constructor(t,e){this.source=t,this.option=e}}const Nte=Cm(class{}),xH=new a.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function Lte(){return{autoActiveFirstOption:!1}}});let Vte=(()=>{class r extends Nte{constructor(e,n,i,o){super(),this._changeDetectorRef=e,this._elementRef=n,this._activeOptionChanges=ei.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new a.vpe,this.opened=new a.vpe,this.closed=new a.vpe,this.optionActivated=new a.vpe,this._classList={},this.id="mat-autocomplete-"+kte++,this.inertGroups=o?.SAFARI||!1,this._autoActiveFirstOption=!!i.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(e){this._autoActiveFirstOption=er(e)}set classList(e){this._classList=e&&e.length?IG(e).reduce((n,i)=>(n[i]=!0,n),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new VG(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){const n=new Fte(this,e);this.optionSelected.emit(n)}_getPanelAriaLabelledby(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_setVisibilityClasses(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(xH),a.Y36(Hi))},r.\u0275dir=a.lG2({type:r,viewQuery:function(e,n){if(1&e&&(a.Gf(a.Rgc,7),a.Gf(Mte,5)),2&e){let i;a.iGM(i=a.CRH())&&(n.template=i.first),a.iGM(i=a.CRH())&&(n.panel=i.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[a.qOj]}),r})(),gA=(()=>{class r extends Vte{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,xL,5),a.Suo(i,ra,5)),2&e){let o;a.iGM(o=a.CRH())&&(n.optionGroups=o),a.iGM(o=a.CRH())&&(n.options=o)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[a._Bn([{provide:TL,useExisting:r}]),a.qOj],ngContentSelectors:Pte,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,n){1&e&&(a.F$t(),a.YNc(0,Ite,3,4,"ng-template"))},dependencies:[Rt],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),r})();const RH=new a.OlP("mat-autocomplete-scroll-strategy"),Gte={provide:RH,deps:[oa],useFactory:function Bte(r){return()=>r.scrollStrategies.reposition()}},jte={provide:Po,useExisting:(0,a.Gpc)(()=>fS),multi:!0};let Hte=(()=>{class r{constructor(e,n,i,o,s,l,v,D,F,z,re){this._element=e,this._overlay=n,this._viewContainerRef=i,this._zone=o,this._changeDetectorRef=s,this._dir=v,this._formField=D,this._document=F,this._viewportRuler=z,this._defaults=re,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=ei.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new dn.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=ud(()=>{const ae=this.autocomplete?this.autocomplete.options:null;return ae?ae.changes.pipe(si(ae),Io(()=>(0,ia.T)(...ae.map(fe=>fe.onSelectionChange)))):this._zone.onStable.pipe(Or(1),Io(()=>this.optionSelections))}),this._scrollStrategy=l}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(e){this._autocompleteDisabled=er(e)}ngAfterViewInit(){const e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,ia.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Pr(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Pr(()=>this._overlayAttached)):gn()).pipe((0,Dn.U)(e=>e instanceof rj?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,ia.T)(Hc(this._document,"click"),Hc(this._document,"auxclick"),Hc(this._document,"touchend")).pipe(Pr(e=>{const n=bh(e),i=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&n!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(n))&&(!o||!o.contains(n))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(n)}))}writeValue(e){Promise.resolve().then(()=>this._setTriggerValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){const n=e.keyCode,i=as(e);if(27===n&&!i&&e.preventDefault(),this.activeOption&&13===n&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=38===n||40===n;9===n||s&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==o)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(e){let n=e.target,i=n.value;"number"===n.type&&(i=""==i?null:parseFloat(i)),this._previousValue!==i&&(this._previousValue=i,this._onChange(i),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(e=!1){this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const e=this._zone.onStable.pipe(Or(1)),n=this.autocomplete.options.changes.pipe((0,yi.b)(()=>this._positionStrategy.reapplyLastPosition()),function Ote(r,t=kR.z){const e=Ej(r,t);return TH(()=>e)}(0));return(0,ia.T)(e,n).pipe(Io(()=>(this._zone.run(()=>{const i=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),i!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),Or(1)).subscribe(i=>this._setValueAndClose(i))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(e){const i=(this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e)??"";this._formField?this._formField._control.value=i:this._element.nativeElement.value=i,this._previousValue=i}_setValueAndClose(e){const n=e&&e.source;n&&(this._clearPreviousSelectedOption(n),this._setTriggerValue(n.value),this._onChange(n.value),this.autocomplete._emitSelectEvent(n),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(e){this.autocomplete.options.forEach(n=>{n!==e&&n.selected&&n.deselect()})}_attachOverlay(){let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new tS(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe(i=>{(27===i.keyCode&&!as(i)||38===i.keyCode&&as(i,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new u_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){const n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];let s;s="above"===this.position?o:"below"===this.position?n:[...n,...o],e.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}_canOpen(){const e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){const n=this.autocomplete,i=RL(e,n.options,n.optionGroups);if(0===e&&1===i)n._setScrollTop(0);else if(n.panel){const o=n.options.toArray()[e];if(o){const s=o._getHostElement(),l=ij(s.offsetTop,s.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(l)}}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(oa),a.Y36(a.s_b),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(RH),a.Y36(Ss,8),a.Y36(XC,9),a.Y36(M,8),a.Y36(a_),a.Y36(xH,8))},r.\u0275dir=a.lG2({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[a.TTD]}),r})(),fS=(()=>{class r extends Hte{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275dir=a.lG2({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,n){1&e&&a.NdJ("focusin",function(){return n._handleFocus()})("blur",function(){return n._onTouched()})("input",function(o){return n._handleInput(o)})("keydown",function(o){return n._handleKeydown(o)})("click",function(){return n._handleClick()}),2&e&&a.uIk("autocomplete",n.autocompleteAttribute)("role",n.autocompleteDisabled?null:"combobox")("aria-autocomplete",n.autocompleteDisabled?null:"list")("aria-activedescendant",n.panelOpen&&n.activeOption?n.activeOption.id:null)("aria-expanded",n.autocompleteDisabled?null:n.panelOpen.toString())("aria-owns",n.autocompleteDisabled||!n.panelOpen||null==n.autocomplete?null:n.autocomplete.id)("aria-haspopup",n.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[a._Bn([jte]),a.qOj]}),r})(),Ute=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Gte],imports:[[c_,GR,ur,Vs],Ch,GR,ur]}),r})(),Ih=(()=>{class r extends mo{constructor(e,n){super(e,n,!1)}input(e){const n=e.target,i=n.selectionStart;n.value=n.value.toUpperCase(),n.setSelectionRange(i,i),this.onChange(n.value)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.Qsj),a.Y36(a.SBq))},r.\u0275dir=a.lG2({type:r,selectors:[["input","toUppercase",""]],hostBindings:function(e,n){1&e&&a.NdJ("input",function(o){return n.input(o)})},features:[a._Bn([{provide:Po,multi:!0,useExisting:(0,a.Gpc)(()=>r)}]),a.qOj]}),r})();function zte(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",22),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.routeName),a.xp6(1),a.Oqu(e.routeName)}}function Wte(r,t){if(1&r&&(a.TgZ(0,"mat-option",22),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e.storeName," ")}}function $te(r,t){if(1&r&&(a.TgZ(0,"mat-option",22)(1,"small",23),a._uU(2),a.qZA(),a._uU(3," , "),a.TgZ(4,"small",24),a._uU(5),a.qZA(),a._uU(6," , "),a.TgZ(7,"small"),a._uU(8),a.qZA()()),2&r){const e=t.$implicit,n=a.oxw();a.Q6J("value",e.billNumber),a.xp6(2),a.hij("No : ",e.billNumber,""),a.xp6(3),a.hij("Amount: ",e.billAmount,""),a.xp6(3),a.hij("Date : ",n.getBillDate(e),"")}}function qte(r,t){1&r&&(a.TgZ(0,"div",23),a._uU(1," Pending amount can not be less than 0. "),a.qZA())}function Yte(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",22),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.mode),a.xp6(1),a.hij(" ",e.mode," ")}}let Kte=(()=>{class r{constructor(e,n,i,o,s,l,v,D,F,z){this.recoveryService=e,this.storeService=n,this.routeService=i,this.billService=o,this.authservice=s,this.snackBar=l,this.datePipe=v,this.snackbarService=D,this.validationService=F,this.localStorageService=z,this.routeCollection=[],this.modeOfPaymentCollection=[],this.storeCollection=[],this.billCollection=[],this.isClicked=!1,this.buttonText=ut.SUBMIT_BTN_TEXT}ngOnInit(){this.initializeFormGroup(),this.getPaymentModes(),this.onFetchRoute(),this.localRouteValue&&this.onRouteSelectionChange(this.localRouteValue)}initializeFormGroup(){this.localRouteValue=this.localStorageService.getKeyValue(ut.ROUTE_LOCAL_STORAGE_KEY),this.recoveryFormGroup=new Ea({route:new Mn(this.localRouteValue,[or.required]),storeName:new Mn("",[or.required]),address:new Mn,billNumber:new Mn("",[or.required]),billAmount:new Mn("",[or.required]),amountReceived:new Mn("",[or.required]),pendingAmount:new Mn,receiptNumber:new Mn("",[or.required]),modeOfPayment:new Mn("",[or.required]),comment:new Mn})}getPaymentModes(){this.recoveryService.getPaymentModes().then(e=>{e&&e.length>0?this.modeOfPaymentCollection=e:console.log(ut.PAYMENT_MODES_NOT_FOUND_MSG)})}onFetchRoute(){this.routeCollection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.routeCollection=e:console.log(ut.ROUTE_NOT_FOUND_MSG)})}onRouteSelectionChange(e){console.log(e),this.localStorageService.setKeyValue(ut.ROUTE_LOCAL_STORAGE_KEY,e),e&&(this.recoveryFormGroup.get("storeName")?.reset(),this.recoveryFormGroup.get("address")?.reset(),this.recoveryFormGroup.get("billNumber")?.reset(),this.recoveryFormGroup.get("billAmount")?.reset(),this.recoveryFormGroup.get("amountReceived")?.reset(),this.recoveryFormGroup.get("pendingAmount")?.reset(),this.recoveryFormGroup.get("modeOfPayment")?.reset(),this.recoveryFormGroup.get("comment")?.reset(),this.onFetchStoreDetails(e))}onFetchStoreDetails(e){this.storeCollection=[],this.storeService.getStores(e).then(n=>{n&&n.length>0?(this.storeCollection=n,this.subscribeBill_StoreNameValueChange()):console.log(ut.STORE_NOT_FOUND_MSG)})}subscribeBill_StoreNameValueChange(){this.filteredOptions=this.recoveryFormGroup.controls.storeName?.valueChanges.pipe(si(""),(0,Dn.U)(n=>{const i="string"==typeof n?n:n?.name;return i?this._filter(i):this.storeCollection.slice()}))}displayBillNumberFn(e){return e&&e.billNumber?e.billNumber:""}_filterBillNumber(e){const n=e.toLowerCase();return this.billCollection.filter(i=>i.billNumber.toLowerCase().includes(n))}subscribeBillNumberValueChange(){this.filteredBillNumbers=this.recoveryFormGroup.controls.billNumber?.valueChanges.pipe(si(""),(0,Dn.U)(n=>{const i="string"==typeof n?n:n?.name;return i?this._filterBillNumber(i):this.billCollection.slice()}))}displayFn(e){return e&&e.storeName?e.storeName:""}_filter(e){const n=e.toLowerCase();return this.storeCollection.filter(i=>i.storeName.toLowerCase().includes(n))}onStoreSelected(e){this.recoveryFormGroup.patchValue({address:e.address,mobileNo:e.mobileNo}),this.getBillsForSelectedStore(e.storeName)}onBillSelected(e){const n=this.billCollection.find(i=>i.billNumber==e);n&&(this.selecetdBill=n,this.recoveryFormGroup.patchValue({billAmount:n.pendingAmount??0,pendingAmount:n.pendingAmount??0,comment:n.comment??""}))}getBillsForSelectedStore(e){this.billCollection=[],this.billService.getFilteredBillsByStoreName(e).then(n=>{n&&n.length>0?this.billCollection=this.sortData(n):console.log(ut.STORE_NOT_FOUND_MSG),this.subscribeBillNumberValueChange()})}sortData(e){return e.sort((n,i)=>{try{return n.billDate.toDate()-i.billDate.toDate()}catch{return console.log("Exception occured "),0}})}onAddRecoveryData(){if(this.recoveryFormGroup.invalid)return void console.log("recovery form is invalid");if(+this.recoveryFormGroup.value.billAmount-+this.recoveryFormGroup.value.amountReceived<0)return void this.validationService.openValidationDialog(ut.ADD_BILL_PENDING_AMT_VALIDATION);if(+this.recoveryFormGroup.value.billAmount==+this.recoveryFormGroup.value.pendingAmount)return void this.validationService.openValidationDialog(ut.ADD_RECOVERY_BILL_AND_PENDING_AMT_VALIDATION);if(this.isClicked)return;this.isClicked=!0,this.buttonText=ut.PLEASE_WAIT_BTN_TEXT;let e={...this.recoveryFormGroup.value,recoveryDate:new Date,createdDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT),recoveryAgent:this.authservice.getuserDetails().username};this.recoveryService.addRecoveryDetails(e).then(()=>{console.log(ut.RECOVERY_ADDED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.RECOVERY_ADDED_SUCCESS_MSG,ut.SAVE_ACTION),this.updateBillPendingAmount(),this.initializeFormGroup()}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION)}).finally(()=>{this.isClicked=!1,this.buttonText=ut.SUBMIT_BTN_TEXT})}updateBillPendingAmount(){let e={...this.selecetdBill,pendingAmount:this.recoveryFormGroup.value.pendingAmount,updatedDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.billService.updateBillPendingAmount(e).then(()=>{console.log(ut.BILL_UPDATED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.BILL_UPDATED_SUCCESS_MSG,ut.UPDAE_ACTION)}).catch(n=>{console.log(n)})}OnAmountReceivedChanged(){const e=+this.recoveryFormGroup.value.billAmount,n=+this.recoveryFormGroup.value.amountReceived,i=e-n;this.pendingValidation=e-n<0,console.log(i),this.recoveryFormGroup.patchValue({pendingAmount:i})}OnBillNumberChanged(){this.recoveryFormGroup.patchValue({billAmount:"",pendingAmount:"",amountReceived:"",receiptNumber:"",modeOfPayment:"",comment:""})}getBillDate(e){try{return this.datePipe.transform(e.billDate.toDate(),"dd-MM-yyyy")}catch{return e.billDate}}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(jC),a.Y36(Mm),a.Y36(Mh),a.Y36(w_),a.Y36(_h),a.Y36(S_),a.Y36(Ao),a.Y36(Dl),a.Y36(l3),a.Y36(DH))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-recovery"]],decls:66,vars:15,consts:[[3,"formGroup"],["appearance","outline"],["formControlName","route",3,"selectionChange"],[4,"ngFor","ngForOf"],["appearance","outline",1,"example-full-width"],["type","text","formControlName","storeName","matInput","","oninput","this.value = this.value.toUpperCase()",3,"matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["readonly","true","matInput","","formControlName","address"],["matInput","","aria-label","State","formControlName","billNumber","oninput","this.value = this.value.toUpperCase()",3,"matAutocomplete","keyup"],[3,"optionSelected"],["bill","matAutocomplete"],["matInput","","readonly","true","formControlName","comment"],["matInput","","type","number","readonly","true","formControlName","billAmount"],["matInput","","type","number","formControlName","amountReceived",3,"keyup"],["style","color: red",4,"ngIf"],["matInput","","readonly","true","type","number","formControlName","pendingAmount"],["matInput","","formControlName","receiptNumber","toUppercase",""],["formControlName","modeOfPayment"],["align","center"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[2,"color","red"],[2,"color","green"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0)(1,"p")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Route Name"),a.qZA(),a.TgZ(5,"mat-select",2),a.NdJ("selectionChange",function(o){return n.onRouteSelectionChange(o.value)}),a.YNc(6,zte,3,2,"div",3),a.qZA()()(),a.TgZ(7,"p")(8,"mat-form-field",4)(9,"mat-label"),a._uU(10,"Store Name"),a.qZA(),a._UZ(11,"input",5),a.TgZ(12,"mat-autocomplete",6,7),a.NdJ("optionSelected",function(o){return n.onStoreSelected(o.option.value)}),a.YNc(14,Wte,2,2,"mat-option",8),a.ALo(15,"async"),a.qZA()()(),a.TgZ(16,"p")(17,"mat-form-field",4)(18,"mat-label"),a._uU(19,"Shop Address"),a.qZA(),a._UZ(20,"textarea",9),a.qZA()(),a.TgZ(21,"p")(22,"mat-form-field",4)(23,"mat-label"),a._uU(24,"Bill Number "),a.qZA(),a.TgZ(25,"input",10),a.NdJ("keyup",function(){return n.OnBillNumberChanged()}),a.qZA(),a.TgZ(26,"mat-autocomplete",11,12),a.NdJ("optionSelected",function(o){return n.onBillSelected(o.option.value)}),a.YNc(28,$te,9,4,"mat-option",8),a.ALo(29,"async"),a.qZA()()(),a.TgZ(30,"p")(31,"mat-form-field",4)(32,"mat-label"),a._uU(33,"Comment"),a.qZA(),a._UZ(34,"textarea",13),a.qZA()(),a.TgZ(35,"p")(36,"mat-form-field",1)(37,"mat-label"),a._uU(38,"Bill Amount"),a.qZA(),a._UZ(39,"input",14),a.qZA()(),a.TgZ(40,"p")(41,"mat-form-field",1)(42,"mat-label"),a._uU(43,"Amount Received"),a.qZA(),a.TgZ(44,"input",15),a.NdJ("keyup",function(){return n.OnAmountReceivedChanged()}),a.qZA()()(),a.TgZ(45,"div"),a.YNc(46,qte,2,0,"div",16),a.TgZ(47,"p")(48,"mat-form-field",1)(49,"mat-label"),a._uU(50,"Pending Amount"),a.qZA(),a._UZ(51,"input",17),a.qZA()()(),a.TgZ(52,"p")(53,"mat-form-field",1)(54,"mat-label"),a._uU(55,"Receipt Number"),a.qZA(),a._UZ(56,"input",18),a.qZA()(),a.TgZ(57,"p")(58,"mat-form-field",1)(59,"mat-label"),a._uU(60,"Payment option"),a.qZA(),a.TgZ(61,"mat-select",19),a.YNc(62,Yte,3,2,"div",3),a.qZA()()(),a.TgZ(63,"p",20)(64,"button",21),a.NdJ("click",function(){return n.onAddRecoveryData()}),a._uU(65),a.qZA()()()),2&e){const i=a.MAs(13),o=a.MAs(27);a.Q6J("formGroup",n.recoveryFormGroup),a.xp6(6),a.Q6J("ngForOf",n.routeCollection),a.xp6(5),a.Q6J("matAutocomplete",i),a.xp6(1),a.Q6J("displayWith",n.displayFn),a.xp6(2),a.Q6J("ngForOf",a.lcZ(15,11,n.filteredOptions)),a.xp6(11),a.Q6J("matAutocomplete",o),a.xp6(3),a.Q6J("ngForOf",a.lcZ(29,13,n.filteredBillNumbers)),a.xp6(18),a.Q6J("ngIf",n.pendingValidation),a.xp6(16),a.Q6J("ngForOf",n.modeOfPaymentCollection),a.xp6(2),a.Q6J("disabled",!(!n.recoveryFormGroup.invalid&&!n.isClicked)),a.xp6(1),a.hij(" ",n.buttonText," ")}},dependencies:[Sn,Un,Oi,Es,Ho,vu,El,ra,gA,fS,qs,mo,hl,Sa,Wl,Xo,Ta,Ih,Ls],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}mat-form-field[_ngcontent-%COMP%]{width:25em}button[_ngcontent-%COMP%]{width:25em}"]}),r})(),Zte=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-history"]],decls:27,vars:0,consts:[["appearance","outline"],["value","barshi"],["value","ter"],["value","kalamb"],["value","Dhoki"],["value","kirana"],["value","medical"],["value","cosmatic"],["mat-raised-button","","color","primary","routerLink","/dashboard"]],template:function(e,n){1&e&&(a.TgZ(0,"p")(1,"mat-form-field",0)(2,"mat-label"),a._uU(3,"Select Route"),a.qZA(),a.TgZ(4,"mat-select")(5,"mat-option",1),a._uU(6,"Barshi"),a.qZA(),a.TgZ(7,"mat-option",2),a._uU(8,"Ter"),a.qZA(),a.TgZ(9,"mat-option",3),a._uU(10,"Kalamb"),a.qZA(),a.TgZ(11,"mat-option",4),a._uU(12,"Dhoki"),a.qZA()()()(),a.TgZ(13,"p")(14,"mat-form-field",0)(15,"mat-label"),a._uU(16,"Select Store"),a.qZA(),a.TgZ(17,"mat-select")(18,"mat-option",5),a._uU(19,"kirana"),a.qZA(),a.TgZ(20,"mat-option",6),a._uU(21,"medical"),a.qZA(),a.TgZ(22,"mat-option",7),a._uU(23,"cosmatic"),a.qZA()()()(),a.TgZ(24,"p")(25,"button",8),a._uU(26,"Search"),a.qZA()())},dependencies:[ev,Oi,Es,Ho,El,ra],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}"]}),r})();function Qte(r,t){1&r&&(a.TgZ(0,"th",7),a._uU(1," id. "),a.qZA())}function Xte(r,t){if(1&r&&(a.TgZ(0,"td",8),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.mobileNumber," ")}}function Jte(r,t){1&r&&(a.TgZ(0,"th",7),a._uU(1," Password "),a.qZA())}function ene(r,t){if(1&r&&(a.TgZ(0,"td",8),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.password," ")}}function tne(r,t){1&r&&a._UZ(0,"tr",9)}function nne(r,t){1&r&&a._UZ(0,"tr",10)}let rne=(()=>{class r{constructor(e){this.authService=e,this.userCollection=[],this.userDetail=[],this.displayedColumns=["mobileNumber","password"]}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(_h))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-login-details"]],decls:9,vars:3,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","mobileNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","password"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(a.TgZ(0,"table",0),a.ynx(1,1),a.YNc(2,Qte,2,0,"th",2),a.YNc(3,Xte,2,1,"td",3),a.BQk(),a.ynx(4,4),a.YNc(5,Jte,2,0,"th",2),a.YNc(6,ene,2,1,"td",3),a.BQk(),a.YNc(7,tne,1,0,"tr",5),a.YNc(8,nne,1,0,"tr",6),a.qZA()),2&e&&(a.Q6J("dataSource",n.userCollection),a.xp6(7),a.Q6J("matHeaderRowDef",n.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[Dm,Eh,Tm,Dh,Sh,xm,Th,xh,Rm,Am]}),r})();class AH{static StringToDateTimeConverter(t){if(t){let e=t.split(" "),n=e[0].split("/"),i=e[1].split(":");return new Date(+n[2],+n[1],+n[0],+i[0],+i[1],+i[2])}return t}}function ine(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Bill Number"),a.qZA())}function one(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.billNumber)}}function sne(r,t){if(1&r&&(a.TgZ(0,"td",18),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" Total Records: ",e.recoveryCollection.length," ")}}function ane(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Recovery Agent"),a.qZA())}function lne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.recoveryAgent," ")}}function une(r,t){1&r&&a._UZ(0,"td",18)}function cne(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Bill Amount"),a.qZA())}function dne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.billAmount,"\u20b9")," ")}}function hne(r,t){1&r&&a._UZ(0,"td",18)}function fne(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Recovery Date"),a.qZA())}function pne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.createdDate)}}function mne(r,t){1&r&&a._UZ(0,"td",18)}function gne(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Amount Received"),a.qZA())}function vne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.amountReceived,"\u20b9")," ")}}function yne(r,t){1&r&&a._UZ(0,"td",18)}function _ne(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Receipt Number"),a.qZA())}function bne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.receiptNumber," ")}}function wne(r,t){1&r&&a._UZ(0,"td",18)}function Cne(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Pending Amount"),a.qZA())}function Sne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.pendingAmount,"\u20b9")," ")}}function Ene(r,t){1&r&&a._UZ(0,"td",18)}function Dne(r,t){1&r&&(a.TgZ(0,"th",16),a._uU(1,"Payment Mode"),a.qZA())}function Tne(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.modeOfPayment," ")}}function xne(r,t){1&r&&a._UZ(0,"td",18)}function Rne(r,t){1&r&&a._UZ(0,"tr",19)}function Ane(r,t){1&r&&a._UZ(0,"tr",20)}function One(r,t){1&r&&a._UZ(0,"tr",21)}let Mne=(()=>{class r{constructor(e,n,i){this.dialogRef=e,this.data=n,this.recoveryService=i,this.recoveryCollection=[],this.displayedColumns=["billNumber","recoveryAgent","billAmount","recoveryDate","receiptNumber","amountReceived","pendingAmount","modeOfPayment"]}ngOnInit(){this.dialogRef.updateSize("100%"),this.getBillDetails()}getBillDetails(){this.recoveryService.getRecoveryDetails(this.data.billNumber).then(e=>{this.recoveryCollection=this.sortData(e)})}sortData(e){return e.sort((n,i)=>AH.StringToDateTimeConverter(n.createdDate)-AH.StringToDateTimeConverter(i.createdDate))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(hS),a.Y36(mA),a.Y36(jC))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-recovery-info"]],decls:38,vars:4,consts:[["align","center",2,"font-size","large","color","blue","margin-bottom","1em"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","billNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","recoveryAgent"],["matColumnDef","billAmount"],["matColumnDef","recoveryDate"],["matColumnDef","amountReceived"],["matColumnDef","receiptNumber"],["matColumnDef","pendingAmount"],["matColumnDef","modeOfPayment"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a._uU(1," Recovery Details\n"),a.qZA(),a.TgZ(2,"table",1),a.ynx(3,2),a.YNc(4,ine,2,0,"th",3),a.YNc(5,one,2,1,"td",4),a.YNc(6,sne,2,1,"td",5),a.BQk(),a.ynx(7,6),a.YNc(8,ane,2,0,"th",3),a.YNc(9,lne,2,1,"td",4),a.YNc(10,une,1,0,"td",5),a.BQk(),a.ynx(11,7),a.YNc(12,cne,2,0,"th",3),a.YNc(13,dne,3,4,"td",4),a.YNc(14,hne,1,0,"td",5),a.BQk(),a.ynx(15,8),a.YNc(16,fne,2,0,"th",3),a.YNc(17,pne,2,1,"td",4),a.YNc(18,mne,1,0,"td",5),a.BQk(),a.ynx(19,9),a.YNc(20,gne,2,0,"th",3),a.YNc(21,vne,3,4,"td",4),a.YNc(22,yne,1,0,"td",5),a.BQk(),a.ynx(23,10),a.YNc(24,_ne,2,0,"th",3),a.YNc(25,bne,2,1,"td",4),a.YNc(26,wne,1,0,"td",5),a.BQk(),a.ynx(27,11),a.YNc(28,Cne,2,0,"th",3),a.YNc(29,Sne,3,4,"td",4),a.YNc(30,Ene,1,0,"td",5),a.BQk(),a.ynx(31,12),a.YNc(32,Dne,2,0,"th",3),a.YNc(33,Tne,2,1,"td",4),a.YNc(34,xne,1,0,"td",5),a.BQk(),a.YNc(35,Rne,1,0,"tr",13),a.YNc(36,Ane,1,0,"tr",14),a.YNc(37,One,1,0,"tr",15),a.qZA()),2&e&&(a.xp6(2),a.Q6J("dataSource",n.recoveryCollection),a.xp6(33),a.Q6J("matHeaderRowDef",n.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.displayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",n.displayedColumns))},dependencies:[Dm,Eh,Tm,Dh,Sh,xm,m_,v_,Th,xh,g_,Rm,Am,y_,df],styles:["tr.mat-footer-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], tr.mat-header-row[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:small;background-color:#90ee90}"]}),r})(),vA=(()=>{class r{constructor(e,n){this.dialogRef=e,this.data=n}ngOnInit(){this.data.billNumber?this.message="Do you want to delete this Bill Number : "+this.data.billNumber+" ?":this.data.key===ut.STORE?this.message="Do you want to delete this Store : "+this.data.value+" ?":this.data.key===ut.ROUTE?this.message="Do you want to delete this Route : "+this.data.value+" ?":this.data.key===ut.RECOVERY&&(this.message="Do you want to delete this recovery Receipt Number : "+this.data.value+" ?")}onYesClick(){this.data.delete=ut.YES_ACTION,this.dialogRef.close(this.data)}onNoClick(){this.data.delete=ut.NO_ACTION,this.dialogRef.close(this.data)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(hS),a.Y36(mA))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-delete-confirmation-dialog"]],decls:16,vars:1,consts:[[2,"font-size","medium","font-weight","bold"],[2,"font-size","medium"],[1,"container"],[1,"line"],["align","right",2,"margin-top","1em"],["mat-raised-button","","color","primary",2,"margin-left","1em",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","1em",3,"click"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a._uU(1,"Delete Action"),a.qZA(),a._UZ(2,"br"),a.TgZ(3,"div",1),a._uU(4),a.qZA(),a._UZ(5,"br"),a.TgZ(6,"div",2)(7,"div",3),a._UZ(8,"mat-divider"),a.qZA(),a.TgZ(9,"div",3),a._UZ(10,"mat-divider"),a.qZA()(),a.TgZ(11,"div",4)(12,"button",5),a.NdJ("click",function(){return n.onYesClick()}),a._uU(13," Yes "),a.qZA(),a.TgZ(14,"button",6),a.NdJ("click",function(){return n.onNoClick()}),a._uU(15," No "),a.qZA()()),2&e&&(a.xp6(4),a.hij(" ",n.message,"\n"))},dependencies:[Oi,dS],styles:[".line[_ngcontent-%COMP%]{flex:1}"]}),r})();var Ine=Oe(4313),Pne=Oe(4327);let kne=(()=>{class r{constructor(e){this.datePipe=e,this.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},this.headerFontStyle={name:ut.REPORT_FONT_NAME,size:15,bold:!0},this.footerFontStyle={name:ut.REPORT_FONT_NAME,size:15,bold:!0},this.detailsFontStyle={name:ut.REPORT_FONT_NAME,size:14},this.fontWithBoldCell={name:ut.REPORT_FONT_NAME,size:14,bold:!0},this.fontWithoutBoldCell={name:ut.REPORT_FONT_NAME,size:14}}ExportBillReportExcel(e,n,i){this.workbook=new Ine.Workbook,this.worksheet=this.workbook.addWorksheet("Bill Report"),this.addFilterRows(n,i);let o=this.prepareBillReportHeader();this.addHeader(o),e.forEach(F=>{let z;try{z=this.datePipe.transform(F.billDate.toDate(),"dd-MM-yyyy")}catch{z=F.billDate}this.addDetails({route:F.route,storeName:F.storeName.storeName,billNumber:F.billNumber,billDate:z,billAmount:F.billAmount,receivedAmount:+F.billAmount-+F.pendingAmount,pendingAmount:F.pendingAmount})}),this.adjustColumnWidth();let s=e.reduce((F,z)=>F+ +z.billAmount,0),l=e.reduce((F,z)=>+F+ +z.pendingAmount,0);this.addFooter({route:"Total :",storeName:"",billNumber:"",billDate:"",billAmount:s,receivedAmount:s-l,pendingAmount:l}),this.exportToExcel("_BillReport")}exportToExcel(e){this.workbook.xlsx.writeBuffer().then(n=>{const i=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});let o=this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT_PLAIN);Pne.saveAs(i,o+e+".xlsx")})}prepareBillReportHeader(){return["Route","Store Name","Bill Number","Bill Date","Bill Amount","Received Amount","Pending Amount"]}addFilterRows(e,n){let i=this.worksheet.addRow([]);i=this.worksheet.addRow(["FROM DATE : ",e]),i.getCell(1).font=this.fontWithBoldCell,i.getCell(2).font=this.fontWithoutBoldCell,i=this.worksheet.addRow(["TO DATE : ",n]),i.getCell(1).font=this.fontWithBoldCell,i.getCell(2).font=this.fontWithoutBoldCell,i=this.worksheet.addRow([])}addHeader(e){const n=this.worksheet.addRow(e);n.border=this.border,n.eachCell(i=>{i.font=this.headerFontStyle}),n.fill={type:"gradient",gradient:"angle",degree:0,stops:[{position:0,color:{argb:"FFD3D3D3"}},{position:1,color:{argb:"FFD3D3D3"}}]}}addDetails(e){let n=this.worksheet.addRow(Object.values(e));n.font=this.detailsFontStyle,n.border=this.border}addFooter(e){let n=this.worksheet.addRow(Object.values(e));n.font=this.footerFontStyle,n.border=this.border}adjustColumnWidth(){this.worksheet.columns.forEach(function(e,n){if(e.eachCell){let i=20;e.eachCell({includeEmpty:!0},function(o){var s=o.value?o.value.toString().length:20;s>i&&(i=s)}),e.width=i}})}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(Ao))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Fne(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",40),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.routeName),a.xp6(1),a.Oqu(e.routeName)}}function Nne(r,t){if(1&r&&(a.TgZ(0,"mat-option",40),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e.storeName," ")}}function Lne(r,t){if(1&r&&(a.TgZ(0,"div",41),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.AsE(" ",e.storeMessage," ",e.billMessage," ")}}function Vne(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Route"),a.qZA())}function Bne(r,t){if(1&r&&(a.TgZ(0,"td",43),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.route)}}function Gne(r,t){if(1&r&&(a.TgZ(0,"td",44),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" TOTAL : ",e.billCollection.length," ")}}function jne(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Store Name"),a.qZA())}function Hne(r,t){if(1&r&&(a.TgZ(0,"td",43),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.storeName.storeName," ")}}function Une(r,t){1&r&&a._UZ(0,"td",44)}function zne(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Store Address"),a.qZA())}function Wne(r,t){if(1&r&&(a.TgZ(0,"td",43),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.storeName.address)}}function $ne(r,t){1&r&&a._UZ(0,"td",44)}function qne(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Bill Date"),a.qZA())}function Yne(r,t){if(1&r&&(a.TgZ(0,"td",43),a._uU(1),a.qZA()),2&r){const e=t.$implicit,n=a.oxw();a.xp6(1),a.hij(" ",n.getBillDate(e)," ")}}function Kne(r,t){1&r&&a._UZ(0,"td",44)}function Zne(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Bill Number"),a.qZA())}function Qne(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"td",43)(1,"button",45),a.NdJ("click",function(){const o=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.openDialog(o.billNumber))}),a._uU(2),a.qZA()()}if(2&r){const e=t.$implicit;a.xp6(2),a.hij(" ",e.billNumber," ")}}function Xne(r,t){1&r&&a._UZ(0,"td",44)}function Jne(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Bill Amount"),a.qZA())}function ere(r,t){if(1&r&&(a.TgZ(0,"td",43),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.billAmount,"\u20b9")," ")}}function tre(r,t){if(1&r&&(a.TgZ(0,"td",44),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" ",a.xi3(2,1,e.getTotalBillAmount(),"\u20b9")," ")}}function nre(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Pending Amount"),a.qZA())}function rre(r,t){if(1&r&&(a.TgZ(0,"td",43)(1,"div",46),a._uU(2),a.ALo(3,"currency"),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.Q6J("ngClass",e.pendingAmount<0?"negativeValue":"positiveValue"),a.xp6(1),a.hij(" ",a.xi3(3,2,e.pendingAmount,"\u20b9")," ")}}function ire(r,t){if(1&r&&(a.TgZ(0,"td",44),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" ",a.xi3(2,1,e.getTotalPendingAmount(),"\u20b9")," ")}}function ore(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Amount Received"),a.qZA())}function sre(r,t){if(1&r&&(a.TgZ(0,"td",43),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",a.xi3(2,1,e.billAmount-e.pendingAmount,"\u20b9")," ")}}function are(r,t){if(1&r&&(a.TgZ(0,"td",44),a._uU(1),a.ALo(2,"currency"),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij(" ",a.xi3(2,1,e.getTotalAmountReceived(),"\u20b9")," ")}}function lre(r,t){1&r&&(a.TgZ(0,"th",42),a._uU(1,"Action"),a.qZA())}function ure(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"td",47)(1,"button",48),a.NdJ("click",function(){const o=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.openDeleteConfimationDialog(o))}),a.TgZ(2,"mat-icon"),a._uU(3,"delete"),a.qZA()()()}if(2&r){const e=a.oxw();a.xp6(1),a.Q6J("disabled",!e.isAdmin)}}function cre(r,t){1&r&&a._UZ(0,"td",44)}function dre(r,t){1&r&&a._UZ(0,"tr",49)}function hre(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"tr",50),a.NdJ("click",function(){const o=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.highlight(o))}),a.qZA()}if(2&r){const e=t.$implicit,n=a.oxw();a.Q6J("ngClass",n.getRowClass(e))}}function fre(r,t){1&r&&a._UZ(0,"tr",51)}let pre=(()=>{class r{constructor(e,n,i,o,s,l,v,D,F,z,re){this.routeService=e,this.billService=n,this.storeService=i,this.snackBar=o,this.router=s,this.dialog=l,this.authService=v,this.snackbarService=D,this.excelService=F,this.datePipe=z,this.localstorageService=re,this.routeCollection=[],this.storeCollection=[],this.billCollection=[],this.displayedColumns=["route","storeName","address","billDate","billNumber","billAmount","amountReceived","pendingAmount","Action"],this.selectedRowIndex=-1}ngOnInit(){this.isAdmin=this.authService.isAdmin(),this.initFormFields(),this.onFetchRoute(),this.onSearch()}initFormFields(){let e=this.localstorageService.getKeyValue(ut.PAID_SEARCH_LOCAL_STORAGE_KEY),n=this.localstorageService.getKeyValue(ut.ROUTE_LOCAL_STORAGE_KEY);n&&this.onFetchStoreDetails(n);let i=this.localstorageService.getKeyValue(ut.STORE_SEARCH_LOCAL_STORAGE_KEY),o=JSON.parse(i),s=this.localstorageService.getKeyValue(ut.BILL_SEARCH_LOCAL_STORAGE_KEY),l=this.localstorageService.getKeyValue(ut.FROM_DATE_SEARCH_LOCAL_STORAGE_KEY),v=this.localstorageService.getKeyValue(ut.TO_DATE_SEARCH_LOCAL_STORAGE_KEY),D=new Date;D.setDate(D.getDate()-30);let F=l?new Date(l):null,z=v?new Date(v):null;this.route=new Mn(n),this.paidUnpaidSelection=new Mn(e??"UnPaid"),this.storeName=new Mn(o),this.billNumber=new Mn(s),this.fromBillDate=new Mn(F??D),this.toBillDate=new Mn(z??new Date),this.billMessage=""}highlight(e){this.selectedRowIndex=e.id}onRouteSelectionChange(e){console.log(e),this.storeName.setValue(""),this.billNumber.setValue(""),this.billCollection=[],this.billMessage="",this.onFetchStoreDetails(e)}onPaidUnpaidSelectionChange(e){this.billMessage="",this.onSearch()}onFetchRoute(){this.routeCollection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.routeCollection=e:console.log(ut.ROUTE_NOT_FOUND_MSG)})}onFetchStoreDetails(e){this.storeCollection=[],this.storeService.getStores(e).then(n=>{n&&n.length>0?this.storeCollection=n:console.log(ut.STORE_NOT_FOUND_MSG),this.storeMessage="STORES  : "+this.storeCollection?.length,this.subscribeStoreNameValueChange()})}onStoreSelected(e){}subscribeStoreNameValueChange(){this.filteredOptions=this.storeName.valueChanges.pipe(si(""),(0,Dn.U)(e=>{const n="string"==typeof e?e:e?.name;return n?this._filter(n):this.storeCollection.slice()}))}displayFn(e){return e&&e.storeName?e.storeName:""}_filter(e){const n=e.toLowerCase();return this.storeCollection.filter(i=>i.storeName.toLowerCase().includes(n))}onReset(){this.localstorageService.removeKey(ut.PAID_SEARCH_LOCAL_STORAGE_KEY),this.localstorageService.removeKey(ut.ROUTE_LOCAL_STORAGE_KEY),this.localstorageService.removeKey(ut.STORE_SEARCH_LOCAL_STORAGE_KEY),this.localstorageService.removeKey(ut.BILL_SEARCH_LOCAL_STORAGE_KEY),this.localstorageService.removeKey(ut.FROM_DATE_SEARCH_LOCAL_STORAGE_KEY),this.localstorageService.removeKey(ut.TO_DATE_SEARCH_LOCAL_STORAGE_KEY),this.initFormFields(),this.billCollection=[],this.selectedRowIndex=-1}onSearch(){this.billCollection=[],this.selectedRowIndex=-1,this.billMessage="";let e=this.fromBillDate.value,n=this.toBillDate.value;this.fromBillDate.value&&(e=this.fromBillDate.value,e.setHours(0,0,0),this.toBillDate.value?this.toBillDate.value.setHours(23,59,59):this.fromBillDate.value.setHours(23,59,59)),this.paidUnpaidSelection&&this.localstorageService.setKeyValue(ut.PAID_SEARCH_LOCAL_STORAGE_KEY,this.paidUnpaidSelection.value),this.route?.value?this.localstorageService.setKeyValue(ut.ROUTE_LOCAL_STORAGE_KEY,this.route?.value):this.localstorageService.removeKey(ut.ROUTE_LOCAL_STORAGE_KEY),this.storeName?.value?this.localstorageService.setKeyValue(ut.STORE_SEARCH_LOCAL_STORAGE_KEY,JSON.stringify(this.storeName.value)):this.localstorageService.removeKey(ut.STORE_SEARCH_LOCAL_STORAGE_KEY),e?this.localstorageService.setKeyValue(ut.FROM_DATE_SEARCH_LOCAL_STORAGE_KEY,e):this.localstorageService.removeKey(ut.FROM_DATE_SEARCH_LOCAL_STORAGE_KEY),n?this.localstorageService.setKeyValue(ut.TO_DATE_SEARCH_LOCAL_STORAGE_KEY,n):this.localstorageService.removeKey(ut.TO_DATE_SEARCH_LOCAL_STORAGE_KEY),this.billNumber?.value?this.localstorageService.setKeyValue(ut.BILL_SEARCH_LOCAL_STORAGE_KEY,this.billNumber.value):this.localstorageService.removeKey(ut.BILL_SEARCH_LOCAL_STORAGE_KEY),this.billService.getFilteredBills(this.route?.value,this.storeName?.value?.storeName,e,n,this.billNumber.value,this.paidUnpaidSelection).then(i=>{if(i&&i.length>0){let o=i;this.paidUnpaidSelection&&("UnPaid"===this.paidUnpaidSelection.value?o=i.filter(F=>+F.pendingAmount>0):"Paid"===this.paidUnpaidSelection.value&&(o=i.filter(F=>0==+F.pendingAmount)));let s=this.getRedBills(o),l=this.getOrangeBills(o),v=this.sortData(o.filter(F=>!F.isRedBill&&!F.isOrangeBill)),D=[];D.push(...s),D.push(...l),D.push(...v),this.billCollection=D}else console.log(ut.STORE_NOT_FOUND_MSG);this.billMessage="BILLS  : "+this.billCollection?.length}).catch(i=>{console.log(i),this.snackbarService.openSnackBar(i,ut.ERROR_ACTION)})}sortData(e){return e.sort((n,i)=>{try{return n.storeName.storeName===i.storeName.storeName?n.billDate.toDate()-i.billDate.toDate():n.storeName.storeName<i.storeName.storeName?-1:1}catch{return 0}})}getBillDate(e){try{return this.datePipe.transform(e.billDate.toDate(),"dd-MM-yyyy")}catch{return e.billDate}}getTotalBillAmount(){return this.billCollection.map(e=>+e.billAmount).reduce((e,n)=>e+n,0)}getTotalPendingAmount(){return this.billCollection.map(e=>+e.pendingAmount).reduce((e,n)=>e+n,0)}getTotalAmountReceived(){return this.billCollection.map(e=>+e.billAmount-+e.pendingAmount).reduce((e,n)=>e+n,0)}onDeleteBill(e){console.log(e.id),this.billService.deleteBill(e.id).then(()=>{this.snackbarService.openSnackBar(ut.BILL_DELETED_SUCCESS_MSG,ut.DELETE_ACTION),console.log(ut.BILL_DELETED_SUCCESS_MSG),this.onSearch()}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION)})}navigateToBillDetailPage(e){this.router.navigate(["billinfo/"+e])}openDialog(e){this.dialog.open(Mne,{data:{billNumber:e}}).afterClosed().subscribe(i=>{console.log("The dialog was closed")})}openDeleteConfimationDialog(e){this.dialog.open(vA,{data:{billNumber:e.billNumber}}).afterClosed().subscribe(i=>{i&&i.delete==ut.YES_ACTION?(console.log(ut.YES_ACTION),this.onDeleteBill(e)):console.log(ut.NO_ACTION)})}exportToExcel(){this.excelService.ExportBillReportExcel(this.billCollection,this.fromBillDate?.value?.toLocaleDateString(),this.toBillDate?.value?.toLocaleDateString())}getRedBills(e){var n=new Date;return n.setDate(n.getDate()-12),e.filter(i=>+i.pendingAmount>0).forEach(i=>{try{i.isRedBill=n>i.billDate.toDate()}catch{i.isRedBill=!0}}),e.filter(i=>i.isRedBill)}getOrangeBills(e){var n=new Date,i=new Date;return n.setDate(n.getDate()-5),i.setDate(i.getDate()-12),e.filter(o=>+o.pendingAmount>0).forEach(o=>{try{o.isOrangeBill=n>o.billDate.toDate()&&i<o.billDate.toDate()}catch{o.isOrangeBill=!1}}),e.filter(o=>o.isOrangeBill)}getRowClass(e){return 0==e.pendingAmount?this.selectedRowIndex==e.id?"selected-row-highlight":"full-paid-bill-row-highlight":e.isRedBill?this.selectedRowIndex==e.id?"selected-row-highlight":"older-red-bill-row-selected-highlight":e.isOrangeBill?this.selectedRowIndex==e.id?"selected-row-highlight":"older-orange-bill-row-selected-highlight":this.selectedRowIndex==e.id?"selected-row-highlight":e.billAmount!==e.pendingAmount?"partial-paid-bill-row-selected-highlight":""}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Mh),a.Y36(w_),a.Y36(Mm),a.Y36(S_),a.Y36(yr),a.Y36(Im),a.Y36(_h),a.Y36(Dl),a.Y36(kne),a.Y36(Ao),a.Y36(DH))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-search-by-store"]],decls:90,vars:22,consts:[[1,"centerFlex"],["appearance","outline",1,"mat-form-field-custome"],[3,"formControl","selectionChange"],["value","Paid"],["value","UnPaid"],["value","Both"],["appearance","outline"],[4,"ngFor","ngForOf"],["appearance","outline",1,"example-full-width"],["type","text","matInput","","oninput","this.value = this.value.toUpperCase()",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","toUppercase","",3,"formControl"],["matInput","","placeholder","From date",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","To date",3,"matDatepicker","formControl"],["toPicker",""],["mat-raised-button","","color","primary",2,"margin-left","1em",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","1em",3,"click"],["mat-raised-button","","color","primary",2,"margin","1em",3,"disabled","click"],["style","color: red",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","route"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","storeName"],["matColumnDef","address"],["matColumnDef","billDate"],["matColumnDef","billNumber"],["matColumnDef","billAmount"],["matColumnDef","pendingAmount"],["matColumnDef","amountReceived"],["matColumnDef","Action",2,"width","10px"],["mat-cell","","style","width: 10px",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[3,"value"],[2,"color","red"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-stroked-button","","color","primary",3,"click"],[3,"ngClass"],["mat-cell","",2,"width","10px"],["mat-mini-fab","",3,"disabled","click"],["mat-header-row",""],["mat-row","",3,"ngClass","click"],["mat-footer-row",""]],template:function(e,n){if(1&e&&(a.TgZ(0,"div",0)(1,"div")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Paid/Unpaid"),a.qZA(),a.TgZ(5,"mat-select",2),a.NdJ("selectionChange",function(o){return n.onPaidUnpaidSelectionChange(o.value)}),a.TgZ(6,"mat-option",3),a._uU(7,"Paid"),a.qZA(),a.TgZ(8,"mat-option",4),a._uU(9,"UnPaid"),a.qZA(),a.TgZ(10,"mat-option",5),a._uU(11,"Both"),a.qZA()()(),a.TgZ(12,"mat-form-field",6)(13,"mat-label"),a._uU(14,"Route Name"),a.qZA(),a.TgZ(15,"mat-select",2),a.NdJ("selectionChange",function(o){return n.onRouteSelectionChange(o.value)}),a.YNc(16,Fne,3,2,"div",7),a.qZA()(),a.TgZ(17,"mat-form-field",8)(18,"mat-label"),a._uU(19,"Store Name"),a.qZA(),a._UZ(20,"input",9),a.TgZ(21,"mat-autocomplete",10,11),a.NdJ("optionSelected",function(o){return n.onStoreSelected(o.option.value)}),a.YNc(23,Nne,2,2,"mat-option",12),a.ALo(24,"async"),a.qZA()(),a.TgZ(25,"mat-form-field",1)(26,"mat-label"),a._uU(27,"Bill Number"),a.qZA(),a._UZ(28,"input",13),a.qZA(),a.TgZ(29,"mat-form-field",1)(30,"mat-label"),a._uU(31,"From date"),a.qZA(),a._UZ(32,"input",14)(33,"mat-datepicker-toggle",15)(34,"mat-datepicker",null,16),a.qZA(),a.TgZ(36,"mat-form-field",1)(37,"mat-label"),a._uU(38,"To date"),a.qZA(),a._UZ(39,"input",17)(40,"mat-datepicker-toggle",15)(41,"mat-datepicker",null,18),a.qZA(),a.TgZ(43,"button",19),a.NdJ("click",function(){return n.onSearch()}),a._uU(44," Search "),a.qZA(),a.TgZ(45,"button",20),a.NdJ("click",function(){return n.onReset()}),a._uU(46," Reset "),a.qZA(),a.TgZ(47,"button",21),a.NdJ("click",function(){return n.exportToExcel()}),a._uU(48," Export to Excel "),a.qZA()(),a.YNc(49,Lne,2,2,"div",22),a.qZA(),a.TgZ(50,"table",23),a.ynx(51,24),a.YNc(52,Vne,2,0,"th",25),a.YNc(53,Bne,2,1,"td",26),a.YNc(54,Gne,2,1,"td",27),a.BQk(),a.ynx(55,28),a.YNc(56,jne,2,0,"th",25),a.YNc(57,Hne,2,1,"td",26),a.YNc(58,Une,1,0,"td",27),a.BQk(),a.ynx(59,29),a.YNc(60,zne,2,0,"th",25),a.YNc(61,Wne,2,1,"td",26),a.YNc(62,$ne,1,0,"td",27),a.BQk(),a.ynx(63,30),a.YNc(64,qne,2,0,"th",25),a.YNc(65,Yne,2,1,"td",26),a.YNc(66,Kne,1,0,"td",27),a.BQk(),a.ynx(67,31),a.YNc(68,Zne,2,0,"th",25),a.YNc(69,Qne,3,1,"td",26),a.YNc(70,Xne,1,0,"td",27),a.BQk(),a.ynx(71,32),a.YNc(72,Jne,2,0,"th",25),a.YNc(73,ere,3,4,"td",26),a.YNc(74,tre,3,4,"td",27),a.BQk(),a.ynx(75,33),a.YNc(76,nre,2,0,"th",25),a.YNc(77,rre,4,5,"td",26),a.YNc(78,ire,3,4,"td",27),a.BQk(),a.ynx(79,34),a.YNc(80,ore,2,0,"th",25),a.YNc(81,sre,3,4,"td",26),a.YNc(82,are,3,4,"td",27),a.BQk(),a.ynx(83,35),a.YNc(84,lre,2,0,"th",25),a.YNc(85,ure,4,1,"td",36),a.YNc(86,cre,1,0,"td",27),a.BQk(),a.YNc(87,dre,1,0,"tr",37),a.YNc(88,hre,1,1,"tr",38),a.YNc(89,fre,1,0,"tr",39),a.qZA()),2&e){const i=a.MAs(22),o=a.MAs(35),s=a.MAs(42);a.xp6(5),a.Q6J("formControl",n.paidUnpaidSelection),a.xp6(10),a.Q6J("formControl",n.route),a.xp6(1),a.Q6J("ngForOf",n.routeCollection),a.xp6(4),a.Q6J("formControl",n.storeName)("matAutocomplete",i),a.xp6(1),a.Q6J("displayWith",n.displayFn),a.xp6(2),a.Q6J("ngForOf",a.lcZ(24,20,n.filteredOptions)),a.xp6(5),a.Q6J("formControl",n.billNumber),a.xp6(4),a.Q6J("matDatepicker",o)("formControl",n.fromBillDate),a.xp6(1),a.Q6J("for",o),a.xp6(6),a.Q6J("matDatepicker",s)("formControl",n.toBillDate),a.xp6(1),a.Q6J("for",s),a.xp6(7),a.Q6J("disabled",0==n.billCollection.length),a.xp6(2),a.Q6J("ngIf",n.storeMessage||n.billMessage),a.xp6(1),a.Q6J("dataSource",n.billCollection),a.xp6(37),a.Q6J("matHeaderRowDef",n.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.displayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",n.displayedColumns)}},dependencies:[Rt,Sn,Un,Oi,cS,Es,Ho,QC,vu,El,ra,Dm,Eh,Tm,Dh,Sh,xm,m_,v_,Th,xh,g_,Rm,Am,y_,aA,b_,uA,gA,fS,mo,Sa,ql,Ih,Ls,df],styles:["mat-form-field[_ngcontent-%COMP%]{width:20em;margin-left:1em}.negativeValue[_ngcontent-%COMP%]{color:red;font-size:large}.positiveValue[_ngcontent-%COMP%]{color:#000}.selected-row-highlight[_ngcontent-%COMP%]{background:#bff3c2}.mat-form-field-custome[_ngcontent-%COMP%]{width:15em;margin-left:1em}.full-paid-bill-row-highlight[_ngcontent-%COMP%]{background:#61ed66}.paid-bill-row-selected-highlight[_ngcontent-%COMP%]{background:#58dd68}.partial-paid-bill-row-selected-highlight[_ngcontent-%COMP%]{background:#f68a82}.older-red-bill-row-selected-highlight[_ngcontent-%COMP%]{background:rgb(246,54,54)}.older-orange-bill-row-selected-highlight[_ngcontent-%COMP%]{background:rgb(244,179,57)}"]}),r})(),mre=(()=>{class r{constructor(e,n){this.router=e,this.activatedRoute=n}ngOnInit(){}onSelectionChange(e){console.log(e),e&&("store"===e?this.router.navigate(["editstore"],{relativeTo:this.activatedRoute}):"route"===e?this.router.navigate(["editroute"],{relativeTo:this.activatedRoute}):"bill"===e&&this.router.navigate(["editbill"],{relativeTo:this.activatedRoute}))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(yr),a.Y36(ms))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-edit-info"]],decls:17,vars:0,consts:[["appearance","outline"],[3,"selectionChange"],["value","route"],["value","store"],["value","bill"],[1,"container"],[1,"line"]],template:function(e,n){1&e&&(a.TgZ(0,"p")(1,"mat-form-field",0)(2,"mat-label"),a._uU(3,"Select Option to Edit Data"),a.qZA(),a.TgZ(4,"mat-select",1),a.NdJ("selectionChange",function(o){return n.onSelectionChange(o.value)}),a.TgZ(5,"mat-option",2),a._uU(6,"Route"),a.qZA(),a.TgZ(7,"mat-option",3),a._uU(8,"Store"),a.qZA(),a.TgZ(9,"mat-option",4),a._uU(10,"Bill"),a.qZA()()()(),a.TgZ(11,"div",5)(12,"div",6),a._UZ(13,"mat-divider"),a.qZA(),a.TgZ(14,"div",6),a._UZ(15,"mat-divider"),a.qZA()(),a._UZ(16,"router-outlet"))},dependencies:[gd,dS,Es,Ho,El,ra],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:10px}.line[_ngcontent-%COMP%]{flex:1}button[_ngcontent-%COMP%]{width:25em}"]}),r})();function gre(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",8),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.routeName),a.xp6(1),a.Oqu(e.routeName)}}let vre=(()=>{class r{constructor(e,n,i,o,s){this.routeService=e,this.storeService=n,this.snackBar=i,this.datePipe=o,this.snackbarService=s,this.routeCollection=[]}ngOnInit(){this.initializeRouteUiFields(),this.onFetchRoute()}initializeRouteUiFields(){this.routeFormGroup=new Ea({route:new Mn("",[or.required])})}onFetchRoute(){this.routeCollection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.routeCollection=e:console.log(ut.ROUTE_NOT_FOUND_MSG)})}routeSelectionChange(e){if(console.log(e),e){this.routeFormGroup.patchValue({route:e});let n=this.routeCollection.find(i=>i.routeName==e);this.selectedRouteToUpdate=n||{}}}onUpdateRoute(){if(this.routeFormGroup.invalid||!this.selectedRouteToUpdate)return void console.log("route form is invalid");let e={...this.selectedRouteToUpdate,routeName:this.routeFormGroup.value.route,updatedDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.routeService.updateRoute(e).then(()=>{console.log(ut.ROUTE_UPDATED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.ROUTE_UPDATED_SUCCESS_MSG,ut.UPDAE_ACTION),this.initializeRouteUiFields(),this.onFetchRoute()}).catch(i=>{console.log(i)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Mh),a.Y36(Mm),a.Y36(S_),a.Y36(Ao),a.Y36(Dl))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-edit-route-details"]],decls:16,vars:3,consts:[[3,"formGroup"],["appearance","outline"],[3,"selectionChange"],[4,"ngFor","ngForOf"],["matInput","","formControlName","route","required","","toUppercase",""],["route",""],["align","center"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(a.TgZ(0,"form",0)(1,"p")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Select Route to update"),a.qZA(),a.TgZ(5,"mat-select",2),a.NdJ("selectionChange",function(o){return n.routeSelectionChange(o.value)}),a.YNc(6,gre,3,2,"div",3),a.qZA()()(),a.TgZ(7,"p")(8,"mat-form-field",1)(9,"mat-label"),a._uU(10,"Enter New Route Name"),a.qZA(),a._UZ(11,"input",4,5),a.qZA()(),a.TgZ(13,"p",6)(14,"button",7),a.NdJ("click",function(){return n.onUpdateRoute()}),a._uU(15," Update Route "),a.qZA()()()),2&e&&(a.Q6J("formGroup",n.routeFormGroup),a.xp6(6),a.Q6J("ngForOf",n.routeCollection),a.xp6(8),a.Q6J("disabled",n.routeFormGroup.invalid))},dependencies:[Sn,Oi,Es,Ho,vu,El,ra,qs,mo,Sa,Wl,Fo,Xo,Ta,Ih],styles:["button[_ngcontent-%COMP%]{width:25em}"]}),r})();function yre(r,t){if(1&r&&(a.TgZ(0,"mat-option",15),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e.storeName," ")}}function _re(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",15),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.routeName),a.xp6(1),a.Oqu(e.routeName)}}let bre=(()=>{class r{constructor(e,n,i,o,s,l){this.routeService=e,this.billService=n,this.storeService=i,this.snackBar=o,this.datePipe=s,this.snackbarService=l,this.storeCollection=[],this.billStoreControl=new Mn,this.routeCollection=[]}ngOnInit(){this.billStoreControl=new Mn,this.initializeStoreUiFields(),this.onFetchStoreDetails(),this.onFetchRoute()}initializeStoreUiFields(){this.shopFormGroup=new Ea({route:new Mn("",[or.required]),storeName:new Mn("",[or.required]),address:new Mn("",[or.required]),mobileNo:new Mn("",[or.required,or.min(1e9),or.max(99999999999)]),altMobileNo:new Mn})}onFetchStoreDetails(){this.storeCollection=[],this.storeService.getStores("").then(e=>{e&&e.length>0?(this.storeCollection=e,this.subscribeBill_StoreNameValueChange()):console.log(ut.STORE_NOT_FOUND_MSG)})}subscribeBill_StoreNameValueChange(){this.filteredOptions=this.billStoreControl?.valueChanges.pipe(si(""),(0,Dn.U)(e=>{const n="string"==typeof e?e:e?.name;return n?this._filter(n):this.storeCollection.slice()}))}displayFn(e){return e&&e.storeName?e.storeName:""}_filter(e){const n=e.toLowerCase();return this.storeCollection.filter(i=>i.storeName.toLowerCase().includes(n))}onStoreSelected(e){e&&(this.selectedStoreToUpdate=e,this.shopFormGroup.patchValue({...this.selectedStoreToUpdate}))}onUpdateStore(){if(this.shopFormGroup.invalid||!this.selectedStoreToUpdate)return console.log("store form is invalid"),void this.snackbarService.openSnackBar(ut.STORE_FORM_INVALID_MSG,ut.UPDAE_ACTION);let e={...this.shopFormGroup.value,id:this.selectedStoreToUpdate.id,updatedDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.storeService.updateStoreDetails(e).then(()=>{console.log(ut.STORE_UPDATED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.STORE_UPDATED_SUCCESS_MSG,ut.UPDAE_ACTION),this.initializeStoreUiFields(),this.onFetchStoreDetails()}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(ut.STORE_UPDATED_FAILED_MSG,ut.UPDAE_ACTION)})}onFetchRoute(){this.routeCollection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.routeCollection=e:console.log(ut.ROUTE_NOT_FOUND_MSG)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Mh),a.Y36(w_),a.Y36(Mm),a.Y36(S_),a.Y36(Ao),a.Y36(Dl))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-edit-store-details"]],decls:39,vars:9,consts:[[3,"formGroup"],["appearance","outline",1,"example-full-width"],["type","text","matInput","","oninput","this.value = this.value.toUpperCase()",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],["formControlName","route"],[4,"ngFor","ngForOf"],["type","text","formControlName","storeName","matInput","","toUppercase",""],["matInput","","formControlName","address","oninput","this.value = this.value.toUpperCase()"],["matInput","","type","number","formControlName","mobileNo"],["matInput","","type","number","formControlName","altMobileNo"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[3,"value"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0)(1,"p")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Select Store to Update details"),a.qZA(),a._UZ(5,"input",2),a.TgZ(6,"mat-autocomplete",3,4),a.NdJ("optionSelected",function(o){return n.onStoreSelected(o.option.value)}),a.YNc(8,yre,2,2,"mat-option",5),a.ALo(9,"async"),a.qZA()()(),a.TgZ(10,"p")(11,"mat-form-field",6)(12,"mat-label"),a._uU(13,"Select Route to update"),a.qZA(),a.TgZ(14,"mat-select",7),a.YNc(15,_re,3,2,"div",8),a.qZA()()(),a.TgZ(16,"p")(17,"mat-form-field",1)(18,"mat-label"),a._uU(19,"Store Name"),a.qZA(),a._UZ(20,"input",9),a.qZA()(),a.TgZ(21,"p")(22,"mat-form-field",1)(23,"mat-label"),a._uU(24,"Shop Address"),a.qZA(),a._UZ(25,"textarea",10),a.qZA()(),a.TgZ(26,"p")(27,"mat-form-field",6)(28,"mat-label"),a._uU(29,"Mobile Number"),a.qZA(),a._UZ(30,"input",11),a.qZA()(),a.TgZ(31,"p")(32,"mat-form-field",6)(33,"mat-label"),a._uU(34,"Alternate Mobile Number"),a.qZA(),a._UZ(35,"input",12),a.qZA()(),a.TgZ(36,"p",13)(37,"button",14),a.NdJ("click",function(){return n.onUpdateStore()}),a._uU(38," Update Store "),a.qZA()()()),2&e){const i=a.MAs(7);a.Q6J("formGroup",n.shopFormGroup),a.xp6(5),a.Q6J("formControl",n.billStoreControl)("matAutocomplete",i),a.xp6(1),a.Q6J("displayWith",n.displayFn),a.xp6(2),a.Q6J("ngForOf",a.lcZ(9,7,n.filteredOptions)),a.xp6(7),a.Q6J("ngForOf",n.routeCollection),a.xp6(22),a.Q6J("disabled",n.shopFormGroup.invalid)}},dependencies:[Sn,Oi,Es,Ho,vu,El,ra,gA,fS,qs,mo,hl,Sa,Wl,ql,Xo,Ta,Ih,Ls],styles:["button[_ngcontent-%COMP%]{width:25em}"]}),r})(),wre=(()=>{class r{constructor(e,n,i,o,s){this.snackBar=e,this.datePipe=n,this.billService=i,this.snackbarService=o,this.recoveryService=s,this.billFormBillNoControl=new Mn,this.billCollection=[]}ngOnInit(){this.billFormBillNoControl=new Mn,this.initializeBillUiFields()}initializeBillUiFields(){this.billFormGroup=new Ea({route:new Mn("",[or.required]),storeName:new Mn("",[or.required]),billNumber:new Mn("",[or.required]),billDate:new Mn("",[or.required]),billAmount:new Mn("",[or.required]),pendingAmount:new Mn("",[or.required]),address:new Mn,comment:new Mn})}searchBill(){this.billCollection=[],this.billService.getFilteredBills("","","","",this.billFormBillNoControl.value).then(e=>{if(e&&e.length>0){let n;this.selectedBillToUpdate=e[0];try{n=e[0].billDate.toDate()}catch{let i=e[0].billDate.toString().split("/");n=new Date(+i[2],+i[1]-1,+i[0])}this.billFormGroup.patchValue({...e[0],billDate:n})}else console.log(ut.BILL_NOT_FOUND_MSG),this.snackbarService.openSnackBar(ut.BILL_NOT_FOUND_MSG,ut.UPDAE_ACTION)})}onUpdateBill(){if(this.billFormGroup.invalid||!this.selectedBillToUpdate)return void console.log("bill form is invalid");let e={...this.selectedBillToUpdate,billNumber:this.billFormGroup.value.billNumber,billDate:this.billFormGroup.value.billDate,billAmount:this.billFormGroup.value.billAmount,pendingAmount:this.billFormGroup.value.pendingAmount,comment:this.billFormGroup.value.comment,updatedDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.billService.updateBillDetails(e).then(()=>{console.log(ut.BILL_UPDATED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.BILL_UPDATED_SUCCESS_MSG,ut.UPDAE_ACTION),this.recoveryService.getRecoveryDetails(this.billFormGroup.value.billNumber).then(n=>{n&&n.length>0&&n.forEach(i=>{let o={...i,billAmount:this.billFormGroup.value.billAmount,pendingAmount:this.billFormGroup.value.pendingAmount};this.recoveryService.updateRecoveryBillAmount(o).then(()=>{this.snackbarService.openSnackBar(ut.BILL_UPDATED_SUCCESS_MSG,ut.UPDAE_ACTION)})}),this.initializeBillUiFields()})}).catch(n=>{console.log(n)})}onBillAmountChange(){let n;n=this.selectedBillToUpdate.pendingAmount+(+this.billFormGroup.value.billAmount-+this.selectedBillToUpdate.billAmount),this.billFormGroup.patchValue({pendingAmount:n})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(S_),a.Y36(Ao),a.Y36(w_),a.Y36(Dl),a.Y36(jC))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-edit-bill-details"]],decls:42,vars:6,consts:[[3,"formGroup"],["appearance","outline"],["matInput","","toUppercase","",3,"formControl"],["mat-raised-button","","color","primary","type","button",3,"click"],["matInput","","formControlName","billNumber","toUppercase",""],["matInput","","formControlName","billDate","placeholder","Choose a date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","formControlName","billAmount",3,"keyup"],["matInput","","type","number","formControlName","pendingAmount",3,"readonly"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","comment"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0)(1,"p")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Enter Bill Number to update"),a.qZA(),a._UZ(5,"input",2),a.qZA()(),a.TgZ(6,"p")(7,"button",3),a.NdJ("click",function(){return n.searchBill()}),a._uU(8," Search Bill "),a.qZA()(),a._UZ(9,"br")(10,"br"),a.TgZ(11,"p")(12,"mat-form-field",1)(13,"mat-label"),a._uU(14,"Bill Number"),a.qZA(),a._UZ(15,"input",4),a.qZA()(),a.TgZ(16,"p")(17,"mat-form-field",1),a._UZ(18,"input",5),a.TgZ(19,"mat-hint"),a._uU(20,"DD/MM/YYYY"),a.qZA(),a._UZ(21,"mat-datepicker-toggle",6)(22,"mat-datepicker",null,7),a.qZA()(),a.TgZ(24,"p")(25,"mat-form-field",1)(26,"mat-label"),a._uU(27,"Bill Amount"),a.qZA(),a.TgZ(28,"input",8),a.NdJ("keyup",function(){return n.onBillAmountChange()}),a.qZA()()(),a.TgZ(29,"p")(30,"mat-form-field",1)(31,"mat-label"),a._uU(32,"Pending Amount"),a.qZA(),a._UZ(33,"input",9),a.qZA()(),a.TgZ(34,"p")(35,"mat-form-field",10)(36,"mat-label"),a._uU(37,"Comment"),a.qZA(),a._UZ(38,"textarea",11),a.qZA()(),a.TgZ(39,"p",12)(40,"button",13),a.NdJ("click",function(){return n.onUpdateBill()}),a._uU(41," Update Bill "),a.qZA()()()),2&e){const i=a.MAs(23);a.Q6J("formGroup",n.billFormGroup),a.xp6(5),a.Q6J("formControl",n.billFormBillNoControl),a.xp6(13),a.Q6J("matDatepicker",i),a.xp6(3),a.Q6J("for",i),a.xp6(12),a.Q6J("readonly",!0),a.xp6(7),a.Q6J("disabled",n.billFormGroup.invalid)}},dependencies:[Oi,Es,pj,Ho,QC,vu,aA,b_,uA,qs,mo,hl,Sa,Wl,ql,Xo,Ta,Ih],styles:["button[_ngcontent-%COMP%]{width:25em}"]}),r})(),So=(()=>{class r{constructor(e,n){this.authService=e,this.router=n}canActivate(e,n){return this.authService.userSubject.pipe((0,Dn.U)(i=>!!i||this.router.createUrlTree([""])))}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(_h),a.LFG(yr))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Cre=(()=>{class r{constructor(e,n){this.router=e,this.activatedRoute=n}ngOnInit(){}onSelectionChange(e){console.log(e),e&&("store"===e?this.router.navigate(["store"],{relativeTo:this.activatedRoute}):"route"===e?this.router.navigate(["route"],{relativeTo:this.activatedRoute}):"recovery"===e&&this.router.navigate(["recovery"],{relativeTo:this.activatedRoute}))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(yr),a.Y36(ms))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-delete-info"]],decls:18,vars:0,consts:[[1,"host"],["appearance","outline"],[3,"selectionChange"],["value","route"],["value","store"],["value","recovery"],[1,"container"],[1,"line"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"p")(2,"mat-form-field",1)(3,"mat-label"),a._uU(4,"Select Option to Delete Data"),a.qZA(),a.TgZ(5,"mat-select",2),a.NdJ("selectionChange",function(o){return n.onSelectionChange(o.value)}),a.TgZ(6,"mat-option",3),a._uU(7,"Route"),a.qZA(),a.TgZ(8,"mat-option",4),a._uU(9,"Store"),a.qZA(),a.TgZ(10,"mat-option",5),a._uU(11,"Recovery"),a.qZA()()()(),a.TgZ(12,"div",6)(13,"div",7),a._UZ(14,"mat-divider"),a.qZA(),a.TgZ(15,"div",7),a._UZ(16,"mat-divider"),a.qZA()()(),a._UZ(17,"router-outlet"))},dependencies:[gd,dS,Es,Ho,El,ra],styles:[".host[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:10px}.container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;margin-bottom:10px}.line[_ngcontent-%COMP%]{flex:1}button[_ngcontent-%COMP%]{width:25em}"]}),r})();function Sre(r,t){1&r&&(a.TgZ(0,"th",10),a._uU(1,"Route"),a.qZA())}function Ere(r,t){if(1&r&&(a.TgZ(0,"td",11),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.routeName)}}function Dre(r,t){if(1&r&&(a.TgZ(0,"td",12),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij("TOTAL : ",e.collection.length,"")}}function Tre(r,t){1&r&&(a.TgZ(0,"th",10),a._uU(1,"Action"),a.qZA())}function xre(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"td",13)(1,"button",14),a.NdJ("click",function(){const o=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.openDeleteConfirmationDialog(o))}),a.TgZ(2,"mat-icon"),a._uU(3,"delete"),a.qZA()()()}}function Rre(r,t){1&r&&a._UZ(0,"td",12)}function Are(r,t){1&r&&a._UZ(0,"tr",15)}function Ore(r,t){1&r&&a._UZ(0,"tr",16)}function Mre(r,t){1&r&&a._UZ(0,"tr",17)}let Ire=(()=>{class r{constructor(e,n,i){this.dialog=e,this.routeService=n,this.snackbarService=i,this.collection=[],this.displayedColumns=["routeName","Action"]}ngOnInit(){this.onFetchRoutesDetails()}onFetchRoutesDetails(){this.collection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.collection=this.sortData(e):console.log(ut.ROUTE_NOT_FOUND_MSG)}).catch(e=>{console.log(e)})}sortData(e){return e.sort((n,i)=>n.routeName<i.routeName?-1:1)}onDeleteRoute(e){this.routeService.deleteRoute(e.id).then(()=>{let n=this.collection.indexOf(e);if(n>=0){this.collection.splice(n,1);let i=this.collection.slice();this.collection=i}this.snackbarService.openSnackBar(ut.ROUTE_DELETED_SUCCESS_MSG,ut.DELETE_ACTION)}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION)})}openDeleteConfirmationDialog(e){this.dialog.open(vA,{data:{key:ut.ROUTE,value:e.routeName}}).afterClosed().subscribe(i=>{i&&i.delete==ut.YES_ACTION?(console.log(ut.YES_ACTION),this.onDeleteRoute(e)):console.log(ut.NO_ACTION)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Im),a.Y36(Mh),a.Y36(Dl))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-delete-route"]],decls:12,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","routeName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","Action",2,"width","10px"],["mat-cell","","style","width: 10px",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-cell","",2,"width","10px"],["mat-mini-fab","",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(a.TgZ(0,"table",0),a.ynx(1,1),a.YNc(2,Sre,2,0,"th",2),a.YNc(3,Ere,2,1,"td",3),a.YNc(4,Dre,2,1,"td",4),a.BQk(),a.ynx(5,5),a.YNc(6,Tre,2,0,"th",2),a.YNc(7,xre,4,0,"td",6),a.YNc(8,Rre,1,0,"td",4),a.BQk(),a.YNc(9,Are,1,0,"tr",7),a.YNc(10,Ore,1,0,"tr",8),a.YNc(11,Mre,1,0,"tr",9),a.qZA()),2&e&&(a.Q6J("dataSource",n.collection),a.xp6(9),a.Q6J("matHeaderRowDef",n.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.displayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",n.displayedColumns))},dependencies:[Oi,cS,Dm,Eh,Tm,Dh,Sh,xm,m_,v_,Th,xh,g_,Rm,Am,y_]}),r})(),Pre=(()=>{class r{agInit(e){this.params=e,this.label=this.params.label||null}refresh(e){return console.log(e),!0}onClick(e){this.params.onClick instanceof Function&&this.params.onClick({event:e,rowData:this.params.node.data})}onRemoveSelected(e){console.log(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-button-renderer"]],decls:2,vars:1,consts:[["type","button",3,"click"]],template:function(e,n){1&e&&(a.TgZ(0,"button",0),a.NdJ("click",function(o){return n.onClick(o)}),a._uU(1),a.qZA()),2&e&&(a.xp6(1),a.hij(" ",n.label,"\n"))}}),r})();function yu(r){return null==r||""===r?null:r}function Tt(r,t){return void 0===t&&(t=!1),null!=r&&(""!==r||t)}function An(r){return!Tt(r)}function Ts(r){return null==r||0===r.length}function pS(r){return null!=r&&"function"==typeof r.toString?r.toString():null}function Ph(r){if(void 0!==r){if(null===r||""===r)return null;if("number"==typeof r)return isNaN(r)?void 0:r;var t=parseInt(r,10);return isNaN(t)?void 0:t}}function yA(r){if(void 0!==r)return null!==r&&""!==r&&("boolean"==typeof r?r:/true/i.test(r))}function u3(r,t){return(r?JSON.stringify(r):null)===(t?JSON.stringify(t):null)}function Pm(r){if(r instanceof Set||r instanceof Map){var t=[];return r.forEach(function(e){return t.push(e)}),t}return Object.values(r)}var Nre=Object.freeze({__proto__:null,makeNull:yu,exists:Tt,missing:An,missingOrEmpty:Ts,toStringOrNull:pS,attrToNumber:Ph,attrToBoolean:yA,attrToString:function kre(r){if(null!=r&&""!==r)return r},jsonEquals:u3,defaultComparator:function Fre(r,t,e){void 0===e&&(e=!1);var n=null==r,i=null==t;if(r&&r.toNumber&&(r=r.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function o(s,l){return s>l?1:s<l?-1:0}if("string"!=typeof r||!e)return o(r,t);try{return r.localeCompare(t)}catch{return o(r,t)}},values:Pm}),Lre=function(){function r(){this.existingKeys={}}return r.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},r.prototype.getUniqueKey=function(t,e){t=pS(t);for(var n=0;;){var i=void 0;if(t?(i=t,0!==n&&(i+="_"+n)):e?(i=e,0!==n&&(i+="_"+n)):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}},r}(),Bre=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function Uo(r,t){var e,n;if(null!=r){if(Array.isArray(r)){for(var i=0;i<r.length;i++)t(i.toString(),r[i]);return}try{for(var o=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(r)),s=o.next();!s.done;s=o.next()){var l=Bre(s.value,2);t(l[0],l[1])}}catch(F){e={error:F}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}}function c3(r){for(var t={},e=Object.keys(r),n=0;n<e.length;n++){var i=e[n];t[i]=r[i]}return t}function _A(r,t){if(r){var e=r,n={};return Object.keys(e).forEach(function(i){if(!(t&&t.indexOf(i)>=0)){var o=e[i],s=bA(o)&&o.constructor===Object;n[i]=s?_A(o):o}}),n}}function OH(r,t){return r[t]}function MH(r,t,e){r[t]=e}function IH(r,t,e,n){var i=OH(r,e);void 0!==i&&MH(t,e,n?n(i):i)}function PH(r){var t={};return r.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(n){return t[n]=null})}),Object.keys(t)}function kh(r){if(!r)return[];var t=Object;if("function"==typeof t.values)return t.values(r);var e=[];for(var n in r)r.hasOwnProperty(n)&&r.propertyIsEnumerable(n)&&e.push(r[n]);return e}function aa(r,t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),Tt(t)&&Uo(t,function(i,o){var s=r[i];s!==o&&(n&&null==s&&null!=o&&"object"==typeof o&&o.constructor===Object&&(r[i]=s={}),bA(o)&&bA(s)&&!Array.isArray(s)?aa(s,o,e,n):(e||void 0!==o)&&(r[i]=o))})}function E_(r,t,e){if(t&&r){if(!e)return r[t];for(var n=t.split("."),i=r,o=0;o<n.length;o++){if(null==i)return;i=i[n[o]]}return i}}function kH(r,t,e){void 0===t&&(t=[]),Object.keys(r).forEach(function(s){"object"==typeof r[s]&&!t.includes(s)&&(r[s]=void 0)});var n=Object.getPrototypeOf(r),i={};Object.getOwnPropertyNames(n).forEach(function(s){"function"!=typeof n[s]||t.includes(s)||(i[s]={value:function(){console.warn(function(s){return"AG Grid: Grid API function ".concat(s,"() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ").concat(e)}(s))},writable:!0})}),Object.defineProperties(r,i)}function bA(r){return"object"==typeof r&&null!==r}var Wre=Object.freeze({__proto__:null,iterateObject:Uo,cloneObject:c3,deepCloneObject:function Gre(r){return JSON.parse(JSON.stringify(r))},deepCloneDefinition:_A,getProperty:OH,setProperty:MH,copyPropertiesIfPresent:function jre(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];e.forEach(function(i){return IH(r,t,i)})},copyPropertyIfPresent:IH,getAllKeysInObjects:PH,getAllValuesInObject:kh,mergeDeep:aa,missingOrEmptyObject:function Hre(r){return An(r)||0===Object.keys(r).length},get:function Ure(r,t,e){if(null==r)return e;for(var n=t.split("."),i=r;n.length>1;)if(null==(i=i[n.shift()]))return e;return i[n[0]]??e},set:function zre(r,t,e){if(null!=r){var n=t.split("."),i=r;n.forEach(function(o,s){i[o]||(i[o]={}),s<n.length-1&&(i=i[o])}),i[n[n.length-1]]=e}},getValueUsingField:E_,removeAllReferences:kH,isNonNullObject:bA}),FH={};function D_(r,t){FH[t]||(r(),FH[t]=!0)}function $n(r){D_(function(){return console.warn("AG Grid: "+r)},r)}function Tl(r){D_(function(){return console.error("AG Grid: "+r)},r)}function wA(r){if(r.name)return r.name;var t=/function\s+([^\(]+)/.exec(r.toString());return t&&2===t.length?t[1].trim():null}function CA(r){return!!(r&&r.constructor&&r.call&&r.apply)}function NH(r){LH(r,400)}var d3=[],h3=!1;function f3(r){d3.push(r),!h3&&(h3=!0,window.setTimeout(function(){var t=d3.slice();d3.length=0,h3=!1,t.forEach(function(e){return e()})},0))}function LH(r,t){void 0===t&&(t=0),r.length>0&&window.setTimeout(function(){return r.forEach(function(e){return e()})},t)}function Ga(r,t){var e;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this;window.clearTimeout(e),e=window.setTimeout(function(){r.apply(o,n)},t)}}function p3(r,t){var e=0;return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s=(new Date).getTime();s-e<t||(e=s,r.apply(o,n))}}function m3(r,t,e,n){void 0===e&&(e=100);var i=(new Date).getTime(),o=null,s=!1,l=function(){var v=(new Date).getTime()-i>e;(r()||v)&&(t(),s=!0,null!=o&&(window.clearInterval(o),o=null),v&&n&&console.warn(n))};l(),s||(o=window.setInterval(l,10))}function VH(r){r&&r()}var Yre=Object.freeze({__proto__:null,doOnce:D_,warnOnce:$n,errorOnce:Tl,getFunctionName:wA,isFunction:CA,executeInAWhile:NH,executeNextVMTurn:f3,executeAfter:LH,debounce:Ga,throttle:p3,waitUntil:m3,compose:function $re(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(e){return r.reduce(function(n,i){return i(n)},e)}},callIfPresent:VH,noop:function(){}}),rn=(()=>(function(r){r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue"}(rn||(rn={})),rn))(),mS=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},BH=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Yn=function(){function r(){}return r.register=function(t){r.__register(t,!0,void 0)},r.registerModules=function(t){r.__registerModules(t,!0,void 0)},r.__register=function(t,e,n){r.runVersionChecks(t),void 0!==n?(r.areGridScopedModules=!0,void 0===r.gridModulesMap[n]&&(r.gridModulesMap[n]={}),r.gridModulesMap[n][t.moduleName]=t):r.globalModulesMap[t.moduleName]=t,r.setModuleBased(e)},r.__unRegisterGridModules=function(t){delete r.gridModulesMap[t]},r.__registerModules=function(t,e,n){r.setModuleBased(e),t&&t.forEach(function(i){return r.__register(i,e,n)})},r.isValidModuleVersion=function(t){var e=mS(t.version.split(".")||[],2),n=e[0],i=e[1],o=mS(r.currentModuleVersion.split(".")||[],2);return n===o[0]&&i===o[1]},r.runVersionChecks=function(t){if(r.currentModuleVersion||(r.currentModuleVersion=t.version),t.version?r.isValidModuleVersion(t)||console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is version ").concat(t.version," but the other modules are version ").concat(this.currentModuleVersion,". Please update all modules to the same version.")):console.error("AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '".concat(t.moduleName,"' is incompatible. Please update all modules to the same version.")),t.validate){var e=t.validate();e.isValid||console.error("AG Grid: ".concat(e.message))}},r.setModuleBased=function(t){void 0===r.moduleBased?r.moduleBased=t:r.moduleBased!==t&&D_(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},r.__setIsBundled=function(){r.isBundled=!0},r.__assertRegistered=function(t,e,n){var i;if(this.__isRegistered(t,n))return!0;var s,o=e+t;if(r.isBundled)s="AG Grid: unable to use ".concat(e," as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src=\"https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js\"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise");else if(r.moduleBased||void 0===r.moduleBased){var l=null===(i=Object.entries(rn).find(function(v){return mS(v,2)[1]===t}))||void 0===i?void 0:i[0];s="AG Grid: unable to use ".concat(e," as the ").concat(l," is not registered").concat(r.areGridScopedModules?" for gridId: ".concat(n):"",". Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ").concat(l," } from '").concat(t,"';\n    \n    ModuleRegistry.registerModules([ ").concat(l," ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/")}else s="AG Grid: unable to use ".concat(e," as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';\n            \nFor more info see: https://www.ag-grid.com/javascript-grid/packages/");return D_(function(){console.warn(s)},o),!1},r.__isRegistered=function(t,e){var n;return!!r.globalModulesMap[t]||!(null===(n=r.gridModulesMap[e])||void 0===n||!n[t])},r.__getRegisteredModules=function(t){return BH(BH([],mS(Pm(r.globalModulesMap)),!1),mS(Pm(r.gridModulesMap[t]||{})),!1)},r.__getGridRegisteredModules=function(t){var e;return Pm(null!==(e=r.gridModulesMap[t])&&void 0!==e?e:{})||[]},r.__isPackageBased=function(){return!r.moduleBased},r.globalModulesMap={},r.gridModulesMap={},r.areGridScopedModules=!1,r}(),Qre=function(){function r(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var n=this.getBeanInstances();this.wireBeans(n),this.logger.log(">> ag-Application Context ready - component is alive")}}return r.prototype.getBeanInstances=function(){return Pm(this.beanWrappers).map(function(t){return t.beanInstance})},r.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},r.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),Tt(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},r.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Uo(this.beanWrappers,function(n,i){var o;i.bean.__agBeanMetaData&&i.bean.__agBeanMetaData.autowireMethods&&i.bean.__agBeanMetaData.autowireMethods.agConstructor&&(o=i.bean.__agBeanMetaData.autowireMethods.agConstructor);var s=t.getBeansForParameters(o,i.bean.name),l=new(i.bean.bind.apply(i.bean,function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([null],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(s),!1)));i.beanInstance=l});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: ".concat(e))},r.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var n;return n=t.prototype.constructor?wA(t.prototype.constructor):""+t,void console.error("Context item ".concat(n," is not a bean"))}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},r.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,o){var s=i.agClassAttributes;!s||s.forEach(function(l){var v=e.lookupBeanInstance(o,l.beanName,l.optional);n[l.attributeName]=v})})})},r.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(n){e.forEachMetaDataInHierarchy(n,function(i,o){Uo(i.autowireMethods,function(s,l){if("agConstructor"!==s){var v=e.getBeansForParameters(l,o);n[s].apply(n,v)}})})})},r.prototype.forEachMetaDataInHierarchy=function(t,e){for(var n=Object.getPrototypeOf(t);null!=n;){var i=n.constructor;i.hasOwnProperty("__agBeanMetaData")&&e(i.__agBeanMetaData,this.getBeanName(i)),n=Object.getPrototypeOf(n)}},r.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},r.prototype.getBeansForParameters=function(t,e){var n=this,i=[];return t&&Uo(t,function(o,s){var l=n.lookupBeanInstance(e,s);i[Number(o)]=l}),i},r.prototype.lookupBeanInstance=function(t,e,n){if(void 0===n&&(n=!1),this.destroyed)return this.logger.log("AG Grid: bean reference ".concat(e," is used after the grid is destroyed!")),null;if("context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var i=this.beanWrappers[e];return i?i.beanInstance:(n||console.error("AG Grid: unable to find bean reference ".concat(e," while initialising ").concat(t)),null)},r.prototype.callLifeCycleMethods=function(t,e){var n=this;t.forEach(function(i){return n.callLifeCycleMethodsOnBean(i,e)})},r.prototype.callLifeCycleMethodsOnBean=function(t,e,n){var i={};this.forEachMetaDataInHierarchy(t,function(s){var l=s[e];l&&l.forEach(function(v){v!=n&&(i[v]=!0)})}),Object.keys(i).forEach(function(s){return t[s]()})},r.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},r.prototype.destroy=function(){if(!this.destroyed){this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,Yn.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}},r.prototype.destroyBean=function(t){!t||this.destroyBeans([t])},r.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(n){e.callLifeCycleMethodsOnBean(n,"preDestroyMethods","destroy"),"function"==typeof n.destroy&&n.destroy()}),[]):[]},r.prototype.isDestroyed=function(){return this.destroyed},r.prototype.getGridId=function(){return this.contextParams.gridId},r}();function GH(r,t,e){var n=km(r.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function Gt(r,t,e){var n=km(r.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function ls(r,t,e){var n=km(r.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function Jt(r){return function(t){km(t).beanName=r}}function be(r){return function(t,e,n){jH(t,r,!1,0,e,null)}}function pr(r){return function(t,e,n){jH(t,r,!0,0,e,null)}}function jH(r,t,e,n,i,o){if(null!==t)if("number"!=typeof o){var s=km(r.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function xs(r){return function(t,e,n){var o,i="function"==typeof t?t:t.constructor;if("number"==typeof n){var s=void 0;e?(o=km(i),s=e):(o=km(i),s="agConstructor"),o.autowireMethods||(o.autowireMethods={}),o.autowireMethods[s]||(o.autowireMethods[s]={}),o.autowireMethods[s][n]=r}}}function km(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var HH=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},gS=function(r,t){return function(e,n){t(e,n,r)}},Fh=function(){function r(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return r.prototype.setBeans=function(t,e,n,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),this.frameworkOverrides=n,this.gridOptionsService=e,i){var s=e.useAsyncEvents();this.addGlobalListener(i,s)}o&&this.addGlobalListener(o,!1)},r.prototype.getListeners=function(t,e,n){var i=e?this.allAsyncListeners:this.allSyncListeners,o=i.get(t);return!o&&n&&i.set(t,o=new Set),o},r.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},r.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this.getListeners(t,n,!0).add(e)},r.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=!1);var i=this.getListeners(t,n,!1);i&&(i.delete(e),0===i.size)&&(n?this.allAsyncListeners:this.allSyncListeners).delete(t)},r.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},r.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},r.prototype.dispatchEvent=function(t){var e=t;if(this.gridOptionsService){var n=this.gridOptionsService,o=n.columnApi,s=n.context;e.api=n.api,e.columnApi=o,e.context=s}this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},r.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},r.prototype.dispatchToListeners=function(t,e){var i,n=this,o=t.type;if(e&&"event"in t){var s=t.event;s instanceof Event&&(t.eventPath=s.composedPath())}var re,v=null!==(i=this.getListeners(o,e,!1))&&void 0!==i?i:new Set,D=new Set(v);D.size>0&&(re=v,D.forEach(function(ae){!re.has(ae)||(e?n.dispatchAsync(function(){return ae(t)}):ae(t))})),new Set(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(z){e?n.dispatchAsync(function(){return n.frameworkOverrides.dispatchEvent(o,function(){return z(o,t)},!0)}):n.frameworkOverrides.dispatchEvent(o,function(){return z(o,t)},!0)})},r.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},r.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},HH([gS(0,xs("loggerFactory")),gS(1,xs("gridOptionsService")),gS(2,xs("frameworkOverrides")),gS(3,xs("globalEventListener")),gS(4,xs("globalSyncEventListener"))],r.prototype,"setBeans",null),HH([Jt("eventService")],r)}(),SA=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xre={resizable:!0,sortable:!0},Jre=0;function UH(){return Jre++}var Lr=function(){function r(t,e,n,i){this.instanceId=UH(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Fh,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=n,this.primary=i,this.setState(t)}return r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setState=function(t){void 0!==t.sort?("asc"===t.sort||"desc"===t.sort)&&(this.sort=t.sort):("asc"===t.initialSort||"desc"===t.initialSort)&&(this.sort=t.initialSort);var e=t.sortIndex,n=t.initialSortIndex;void 0!==e?null!==e&&(this.sortIndex=e):null!==n&&(this.sortIndex=n);var i=t.hide;this.visible=void 0!==i?!i:!t.initialHide,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var s=t.flex,l=t.initialFlex;void 0!==s?this.flex=s:void 0!==l&&(this.flex=l)},r.prototype.setColDef=function(t,e,n){void 0===n&&(n="api"),this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",n))},r.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},r.prototype.setParent=function(t){this.parent=t},r.prototype.getParent=function(){return this.parent},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()},r.prototype.initDotNotation=function(){var t=this.gridOptionsService.get("suppressFieldDotNotation");this.fieldContainsDots=Tt(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=Tt(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},r.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},r.prototype.initTooltip=function(){this.tooltipEnabled=Tt(this.colDef.tooltipField)||Tt(this.colDef.tooltipValueGetter)||Tt(this.colDef.tooltipComponent)},r.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},r.prototype.isEmptyGroup=function(){return!1},r.prototype.isRowGroupDisplayed=function(t){return!(An(this.colDef)||An(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},r.prototype.isPrimary=function(){return this.primary},r.prototype.isFilterAllowed=function(){return!!this.colDef.filter},r.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},r.prototype.isTooltipEnabled=function(){return this.tooltipEnabled},r.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi}},r.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},r.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsService.get("enableGroupEdit"))&&this.isColumnFunc(t,this.colDef.editable)},r.prototype.isSuppressFillHandle=function(){return!!this.colDef.suppressFillHandle},r.prototype.isAutoHeight=function(){return!!this.colDef.autoHeight},r.prototype.isAutoHeaderHeight=function(){return!!this.colDef.autoHeaderHeight},r.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},r.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},r.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},r.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},r.prototype.isResizable=function(){return!!this.getColDefValue("resizable")},r.prototype.getColDefValue=function(t){var e;return null!==(e=this.colDef[t])&&void 0!==e?e:Xre[t]},r.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},r.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",e))},r.prototype.createColumnEvent=function(t,e){return{type:t,column:this,columns:[this],source:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.isMoving=function(){return this.moving},r.prototype.getSort=function(){return this.sort},r.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",e))),this.dispatchStateUpdatedEvent("sort")},r.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",e)))},r.prototype.isMenuVisible=function(){return this.menuVisible},r.prototype.isSortable=function(){return!!this.getColDefValue("sortable")},r.prototype.isSortAscending=function(){return"asc"===this.sort},r.prototype.isSortDescending=function(){return"desc"===this.sort},r.prototype.isSortNone=function(){return An(this.sort)},r.prototype.isSorting=function(){return Tt(this.sort)},r.prototype.getSortIndex=function(){return this.sortIndex},r.prototype.setSortIndex=function(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")},r.prototype.setAggFunc=function(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")},r.prototype.getAggFunc=function(){return this.aggFunc},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.getRight=function(){return this.left+this.actualWidth},r.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",e)))},r.prototype.isFilterActive=function(){return this.filterActive},r.prototype.setFilterActive=function(t,e,n){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",e)));var i=this.createColumnEvent("filterChanged",e);n&&aa(i,n),this.eventService.dispatchEvent(i)},r.prototype.isHovered=function(){return this.columnHoverService.isHovered(this)},r.prototype.setPinned=function(t){this.pinned=!0===t||"left"===t?"left":"right"===t?"right":null,this.dispatchStateUpdatedEvent("pinned")},r.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",e)))},r.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",e)))},r.prototype.isFirstRightPinned=function(){return this.firstRightPinned},r.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},r.prototype.isPinned=function(){return"left"===this.pinned||"right"===this.pinned},r.prototype.isPinnedLeft=function(){return"left"===this.pinned},r.prototype.isPinnedRight=function(){return"right"===this.pinned},r.prototype.getPinned=function(){return this.pinned},r.prototype.setVisible=function(t,e){void 0===e&&(e="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",e))),this.dispatchStateUpdatedEvent("hide")},r.prototype.isVisible=function(){return this.visible},r.prototype.isSpanHeaderHeight=function(){var t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight},r.prototype.getColDef=function(){return this.colDef},r.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},r.prototype.getColId=function(){return this.colId},r.prototype.getId=function(){return this.colId},r.prototype.getUniqueId=function(){return this.colId},r.prototype.getDefinition=function(){return this.colDef},r.prototype.getActualWidth=function(){return this.actualWidth},r.prototype.getAutoHeaderHeight=function(){return this.autoHeaderHeight},r.prototype.setAutoHeaderHeight=function(t){var e=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,e},r.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},r.prototype.getColSpan=function(t){if(An(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.colSpan(e);return Math.max(n,1)},r.prototype.getRowSpan=function(t){if(An(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),n=this.colDef.rowSpan(e);return Math.max(n,1)},r.prototype.setActualWidth=function(t,e,n){void 0===e&&(e="api"),void 0===n&&(n=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),n||this.fireColumnWidthChangedEvent(e)),this.dispatchStateUpdatedEvent("width")},r.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))},r.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},r.prototype.getMinWidth=function(){return this.minWidth},r.prototype.getMaxWidth=function(){return this.maxWidth},r.prototype.getFlex=function(){return this.flex||0},r.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")},r.prototype.setMinimum=function(t){void 0===t&&(t="api"),Tt(this.minWidth)&&this.setActualWidth(this.minWidth,t)},r.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",e))),this.dispatchStateUpdatedEvent("rowGroup")},r.prototype.isRowGroupActive=function(){return this.rowGroupActive},r.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",e))),this.dispatchStateUpdatedEvent("pivot")},r.prototype.isPivotActive=function(){return this.pivotActive},r.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},r.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},r.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",e)))},r.prototype.isValueActive=function(){return this.aggregationActive},r.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},r.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},r.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},r.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},r.prototype.dispatchStateUpdatedEvent=function(t){this.eventService.dispatchEvent({type:r.EVENT_STATE_UPDATED,key:t})},r.EVENT_MOVING_CHANGED="movingChanged",r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_WIDTH_CHANGED="widthChanged",r.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",r.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",r.EVENT_VISIBLE_CHANGED="visibleChanged",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_COL_DEF_CHANGED="colDefChanged",r.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",r.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_PIVOT_CHANGED="columnPivotChanged",r.EVENT_VALUE_CHANGED="columnValueChanged",r.EVENT_STATE_UPDATED="columnStateUpdated",SA([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),SA([be("columnUtils")],r.prototype,"columnUtils",void 0),SA([be("columnHoverService")],r.prototype,"columnHoverService",void 0),SA([Gt],r.prototype,"initialise",null),r}(),Ci=function(){function r(t,e,n,i){this.localEventService=new Fh,this.expandable=!1,this.instanceId=UH(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=n,this.level=i}return r.prototype.destroy=function(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)},r.prototype.reset=function(t,e){this.colGroupDef=t,this.level=e,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0},r.prototype.getInstanceId=function(){return this.instanceId},r.prototype.setOriginalParent=function(t){this.originalParent=t},r.prototype.getOriginalParent=function(){return this.originalParent},r.prototype.getLevel=function(){return this.level},r.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},r.prototype.isPadding=function(){return this.padding},r.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:r.EVENT_EXPANDED_CHANGED})},r.prototype.isExpandable=function(){return this.expandable},r.prototype.isExpanded=function(){return this.expanded},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getId=function(){return this.getGroupId()},r.prototype.setChildren=function(t){this.children=t},r.prototype.getChildren=function(){return this.children},r.prototype.getColGroupDef=function(){return this.colGroupDef},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.addLeafColumns=function(t){!this.children||this.children.forEach(function(e){e instanceof Lr?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},r.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();var e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(function(n){return n.addEventListener("visibleChanged",e)}),this.expandableListenerRemoveCallback=function(){t.getLeafColumns().forEach(function(n){return n.removeEventListener("visibleChanged",e)}),t.expandableListenerRemoveCallback=null}},r.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,n=!1,i=this.findChildrenRemovingPadding(),o=0,s=i.length;o<s;o++){var l=i[o];if(l.isVisible()){var v=l.getColumnGroupShow();"open"===v?(t=!0,n=!0):"closed"===v?(e=!0,n=!0):(t=!0,e=!0)}}var D=t&&e&&n;this.expandable!==D&&(this.expandable=D,this.localEventService.dispatchEvent({type:r.EVENT_EXPANDABLE_CHANGED}))}},r.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(n){n.forEach(function(i){i instanceof r&&i.isPadding()?e(i.children):t.push(i)})};return e(this.children),t},r.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_EXPANDABLE_CHANGED="expandableChanged",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([ls],r.prototype,"destroy",null),r}(),tie={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}};function zH(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0;e<r.length;e++){var n=r[e];if(Tt(n))return n}return null}function Sr(r){if(r&&r.length)return r[r.length-1]}function $c(r,t,e){return null==r&&null==t||null!=r&&null!=t&&r.length===t.length&&r.every(function(n,i){return e?e(n,t[i]):t[i]===n})}function WH(r){return r.sort(function(t,e){return t-e})}function g3(r,t){var e=r.indexOf(t);e>=0&&(r[e]=r[r.length-1],r.pop())}function la(r,t){var e=r.indexOf(t);e>=0&&r.splice(e,1)}function $H(r,t){for(var e=0;e<t.length;e++)g3(r,t[e])}function qH(r,t){for(var e=0;e<t.length;e++)la(r,t[e])}function vS(r,t,e){r.splice(e,0,t)}function v3(r,t,e){qH(r,t),t.slice().reverse().forEach(function(n){return vS(r,n,e)})}function ja(r,t){return r.indexOf(t)>-1}function YH(r){return[].concat.apply([],r)}function y3(r,t){null==t||null==r||t.forEach(function(e){return r.push(e)})}var lie=Object.freeze({__proto__:null,firstExistingValue:zH,existsAndNotEmpty:function nie(r){return null!=r&&r.length>0},last:Sr,areEqual:$c,shallowCompare:function rie(r,t){return $c(r,t)},sortNumerically:WH,removeRepeatsFromArray:function iie(r,t){if(r)for(var e=r.length-2;e>=0;e--)r[e]===t&&r[e+1]===t&&r.splice(e+1,1)},removeFromUnorderedArray:g3,removeFromArray:la,removeAllFromUnorderedArray:$H,removeAllFromArray:qH,insertIntoArray:vS,insertArrayIntoArray:function oie(r,t,e){if(null!=r&&null!=t)for(var n=t.length-1;n>=0;n--)vS(r,t[n],e)},moveInArray:v3,includes:ja,flatten:YH,pushAll:y3,toStrings:function sie(r){return r.map(pS)},forEachReverse:function aie(r,t){if(null!=r)for(var e=r.length-1;e>=0;e--)t(r[e],e)}}),KH="__ag_Grid_Stop_Propagation",uie=["touchstart","touchend","touchmove","touchcancel","scroll"],_3={};function _u(r){r[KH]=!0}function xl(r){return!0===r[KH]}var b3=function(){var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"==typeof _3[e])return _3[e];var n=document.createElement(r[e]||"div");return _3[e="on"+e]=e in n}}();function EA(r,t,e){for(var n=t;n;){var i=r.getDomData(n,e);if(i)return i;n=n.parentElement}return null}function DA(r,t){return!(!t||!r)&&QH(t).indexOf(r)>=0}function ZH(r){for(var t=[],e=r.target;e;)t.push(e),e=e.parentElement;return t}function QH(r){var t=r;return t.path?t.path:t.composedPath?t.composedPath():ZH(t)}function XH(r,t,e,n){var i=ja(uie,e);r&&r.addEventListener&&r.addEventListener(t,e,n,i?{passive:!0}:void 0)}var cie=Object.freeze({__proto__:null,stopPropagationForAgGrid:_u,isStopPropagationForAgGrid:xl,isEventSupported:b3,getCtrlForEventTarget:EA,isElementInEventPath:DA,createEventPath:ZH,getEventPath:QH,addSafePassiveEventListener:XH}),Fm=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pt=function(){function r(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=function(){return!t.destroyed}}return r.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},r.prototype.getContext=function(){return this.context},r.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:r.EVENT_DESTROYED})},r.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Fh),this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},r.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},r.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},r.prototype.addManagedListener=function(t,e,n){var i=this;if(!this.destroyed){t instanceof HTMLElement?XH(this.getFrameworkOverrides(),t,e,n):t.addEventListener(e,n);var o=function(){return t.removeEventListener(e,n),i.destroyFunctions=i.destroyFunctions.filter(function(s){return s!==o}),null};return this.destroyFunctions.push(o),o}},r.prototype.setupGridOptionListener=function(t,e){var n=this;this.gridOptionsService.addEventListener(t,e);var i=function(){return n.gridOptionsService.removeEventListener(t,e),n.destroyFunctions=n.destroyFunctions.filter(function(o){return o!==i}),null};this.destroyFunctions.push(i)},r.prototype.addManagedPropertyListener=function(t,e){this.destroyed||this.setupGridOptionListener(t,e)},r.prototype.addManagedPropertyListeners=function(t,e){var n=this;if(!this.destroyed){var i=t.join("-")+this.propertyListenerId++,o=function(s){if(s.changeSet){if(s.changeSet&&s.changeSet.id===n.lastChangeSetIdLookup[i])return;n.lastChangeSetIdLookup[i]=s.changeSet.id}e({type:"gridPropertyChanged",changeSet:s.changeSet})};t.forEach(function(s){return n.setupGridOptionListener(s,o)})}},r.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},r.prototype.createManagedBean=function(t,e){var n=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),n},r.prototype.createBean=function(t,e,n){return(e||this.getContext()).createBean(t,n)},r.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},r.prototype.destroyBeans=function(t,e){var n=this;return t&&t.forEach(function(i){return n.destroyBean(i,e)}),[]},r.EVENT_DESTROYED="destroyed",Fm([be("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),Fm([be("context")],r.prototype,"context",void 0),Fm([be("eventService")],r.prototype,"eventService",void 0),Fm([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),Fm([be("localeService")],r.prototype,"localeService",void 0),Fm([be("environment")],r.prototype,"environment",void 0),Fm([ls],r.prototype,"destroy",null),r}(),die=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TA=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hie=function(r,t){return function(e,n){t(e,n,r)}},fie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return die(t,r),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,n,i){var o=new Lre,s=this.extractExistingTreeData(i),l=s.existingCols,v=s.existingGroups;o.addExistingKeys(s.existingColKeys);var F=this.recursivelyCreateColumns(e,0,n,l,o,v),z=this.findMaxDept(F,0);this.logger.log("Number of levels for grouped columns is "+z);var re=this.balanceColumnTree(F,0,z,o);return this.columnUtils.depthFirstOriginalTreeSearch(null,re,function(fe,ge){fe instanceof Ci&&fe.setupExpandable(),fe.setOriginalParent(ge)}),{columnTree:re,treeDept:z}},t.prototype.extractExistingTreeData=function(e){var n=[],i=[],o=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){if(s instanceof Ci)i.push(s);else{var v=s;o.push(v.getId()),n.push(v)}}),{existingCols:n,existingGroups:i,existingColKeys:o}},t.prototype.createForAutoGroups=function(e,n){var i=this;return e.map(function(o){return i.createAutoGroupTreeItem(n,o)})},t.prototype.createAutoGroupTreeItem=function(e,n){for(var i=this.findDepth(e),o=n,s=i-1;s>=0;s--){var l=new Ci(null,"FAKE_PATH_".concat(n.getId(),"}_").concat(s),!0,s);this.createBean(l),l.setChildren([o]),o.setOriginalParent(l),o=l}return 0===i&&n.setOriginalParent(null),o},t.prototype.findDepth=function(e){for(var n=0,i=e;i&&i[0]&&i[0]instanceof Ci;)n++,i=i[0].getChildren();return n},t.prototype.balanceColumnTree=function(e,n,i,o){for(var s=[],l=0;l<e.length;l++){var v=e[l];if(v instanceof Ci){var D=v,F=this.balanceColumnTree(D.getChildren(),n+1,i,o);D.setChildren(F),s.push(D)}else{for(var z=void 0,re=void 0,ae=i-1;ae>=n;ae--){var fe=o.getUniqueKey(null,null),ge=this.createMergedColGroupDef(null),we=new Ci(ge,fe,!0,n);this.createBean(we),re&&re.setChildren([we]),re=we,z||(z=re)}if(z&&re){if(s.push(z),e.some(function(Ie){return Ie instanceof Ci})){re.setChildren([v]);continue}re.setChildren(e);break}s.push(v)}}return s},t.prototype.findMaxDept=function(e,n){for(var i=n,o=0;o<e.length;o++){var s=e[o];if(s instanceof Ci){var v=this.findMaxDept(s.getChildren(),n+1);i<v&&(i=v)}}return i},t.prototype.recursivelyCreateColumns=function(e,n,i,o,s,l){if(!e)return[];for(var v=new Array(e.length),D=0;D<v.length;D++){var F=e[D];v[D]=this.isColumnGroup(F)?this.createColumnGroup(i,F,n,o,s,l):this.createColumn(i,F,o,s)}return v},t.prototype.createColumnGroup=function(e,n,i,o,s,l){var v=this.createMergedColGroupDef(n),D=s.getUniqueKey(v.groupId||null,null),F=new Ci(v,D,!1,i);this.createBean(F);var z=this.findExistingGroup(n,l);z&&l.splice(z.idx,1);var re=z?.group;re&&F.setExpanded(re.isExpanded());var ae=this.recursivelyCreateColumns(v.children,i+1,e,o,s,l);return F.setChildren(ae),F},t.prototype.createMergedColGroupDef=function(e){var n={};return Object.assign(n,this.gridOptionsService.get("defaultColGroupDef")),Object.assign(n,e),n},t.prototype.createColumn=function(e,n,i,o){var s=this.findExistingColumn(n,i);s&&i?.splice(s.idx,1);var l=s?.column;if(l){var D=this.addColumnDefaultAndTypes(n,l.getColId());l.setColDef(D,n),this.applyColumnState(l,D)}else{var v=o.getUniqueKey(n.colId,n.field);D=this.addColumnDefaultAndTypes(n,v),l=new Lr(D,n,v,e),this.context.createBean(l)}return this.dataTypeService.addColumnListeners(l),l},t.prototype.applyColumnState=function(e,n){var i=Ph(n.flex);if(void 0!==i&&e.setFlex(i),e.getFlex()<=0){var s=Ph(n.width);if(null!=s)e.setActualWidth(s);else{var l=e.getActualWidth();e.setActualWidth(l)}}void 0!==n.sort&&e.setSort("asc"==n.sort||"desc"==n.sort?n.sort:void 0);var v=Ph(n.sortIndex);void 0!==v&&e.setSortIndex(v);var D=yA(n.hide);void 0!==D&&e.setVisible(!D),void 0!==n.pinned&&e.setPinned(n.pinned)},t.prototype.findExistingColumn=function(e,n){if(n)for(var i=0;i<n.length;i++){var o=n[i].getUserProvidedColDef();if(o){if(null!=e.colId){if(n[i].getId()===e.colId)return{idx:i,column:n[i]};continue}if(null!=e.field){if(o.field===e.field)return{idx:i,column:n[i]};continue}if(o===e)return{idx:i,column:n[i]}}}},t.prototype.findExistingGroup=function(e,n){if(null!=e.groupId)for(var o=0;o<n.length;o++){var s=n[o];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:o,group:s}}},t.prototype.addColumnDefaultAndTypes=function(e,n){var i={};aa(i,this.gridOptionsService.get("defaultColDef"),!1,!0);var s=this.dataTypeService.updateColDefAndGetColumnType(i,e,n);s&&this.assignColumnTypes(s,i),aa(i,e,!1,!0);var l=this.gridOptionsService.get("autoGroupColumnDef"),v=this.gridOptionsService.isColumnsSortingCoupledToGroup();return e.rowGroup&&l&&v&&aa(i,{sort:l.sort,initialSort:l.initialSort},!1,!0),this.dataTypeService.validateColDef(i),i},t.prototype.assignColumnTypes=function(e,n){if(e.length){var i=Object.assign({},tie);Uo(this.gridOptionsService.get("columnTypes")||{},function(s,l){s in i?console.warn("AG Grid: the column type '".concat(s,"' is a default column type and cannot be overridden.")):(l.type&&$n("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),i[s]=l)}),e.forEach(function(s){var l=i[s.trim()];l?aa(n,l,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},TA([be("columnUtils")],t.prototype,"columnUtils",void 0),TA([be("dataTypeService")],t.prototype,"dataTypeService",void 0),TA([hie(0,xs("loggerFactory"))],t.prototype,"setBeans",null),TA([Jt("columnFactory")],t)}(Pt),eo=function(){function r(t,e,n,i){this.displayedChildren=[],this.localEventService=new Fh,this.groupId=e,this.partId=n,this.providedColumnGroup=t,this.pinned=i}return r.createUniqueId=function(t,e){return t+"_"+e},r.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},r.prototype.getParent=function(){return this.parent},r.prototype.setParent=function(t){this.parent=t},r.prototype.getUniqueId=function(){return r.createUniqueId(this.groupId,this.partId)},r.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},r.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},r.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(i){i instanceof r&&i.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsService.get("enableRtl")){var e=Sr(this.displayedChildren).getLeft();this.setLeft(e)}else{var n=this.displayedChildren[0].getLeft();this.setLeft(n)}else this.setLeft(null)},r.prototype.getLeft=function(){return this.left},r.prototype.getOldLeft=function(){return this.oldLeft},r.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_LEFT_CHANGED)))},r.prototype.getPinned=function(){return this.pinned},r.prototype.createAgEvent=function(t){return{type:t}},r.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},r.prototype.getGroupId=function(){return this.groupId},r.prototype.getPartId=function(){return this.partId},r.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(n){t===n&&(e=!0),n instanceof r&&n.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},r.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},r.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},r.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},r.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},r.prototype.getDisplayedChildren=function(){return this.displayedChildren},r.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},r.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},r.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},r.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},r.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},r.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},r.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},r.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof Lr?t.push(e):e instanceof r&&e.addDisplayedLeafColumns(t)})},r.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof Lr?t.push(e):e instanceof r&&e.addLeafColumns(t)})},r.prototype.getChildren=function(){return this.children},r.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},r.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},r.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},r.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(i){if(!(i instanceof r)||i.displayedChildren&&i.displayedChildren.length)switch(i.getColumnGroupShow()){case"open":e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(i);break;case"closed":e.providedColumnGroup.isExpanded()||t.displayedChildren.push(i);break;default:t.displayedChildren.push(i)}}),this.localEventService.dispatchEvent(this.createAgEvent(r.EVENT_DISPLAYED_CHILDREN_CHANGED))},r.EVENT_LEFT_CHANGED="leftChanged",r.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),Ce=function(){function r(){}return r.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",r.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",r.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",r.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",r.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",r.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",r.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",r.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",r.EVENT_COLUMN_MOVED="columnMoved",r.EVENT_COLUMN_VISIBLE="columnVisible",r.EVENT_COLUMN_PINNED="columnPinned",r.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",r.EVENT_COLUMN_RESIZED="columnResized",r.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",r.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",r.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",r.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",r.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",r.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",r.EVENT_ROW_GROUP_OPENED="rowGroupOpened",r.EVENT_ROW_DATA_UPDATED="rowDataUpdated",r.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",r.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",r.EVENT_CHART_CREATED="chartCreated",r.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",r.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",r.EVENT_CHART_DESTROYED="chartDestroyed",r.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",r.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",r.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",r.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",r.EVENT_MODEL_UPDATED="modelUpdated",r.EVENT_CUT_START="cutStart",r.EVENT_CUT_END="cutEnd",r.EVENT_PASTE_START="pasteStart",r.EVENT_PASTE_END="pasteEnd",r.EVENT_FILL_START="fillStart",r.EVENT_FILL_END="fillEnd",r.EVENT_RANGE_DELETE_START="rangeDeleteStart",r.EVENT_RANGE_DELETE_END="rangeDeleteEnd",r.EVENT_UNDO_STARTED="undoStarted",r.EVENT_UNDO_ENDED="undoEnded",r.EVENT_REDO_STARTED="redoStarted",r.EVENT_REDO_ENDED="redoEnded",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",r.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",r.EVENT_CELL_CLICKED="cellClicked",r.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",r.EVENT_CELL_MOUSE_DOWN="cellMouseDown",r.EVENT_CELL_CONTEXT_MENU="cellContextMenu",r.EVENT_CELL_VALUE_CHANGED="cellValueChanged",r.EVENT_CELL_EDIT_REQUEST="cellEditRequest",r.EVENT_ROW_VALUE_CHANGED="rowValueChanged",r.EVENT_CELL_FOCUSED="cellFocused",r.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",r.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_SELECTION_CHANGED="selectionChanged",r.EVENT_TOOLTIP_SHOW="tooltipShow",r.EVENT_TOOLTIP_HIDE="tooltipHide",r.EVENT_CELL_KEY_DOWN="cellKeyDown",r.EVENT_CELL_MOUSE_OVER="cellMouseOver",r.EVENT_CELL_MOUSE_OUT="cellMouseOut",r.EVENT_FILTER_CHANGED="filterChanged",r.EVENT_FILTER_MODIFIED="filterModified",r.EVENT_FILTER_OPENED="filterOpened",r.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",r.EVENT_SORT_CHANGED="sortChanged",r.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",r.EVENT_ROW_CLICKED="rowClicked",r.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",r.EVENT_GRID_READY="gridReady",r.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",r.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",r.EVENT_VIEWPORT_CHANGED="viewportChanged",r.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",r.EVENT_FIRST_DATA_RENDERED="firstDataRendered",r.EVENT_DRAG_STARTED="dragStarted",r.EVENT_DRAG_STOPPED="dragStopped",r.EVENT_CHECKBOX_CHANGED="checkboxChanged",r.EVENT_ROW_EDITING_STARTED="rowEditingStarted",r.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",r.EVENT_CELL_EDITING_STARTED="cellEditingStarted",r.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",r.EVENT_BODY_SCROLL="bodyScroll",r.EVENT_BODY_SCROLL_END="bodyScrollEnd",r.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",r.EVENT_PAGINATION_CHANGED="paginationChanged",r.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",r.EVENT_STORE_REFRESHED="storeRefreshed",r.EVENT_STATE_UPDATED="stateUpdated",r.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",r.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",r.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",r.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",r.EVENT_FLASH_CELLS="flashCells",r.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",r.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",r.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",r.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",r.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",r.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",r.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",r.EVENT_ROW_DRAG_ENTER="rowDragEnter",r.EVENT_ROW_DRAG_MOVE="rowDragMove",r.EVENT_ROW_DRAG_LEAVE="rowDragLeave",r.EVENT_ROW_DRAG_END="rowDragEnd",r.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",r.EVENT_POPUP_TO_FRONT="popupToFront",r.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",r.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",r.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",r.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",r.EVENT_STORE_UPDATED="storeUpdated",r.EVENT_FILTER_DESTROYED="filterDestroyed",r.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",r.EVENT_ROW_COUNT_READY="rowCountReady",r.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",r.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",r.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",r.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",r.EVENT_SIDE_BAR_UPDATED="sideBarUpdated",r}(),JH=function(){function r(){this.existingIds={}}return r.prototype.getInstanceIdForKey=function(t){var n,e=this.existingIds[t];return this.existingIds[t]=n="number"!=typeof e?0:e+1,n},r}(),mie=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),w3=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nm="ag-Grid-AutoColumn",gie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return mie(t,r),t.prototype.createAutoGroupColumns=function(e){var n=this,i=[],o=this.gridOptionsService.get("treeData"),s=this.gridOptionsService.isGroupMultiAutoColumn();return o&&s&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),s=!1),s?e.forEach(function(l,v){i.push(n.createOneAutoGroupColumn(l,v))}):i.push(this.createOneAutoGroupColumn()),i},t.prototype.updateAutoGroupColumns=function(e){var n=this;e.forEach(function(i,o){return n.updateOneAutoGroupColumn(i,o)})},t.prototype.createOneAutoGroupColumn=function(e,n){var i;i=e?"".concat(Nm,"-").concat(e.getId()):Nm;var o=this.createAutoGroupColDef(i,e,n);o.colId=i;var s=new Lr(o,null,i,!0);return this.context.createBean(s),s},t.prototype.updateOneAutoGroupColumn=function(e,n){var i=e.getColDef(),o="string"==typeof i.showRowGroup?i.showRowGroup:void 0,s=null!=o?this.columnModel.getPrimaryColumn(o):void 0,l=this.createAutoGroupColDef(e.getId(),s??void 0,n);e.setColDef(l,null),this.columnFactory.applyColumnState(e,l)},t.prototype.createAutoGroupColDef=function(e,n,i){var o=this.createBaseColDef(n);return aa(o,this.gridOptionsService.get("autoGroupColumnDef")),o=this.columnFactory.addColumnDefaultAndTypes(o,e),this.gridOptionsService.get("treeData")||An(o.field)&&An(o.valueGetter)&&An(o.filterValueGetter)&&"agGroupColumnFilter"!==o.filter&&(o.filter=!1),i&&i>0&&(o.headerCheckboxSelection=!1),this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!(o.valueGetter||null!=o.field)&&(o.sortIndex=void 0,o.initialSort=void 0),o},t.prototype.createBaseColDef=function(e){var n=this.gridOptionsService.get("autoGroupColumnDef"),o={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(n&&(n.cellRenderer||n.cellRendererSelector)||(o.cellRenderer="agGroupCellRenderer"),e){var l=e.getColDef();Object.assign(o,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:l.headerValueGetter}),l.cellRenderer&&Object.assign(o,{cellRendererParams:{innerRenderer:l.cellRenderer,innerRendererParams:l.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},w3([be("columnModel")],t.prototype,"columnModel",void 0),w3([be("columnFactory")],t.prototype,"columnFactory",void 0),w3([Jt("autoGroupColService")],t)}(Pt),vie=/[&<>"']/g,yie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function zi(r,t){if(null==r)return null;var e=r.toString().toString();return t?e:e.replace(vie,function(n){return yie[n]})}function e9(r){return r&&null!=r?r.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" "):null}function t9(r){return r.replace(/[A-Z]/g,function(t){return"-".concat(t.toLocaleLowerCase())})}var wie=Object.freeze({__proto__:null,utf8_encode:function _ie(r){var t=String.fromCharCode;function i(z,re){return t(z>>re&63|128)}function o(z){if(z>=0&&z<=31&&10!==z){var ae=z.toString(16).toUpperCase().padStart(4,"0");return"_x".concat(ae,"_")}if(0==(4294967168&z))return t(z);var fe="";return 0==(4294965248&z)?fe=t(z>>6&31|192):0==(4294901760&z)?(function n(z){if(z>=55296&&z<=57343)throw Error("Lone surrogate U+"+z.toString(16).toUpperCase()+" is not a scalar value")}(z),fe=t(z>>12&15|224),fe+=i(z,6)):0==(4292870144&z)&&(fe=t(z>>18&7|240),fe+=i(z,12),fe+=i(z,6)),fe+t(63&z|128)}for(var s=function e(z){var re=[];if(!z)return[];for(var ge,we,ae=z.length,fe=0;fe<ae;)(ge=z.charCodeAt(fe++))>=55296&&ge<=56319&&fe<ae?56320==(64512&(we=z.charCodeAt(fe++)))?re.push(((1023&ge)<<10)+(1023&we)+65536):(re.push(ge),fe--):re.push(ge);return re}(r),l=s.length,v=-1,F="";++v<l;)F+=o(s[v]);return F},capitalise:function bie(r){return r[0].toUpperCase()+r.substring(1).toLowerCase()},escapeString:zi,camelCaseToHumanText:e9,camelCaseToHyphenated:t9});function Nh(r){var t=new Map;return r.forEach(function(e){return t.set(e[0],e[1])}),t}var Eie=Object.freeze({__proto__:null,convertToMap:Nh,mapById:function Cie(r,t){var e=new Map;return r.forEach(function(n){return e.set(t(n),n)}),e},keys:function Sie(r){var t=[];return r.forEach(function(e,n){return t.push(n)}),t}}),Die=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eo=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tie=function(r,t){return function(e,n){t(e,n,r)}},Rl=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Al=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},n9=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Rie=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsHash="",e.headerViewportColumns=[],e.viewportColumnsCenter=[],e.headerViewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.shouldQueueResizeOperations=!1,e.resizeOperationQueue=[],e}return Die(t,r),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsService.get("suppressColumnVirtualisation");var n=this.gridOptionsService.get("pivotMode");this.isPivotSettingAllowed(n)&&(this.pivotMode=n),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],function(){return e.buildAutoGroupColumns()}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],function(i){return e.onSharedColDefChanged(i.source)}),this.addManagedPropertyListener("pivotMode",function(){return e.setPivotMode(e.gridOptionsService.get("pivotMode"))}),this.addManagedListener(this.eventService,Ce.EVENT_FIRST_DATA_RENDERED,function(){return e.onFirstDataRendered()})},t.prototype.buildAutoGroupColumns=function(){!this.columnDefs||(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged"))},t.prototype.onAutoGroupColumnDefChanged=function(){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns)},t.prototype.onSharedColDefChanged=function(e){void 0===e&&(e="api"),this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns),this.createColumnsFromColumnDefs(!0,e))},t.prototype.setColumnDefs=function(e,n){void 0===n&&(n="api");var i=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(i,n)},t.prototype.recreateColumnDefs=function(e){void 0===e&&(e="api"),this.onSharedColDefChanged(e)},t.prototype.destroyOldColumns=function(e,n){var i={};if(e){this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(s){i[s.getInstanceId()]=s}),n&&this.columnUtils.depthFirstOriginalTreeSearch(null,n,function(s){i[s.getInstanceId()]=null});var o=Object.values(i).filter(function(s){return null!=s});this.destroyBeans(o)}},t.prototype.destroyColumns=function(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)},t.prototype.createColumnsFromColumnDefs=function(e,n){var i=this;void 0===n&&(n="api");var o=e?this.compareColumnStatesAndDispatchEvents(n):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var s=this.primaryColumns,v=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.destroyOldColumns(this.primaryColumnTree,v.columnTree),this.primaryColumnTree=v.columnTree,this.primaryHeaderRowCount=v.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(z){return i.primaryColumnsMap[z.getId()]=z}),this.extractRowGroupColumns(n,s),this.extractPivotColumns(n,s),this.extractValueColumns(n,s),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gridOptionsService.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(n),this.checkViewportColumns()),this.dispatchEverythingChanged(n),o&&o(),this.dispatchNewColumnsLoaded(n)},t.prototype.dispatchNewColumnsLoaded=function(e){this.eventService.dispatchEvent({type:Ce.EVENT_NEW_COLUMNS_LOADED,source:e}),"gridInitializing"===e&&this.onColumnsReady()},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_EVERYTHING_CHANGED,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,n=this.primaryColumns;if(n){var i=n.filter(function(s){return e.gridColumns.indexOf(s)>=0}),o=this.gridColumns.filter(function(s){return i.indexOf(s)<0});this.gridColumns=Al(Al([],Rl(o),!1),Rl(i),!1),this.gridColumns=this.placeLockedColumns(this.gridColumns)}},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsService.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var n=e,i=[];null!=n;)i.push(n),n=this.getDisplayedColAfter(n);return i},t.prototype.checkViewportColumns=function(e){void 0===e&&(e=!1),null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:Ce.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e})},t.prototype.setViewportPosition=function(e,n,i){void 0===i&&(i=!1),(e!==this.scrollWidth||n!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=n,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(i))},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsService.get("treeData")||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,n){void 0===n&&(n="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED}))},t.prototype.getSecondaryPivotColumn=function(e,n){if(An(this.secondaryColumns))return null;var i=this.getPrimaryColumn(n),o=null;return this.secondaryColumns.forEach(function(s){var l=s.getColDef().pivotKeys,v=s.getColDef().pivotValueColumn;$c(l,e)&&v===i&&(o=s)}),o},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var n,i;this.gridOptionsService.get("enableRtl")?(n=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,i=this.displayedColumnsRight?Sr(this.displayedColumnsRight):null):(n=this.displayedColumnsLeft?Sr(this.displayedColumnsLeft):null,i=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(o){o.setLastLeftPinned(o===n,e),o.setFirstRightPinned(o===i,e)})},t.prototype.autoSizeColumns=function(e){var n=this;if(this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return n.autoSizeColumns(e)});else{var i=e.columns,o=e.skipHeader,s=e.skipHeaderGroups,l=e.stopAtGroup,v=e.source,D=void 0===v?"api":v;this.animationFrameService.flushAllFrames();for(var F=[],z=-1,re=o??this.gridOptionsService.get("skipHeaderOnAutoSize"),ae=s??re;0!==z;)z=0,this.actionOnGridColumns(i,function(fe){if(F.indexOf(fe)>=0)return!1;var ge=n.autoWidthCalculator.getPreferredWidthForColumn(fe,re);if(ge>0){var we=n.normaliseColumnWidth(fe,ge);fe.setActualWidth(we,D),F.push(fe),z++}return!0},D);ae||this.autoSizeColumnGroupsByColumns(i,D,l),this.dispatchColumnResizedEvent(F,!0,"autosizeColumns")}},t.prototype.dispatchColumnResizedEvent=function(e,n,i,o){void 0===o&&(o=null),e&&e.length&&this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:o,finished:n,source:i})},t.prototype.dispatchColumnChangedEvent=function(e,n,i){this.eventService.dispatchEvent({type:e,columns:n,column:n&&1==n.length?n[0]:null,source:i})},t.prototype.dispatchColumnMovedEvent=function(e){var n=e.movedColumns;this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_MOVED,columns:n,column:n&&1===n.length?n[0]:null,toIndex:e.toIndex,finished:e.finished,source:e.source})},t.prototype.dispatchColumnPinnedEvent=function(e,n){if(e.length){var i=1===e.length?e[0]:null,o=this.getCommonValue(e,function(l){return l.getPinned()});this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_PINNED,pinned:o??null,columns:e,column:i,source:n})}},t.prototype.dispatchColumnVisibleEvent=function(e,n){if(e.length){var i=1===e.length?e[0]:null,o=this.getCommonValue(e,function(l){return l.isVisible()});this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_VISIBLE,visible:o,columns:e,column:i,source:n})}},t.prototype.autoSizeColumn=function(e,n,i){void 0===i&&(i="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:n,skipHeaderGroups:!0,source:i})},t.prototype.autoSizeColumnGroupsByColumns=function(e,n,i){var o,s,l,v,z,D=new Set;this.getGridColumns(e).forEach(function(Ve){for(var et=Ve.getParent();et&&et!=i;)et.isPadding()||D.add(et),et=et.getParent()});try{for(var ae=n9(D),fe=ae.next();!fe.done;fe=ae.next()){var ge=fe.value;try{for(var we=(l=void 0,n9(this.ctrlsService.getHeaderRowContainerCtrls())),Te=we.next();!Te.done&&!(z=Te.value.getHeaderCtrlForColumn(ge));Te=we.next());}catch(Ve){l={error:Ve}}finally{try{Te&&!Te.done&&(v=we.return)&&v.call(we)}finally{if(l)throw l.error}}z&&z.resizeLeafColumnsToFit(n)}}catch(Ve){o={error:Ve}}finally{try{fe&&!fe.done&&(s=ae.return)&&s.call(ae)}finally{if(o)throw o.error}}return[]},t.prototype.autoSizeAllColumns=function(e,n){var i=this;if(void 0===n&&(n="api"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return i.autoSizeAllColumns(e,n)});else{var o=this.getAllDisplayedColumns();this.autoSizeColumns({columns:o,skipHeader:e,source:n})}},t.prototype.getColumnsFromTree=function(e){var n=[],i=function(o){for(var s=0;s<o.length;s++){var l=o[s];l instanceof Lr?n.push(l):l instanceof Ci&&i(l.getChildren())}};return i(e),n},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.isColSpanActive=function(){return this.colSpanActive},t.prototype.getDisplayedColumnsForRow=function(e,n,i,o){for(var D,s=[],l=null,v=function(z){var Ie,re=n[z],ae=n.length-z,fe=Math.min(re.getColSpan(e),ae),ge=[re];if(fe>1){for(var we=fe-1,Te=1;Te<=we;Te++)ge.push(n[z+Te]);z+=we}i?(Ie=!1,ge.forEach(function(et){i(et)&&(Ie=!0)})):Ie=!0,Ie&&(0===s.length&&l&&o&&o(re)&&s.push(l),s.push(re)),l=re,D=z},F=0;F<n.length;F++)v(F),F=D;return s},t.prototype.getViewportCenterColumnsForRow=function(e){var n=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var o=this.suppressColumnVirtualisation?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,o,function(s){var l=s.getLeft();return Tt(l)&&l>n.viewportLeft})},t.prototype.isColumnAtEdge=function(e,n){var i=this.getAllDisplayedColumns();if(!i.length)return!1;var s,o="first"===n;if(e instanceof eo){var l=e.getDisplayedLeafColumns();if(!l.length)return!1;s=o?l[0]:Sr(l)}else s=e;return(o?i[0]:Sr(i))===s},t.prototype.getAriaColumnIndex=function(e){var n;return n=e instanceof eo?e.getLeafColumns()[0]:e,this.getAllGridColumns().indexOf(n)+1},t.prototype.isColumnInHeaderViewport=function(e){return!!e.isAutoHeaderHeight()||this.isColumnInRowViewport(e)},t.prototype.isColumnInRowViewport=function(e){if(e.isAutoHeight())return!0;var n=e.getLeft()||0,i=n+e.getActualWidth(),o=this.viewportLeft-200,s=this.viewportRight+200;return!(n<o&&i<o||n>s&&i>s)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,n,i,o,s,l){var v=this;if(void 0===l&&(l="api"),e&&!Ts(e)){var D=!1;e.forEach(function(z){var re=v.getPrimaryColumn(z);if(re){if(i){if(n.indexOf(re)>=0)return;n.push(re)}else{if(n.indexOf(re)<0)return;la(n,re)}o(re),D=!0}}),D&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(l),this.eventService.dispatchEvent({type:s,columns:n,column:1===n.length?n[0]:null,source:l}))}},t.prototype.setRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),n)},t.prototype.setRowGroupActive=function(e,n,i){e!==n.isRowGroupActive()&&(n.setRowGroupActive(e,i),e&&!this.gridOptionsService.get("suppressRowGroupHidesColumns")&&this.setColumnVisible(n,!1,i),!e&&!this.gridOptionsService.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnVisible(n,!0,i))},t.prototype.addRowGroupColumn=function(e,n){void 0===n&&(n="api"),e&&this.addRowGroupColumns([e],n)},t.prototype.addRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumns=function(e,n){void 0===n&&(n="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,n)},t.prototype.removeRowGroupColumn=function(e,n){void 0===n&&(n="api"),e&&this.removeRowGroupColumns([e],n)},t.prototype.addPivotColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(i){return i.setPivotActive(!0,n)},Ce.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.setPivotColumns=function(e,n){void 0===n&&(n="api"),this.setPrimaryColumnList(e,this.pivotColumns,Ce.EVENT_COLUMN_PIVOT_CHANGED,!0,function(i,o){o.setPivotActive(i,n)},n)},t.prototype.addPivotColumn=function(e,n){void 0===n&&(n="api"),this.addPivotColumns([e],n)},t.prototype.removePivotColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(i){return i.setPivotActive(!1,n)},Ce.EVENT_COLUMN_PIVOT_CHANGED,n)},t.prototype.removePivotColumn=function(e,n){void 0===n&&(n="api"),this.removePivotColumns([e],n)},t.prototype.setPrimaryColumnList=function(e,n,i,o,s,l){var v=this;if(this.gridColumns){var D=new Map;n.forEach(function(F,z){return D.set(F,z)}),n.length=0,Tt(e)&&e.forEach(function(F){var z=v.getPrimaryColumn(F);z&&n.push(z)}),n.forEach(function(F,z){var re=D.get(F);void 0!==re?o&&re!==z||D.delete(F):D.set(F,0)}),(this.primaryColumns||[]).forEach(function(F){var z=n.indexOf(F)>=0;s(z,F)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(l),this.dispatchColumnChangedEvent(i,Al([],Rl(D.keys()),!1),l)}},t.prototype.setValueColumns=function(e,n){void 0===n&&(n="api"),this.setPrimaryColumnList(e,this.valueColumns,Ce.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),n)},t.prototype.setValueActive=function(e,n,i){if(e!==n.isValueActive()&&(n.setValueActive(e,i),e&&!n.getAggFunc())){var o=this.aggFuncService.getDefaultAggFunc(n);n.setAggFunc(o)}},t.prototype.addValueColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),Ce.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.addValueColumn=function(e,n){void 0===n&&(n="api"),e&&this.addValueColumns([e],n)},t.prototype.removeValueColumn=function(e,n){void 0===n&&(n="api"),this.removeValueColumns([e],n)},t.prototype.removeValueColumns=function(e,n){void 0===n&&(n="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),Ce.EVENT_COLUMN_VALUE_CHANGED,n)},t.prototype.normaliseColumnWidth=function(e,n){var i=e.getMinWidth();Tt(i)&&n<i&&(n=i);var o=e.getMaxWidth();return Tt(o)&&e.isGreaterThanMax(n)&&(n=o),n},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,n,i,o){var s=this;void 0===o&&(o="api");var l=[];e.forEach(function(v){var D=s.getPrimaryOrGridColumn(v.key);if(D&&(l.push({width:v.newWidth,ratios:[1],columns:[D]}),"shift"===s.gridOptionsService.get("colResizeDefault")&&(n=!n),n)){var z=s.getDisplayedColAfter(D);if(!z)return;var re=D.getActualWidth()-v.newWidth,ae=z.getActualWidth()+re;l.push({width:ae,ratios:[1],columns:[z]})}}),0!==l.length&&this.resizeColumnSets({resizeSets:l,finished:i,source:o})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var i=e.width,o=0,s=0,l=!0;return e.columns.forEach(function(F){var z=F.getMinWidth();o+=z||0;var re=F.getMaxWidth();Tt(re)&&re>0?s+=re:l=!1}),i>=o&&(!l||i<=s)},t.prototype.resizeColumnSets=function(e){var n=this,i=e.resizeSets,o=e.finished,s=e.source;if(!i||i.every(function(fe){return n.checkMinAndMaxWidthsForSet(fe)})){var D=[],F=[];i.forEach(function(fe){var ge=fe.width,we=fe.columns,Te=fe.ratios,Ie={},Ve={};we.forEach(function(Mt){return F.push(Mt)});for(var et=!0,gt=0,Dt=function(){if(++gt>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";et=!1;var Mt=[],qt=0,an=ge;we.forEach(function(Xn,Ar){Ve[Xn.getId()]?an-=Ie[Xn.getId()]:(Mt.push(Xn),qt+=Te[Ar])});var _n=1/qt;Mt.forEach(function(Xn,Ar){var Nr;Ar===Mt.length-1?Nr=an:(Nr=Math.round(Te[Ar]*ge*_n),an-=Nr);var on=Xn.getMinWidth(),Yt=Xn.getMaxWidth();Tt(on)&&Nr<on?(Nr=on,Ve[Xn.getId()]=!0,et=!0):Tt(Yt)&&Yt>0&&Nr>Yt&&(Nr=Yt,Ve[Xn.getId()]=!0,et=!0),Ie[Xn.getId()]=Nr})};et&&"break"!==Dt(););we.forEach(function(Mt){var qt=Ie[Mt.getId()];Mt.getActualWidth()!==qt&&(Mt.setActualWidth(qt,s),D.push(Mt))})});var z=D.length>0,re=[];z&&(re=this.refreshFlexedColumns({resizingCols:F,skipSetLeft:!0}),this.setLeftValues(s),this.updateBodyWidths(),this.checkViewportColumns());var ae=F.concat(re);(z||o)&&this.dispatchColumnResizedEvent(ae,o,s,re)}else o&&this.dispatchColumnResizedEvent(i&&i.length>0?i[0].columns:null,o,s)},t.prototype.setColumnAggFunc=function(e,n,i){if(void 0===i&&(i="api"),e){var o=this.getPrimaryColumn(e);!o||(o.setAggFunc(n),this.dispatchColumnChangedEvent(Ce.EVENT_COLUMN_VALUE_CHANGED,[o],i))}},t.prototype.moveRowGroupColumn=function(e,n,i){if(void 0===i&&(i="api"),!this.isRowGroupEmpty()){var o=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,n);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(n,0,o),this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:1===s.length?s[0]:null,source:i})}},t.prototype.moveColumns=function(e,n,i,o){if(void 0===i&&(i="api"),void 0===o&&(o=!0),this.gridColumns){if(this.columnAnimationService.start(),n>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+n),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var s=this.getGridColumns(e);!this.doesMovePassRules(s,n)||(v3(this.gridColumns,s,n),this.updateDisplayedColumns(i),this.dispatchColumnMovedEvent({movedColumns:s,source:i,toIndex:n,finished:o}),this.columnAnimationService.finish())}},t.prototype.doesMovePassRules=function(e,n){var i=this.getProposedColumnOrder(e,n);return this.doesOrderPassRules(i)},t.prototype.doesOrderPassRules=function(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))},t.prototype.getProposedColumnOrder=function(e,n){var i=this.gridColumns.slice();return v3(i,e,n),i},t.prototype.sortColumnsLikeGridColumns=function(e){var n=this;!e||e.length<=1||e.filter(function(o){return n.gridColumns.indexOf(o)<0}).length>0||e.sort(function(o,s){return n.gridColumns.indexOf(o)-n.gridColumns.indexOf(s)})},t.prototype.doesMovePassLockedPositions=function(e){var n=0,i=!0;return e.forEach(function(s){var l=function(s){return s?!0===s||"left"===s?0:2:1}(s.getColDef().lockPosition);l<n&&(i=!1),n=l}),i},t.prototype.doesMovePassMarryChildren=function(e){var n=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof Ci){var o=i,s=o.getColGroupDef();if(s&&s.marryChildren){var v=[];o.getLeafColumns().forEach(function(ae){var fe=e.indexOf(ae);v.push(fe)}),Math.max.apply(Math,v)-Math.min.apply(Math,v)>o.getLeafColumns().length-1&&(n=!1)}}}),n},t.prototype.moveColumn=function(e,n,i){void 0===i&&(i="api"),this.moveColumns([e],n,i)},t.prototype.moveColumnByIndex=function(e,n,i){void 0===i&&(i="api"),this.gridColumns&&this.moveColumn(this.gridColumns[e],n,i)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var n=this.primaryColumns.slice();return this.gridColsArePrimary?n.sort(function(i,o){return e.gridColumns.indexOf(i)-e.gridColumns.indexOf(o)}):this.lastPrimaryOrder&&n.sort(function(i,o){return e.lastPrimaryOrder.indexOf(i)-e.lastPrimaryOrder.indexOf(o)}),this.columnDefFactory.buildColumnDefs(n,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),n=this.getWidthOfColsInList(this.displayedColumnsLeft),i=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==n||this.rightWidth!==i)&&(this.bodyWidth=e,this.leftWidth=n,this.rightWidth=i,this.eventService.dispatchEvent({type:Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case"left":return this.getDisplayedLeftColumns();case"right":return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){var e;return null!==(e=this.gridColumns)&&void 0!==e?e:[]},t.prototype.isEmpty=function(){return Ts(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return Ts(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,n,i){void 0===i&&(i="api"),this.setColumnsVisible([e],n,i)},t.prototype.setColumnsVisible=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i="api"),this.applyColumnState({state:e.map(function(o){return{colId:"string"==typeof o?o:o.getColId(),hide:!n}})},i)},t.prototype.setColumnPinned=function(e,n,i){void 0===i&&(i="api"),e&&this.setColumnsPinned([e],n,i)},t.prototype.setColumnsPinned=function(e,n,i){if(void 0===i&&(i="api"),this.gridColumns){if(this.gridOptionsService.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");var o;this.columnAnimationService.start(),o=!0===n||"left"===n?"left":"right"===n?"right":null,this.actionOnGridColumns(e,function(s){return s.getPinned()!==o&&(s.setPinned(o),!0)},i,function(){return{type:Ce.EVENT_COLUMN_PINNED,pinned:o,column:null,columns:null,source:i}}),this.columnAnimationService.finish()}},t.prototype.actionOnGridColumns=function(e,n,i,o){var s=this;if(!Ts(e)){var l=[];if(e.forEach(function(D){var F=s.getGridColumn(D);F&&!1!==n(F)&&l.push(F)}),l.length&&(this.updateDisplayedColumns(i),Tt(o)&&o)){var v=o();v.columns=l,v.column=1===l.length?l[0]:null,this.eventService.dispatchEvent(v)}}},t.prototype.getDisplayedColBefore=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i>0?n[i-1]:null},t.prototype.getDisplayedColAfter=function(e){var n=this.getAllDisplayedColumns(),i=n.indexOf(e);return i<n.length-1?n[i+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,n){for(var i=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),o=e.getDisplayedLeafColumns(),s="After"===n?Sr(o):o[0],l="getDisplayedCol".concat(n);;){var v=this[l](s);if(!v)return null;var D=this.getColumnGroupAtLevel(v,i);if(D!==e)return D}},t.prototype.getColumnGroupAtLevel=function(e,n){for(var i=e.getParent();!(i.getProvidedColumnGroup().getLevel()+i.getPaddingLevel()<=n);)i=i.getParent();return i},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e;return(e=[]).concat.apply(e,[this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]])},t.prototype.createStateItemFromColumn=function(e){var n=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,i=e.isPivotActive()?this.pivotColumns.indexOf(e):null,o=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,l=null!=e.getSortIndex()?e.getSortIndex():null,v=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:l,aggFunc:o,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:v}},t.prototype.getColumnState=function(){if(An(this.primaryColumns)||!this.isAlive())return[];var n=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(n),n},t.prototype.orderColumnStateList=function(e){var n=Nh(this.gridColumns.map(function(i,o){return[i.getColId(),o]}));e.sort(function(i,o){return(n.has(i.colId)?n.get(i.colId):-1)-(n.has(o.colId)?n.get(o.colId):-1)})},t.prototype.resetColumnState=function(e){var n=this;if(void 0===e&&(e="api"),!Ts(this.primaryColumns)){var i=this.getColumnsFromTree(this.primaryColumnTree),o=[],s=1e3,l=1e3,v=[];this.groupAutoColumns&&(v=v.concat(this.groupAutoColumns)),i&&(v=v.concat(i)),v.forEach(function(D){var F=n.getColumnStateFromColDef(D);An(F.rowGroupIndex)&&F.rowGroup&&(F.rowGroupIndex=s++),An(F.pivotIndex)&&F.pivot&&(F.pivotIndex=l++),o.push(F)}),this.applyColumnState({state:o,applyOrder:!0},e)}},t.prototype.getColumnStateFromColDef=function(e){var n=function(we,Te){return we??Te??null},i=e.getColDef(),o=n(i.sort,i.initialSort),s=n(i.sortIndex,i.initialSortIndex),l=n(i.hide,i.initialHide),v=n(i.pinned,i.initialPinned),D=n(i.width,i.initialWidth),F=n(i.flex,i.initialFlex),z=n(i.rowGroupIndex,i.initialRowGroupIndex),re=n(i.rowGroup,i.initialRowGroup);null==z&&(null==re||0==re)&&(z=null,re=null);var ae=n(i.pivotIndex,i.initialPivotIndex),fe=n(i.pivot,i.initialPivot);null==ae&&(null==fe||0==fe)&&(ae=null,fe=null);var ge=n(i.aggFunc,i.initialAggFunc);return{colId:e.getColId(),sort:o,sortIndex:s,hide:l,pinned:v,width:D,flex:F,rowGroup:re,rowGroupIndex:z,pivot:fe,pivotIndex:ae,aggFunc:ge}},t.prototype.applyColumnState=function(e,n){var i=this;if(Ts(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var o=function(D,F,z){var re=i.compareColumnStatesAndDispatchEvents(n);i.autoGroupsNeedBuilding=!0;var ae=F.slice(),fe={},ge={},we=[],Te=[],Ie=0,Ve=i.rowGroupColumns.slice(),et=i.pivotColumns.slice();D.forEach(function(Mt){var qt=Mt.colId||"";if(qt.startsWith(Nm))return we.push(Mt),void Te.push(Mt);var _n=z(qt);_n?(i.syncColumnWithStateItem(_n,Mt,e.defaultState,fe,ge,!1,n),la(ae,_n)):(Te.push(Mt),Ie+=1)});var gt=function(Mt){return i.syncColumnWithStateItem(Mt,null,e.defaultState,fe,ge,!1,n)};ae.forEach(gt);var Dt=function(Mt,qt,an,_n){var Xn=Mt[an.getId()],Ar=Mt[_n.getId()],ri=null!=Xn,Nr=null!=Ar;if(ri&&Nr)return Xn-Ar;if(ri)return-1;if(Nr)return 1;var on=qt.indexOf(an),Yt=qt.indexOf(_n),wn=on>=0;return wn&&Yt>=0?on-Yt:wn?-1:1};i.rowGroupColumns.sort(Dt.bind(i,fe,Ve)),i.pivotColumns.sort(Dt.bind(i,ge,et)),i.updateGridColumns();var Bt=i.groupAutoColumns?i.groupAutoColumns.slice():[];return we.forEach(function(Mt){var qt=i.getAutoColumn(Mt.colId);la(Bt,qt),i.syncColumnWithStateItem(qt,Mt,e.defaultState,null,null,!0,n)}),Bt.forEach(gt),i.applyOrderAfterApplyState(e),i.updateDisplayedColumns(n),i.dispatchEverythingChanged(n),re(),{unmatchedAndAutoStates:Te,unmatchedCount:Ie}};this.columnAnimationService.start();var s=o(e.state||[],this.primaryColumns||[],function(D){return i.getPrimaryColumn(D)}),l=s.unmatchedAndAutoStates,v=s.unmatchedCount;return(l.length>0||Tt(e.defaultState))&&(v=o(l,this.secondaryColumns||[],function(D){return i.getSecondaryColumn(D)}).unmatchedCount),this.columnAnimationService.finish(),0===v},t.prototype.applyOrderAfterApplyState=function(e){var n=this;if(e.applyOrder&&e.state){var i=[],o={};e.state.forEach(function(l){if(l.colId&&!o[l.colId]){var v=n.gridColumnsMap[l.colId];v&&(i.push(v),o[l.colId]=!0)}});var s=0;if(this.gridColumns.forEach(function(l){var v=l.getColId();null!=o[v]||(v.startsWith(Nm)?vS(i,l,s++):i.push(l))}),i=this.placeLockedColumns(i),!this.doesMovePassMarryChildren(i))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=i}},t.prototype.compareColumnStatesAndDispatchEvents=function(e){var n=this,i={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},o=this.getColumnState(),s={};return o.forEach(function(l){s[l.colId]=l}),function(){var l=n.getPrimaryAndSecondaryAndAutoColumns(),v=function(Te,Ie,Ve,et){if(!$c(Ie.map(et),Ve.map(et))){var Mt=new Set(Ie);Ve.forEach(function(_n){Mt.delete(_n)||Mt.add(_n)});var qt=Al([],Rl(Mt),!1);n.eventService.dispatchEvent({type:Te,columns:qt,column:1===qt.length?qt[0]:null,source:e})}},D=function(Te){var Ie=[];return l.forEach(function(Ve){var et=s[Ve.getColId()];et&&Te(et,Ve)&&Ie.push(Ve)}),Ie},F=function(Te){return Te.getColId()};v(Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,i.rowGroupColumns,n.rowGroupColumns,F),v(Ce.EVENT_COLUMN_PIVOT_CHANGED,i.pivotColumns,n.pivotColumns,F);var re=D(function(Te,Ie){var Ve=null!=Te.aggFunc,et=Ve!=Ie.isValueActive(),gt=Ve&&Te.aggFunc!=Ie.getAggFunc();return et||gt});re.length>0&&n.dispatchColumnChangedEvent(Ce.EVENT_COLUMN_VALUE_CHANGED,re,e),n.dispatchColumnResizedEvent(D(function(Te,Ie){return Te.width!=Ie.getActualWidth()}),!0,e),n.dispatchColumnPinnedEvent(D(function(Te,Ie){return Te.pinned!=Ie.getPinned()}),e),n.dispatchColumnVisibleEvent(D(function(Te,Ie){return Te.hide==Ie.isVisible()}),e),D(function(Te,Ie){return Te.sort!=Ie.getSort()||Te.sortIndex!=Ie.getSortIndex()}).length>0&&n.sortController.dispatchSortChangedEvents(e),n.normaliseColumnMovedEventForColumnState(o,e)}},t.prototype.getCommonValue=function(e,n){if(e&&0!=e.length){for(var i=n(e[0]),o=1;o<e.length;o++)if(i!==n(e[o]))return;return i}},t.prototype.normaliseColumnMovedEventForColumnState=function(e,n){var i=this,o=this.getColumnState(),s={};o.forEach(function(z){return s[z.colId]=z});var l={};e.forEach(function(z){s[z.colId]&&(l[z.colId]=!0)});var v=e.filter(function(z){return l[z.colId]}),D=o.filter(function(z){return l[z.colId]}),F=[];D.forEach(function(z,re){var ae=v&&v[re];if(ae&&ae.colId!==z.colId){var fe=i.getGridColumn(ae.colId);fe&&F.push(fe)}}),F.length&&this.dispatchColumnMovedEvent({movedColumns:F,source:n,finished:!0})},t.prototype.syncColumnWithStateItem=function(e,n,i,o,s,l,v){if(e){var D=function(qt,an){var _n={value1:void 0,value2:void 0},Xn=!1;return n&&(void 0!==n[qt]&&(_n.value1=n[qt],Xn=!0),Tt(an)&&void 0!==n[an]&&(_n.value2=n[an],Xn=!0)),!Xn&&i&&(void 0!==i[qt]&&(_n.value1=i[qt]),Tt(an)&&void 0!==i[an]&&(_n.value2=i[an])),_n},F=D("hide").value1;void 0!==F&&e.setVisible(!F,v);var z=D("pinned").value1;void 0!==z&&e.setPinned(z);var re=this.columnUtils.calculateColMinWidth(e.getColDef()),ae=D("flex").value1;if(void 0!==ae&&e.setFlex(ae),e.getFlex()<=0){var ge=D("width").value1;null!=ge&&null!=re&&ge>=re&&e.setActualWidth(ge,v)}var we=D("sort").value1;void 0!==we&&e.setSort("desc"===we||"asc"===we?we:void 0,v);var Te=D("sortIndex").value1;if(void 0!==Te&&e.setSortIndex(Te),!l&&e.isPrimary()){var Ie=D("aggFunc").value1;void 0!==Ie&&("string"==typeof Ie?(e.setAggFunc(Ie),e.isValueActive()||(e.setValueActive(!0,v),this.valueColumns.push(e))):(Tt(Ie)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,v),la(this.valueColumns,e))));var Ve=D("rowGroup","rowGroupIndex"),et=Ve.value1,gt=Ve.value2;(void 0!==et||void 0!==gt)&&("number"==typeof gt||et?(e.isRowGroupActive()||(e.setRowGroupActive(!0,v),this.rowGroupColumns.push(e)),o&&"number"==typeof gt&&(o[e.getId()]=gt)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,v),la(this.rowGroupColumns,e)));var Dt=D("pivot","pivotIndex"),Bt=Dt.value1,Mt=Dt.value2;(void 0!==Bt||void 0!==Mt)&&("number"==typeof Mt||Bt?(e.isPivotActive()||(e.setPivotActive(!0,v),this.pivotColumns.push(e)),s&&"number"==typeof Mt&&(s[e.getId()]=Mt)):e.isPivotActive()&&(e.setPivotActive(!1,v),la(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,n){var i=[];return e&&e.forEach(function(o){var s=n(o);s&&i.push(s)}),i},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var n=this.getGridColumn(e);return n||console.warn("AG Grid: could not find column "+e),n},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.lookupGridColumn=function(e){return this.gridColumnsMap[e]},t.prototype.getSecondaryColumn=function(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null},t.prototype.getColumn=function(e,n,i){if(!e||!i)return null;if("string"==typeof e&&i[e])return i[e];for(var o=0;o<n.length;o++)if(this.columnsMatch(n[o],e))return n[o];return this.getAutoColumn(e)},t.prototype.getSourceColumnsForGroupColumn=function(e){var n=e.getColDef().showRowGroup;if(!n)return null;if(!0===n)return this.rowGroupColumns.slice(0);var i=this.getPrimaryColumn(n);return i?[i]:null},t.prototype.getAutoColumn=function(e){var n=this;return this.groupAutoColumns&&Tt(this.groupAutoColumns)&&!An(this.groupAutoColumns)&&this.groupAutoColumns.find(function(i){return n.columnsMatch(i,e)})||null},t.prototype.columnsMatch=function(e,n){var i=e===n,o=e.getColDef()===n,s=e.getColId()==n;return i||o||s},t.prototype.getDisplayNameForColumn=function(e,n,i){if(void 0===i&&(i=!1),!e)return null;var o=this.getHeaderName(e.getColDef(),e,null,null,n);return i?this.wrapHeaderNameWithAggFunc(e,o):o},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,n,i){var o=n?n.getColGroupDef():null;return o?this.getHeaderName(o,null,e,n,i):null},t.prototype.getDisplayNameForColumnGroup=function(e,n){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),n)},t.prototype.getHeaderName=function(e,n,i,o,s){var l=e.headerValueGetter;if(l){var v={colDef:e,column:n,columnGroup:i,providedColumnGroup:o,location:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return"function"==typeof l?l(v):"string"==typeof l?this.expressionService.evaluate(l,v):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?e9(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,n){if(this.gridOptionsService.get("suppressAggFuncInHeader"))return n;var l,i=e.getColDef().pivotValueColumn,s=null;if(Tt(i)){var v=this.gridOptionsService.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,D=void 0!==e.getColDef().pivotTotalColumnIds;if(v&&!D)return n;s=i?i.getAggFunc():null,l=!0}else{var F=e.isValueActive(),z=this.pivotMode||!this.isRowGroupEmpty();F&&z?(s=e.getAggFunc(),l=!0):l=!1}if(l){var re="string"==typeof s?s:"func",fe=this.localeService.getLocaleTextFunc()(re,re);return"".concat(fe,"(").concat(n,")")}return n},t.prototype.getColumnGroup=function(e,n){if(!e)return null;if(e instanceof eo)return e;var i=this.getAllDisplayedTrees(),o="number"==typeof n,s=null;return this.columnUtils.depthFirstAllColumnTreeSearch(i,function(l){if(l instanceof eo){var v=l;(o?e===v.getGroupId()&&n===v.getPartId():e===v.getGroupId())&&(s=v)}}),s},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,n){this.valueColumns=this.extractColumns(n,this.valueColumns,function(i,o){return i.setValueActive(o,e)},function(){},function(){},function(i){var o=i.aggFunc;return null===o||""===o?null:void 0!==o?!!o:void 0},function(i){return null!=i.initialAggFunc&&""!=i.initialAggFunc}),this.valueColumns.forEach(function(i){var o=i.getColDef();null!=o.aggFunc&&""!=o.aggFunc?i.setAggFunc(o.aggFunc):i.getAggFunc()||i.setAggFunc(o.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,n){this.rowGroupColumns=this.extractColumns(n,this.rowGroupColumns,function(i,o){return i.setRowGroupActive(o,e)},function(i){return i.rowGroupIndex},function(i){return i.initialRowGroupIndex},function(i){return i.rowGroup},function(i){return i.initialRowGroup})},t.prototype.extractColumns=function(e,n,i,o,s,l,v){void 0===e&&(e=[]),void 0===n&&(n=[]);var D=[],F=[];(this.primaryColumns||[]).forEach(function(ae){var fe=e.indexOf(ae)<0,ge=ae.getColDef(),we=yA(l(ge)),Te=yA(v(ge)),Ie=Ph(o(ge)),Ve=Ph(s(ge));(void 0!==we?we:void 0!==Ie?null!==Ie&&Ie>=0:fe?void 0!==Te?Te:void 0!==Ve&&null!=Ve&&Ve>=0:n.indexOf(ae)>=0)&&((fe?null!=Ie||null!=Ve:null!=Ie)?D.push(ae):F.push(ae))});var z=function(ae){var fe=o(ae.getColDef()),ge=s(ae.getColDef());return fe??ge};D.sort(function(ae,fe){var ge=z(ae),we=z(fe);return ge===we?0:ge<we?-1:1});var re=[].concat(D);return n.forEach(function(ae){F.indexOf(ae)>=0&&re.push(ae)}),F.forEach(function(ae){re.indexOf(ae)<0&&re.push(ae)}),n.forEach(function(ae){re.indexOf(ae)<0&&i(ae,!1)}),re.forEach(function(ae){n.indexOf(ae)<0&&i(ae,!0)}),re},t.prototype.extractPivotColumns=function(e,n){this.pivotColumns=this.extractColumns(n,this.pivotColumns,function(i,o){return i.setPivotActive(o,e)},function(i){return i.pivotIndex},function(i){return i.initialPivotIndex},function(i){return i.pivot},function(i){return i.initialPivot})},t.prototype.resetColumnGroupState=function(e){if(void 0===e&&(e="api"),this.primaryColumnTree){var n=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(i){if(i instanceof Ci){var o=i.getColGroupDef(),s={groupId:i.getGroupId(),open:o?o.openByDefault:void 0};n.push(s)}}),this.setColumnGroupState(n,e)}},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){n instanceof Ci&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e},t.prototype.setColumnGroupState=function(e,n){var i=this;if(void 0===n&&(n="api"),this.gridBalancedTree){this.columnAnimationService.start();var o=[];e.forEach(function(l){var D=l.open,F=i.getProvidedColumnGroup(l.groupId);!F||F.isExpanded()!==D&&(i.logger.log("columnGroupOpened("+F.getGroupId()+","+D+")"),F.setExpanded(D),o.push(F))}),this.updateGroupsAndDisplayedColumns(n),this.setFirstRightAndLastLeftPinned(n),o.length&&this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===Ci.length?o[0]:void 0,columnGroups:o}),this.columnAnimationService.finish()}},t.prototype.setColumnGroupOpened=function(e,n,i){var o;void 0===i&&(i="api"),o=e instanceof Ci?e.getId():e||"",this.setColumnGroupState([{groupId:o,open:n}],i)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var n=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){i instanceof Ci&&i.getId()===e&&(n=i)}),n},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&An(this.secondaryColumns)?this.gridColumns.filter(function(i){var o=e.groupAutoColumns&&ja(e.groupAutoColumns,i),s=e.valueColumns&&ja(e.valueColumns,i);return o||s}):this.gridColumns.filter(function(i){return e.groupAutoColumns&&ja(e.groupAutoColumns,i)||i.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var n=!1;return e.forEach(function(i){Tt(i.getColDef().colSpan)&&(n=!0)}),n},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(function(i){var o=i.getColDef(),s=o.showRowGroup;o&&Tt(s)&&(e.groupDisplayColumns.push(i),"string"==typeof s?e.groupDisplayColumnsMap[s]=i:!0===s&&e.getRowGroupColumns().forEach(function(l){e.groupDisplayColumnsMap[l.getId()]=i}))})},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.getGroupDisplayColumnForGroup=function(e){return this.groupDisplayColumnsMap[e]},t.prototype.updateDisplayedColumns=function(e){var n=this.calculateColumnsForDisplay();this.buildDisplayedTrees(n),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return Tt(this.secondaryColumns)},t.prototype.setSecondaryColumns=function(e,n){var i=this;if(void 0===n&&(n="api"),this.gridColumns){var o=e&&e.length>0;if(o||!An(this.secondaryColumns)){if(o){this.processSecondaryColumnDefinitions(e);var s=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.destroyOldColumns(this.secondaryBalancedTree,s.columnTree),this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(l){return i.secondaryColumnsMap[l.getId()]=l}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(n)}}},t.prototype.processSecondaryColumnDefinitions=function(e){var n=this.gridOptionsService.get("processPivotResultColDef"),i=this.gridOptionsService.get("processPivotResultColGroupDef");if(n||i){var o=function(s){s.forEach(function(l){if(Tt(l.children)){var D=l;i&&i(D),o(D.children)}else n&&n(l)})};e&&o(e)}},t.prototype.updateGridColumns=function(){var i,e=this,n=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(D){return void 0!==e.gridColumnsMap[D.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&(i=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,i=this.lastPrimaryOrder);if(this.createGroupAutoColumnsIfNeeded()&&i){var l=Nh(this.groupAutoColumns.map(function(D){return[D,!0]}));i=i.filter(function(D){return!l.has(D)}),i=Al(Al([],Rl(this.groupAutoColumns),!1),Rl(i),!1)}this.addAutoGroupToGridColumns(),this.orderGridColsLike(i),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(D){return e.gridColumnsMap[D.getId()]=D}),this.setAutoHeightActive(),$c(n,this.gridBalancedTree)||this.eventService.dispatchEvent({type:Ce.EVENT_GRID_COLUMNS_CHANGED})},t.prototype.setAutoHeightActive=function(){this.autoHeightActive=this.gridColumns.filter(function(n){return n.isAutoHeight()}).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gridOptionsService.isRowModelType("clientSide")||this.gridOptionsService.isRowModelType("serverSide")||$n("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))},t.prototype.orderGridColsLike=function(e){if(!An(e)){var n=Nh(e.map(function(F,z){return[F,z]})),i=!0;if(this.gridColumns.forEach(function(F){n.has(F)&&(i=!1)}),!i){var o=Nh(this.gridColumns.map(function(F){return[F,!0]})),s=e.filter(function(F){return o.has(F)}),l=Nh(s.map(function(F){return[F,!0]})),v=this.gridColumns.filter(function(F){return!l.has(F)}),D=s.slice();v.forEach(function(F){var z=F.getOriginalParent();if(z){for(var re=[];!re.length&&z;)z.getLeafColumns().forEach(function(we){var Te=D.indexOf(we)>=0,Ie=re.indexOf(we)<0;Te&&Ie&&re.push(we)}),z=z.getOriginalParent();if(re.length){var fe=re.map(function(we){return D.indexOf(we)}),ge=Math.max.apply(Math,Al([],Rl(fe),!1));vS(D,F,ge+1)}else D.push(F)}else D.push(F)}),this.gridColumns=D}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.refreshQuickFilterColumns=function(){var e,n=null!==(e=this.isPivotMode()?this.secondaryColumns:this.primaryColumns)&&void 0!==e?e:[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gridOptionsService.get("includeHiddenColumnsInQuickFilter")?n:n.filter(function(i){return i.isVisible()||i.isRowGroupActive()})},t.prototype.placeLockedColumns=function(e){var n=[],i=[],o=[];return e.forEach(function(s){var l=s.getColDef().lockPosition;"right"===l?o.push(s):"left"===l||!0===l?n.push(s):i.push(s)}),Al(Al(Al([],Rl(n),!1),Rl(i),!1),Rl(o),!1)},t.prototype.addAutoGroupToGridColumns=function(){if(An(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)},t.prototype.clearDisplayedAndViewportColumns=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:Ce.EVENT_DISPLAYED_COLUMNS_CHANGED})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(n){return n.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsService.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var n=this;if(this.primaryColumns){var i=this.primaryColumns.slice(0),o=this.gridOptionsService.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(s){if(o){var l=n.getWidthOfColsInList(s);s.forEach(function(D){l-=D.getActualWidth(),D.setLeft(l,e)})}else{var v=0;s.forEach(function(D){D.setLeft(v,e),v+=D.getActualWidth()})}$H(i,s)}),i.forEach(function(s){s.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(n){n instanceof eo&&n.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,n){n.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(i){i instanceof Lr&&n.push(i)})},t.prototype.extractViewportColumns=function(){this.suppressColumnVirtualisation?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,n){var i;switch(e){case"left":i=this.viewportRowLeft[n];break;case"right":i=this.viewportRowRight[n];break;default:i=this.viewportRowCenter[n]}return An(i)&&(i=[]),i},t.prototype.calculateHeaderRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.headerViewportColumns.forEach(function(i){return e[i.getId()]=!0});var n=function(i,o,s){for(var l=!1,v=0;v<i.length;v++){var D=i[v],F=!1;if(D instanceof Lr)F=!0===e[D.getId()];else{var re=D.getDisplayedChildren();re&&(F=n(re,o,s+1))}F&&(l=!0,o[s]||(o[s]=[]),o[s].push(D))}return l};n(this.displayedTreeLeft,this.viewportRowLeft,0),n(this.displayedTreeRight,this.viewportRowRight,0),n(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns();var n=this.viewportColumns.map(function(o){return"".concat(o.getId(),"-").concat(o.getPinned()||"normal")}).join("#"),i=this.viewportColumnsHash!==n;return i&&(this.viewportColumnsHash=n,this.calculateHeaderRows()),i},t.prototype.refreshFlexedColumns=function(e){var n;void 0===e&&(e={});var i=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var o=-1;if(e.resizingCols)for(var s=new Set(e.resizingCols),l=this.displayedColumnsCenter,v=l.length-1;v>=0;v--)if(s.has(l[v])){o=v;break}var D=0,F=[],z=0,re=0;for(v=0;v<this.displayedColumnsCenter.length;v++)this.displayedColumnsCenter[v].getFlex()&&v>o?(F.push(this.displayedColumnsCenter[v]),re+=this.displayedColumnsCenter[v].getFlex(),z+=null!==(n=this.displayedColumnsCenter[v].getMinWidth())&&void 0!==n?n:0):D+=this.displayedColumnsCenter[v].getActualWidth();if(!F.length)return[];var fe=[];D+z>this.flexViewportWidth&&(F.forEach(function(Mt){var qt;return Mt.setActualWidth(null!==(qt=Mt.getMinWidth())&&void 0!==qt?qt:0,i)}),fe=F,F=[]);var we,ge=[];e:for(;;){var Te=(we=this.flexViewportWidth-D)/re;for(v=0;v<F.length;v++){var Ie=F[v],Ve=Te*Ie.getFlex(),et=0,gt=Ie.getMinWidth(),Dt=Ie.getMaxWidth();if(Tt(gt)&&Ve<gt?et=gt:Tt(Dt)&&Ve>Dt&&(et=Dt),et){Ie.setActualWidth(et,i),g3(F,Ie),re-=Ie.getFlex(),fe.push(Ie),D+=Ie.getActualWidth();continue e}ge[v]=Math.round(Ve)}break}var Bt=we;return F.forEach(function(Mt,qt){Mt.setActualWidth(Math.min(ge[qt],Bt),i),fe.push(Mt),Bt-=ge[qt]}),e.skipSetLeft||this.setLeftValues(i),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(fe,!0,i,F),F},t.prototype.sizeColumnsToFit=function(e,n,i,o){var l,v,D,F,z,s=this;if(void 0===n&&(n="sizeColumnsToFit"),this.shouldQueueResizeOperations)this.resizeOperationQueue.push(function(){return s.sizeColumnsToFit(e,n,i,o)});else{var re={};o&&(null===(l=o?.columnLimits)||void 0===l||l.forEach(function(Yt){var wn=Yt.key,Jn=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]])}return e}(Yt,["key"]);re["string"==typeof wn?wn:wn.getColId()]=Jn}));var ae=this.getAllDisplayedColumns(),fe=e===this.getWidthOfColsInList(ae);if(!(e<=0||!ae.length||fe)){var ge=[],we=[];ae.forEach(function(Yt){!0===Yt.getColDef().suppressSizeToFit?we.push(Yt):ge.push(Yt)});var Te=ge.slice(0),Ie=!1,Ve=function(Yt){la(ge,Yt),we.push(Yt)};for(ge.forEach(function(Yt){var wn,Jn;Yt.resetActualWidth(n);var Ur=re?.[Yt.getId()],Ns=null!==(wn=Ur?.minWidth)&&void 0!==wn?wn:o?.defaultMinWidth,xo=null!==(Jn=Ur?.maxWidth)&&void 0!==Jn?Jn:o?.defaultMaxWidth,Nl=Yt.getActualWidth();"number"==typeof Ns&&Nl<Ns?Yt.setActualWidth(Ns,n,!0):"number"==typeof xo&&Nl>xo&&Yt.setActualWidth(xo,n,!0)});!Ie;){Ie=!0;var et=e-this.getWidthOfColsInList(we);if(et<=0)ge.forEach(function(Yt){var wn,Jn,Ur=null!==(Jn=null===(wn=re?.[Yt.getId()])||void 0===wn?void 0:wn.minWidth)&&void 0!==Jn?Jn:o?.defaultMinWidth;"number"!=typeof Ur?Yt.setMinimum(n):Yt.setActualWidth(Ur,n,!0)});else for(var gt=et/this.getWidthOfColsInList(ge),Dt=et,Bt=ge.length-1;Bt>=0;Bt--){var Mt=ge[Bt],qt=re?.[Mt.getId()],an=null!==(v=qt?.minWidth)&&void 0!==v?v:o?.defaultMinWidth,_n=null!==(D=qt?.maxWidth)&&void 0!==D?D:o?.defaultMaxWidth,Xn=null!==(F=Mt.getMinWidth())&&void 0!==F?F:0,Ar=null!==(z=Mt.getMaxWidth())&&void 0!==z?z:Number.MAX_VALUE,ri="number"==typeof an&&an>Xn?an:Mt.getMinWidth(),Nr="number"==typeof _n&&_n<Ar?_n:Mt.getMaxWidth(),on=Math.round(Mt.getActualWidth()*gt);Tt(ri)&&on<ri?(on=ri,Ve(Mt),Ie=!1):Tt(Nr)&&on>Nr?(on=Nr,Ve(Mt),Ie=!1):0===Bt&&(on=Dt),Mt.setActualWidth(on,n,!0),Dt-=on}}Te.forEach(function(Yt){Yt.fireColumnWidthChangedEvent(n)}),this.setLeftValues(n),this.updateBodyWidths(),!i&&this.dispatchColumnResizedEvent(Te,!0,n)}}},t.prototype.buildDisplayedTrees=function(e){var n=[],i=[],o=[];e.forEach(function(l){switch(l.getPinned()){case"left":n.push(l);break;case"right":i.push(l);break;default:o.push(l)}});var s=new JH;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(n,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(i,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(o,s,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var n=function(i){e.displayedColumnsAndGroupsMap[i.getUniqueId()]=i};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,n),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,n)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(n){n instanceof eo&&n.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){var e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;var n=this.gridOptionsService.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsService.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gridOptionsService.get("treeData"))||i||n)this.groupAutoColumns=null;else{var l=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(l,this.groupAutoColumns)||e)return this.groupAutoColumns=l,!0}return!1},t.prototype.isGroupSuppressAutoColumn=function(){return"custom"===this.gridOptionsService.get("groupDisplayType")||"custom"===this.gridOptionsService.get("treeDataDisplayType")},t.prototype.autoColsEqual=function(e,n){return $c(e,n,function(i,o){return i.getColId()===o.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(n,i){return n+i.getActualWidth()},0)},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsService.get("enableRtl"),n=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&n.reverse();for(var i=0;i<n.length;i++){var o=this[n[i]]();if(o.length)return e?Sr(o):o[0]}return null},t.prototype.setColumnHeaderHeight=function(e,n){e.setAutoHeaderHeight(n)&&this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"})},t.prototype.getColumnGroupHeaderRowHeight=function(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()},t.prototype.getColumnHeaderRowHeight=function(){var e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),n=this.getAllDisplayedColumns().filter(function(i){return i.isAutoHeaderHeight()}).map(function(i){return i.getAutoHeaderHeight()||0});return Math.max.apply(Math,Al([e],Rl(n),!1))},t.prototype.getHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("headerHeight"))&&void 0!==e?e:this.environment.getFromTheme(25,"headerHeight")},t.prototype.getFloatingFiltersHeight=function(){var e;return null!==(e=this.gridOptionsService.get("floatingFiltersHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("groupHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("pivotHeaderHeight"))&&void 0!==e?e:this.getHeaderHeight()},t.prototype.getPivotGroupHeaderHeight=function(){var e;return null!==(e=this.gridOptionsService.get("pivotGroupHeaderHeight"))&&void 0!==e?e:this.getGroupHeaderHeight()},t.prototype.queueResizeOperations=function(){this.shouldQueueResizeOperations=!0},t.prototype.processResizeOperations=function(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(function(e){return e()}),this.resizeOperationQueue=[]},t.prototype.resetColumnDefIntoColumn=function(e,n){var i=e.getUserProvidedColDef();if(!i)return!1;var o=this.columnFactory.addColumnDefaultAndTypes(i,e.getColId());return e.setColDef(o,i,n),!0},t.prototype.isColumnGroupingLocked=function(e){var n=this.gridOptionsService.get("groupLockGroupColumns");return!(!e.isRowGroupActive()||0===n)&&(-1===n||n>this.rowGroupColumns.findIndex(function(o){return o.getColId()===e.getColId()}))},t.prototype.generateColumnStateForRowGroupAndPivotIndexes=function(e,n){var i=this,o={},s=function(l,v,D,F,z,re){if(!v.length||!i.primaryColumns)return[];for(var ae=Object.keys(l),fe=new Set(ae),ge=new Set(ae),we=new Set(v.map(function(an){var _n=an.getColId();return ge.delete(_n),_n}).concat(ae)),Te=[],Ie={},Ve=0,et=0;et<i.primaryColumns.length;et++){var gt=i.primaryColumns[et].getColId();we.has(gt)&&(Te.push(gt),Ie[gt]=Ve++)}var Dt=1e3,Bt=!1,Mt=0,qt=function(an){for(var _n=Ie[an],Xn=Mt;Xn<_n;Xn++){var Ar=Te[Xn];ge.has(Ar)&&(l[Ar][z]=Dt++,ge.delete(Ar))}Mt=_n};v.forEach(function(an){var _n=an.getColId();if(fe.has(_n))qt(_n),l[_n][z]=Dt++;else{var Xn=an.getColDef();(null===Xn[z]||void 0===Xn[z]&&null==Xn[re])&&(Bt||(Xn[D]||void 0===Xn[D]&&Xn[F]?qt(_n):(ge.forEach(function(Nr){l[Nr][z]=Dt+Ie[Nr]}),Dt+=Te.length,Bt=!0)),o[_n]||(o[_n]={colId:_n}),o[_n][z]=Dt++)}})};return s(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),s(n,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)},t.prototype.onColumnsReady=function(){var e=this,n=this.gridOptionsService.get("autoSizeStrategy");if(n){var i=n.type;setTimeout(function(){if("fitGridWidth"===i){var s=n.defaultMinWidth,l=n.defaultMaxWidth,v=n.columnLimits?.map(function(D){return{key:D.colId,minWidth:D.minWidth,maxWidth:D.maxWidth}});e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:s,defaultMaxWidth:l,columnLimits:v})}else"fitProvidedWidth"===i&&e.sizeColumnsToFit(n.width,"sizeColumnsToFit")})}},t.prototype.onFirstDataRendered=function(){var e=this,n=this.gridOptionsService.get("autoSizeStrategy");if("fitCellContents"===n?.type){var i=n.colIds,o=n.skipHeader;setTimeout(function(){i?e.autoSizeColumns({columns:i,skipHeader:o,source:"autosizeColumns"}):e.autoSizeAllColumns(o,"autosizeColumns")})}},Eo([be("expressionService")],t.prototype,"expressionService",void 0),Eo([be("columnFactory")],t.prototype,"columnFactory",void 0),Eo([be("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Eo([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Eo([be("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Eo([be("columnUtils")],t.prototype,"columnUtils",void 0),Eo([be("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Eo([be("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Eo([pr("aggFuncService")],t.prototype,"aggFuncService",void 0),Eo([pr("valueCache")],t.prototype,"valueCache",void 0),Eo([pr("animationFrameService")],t.prototype,"animationFrameService",void 0),Eo([be("sortController")],t.prototype,"sortController",void 0),Eo([be("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Eo([Gt],t.prototype,"init",null),Eo([ls],t.prototype,"destroyColumns",null),Eo([Tie(0,xs("loggerFactory"))],t.prototype,"setBeans",null),Eo([Jt("columnModel")],t)}(Pt),Aie=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Aie(t,r),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.environment.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var n=this.calculateColMinWidth(e),i=this.calculateColMaxWidth(e),s=Ph(e.width),l=Ph(e.initialWidth);return Math.max(Math.min(null!=s?s:null!=l?l:200,i),n)},t.prototype.getOriginalPathForColumn=function(e,n){var i=[],o=!1,s=function(l,v){for(var D=0;D<l.length;D++){if(o)return;var F=l[D];F instanceof Ci?(s(F.getChildren(),v+1),i[v]=F):F===e&&(o=!0)}};return s(n,0),o?i:null},t.prototype.depthFirstOriginalTreeSearch=function(e,n,i){var o=this;!n||n.forEach(function(s){s instanceof Ci&&o.depthFirstOriginalTreeSearch(s,s.getChildren(),i),i(s,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,n){var i=this;!e||e.forEach(function(o){o instanceof eo&&i.depthFirstAllColumnTreeSearch(o.getChildren(),n),n(o)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,n){var i=this;!e||e.forEach(function(o){o instanceof eo&&i.depthFirstDisplayedColumnTreeSearch(o.getDisplayedChildren(),n),n(o)})},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("columnUtils")],t),t}(Pt),Iie=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kie=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Iie(t,r),t.prototype.createDisplayedGroups=function(e,n,i,o){for(var s=this,l=this.mapOldGroupsById(o),v=[],D=e,F=function(){var z=D;D=[];for(var re=0,ae=function(gt){var Dt=re;re=gt;var Bt=z[Dt],qt=(Bt instanceof eo?Bt.getProvidedColumnGroup():Bt).getOriginalParent();if(null!=qt){var _n=s.createColumnGroup(qt,n,l,i);for(an=Dt;an<gt;an++)_n.addChild(z[an]);D.push(_n)}else for(var an=Dt;an<gt;an++)v.push(z[an])},fe=1;fe<z.length;fe++){var ge=z[fe],Te=(ge instanceof eo?ge.getProvidedColumnGroup():ge).getOriginalParent(),Ie=z[re];Te!==(Ie instanceof eo?Ie.getProvidedColumnGroup():Ie).getOriginalParent()&&ae(fe)}re<z.length&&ae(z.length)};D.length;)F();return this.setupParentsIntoColumns(v,null),v},t.prototype.createColumnGroup=function(e,n,i,o){var s=e.getGroupId(),l=n.getInstanceIdForKey(s),D=i[eo.createUniqueId(s,l)];return D&&D.getProvidedColumnGroup()!==e&&(D=null),Tt(D)?D.reset():(D=new eo(e,s,l,o),this.context.createBean(D)),D},t.prototype.mapOldGroupsById=function(e){var n={},i=function(o){o.forEach(function(s){if(s instanceof eo){var l=s;n[s.getUniqueId()]=l,i(l.getChildren())}})};return e&&i(e),n},t.prototype.setupParentsIntoColumns=function(e,n){var i=this;e.forEach(function(o){if(o.setParent(n),o instanceof eo){var s=o;i.setupParentsIntoColumns(s.getChildren(),s)}})},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("displayedGroupCreator")],t),t}(Pt),Lh=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Vh=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Fie={statusBar:!0,enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,alignedGrids:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,loadingOverlayComponentParams:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,noRowsOverlayComponentParams:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,autoGroupColumnDef:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0},bu=function(){function r(){}return r.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator"],r.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],r.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],r.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],r.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType"],r.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],r.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering"],r.FUNCTION_PROPERTIES=Vh(Vh([],Lh(r.FUNCTIONAL_PROPERTIES),!1),Lh(r.CALLBACK_PROPERTIES),!1),r.ALL_PROPERTIES=Vh(Vh(Vh(Vh(Vh(Vh([],Lh(r.ARRAY_PROPERTIES),!1),Lh(r.OBJECT_PROPERTIES),!1),Lh(r.STRING_PROPERTIES),!1),Lh(r.NUMBER_PROPERTIES),!1),Lh(r.FUNCTION_PROPERTIES),!1),Lh(r.BOOLEAN_PROPERTIES),!1),r}(),C3=function(){return C3=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},C3.apply(this,arguments)},r9=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},i9=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},xA=function(){function r(){}var t;return r.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)},r.getGridOptionKeys=function(){return this.ALL_PROPERTIES_AND_CALLBACKS},r.combineAttributesAndGridOptions=function(e,n){"object"!=typeof e&&(e={});var i=C3({},e);return r.getGridOptionKeys().forEach(function(s){var l=n[s];typeof l<"u"&&l!==r.VUE_OMITTED_PROPERTY&&(i[s]=l)}),i},r.processOnChange=function(e,n){if(e){var i={},o=!1;if(Object.keys(e).filter(function(l){return r.ALL_PROPERTIES_AND_CALLBACKS_SET.has(l)}).forEach(function(l){i[l]=e[l],o=!0}),o){n.__internalUpdateGridOptions(i);var s={type:Ce.EVENT_COMPONENT_STATE_CHANGED};Uo(i,function(l,v){s[l]=v}),n.dispatchEvent(s)}}},t=r,r.EVENTS=Pm(Ce),r.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",r.EXCLUDED_INTERNAL_EVENTS=[Ce.EVENT_SCROLLBAR_WIDTH_CHANGED,Ce.EVENT_CHECKBOX_CHANGED,Ce.EVENT_HEIGHT_SCALE_CHANGED,Ce.EVENT_BODY_HEIGHT_CHANGED,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,Ce.EVENT_SCROLL_VISIBILITY_CHANGED,Ce.EVENT_COLUMN_HOVER_CHANGED,Ce.EVENT_FLASH_CELLS,Ce.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,Ce.EVENT_DISPLAYED_ROWS_CHANGED,Ce.EVENT_LEFT_PINNED_WIDTH_CHANGED,Ce.EVENT_RIGHT_PINNED_WIDTH_CHANGED,Ce.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,Ce.EVENT_POPUP_TO_FRONT,Ce.EVENT_STORE_UPDATED,Ce.EVENT_COLUMN_PANEL_ITEM_DRAG_START,Ce.EVENT_COLUMN_PANEL_ITEM_DRAG_END,Ce.EVENT_FILL_START,Ce.EVENT_FILL_END,Ce.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,Ce.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,Ce.EVENT_FULL_WIDTH_ROW_FOCUSED,Ce.EVENT_HEADER_HEIGHT_CHANGED,Ce.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,Ce.EVENT_CELL_FOCUS_CLEARED,Ce.EVENT_GRID_STYLES_CHANGED,Ce.EVENT_FILTER_DESTROYED,Ce.EVENT_ROW_DATA_UPDATE_STARTED,Ce.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,Ce.EVENT_DATA_TYPES_INFERRED,Ce.EVENT_FIELD_VALUE_CHANGED,Ce.EVENT_FIELD_PICKER_VALUE_SELECTED,Ce.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,Ce.EVENT_SUPPRESS_MENU_HIDE_CHANGED,Ce.EVENT_SUPPRESS_FIELD_DOT_NOTATION,Ce.EVENT_ROW_COUNT_READY,Ce.EVENT_SIDE_BAR_UPDATED],r.PUBLIC_EVENTS=r.EVENTS.filter(function(e){return!ja(r.EXCLUDED_INTERNAL_EVENTS,e)}),r.EVENT_CALLBACKS=r.EVENTS.map(function(e){return r.getCallbackForEvent(e)}),r.STRING_PROPERTIES=bu.STRING_PROPERTIES,r.OBJECT_PROPERTIES=bu.OBJECT_PROPERTIES,r.ARRAY_PROPERTIES=bu.ARRAY_PROPERTIES,r.NUMBER_PROPERTIES=bu.NUMBER_PROPERTIES,r.BOOLEAN_PROPERTIES=bu.BOOLEAN_PROPERTIES,r.FUNCTION_PROPERTIES=bu.FUNCTION_PROPERTIES,r.ALL_PROPERTIES=bu.ALL_PROPERTIES,r.ALL_PROPERTIES_AND_CALLBACKS=i9(i9([],r9(t.ALL_PROPERTIES),!1),r9(t.EVENT_CALLBACKS),!1),r.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(r.ALL_PROPERTIES_AND_CALLBACKS),r}(),Nie=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vie=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.componentsMappedByName={},e}return Nie(t,r),t.prototype.setupComponents=function(e){var n=this;e&&e.forEach(function(i){return n.addComponent(i)})},t.prototype.addComponent=function(e){var i=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[i]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("agStackComponentsRegistry")],t),t}(Pt);function ua(r,t,e){null==e||"string"==typeof e&&""==e?S3(r,t):Ha(r,t,e)}function Ha(r,t,e){r.setAttribute(o9(t),e.toString())}function S3(r,t){r.removeAttribute(o9(t))}function o9(r){return"aria-".concat(r)}function to(r,t){t?r.setAttribute("role",t):r.removeAttribute("role")}function s9(r){return"asc"===r?"ascending":"desc"===r?"descending":"mixed"===r?"other":"none"}function a9(r){return parseInt(r.getAttribute("aria-level"),10)}function l9(r){return parseInt(r.getAttribute("aria-posinset"),10)}function u9(r){return r.getAttribute("aria-label")}function qc(r,t){ua(r,"label",t)}function RA(r,t){ua(r,"labelledby",t)}function c9(r,t){ua(r,"description",t)}function E3(r,t){ua(r,"live",t)}function d9(r,t){ua(r,"level",t)}function D3(r,t){ua(r,"disabled",t)}function AA(r,t){ua(r,"hidden",t)}function T3(r,t){ua(r,"activedescendant",t)}function Ol(r,t){Ha(r,"expanded",t)}function h9(r){S3(r,"expanded")}function x3(r,t){Ha(r,"setsize",t)}function R3(r,t){Ha(r,"posinset",t)}function f9(r,t){Ha(r,"multiselectable",t)}function p9(r,t){Ha(r,"rowcount",t)}function A3(r,t){Ha(r,"rowindex",t)}function m9(r,t){Ha(r,"colcount",t)}function O3(r,t){Ha(r,"colindex",t)}function g9(r,t){Ha(r,"colspan",t)}function v9(r,t){Ha(r,"sort",t)}function y9(r){S3(r,"sort")}function T_(r,t){ua(r,"selected",t)}function M3(r,t){ua(r,"controls",t.id),RA(t,r.id)}function OA(r,t){return void 0===t?r("ariaIndeterminate","indeterminate"):!0===t?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}var I3,MA,P3,k3,F3,N3,L3,V3,Uie=Object.freeze({__proto__:null,setAriaRole:to,getAriaSortState:s9,getAriaLevel:a9,getAriaPosInSet:l9,getAriaLabel:u9,setAriaLabel:qc,setAriaLabelledBy:RA,setAriaDescription:c9,setAriaDescribedBy:function Bie(r,t){ua(r,"describedby",t)},setAriaLive:E3,setAriaAtomic:function Gie(r,t){ua(r,"atomic",t)},setAriaRelevant:function jie(r,t){ua(r,"relevant",t)},setAriaLevel:d9,setAriaDisabled:D3,setAriaHidden:AA,setAriaActiveDescendant:T3,setAriaExpanded:Ol,removeAriaExpanded:h9,setAriaSetSize:x3,setAriaPosInSet:R3,setAriaMultiSelectable:f9,setAriaRowCount:p9,setAriaRowIndex:A3,setAriaColCount:m9,setAriaColIndex:O3,setAriaColSpan:g9,setAriaSort:v9,removeAriaSort:y9,setAriaSelected:T_,setAriaChecked:function Hie(r,t){Ha(r,"checked",void 0===t?"mixed":t)},setAriaControls:M3,getAriaCheckboxStateName:OA});function Ml(){return void 0===I3&&(I3=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),I3}function B3(){if(void 0===MA)if(Ml()){var r=navigator.userAgent.match(/version\/(\d+)/i);r&&(MA=null!=r[1]?parseFloat(r[1]):0)}else MA=0;return MA}function IA(){if(void 0===P3){var r=window;P3=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return P3}function G3(){return void 0===k3&&(k3=/(firefox)/i.test(navigator.userAgent)),k3}function j3(){return void 0===F3&&(F3=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),F3}function Bh(){return void 0===N3&&(N3=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),N3}function PA(){return!Ml()||B3()>=15}function kA(r){if(!r)return null;var t=r.tabIndex,e=r.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||G3())?t.toString():null}function _9(){if(!document.body)return-1;var r=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var n=2*r;if(e.style.height=n+"px",n>t||e.clientHeight!==n)break;r=n}return document.body.removeChild(e),r}function b9(){var r,t,e;return null!==(t=null===(r=document.body)||void 0===r?void 0:r.clientWidth)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||-1}function w9(){var r,t,e;return null!==(t=null===(r=document.body)||void 0===r?void 0:r.clientHeight)&&void 0!==t?t:window.innerHeight||(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||-1}function C9(){return null==V3&&S9(),V3}function S9(){var r=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",r.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(V3=e,L3=0===e)}function H3(){return null==L3&&S9(),L3}var zie=Object.freeze({__proto__:null,isBrowserSafari:Ml,getSafariVersion:B3,isBrowserChrome:IA,isBrowserFirefox:G3,isMacOsUserAgent:j3,isIOSUserAgent:Bh,browserSupportsPreventScroll:PA,getTabIndex:kA,getMaxDivHeight:_9,getBodyWidth:b9,getBodyHeight:w9,getScrollbarWidth:C9,isInvisibleScrollbar:H3});function x_(r,t){return r.toString().padStart(t,"0")}function E9(r,t){for(var e=[],n=r;n<=t;n++)e.push(n);return e}function U3(r,t,e){return"number"!=typeof r?"":r.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1".concat(t))}var Kie=Object.freeze({__proto__:null,padStartWidthZeros:x_,createArrayOfNumbers:E9,cleanNumber:function Wie(r){return"string"==typeof r&&(r=parseInt(r,10)),"number"==typeof r?Math.floor(r):null},decToHex:function $ie(r,t){for(var e="",n=0;n<t;n++)e+=String.fromCharCode(255&r),r>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function qie(r,t,e){return"number"!=typeof r?"":U3(Math.round(100*r)/100,t,e)},formatNumberCommas:U3,sum:function Yie(r){return null==r?null:r.reduce(function(t,e){return t+e},0)}}),z3=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function Ua(r,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!r)return null;var n=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(function(i){return x_(i,2)}).join(e);return t&&(n+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(function(i){return x_(i,2)}).join(":")),n}var W3=function(r){if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function R_(r,t){void 0===t&&(t="YYYY-MM-DD");var e=x_(r.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:function(){return e.slice(e.length-4,e.length)},YY:function(){return e.slice(e.length-2,e.length)},Y:function(){return"".concat(r.getFullYear())},MMMM:function(){return n[r.getMonth()]},MMM:function(){return n[r.getMonth()].slice(0,3)},MM:function(){return x_(r.getMonth()+1,2)},Mo:function(){return"".concat(r.getMonth()+1).concat(W3(r.getMonth()+1))},M:function(){return"".concat(r.getMonth()+1)},Do:function(){return"".concat(r.getDate()).concat(W3(r.getDate()))},DD:function(){return x_(r.getDate(),2)},D:function(){return"".concat(r.getDate())},dddd:function(){return i[r.getDay()]},ddd:function(){return i[r.getDay()].slice(0,3)},dd:function(){return i[r.getDay()].slice(0,2)},do:function(){return"".concat(r.getDay()).concat(W3(r.getDay()))},d:function(){return"".concat(r.getDay())}},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,function(l){return l in o?o[l]():l})}function Rs(r){if(!r)return null;var t=z3(r.split(" "),2),e=t[0],n=t[1];if(!e)return null;var i=e.split("-").map(function(fe){return parseInt(fe,10)});if(3!==i.filter(function(fe){return!isNaN(fe)}).length)return null;var o=z3(i,3),s=o[0],l=o[1],v=o[2],D=new Date(s,l-1,v);if(D.getFullYear()!==s||D.getMonth()!==l-1||D.getDate()!==v)return null;if(!n||"00:00:00"===n)return D;var F=z3(n.split(":").map(function(fe){return parseInt(fe,10)}),3),z=F[0],re=F[1],ae=F[2];return z>=0&&z<24&&D.setHours(z),re>=0&&re<60&&D.setMinutes(re),ae>=0&&ae<60&&D.setSeconds(ae),D}var FA,Zie=Object.freeze({__proto__:null,serialiseDate:Ua,dateToFormattedString:R_,parseDateTimeFromString:Rs}),Xie=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o};function $3(r,t,e){for(var n=r.parentElement,i=n&&n.firstChild;i;)t&&i.classList.toggle(t,i===r),e&&i.classList.toggle(e,i!==r),i=i.nextSibling}var q3="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Y3(r){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,n=t.call(r,"input, select, button, textarea"),i=t.call(r,q3),o=As(r);return n&&!i&&o}function mr(r,t,e){void 0===e&&(e={});var n=e.skipAriaHidden;r.classList.toggle("ag-hidden",!t),n||AA(r,!t)}function T9(r,t,e){void 0===e&&(e={});var n=e.skipAriaHidden;r.classList.toggle("ag-invisible",!t),n||AA(r,!t)}function A_(r,t){var e="disabled",n=t?function(i){return i.setAttribute(e,"")}:function(i){return i.removeAttribute(e)};n(r),n6(r.querySelectorAll("input"),function(i){return n(i)})}function Lm(r,t,e){for(var n=0;r;){if(r.classList.contains(t))return!0;if(r=r.parentElement,"number"==typeof e){if(++n>e)break}else if(r===e)break}return!1}function Gh(r){var t=window.getComputedStyle(r),n=t.width,i=t.borderTopWidth,o=t.borderRightWidth,s=t.borderBottomWidth,l=t.borderLeftWidth,v=t.paddingTop,D=t.paddingRight,F=t.paddingBottom,z=t.paddingLeft,re=t.marginTop,ae=t.marginRight,fe=t.marginBottom,ge=t.marginLeft,we=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(n),borderTopWidth:parseFloat(i),borderRightWidth:parseFloat(o),borderBottomWidth:parseFloat(s),borderLeftWidth:parseFloat(l),paddingTop:parseFloat(v),paddingRight:parseFloat(D),paddingBottom:parseFloat(F),paddingLeft:parseFloat(z),marginTop:parseFloat(re),marginRight:parseFloat(ae),marginBottom:parseFloat(fe),marginLeft:parseFloat(ge),boxSizing:we}}function yS(r){var t=Gh(r);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Vm(r){var t=Gh(r);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function K3(r){var t=Gh(r);return Math.ceil(r.offsetHeight+(t.marginBottom+t.marginTop))}function _S(r){var t=Gh(r);return Math.ceil(r.offsetWidth+(t.marginLeft+t.marginRight))}function Z3(r){var t=r.getBoundingClientRect(),e=Gh(r);return{top:t.top+(e.borderTopWidth||0),left:t.left+(e.borderLeftWidth||0),right:t.right+(e.borderRightWidth||0),bottom:t.bottom+(e.borderBottomWidth||0)}}function bS(){if("boolean"==typeof FA)return FA;var r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(r),r.scrollLeft=1,FA=0===Math.floor(r.scrollLeft),document.body.removeChild(r),FA}function wS(r,t){var e=r.scrollLeft;return t&&(e=Math.abs(e),IA()&&!bS()&&(e=r.scrollWidth-r.clientWidth-e)),e}function CS(r,t,e){e&&(bS()?t*=-1:(Ml()||IA())&&(t=r.scrollWidth-r.clientWidth-t)),r.scrollLeft=t}function uo(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function Yc(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function As(r){return r.checkVisibility?r.checkVisibility({checkVisibilityCSS:!0}):!(!r.offsetParent||"visible"!==window.getComputedStyle(r).visibility)}function Do(r){var t=document.createElement("div");return t.innerHTML=(r||"").trim(),t.firstChild}function Q3(r){return r&&r.clientHeight?r.clientHeight:0}function X3(r){return r&&r.clientWidth?r.clientWidth:0}function J3(r,t,e){if(!e||e.nextSibling!==t){var n=document.activeElement,i=t.contains(n);e?e.nextSibling?r.insertBefore(t,e.nextSibling):r.appendChild(t):r.firstChild&&r.firstChild!==t&&r.insertAdjacentElement("afterbegin",t),i&&n&&PA()&&n.focus({preventScroll:!0})}}function e6(r,t){for(var e=0;e<t.length;e++){var n=t[e],i=r.children[e];i!==n&&r.insertBefore(n,i)}}function x9(r,t,e){e?e.insertAdjacentElement("afterend",t):r.firstChild?r.insertAdjacentElement("afterbegin",t):r.appendChild(t)}function t6(r,t){var e,n;if(t)try{for(var i=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=Xie(o.value,2),l=s[0],v=s[1];if(l&&l.length&&null!=v){var D=t9(l),F=v.toString(),z=F.replace(/\s*!important/g,"");r.style.setProperty(D,z,z.length!=F.length?"important":void 0)}}}catch(ae){e={error:ae}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}function R9(r){return r.clientWidth<r.scrollWidth}function A9(r){return r.clientHeight<r.scrollHeight}function SS(r,t){"flex"===t?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):za(r,t)}function za(r,t){t=NA(t),r.style.width=t.toString(),r.style.maxWidth=t.toString(),r.style.minWidth=t.toString()}function Bm(r,t){t=NA(t),r.style.height=t.toString(),r.style.maxHeight=t.toString(),r.style.minHeight=t.toString()}function NA(r){return"number"==typeof r?"".concat(r,"px"):r}function ES(r){return r instanceof Node||r instanceof HTMLElement}function O9(r){if(null==r)return[];var t=[];return n6(r,function(e){return t.push(e)}),t}function M9(r,t){if(r)for(var e=0;e<r.length;e++){var n=r[e];t(n.name,n.value)}}function wu(r,t,e){null==e?r.removeAttribute(t):r.setAttribute(t,e.toString())}function n6(r,t){if(null!=r)for(var e=0;e<r.length;e++)t(r[e])}function r6(r,t){r.then(function(e){var n=e.getGui();null!=n&&("object"==typeof n?t.appendChild(n):t.innerHTML=n)})}var toe=Object.freeze({__proto__:null,radioCssClass:$3,FOCUSABLE_SELECTOR:"[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE:q3,isFocusableFormField:Y3,setDisplayed:mr,setVisible:T9,setDisabled:A_,isElementChildOfClass:Lm,getElementSize:Gh,getInnerHeight:yS,getInnerWidth:Vm,getAbsoluteHeight:K3,getAbsoluteWidth:_S,getElementRectWithOffset:Z3,isRtlNegativeScroll:bS,getScrollLeft:wS,setScrollLeft:CS,clearElement:uo,removeFromParent:Yc,isVisible:As,loadTemplate:Do,appendHtml:function Jie(r,t){r.lastChild?r.insertAdjacentHTML("afterbegin",t):r.innerHTML=t},offsetHeight:Q3,offsetWidth:X3,ensureDomOrder:J3,setDomChildOrder:e6,insertWithDomOrder:x9,addStylesToElement:t6,isHorizontalScrollShowing:R9,isVerticalScrollShowing:A9,setElementWidth:SS,setFixedWidth:za,setElementHeight:function eoe(r,t){"flex"===t?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):Bm(r,t)},setFixedHeight:Bm,formatSize:NA,isNodeOrElement:ES,copyNodeList:O9,iterateNamedNodeMap:M9,addOrRemoveAttribute:wu,nodeListForEach:n6,bindCellRendererToHtmlElement:r6});function I9(r,t,e){var n={},i=r.filter(function(o){return!t.some(function(s){return s===o})});return i.length>0&&i.forEach(function(o){return n[o]=DS(o,e).values}),n}function DS(r,t,e,n){var i,o,s=t.map(function(fe,ge){return{value:fe,relevance:roe(r.toLowerCase(),fe.toLocaleLowerCase()),idx:ge}});if(s.sort(function(fe,ge){return ge.relevance-fe.relevance}),e&&(s=s.filter(function(fe){return 0!==fe.relevance})),s.length>0&&n&&n>0){var v=s[0].relevance*n;s=s.filter(function(fe){return v-fe.relevance<0})}var D=[],F=[];try{for(var z=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),re=z.next();!re.done;re=z.next()){var ae=re.value;D.push(ae.value),F.push(ae.idx)}}catch(fe){i={error:fe}}finally{try{re&&!re.done&&(o=z.return)&&o.call(z)}finally{if(i)throw i.error}}return{values:D,indices:F}}function roe(r,t){for(var e=r.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,o=-1,s=0;s<e.length;s++){var l=n.indexOf(e[s],o+1);-1!==l&&(i+=100-100*(o=l)/1e4*100)}return i}var ioe=Object.freeze({__proto__:null,fuzzyCheckStrings:I9,fuzzySuggestions:DS}),P9={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus"};function Wa(r,t,e){var n=Mi(r,t,e);if(n){var i=n.className;if("string"==typeof i&&i.indexOf("ag-icon")>-1||"object"==typeof i&&i["ag-icon"])return n}var o=document.createElement("span");return o.appendChild(n),o}function Mi(r,t,e,n){var i=null,o=e&&e.getColDef().icons;if(o&&(i=o[r]),t&&!i){var s=t.get("icons");s&&(i=s[r])}if(!i){var v=document.createElement("span"),D=P9[r];return D||(n?D=r:(console.warn("AG Grid: Did not find icon ".concat(r)),D="")),v.setAttribute("class","ag-icon ag-icon-".concat(D)),v.setAttribute("unselectable","on"),to(v,"presentation"),v}var l=void 0;if("function"==typeof i)l=i();else{if("string"!=typeof i)throw new Error("icon from grid options needs to be a string or a function");l=i}return"string"==typeof l?Do(l):ES(l)?l:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var ooe=Object.freeze({__proto__:null,iconNameClassMap:P9,createIcon:Wa,createIconNoSpan:Mi}),it=function(){function r(){}return r.BACKSPACE="Backspace",r.TAB="Tab",r.ENTER="Enter",r.ESCAPE="Escape",r.SPACE=" ",r.LEFT="ArrowLeft",r.UP="ArrowUp",r.RIGHT="ArrowRight",r.DOWN="ArrowDown",r.DELETE="Delete",r.F2="F2",r.PAGE_UP="PageUp",r.PAGE_DOWN="PageDown",r.PAGE_HOME="Home",r.PAGE_END="End",r.A="KeyA",r.C="KeyC",r.D="KeyD",r.V="KeyV",r.X="KeyX",r.Y="KeyY",r.Z="KeyZ",r}();function LA(r){return!(r.altKey||r.ctrlKey||r.metaKey)&&1===r.key.length}function VA(r,t,e,n,i){var o=n?n.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;var s={event:t,editing:i,column:n,api:r.api,node:e,data:e.data,colDef:n.getColDef(),context:r.context,columnApi:r.columnApi};return!(!o||!o(s))}function k9(r,t,e,n){var i=n.getDefinition(),o=i&&i.suppressHeaderKeyboardEvent;return!!Tt(o)&&!!o({api:r.api,columnApi:r.columnApi,context:r.context,colDef:i,column:n,headerRowIndex:e,event:t})}function F9(r){var e;switch(r.keyCode){case 65:e=it.A;break;case 67:e=it.C;break;case 86:e=it.V;break;case 68:e=it.D;break;case 90:e=it.Z;break;case 89:e=it.Y;break;default:e=r.code}return e}function N9(r,t){return void 0===t&&(t=!1),r===it.DELETE||!t&&r===it.BACKSPACE&&j3()}var hoe=Object.freeze({__proto__:null,isEventFromPrintableCharacter:LA,isUserSuppressingKeyboardEvent:VA,isUserSuppressingHeaderKeyboardEvent:k9,normaliseQwertyAzerty:F9,isDeleteKey:N9});function i6(r,t,e){if(0===e)return!1;var n=Math.abs(r.clientX-t.clientX),i=Math.abs(r.clientY-t.clientY);return Math.max(n,i)<=e}var foe=Object.freeze({__proto__:null,areEventsNear:i6}),moe=Object.freeze({__proto__:null,sortRowNodesByOrder:function poe(r,t){if(!r)return!1;for(var e=function(l,v){var D=t[l.id],F=t[v.id],z=void 0!==D,re=void 0!==F;return z&&re?D-F:z||re?z?1:-1:l.__objectId-v.__objectId},o=!1,s=0;s<r.length-1;s++)if(e(r[s],r[s+1])>0){o=!0;break}return!!o&&(r.sort(e),!0)}});function o6(r){var t=new Set;return r.forEach(function(e){return t.add(e)}),t}var goe=Object.freeze({__proto__:null,convertToSet:o6}),Wi=function(){return Wi=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Wi.apply(this,arguments)},Qn=Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi(Wi({},Uie),lie),zie),Zie),toe),cie),Yre),ioe),Nre),ooe),hoe),Eie),foe),Kie),Wre),moe),goe),wie),O_=function(){function r(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return r.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},r.prototype.peek=function(){return this.nextValue},r.prototype.skip=function(t){this.nextValue+=t},r}(),Gm=(()=>(function(r){r[r.IN_PROGRESS=0]="IN_PROGRESS",r[r.RESOLVED=1]="RESOLVED"}(Gm||(Gm={})),Gm))(),$a=function(){function r(t){var e=this;this.status=Gm.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(n){return e.onDone(n)},function(n){return e.onReject(n)})}return r.all=function(t){return new r(function(e){var n=t.length,i=new Array(n);t.forEach(function(o,s){o.then(function(l){i[s]=l,0==--n&&e(i)})})})},r.resolve=function(t){return void 0===t&&(t=null),new r(function(e){return e(t)})},r.prototype.then=function(t){var e=this;return new r(function(n){e.status===Gm.RESOLVED?n(t(e.resolution)):e.waiters.push(function(i){return n(t(i))})})},r.prototype.resolveNow=function(t,e){return this.status===Gm.RESOLVED?e(this.resolution):t},r.prototype.onDone=function(t){this.status=Gm.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},r.prototype.onReject=function(t){console.warn("TBI")},r}(),yoe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jm=function(){return jm=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},jm.apply(this,arguments)},s6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qa=(()=>(function(r){r[r.NOTHING=0]="NOTHING",r[r.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",r[r.SHOWING=2]="SHOWING"}(qa||(qa={})),qa))(),Il=(()=>(function(r){r[r.HOVER=0]="HOVER",r[r.FOCUS=1]="FOCUS"}(Il||(Il={})),Il))(),a6=function(r){function t(e,n,i){var o=r.call(this)||this;return o.parentComp=e,o.tooltipShowDelayOverride=n,o.tooltipHideDelayOverride=i,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.INTERACTIVE_HIDE_DELAY=100,o.interactionEnabled=!1,o.isInteractingWithTooltip=!1,o.state=qa.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o}return yoe(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gridOptionsService.get("tooltipMouseTrack");var e=this.parentComp.getGui();this.tooltipTrigger===Il.HOVER&&(this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===Il.FOCUS&&(this.addManagedListener(e,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(e,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this)))},t.prototype.getGridOptionsTooltipDelay=function(e){var n=this.gridOptionsService.get(e);return n<0&&$n("".concat(e," should not be lower than 0")),Math.max(200,n)},t.prototype.getTooltipDelay=function(e){var n,i;return"show"===e?null!==(n=this.tooltipShowDelayOverride)&&void 0!==n?n:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!==(i=this.tooltipHideDelayOverride)&&void 0!==i?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")},t.prototype.destroy=function(){this.setToDoNothing(),r.prototype.destroy.call(this)},t.prototype.getTooltipTrigger=function(){var e=this.gridOptionsService.get("tooltipTrigger");return e&&"hover"!==e?Il.FOCUS:Il.HOVER},t.prototype.onMouseEnter=function(e){var n=this;this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Bh()&&(t.isLocked?this.showTooltipTimeoutId=window.setTimeout(function(){n.prepareToShowTooltip(e)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(e))},t.prototype.onMouseMove=function(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===qa.SHOWING&&this.tooltipComp&&this.positionTooltip()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.onMouseLeave=function(){this.interactionEnabled?this.lockService():this.setToDoNothing()},t.prototype.onFocusIn=function(){this.prepareToShowTooltip()},t.prototype.onFocusOut=function(e){var n,i=e.relatedTarget,o=this.parentComp.getGui(),s=null===(n=this.tooltipComp)||void 0===n?void 0:n.getGui();this.isInteractingWithTooltip||o.contains(i)||this.interactionEnabled&&s?.contains(i)||this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.prepareToShowTooltip=function(e){if(this.state!=qa.NOTHING||t.isLocked)return!1;var n=0;return e&&(n=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),n),this.state=qa.WAITING_TO_SHOW,!0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.setToDoNothing=function(){this.state===qa.SHOWING&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=qa.NOTHING,this.lastMouseEvent=null},t.prototype.showTooltip=function(){var e=jm({},this.parentComp.getTooltipParams());if(Tt(e.value)){this.state=qa.SHOWING,this.tooltipInstanceCount++;var n=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(n)}else this.setToDoNothing()},t.prototype.hideTooltip=function(e){if(e||!this.isInteractingWithTooltip){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime());var n={type:Ce.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(n),this.state=qa.NOTHING}},t.prototype.newTooltipComponentCallback=function(e,n){if(this.state!==qa.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(n);else{var o=n.getGui();this.tooltipComp=n,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),this.tooltipTrigger===Il.HOVER&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");var s=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({eChild:o,ariaLabel:s("ariaLabelTooltip","Tooltip")});l&&(this.tooltipPopupDestroyFunc=l.hideFunc),this.positionTooltip(),this.tooltipTrigger===Il.FOCUS&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===Il.HOVER?(this.tooltipMouseEnterListener=this.addManagedListener(o,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(o,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(o,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(o,"focusout",this.onTooltipFocusOut.bind(this))||null));var v={type:Ce.EVENT_TOOLTIP_SHOW,tooltipGui:o,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(v),this.startHideTimeout()}},t.prototype.onTooltipMouseEnter=function(){this.isInteractingWithTooltip=!0,this.unlockService()},t.prototype.onTooltipMouseLeave=function(){this.isInteractingWithTooltip=!1,this.lockService()},t.prototype.onTooltipFocusIn=function(){this.isInteractingWithTooltip=!0},t.prototype.onTooltipFocusOut=function(e){var n,i=this.parentComp.getGui(),o=null===(n=this.tooltipComp)||void 0===n?void 0:n.getGui(),s=e.relatedTarget;o?.contains(s)||(this.isInteractingWithTooltip=!1,i.contains(s)?this.startHideTimeout():this.hideTooltip())},t.prototype.positionTooltip=function(){var e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(jm(jm({},e),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(jm(jm({},e),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var n=this.tooltipPopupDestroyFunc,i=this.tooltipComp;window.setTimeout(function(){n(),e.getContext().destroyBean(i)},this.tooltipTrigger===Il.HOVER?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.clearTooltipListeners=function(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(function(e){e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null},t.prototype.lockService=function(){var e=this;t.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(function(){e.unlockService(),e.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)},t.prototype.unlockService=function(){t.isLocked=!1,this.clearInteractiveTimeout()},t.prototype.startHideTimeout=function(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))},t.prototype.clearShowTimeout=function(){!this.showTooltipTimeoutId||(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)},t.prototype.clearHideTimeout=function(){!this.hideTooltipTimeoutId||(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},t.prototype.clearInteractiveTimeout=function(){!this.interactiveTooltipTimeoutId||(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)},t.prototype.clearTimeouts=function(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()},t.isLocked=!1,s6([be("popupService")],t.prototype,"popupService",void 0),s6([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),s6([Gt],t.prototype,"postConstruct",null),t}(Pt),_oe=function(){function r(t){this.cssClassStates={},this.getGui=t}return r.prototype.addCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach(function(s){return e.addCssClass(s)});else if(!0!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.add(t),this.cssClassStates[t]=!0}},r.prototype.removeCssClass=function(t){var e=this,n=(t||"").split(" ");if(n.length>1)n.forEach(function(s){return e.removeCssClass(s)});else if(!1!==this.cssClassStates[t]&&t.length){var o=this.getGui();o&&o.classList.remove(t),this.cssClassStates[t]=!1}},r.prototype.containsCssClass=function(t){var e=this.getGui();return!!e&&e.classList.contains(t)},r.prototype.addOrRemoveCssClass=function(t,e){var n=this;if(t){if(t.indexOf(" ")>=0){var i=(t||"").split(" ");if(i.length>1)return void i.forEach(function(l){return n.addOrRemoveCssClass(l,e)})}if(this.cssClassStates[t]!==e&&t.length){var s=this.getGui();s&&s.classList.toggle(t,e),this.cssClassStates[t]=e}}},r}(),boe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},woe=new O_,Kn=function(r){function t(e){var n=r.call(this)||this;return n.displayed=!0,n.visible=!0,n.compId=woe.next(),n.cssClassManager=new _oe(function(){return n.eGui}),e&&n.setTemplate(e),n}return boe(t,r),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsService.get("enableBrowserTooltips")},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e,n,i){var o=this;this.tooltipText!=e&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new a6(o,n,i)))))},t.prototype.createChildComponentsFromTags=function(e,n){var i=this;O9(e.childNodes).forEach(function(s){if(s instanceof HTMLElement){var l=i.createComponentFromElement(s,function(D){D.getGui()&&i.copyAttributesFromNode(s,D.getGui())},n);if(l){if(l.addItems&&s.children.length){i.createChildComponentsFromTags(s,n);var v=Array.prototype.slice.call(s.children);l.addItems(v)}i.swapComponentForNode(l,e,s)}else s.childNodes&&i.createChildComponentsFromTags(s,n)}})},t.prototype.createComponentFromElement=function(e,n,i){var o=e.nodeName,s=i?i[e.getAttribute("ref")]:void 0,l=this.agStackComponentsRegistry.getComponentClass(o);if(l){t.elementGettingCreated=e;var v=new l(s);return v.setParentComponent(this),this.createBean(v,null,n),v}return null},t.prototype.copyAttributesFromNode=function(e,n){M9(e.attributes,function(i,o){return n.setAttribute(i,o)})},t.prototype.swapComponentForNode=function(e,n,i){var o=e.getGui();n.replaceChild(o,i),n.insertBefore(document.createComment(i.nodeName),o),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,i)},t.prototype.swapInComponentForQuerySelectors=function(e,n){var i=this;this.iterateOverQuerySelectors(function(o){i[o.attributeName]===n&&(i[o.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var n=Object.getPrototypeOf(this);null!=n;){var i=n.__agComponentMetaData,o=wA(n.constructor);i&&i[o]&&i[o].querySelectors&&i[o].querySelectors.forEach(function(s){return e(s)}),n=Object.getPrototypeOf(n)}},t.prototype.activateTabIndex=function(e){var n=this.gridOptionsService.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(function(i){return i.setAttribute("tabindex",n.toString())})},t.prototype.setTemplate=function(e,n){var i=Do(e);this.setTemplateFromElement(i,n)},t.prototype.setTemplateFromElement=function(e,n){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),n)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var n=this;this.iterateOverQuerySelectors(function(i){var o=function(v){return n[i.attributeName]=v};if(i.refSelector&&e.getAttribute("ref")===i.refSelector)o(e.eGui);else{var l=e.eGui.querySelector(i.querySelector);l&&o(l.__agComponent||l)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.getAriaElement=function(){return this.getFocusableElement()},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,n){null!=e&&(n||(n=this.eGui),ES(e)?n.appendChild(e):n.appendChild(e.getGui()))},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e,n){void 0===n&&(n={}),e!==this.visible&&(this.visible=e,T9(this.eGui,e,{skipAriaHidden:n.skipAriaHidden}))},t.prototype.setDisplayed=function(e,n){void 0===n&&(n={}),e!==this.displayed&&(this.displayed=e,mr(this.eGui,e,{skipAriaHidden:n.skipAriaHidden}),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.parentComponent&&(this.parentComponent=void 0);var e=this.eGui;e&&e.__agComponent&&(e.__agComponent=void 0),r.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,n,i){var o=this;this.eGui.addEventListener(e,n,i),this.addDestroyFunc(function(){return o.eGui.removeEventListener(e,n)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,n){this.cssClassManager.addOrRemoveCssClass(e,n)},t.prototype.getAttribute=function(e){var n=this.eGui;return n?n.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'.concat(e,'"]'))},t.EVENT_DISPLAYED_CHANGED="displayedChanged",l6([be("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),l6([GH],t.prototype,"preConstructOnComponent",null),l6([GH],t.prototype,"createChildComponentsPreConstruct",null),t}(Pt);function zt(r){return L9.bind(this,"[ref=".concat(r,"]"),r)}function L9(r,t,e,n,i){null!==r?"number"!=typeof i?function Coe(r,t,e){var n=function Soe(r,t){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[t]||(r.__agComponentMetaData[t]={}),r.__agComponentMetaData[t]}(r,wA(r.constructor));n[t]||(n[t]=[]),n[t].push(e)}(e,"querySelectors",{attributeName:n,querySelector:r,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Eoe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),V9=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Doe=function(r){function t(){return r.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Eoe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel("".concat(n," ").concat(i("ariaFilterInput","Filter Input")))},t.prototype.onParentModelChanged=function(e){var n=this;e?this.params.parentFilterInstance(function(i){if(i.getModelAsString){var o=i.getModelAsString(e);n.eFloatingFilterText.setValue(o)}}):this.eFloatingFilterText.setValue("")},t.prototype.onParamsUpdated=function(e){this.init(e)},V9([zt("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),V9([be("columnModel")],t.prototype,"columnModel",void 0),t}(Kn),B9=function(){function r(t,e,n,i){var o=this;this.alive=!0,this.context=t,this.eParent=i,e.getDateCompDetails(n).newAgStackInstance().then(function(v){o.alive?(o.dateComp=v,v&&(i.appendChild(v.getGui()),v.afterGuiAttached&&v.afterGuiAttached(),o.tempValue&&v.setDate(o.tempValue),null!=o.disabled&&o.setDateCompDisabled(o.disabled))):t.destroyBean(v)})}return r.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},r.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},r.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},r.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},r.prototype.setDisplayed=function(t){mr(this.eParent,t)},r.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},r.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},r.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},r.prototype.updateParams=function(t){var e;(null===(e=this.dateComp)||void 0===e?void 0:e.onParamsUpdated)&&"function"==typeof this.dateComp.onParamsUpdated&&this.dateComp.onParamsUpdated(t)},r.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},r}(),G9=function(){function r(){this.customFilterOptions={}}return r.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t)},r.prototype.getFilterOptions=function(){return this.filterOptions},r.prototype.mapCustomOptions=function(){var t=this;!this.filterOptions||this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(o){return!!o.some(function(s){return null!=e[s]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '".concat(o,"'")),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(o){return o===e})||[]);t.customFilterOptions[e.displayKey]=e}})},r.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},r.prototype.getDefaultOption=function(){return this.defaultOption},r.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},r}(),j9={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Toe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),u6=function(){return u6=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},u6.apply(this,arguments)},H9=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jh=function(r){function t(e,n){void 0===n&&(n={});var i=r.call(this)||this;return i.eFocusableElement=e,i.callbacks=n,i.callbacks=u6({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(o){if(!o.defaultPrevented){var s=i.focusService.findNextFocusableElement(i.eFocusableElement,!1,o.shiftKey);!s||(s.focus(),o.preventDefault())}}},n),i}return Toe(t,r),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var n=this;this.addManagedListener(e,"keydown",function(i){if(!i.defaultPrevented&&!xl(i)){if(n.callbacks.shouldStopEventPropagation(i))return void _u(i);i.key===it.TAB?n.callbacks.onTabKeyDown(i):n.callbacks.handleKeyDown&&n.callbacks.handleKeyDown(i)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",H9([be("focusService")],t.prototype,"focusService",void 0),H9([Gt],t.prototype,"postConstruct",null),t}(Pt),xoe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),c6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},U9="ag-resizer-wrapper",Roe='<div class="'.concat(U9,'">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>'),z9=function(r){function t(e,n){var i=r.call(this)||this;return i.element=e,i.dragStartPosition={x:0,y:0},i.position={x:0,y:0},i.lastSize={width:-1,height:-1},i.positioned=!1,i.resizersAdded=!1,i.resizeListeners=[],i.boundaryEl=null,i.isResizing=!1,i.isMoving=!1,i.resizable={},i.movable=!1,i.currentResizer=null,i.config=Object.assign({},{popup:!1},n),i}return xoe(t,r),t.prototype.center=function(){var e=this.offsetParent,n=e.clientHeight,o=e.clientWidth/2-this.getWidth()/2,s=n/2-this.getHeight()/2;this.offsetElement(o,s)},t.prototype.initialisePosition=function(){if(!this.positioned){var e=this.config,n=e.centered,i=e.forcePopupParentAsOffsetParent,o=e.minWidth,s=e.width,l=e.minHeight,v=e.height,D=e.x,F=e.y;this.offsetParent||this.setOffsetParent();var z=0,re=0,ae=As(this.element);if(ae){var fe=this.findBoundaryElement(),ge=window.getComputedStyle(fe);if(null!=ge.minWidth){var we=fe.offsetWidth-this.element.offsetWidth;re=parseInt(ge.minWidth,10)-we}if(null!=ge.minHeight){var Te=fe.offsetHeight-this.element.offsetHeight;z=parseInt(ge.minHeight,10)-Te}}if(this.minHeight=l||z,this.minWidth=o||re,s&&this.setWidth(s),v&&this.setHeight(v),(!s||!v)&&this.refreshSize(),n)this.center();else if(D||F)this.offsetElement(D,F);else if(ae&&i){var Ie=!0;if((fe=this.boundaryEl)||(fe=this.findBoundaryElement(),Ie=!1),fe){var Ve=parseFloat(fe.style.top),et=parseFloat(fe.style.left);Ie?this.offsetElement(isNaN(et)?0:et,isNaN(Ve)?0:Ve):this.setPosition(et,Ve)}}this.positioned=!!this.offsetParent}},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,n){if(this.config.popup&&e!==this.movable){this.movable=e;var i=this.moveElementDragListener||{eElement:n,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(i),this.moveElementDragListener=i):(this.dragService.removeDragSource(i),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var n=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(i){var s=!!e[i],l=n.getResizerElement(i),v={dragStartPixels:0,eElement:l,onDragStart:function(D){return n.onResizeStart(D,i)},onDragging:n.onResize.bind(n),onDragStop:function(D){return n.onResizeEnd(D,i)}};(s||!n.isAlive()&&!s)&&(s?(n.dragService.addDragSource(v),n.resizeListeners.push(v),l.style.pointerEvents="all"):l.style.pointerEvents="none",n.resizable[i]=s)})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,n=e.height,i=e.width;-1!==i&&(this.element.style.width="".concat(i,"px")),-1!==n&&(this.element.style.height="".concat(n,"px"))},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var n=this.config.popup,i=this.element,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Bm(i,e),e=K3(i),o=!0;else if(e=Math.max(this.minHeight,e),this.positioned){var s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(o?(i.style.maxHeight="unset",i.style.minHeight="unset"):n?Bm(i,e):(i.style.height="".concat(e,"px"),i.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getAvailableHeight=function(){var e=this.config,n=e.popup,i=e.forcePopupParentAsOffsetParent;this.positioned||this.initialisePosition();var o=this.offsetParent.clientHeight;if(!o)return null;var s=this.element.getBoundingClientRect(),l=this.offsetParent.getBoundingClientRect(),v=n?this.position.y:s.top,D=n?0:l.top,F=0;if(i){var z=this.element.parentElement;z&&(F=z.getBoundingClientRect().bottom-s.bottom)}return o+D-v-F},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var n=this.element,i=this.config.popup,o=!1;if("string"==typeof e&&-1!==e.indexOf("%"))za(n,e),e=_S(n),o=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var s=this.offsetParent.clientWidth,l=i?this.position.x:this.element.getBoundingClientRect().left;s&&e+l>s&&(e=s-l)}this.getWidth()!==e&&(o?(n.style.maxWidth="unset",n.style.minWidth="unset"):this.config.popup?za(n,e):(n.style.width="".concat(e,"px"),n.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0);var o=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;!o||(this.popupService.positionPopup({ePopup:o,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:function(){return{x:e,y:n}}}),this.setPosition(parseFloat(o.style.left),parseFloat(o.style.top)))},t.prototype.constrainSizeToAvailableHeight=function(e){var n=this;this.config.forcePopupParentAsOffsetParent&&(e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),function(){var o=n.getAvailableHeight();n.element.style.setProperty("max-height","".concat(o,"px"))}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))},t.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n},t.prototype.updateDragStartPosition=function(e,n){this.dragStartPosition={x:e,y:n}},t.prototype.calculateMouseMovement=function(e){var n=e.e,o=e.isTop,l=e.topBuffer,v=n.clientX-this.dragStartPosition.x,D=n.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(n,!!e.isLeft,!!e.anywhereWithin,v)?0:v,movementY:this.shouldSkipY(n,!!o,l,D)?0:D}},t.prototype.shouldSkipX=function(e,n,i,o){var s=this.element.getBoundingClientRect(),l=this.offsetParent.getBoundingClientRect(),v=this.boundaryEl.getBoundingClientRect(),D=this.config.popup?this.position.x:s.left,F=D<=0&&l.left>=e.clientX||l.right<=e.clientX&&l.right<=v.right;return!!F||(n?o<0&&e.clientX>D+l.left||o>0&&e.clientX<D+l.left:i?o<0&&e.clientX>v.right||o>0&&e.clientX<D+l.left:o<0&&e.clientX>v.right||o>0&&e.clientX<v.right)},t.prototype.shouldSkipY=function(e,n,i,o){void 0===i&&(i=0);var s=this.element.getBoundingClientRect(),l=this.offsetParent.getBoundingClientRect(),v=this.boundaryEl.getBoundingClientRect(),D=this.config.popup?this.position.y:s.top,F=D<=0&&l.top>=e.clientY||l.bottom<=e.clientY&&l.bottom<=v.bottom;return!!F||(n?o<0&&e.clientY>D+l.top+i||o>0&&e.clientY<D+l.top:o<0&&e.clientY>v.bottom||o>0&&e.clientY<v.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var i=(new DOMParser).parseFromString(Roe,"text/html").body;e.appendChild(i.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".".concat(U9));e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,n){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!n.match(/top/i),isRight:!!n.match(/right/i),isBottom:!!n.match(/bottom/i),isLeft:!!n.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[n].element.classList.add("ag-active");var i=this.config;!i.popup&&!i.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var n=this.element.parentElement;return n?Array.prototype.slice.call(n.children).filter(function(i){return!i.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],n=0,i=0,o=0;o<e.length;o++){var s=e[o];if(s!==this.element){var v=this.minHeight||0,D=this.minWidth||0;if(s.style.flex&&"0 0 auto"!==s.style.flex){var F=window.getComputedStyle(s);F.minHeight&&(v=parseInt(F.minHeight,10)),F.minWidth&&(D=parseInt(F.minWidth,10))}else v=s.offsetHeight,D=s.offsetWidth;n+=v,i+=D}}return{height:n,width:i}},t.prototype.applySizeToSiblings=function(e){var n=null,i=this.getSiblings();if(i){for(var o=0;o<i.length;o++){var s=i[o];s!==n&&(e?s.style.height="".concat(s.offsetHeight,"px"):s.style.width="".concat(s.offsetWidth,"px"),s.style.flex="0 0 auto",s===this.element&&(n=i[o+1]))}n&&(n.style.removeProperty("height"),n.style.removeProperty("min-height"),n.style.removeProperty("max-height"),n.style.flex="1 1 auto")}},t.prototype.isResizable=function(){return Object.values(this.resizable).some(function(e){return e})},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var n=this.config,i=n.popup,o=n.forcePopupParentAsOffsetParent,s=this.currentResizer,l=s.isTop,F=s.isLeft,z=s.isRight||F,re=s.isBottom||l,ae=this.calculateMouseMovement({e,isLeft:F,isTop:l}),fe=ae.movementX,ge=ae.movementY,we=this.position.x,Te=this.position.y,Ie=0,Ve=0;if(z&&fe){var et=F?-1:1,gt=this.getWidth(),Dt=gt+fe*et,Bt=!1;F&&(we+(Ie=gt-Dt)<=0||Dt<=this.minWidth)&&(Bt=!0,Ie=0),Bt||this.setWidth(Dt)}if(re&&ge){et=l?-1:1;var Mt=this.getHeight(),qt=Mt+ge*et,an=!1;l?(Te+(Ve=Mt-qt)<=0||qt<=this.minHeight)&&(an=!0,Ve=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Mt<qt&&this.getMinSizeOfSiblings().height+qt>this.element.parentElement.offsetHeight&&(an=!0),an||this.setHeight(qt)}this.updateDragStartPosition(e.clientX,e.clientY),((i||o)&&Ie||Ve)&&this.offsetElement(we+Ie,Te+Ve)}},t.prototype.onResizeEnd=function(e,n){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var i={type:"resize",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi};this.element.classList.remove("ag-resizing"),this.resizerMap[n].element.classList.remove("ag-active"),this.dispatchEvent(i)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var s,n=this.position,i=n.x,o=n.y;this.config.calculateTopBuffer&&(s=this.config.calculateTopBuffer());var l=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:s});this.offsetElement(i+l.movementX,o+l.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()},c6([be("popupService")],t.prototype,"popupService",void 0),c6([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),c6([be("dragService")],t.prototype,"dragService",void 0),t}(Pt),Aoe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},BA=function(r){function t(e){var n=r.call(this)||this;return n.filterNameKey=e,n.applyActive=!1,n.hidePopup=null,n.debouncePending=!1,n.appliedModel=null,n.buttonListeners=[],n}return Aoe(t,r),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new jh(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new z9(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var n=this.getGui();n&&n.removeEventListener("submit",this.onFormSubmit);var i='\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'.concat(this.getCssIdentifier(),'-body-wrapper" ref="eFilterBody">\n                    ').concat(this.createBodyTemplate(),"\n                </div>\n            </form>");this.setTemplate(i,e),(n=this.getGui())&&n.addEventListener("submit",this.onFormSubmit)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var n=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetButtonsPanel()},t.prototype.updateParams=function(e){var n=this;this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),function(){n.updateUiVisibility(),n.setupOnBtApplyDebounce()})},t.prototype.resetButtonsPanel=function(){var e=this,n=this.providedFilterParams.buttons,i=n&&n.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(uo(this.eButtonsPanel),this.buttonListeners.forEach(function(l){return l?.()}),this.buttonListeners=[]):i&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),i){var o=document.createDocumentFragment();o6(n).forEach(function(l){return function(l){var v,D;switch(l){case"apply":v=e.translate("applyFilter"),D=function(re){return e.onBtApply(!1,!1,re)};break;case"clear":v=e.translate("clearFilter"),D=function(){return e.onBtClear()};break;case"reset":v=e.translate("resetFilter"),D=function(){return e.onBtReset()};break;case"cancel":v=e.translate("cancelFilter"),D=function(re){e.onBtCancel(re)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var z=Do('<button\n                    type="'.concat("apply"===l?"submit":"button",'"\n                    ref="').concat(l,'FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >').concat(v,"\n                </button>"));e.buttonListeners.push(e.addManagedListener(z,"click",D)),o.append(z)}(l)}),this.eButtonsPanel.append(o),this.getGui().appendChild(this.eButtonsPanel)}else this.eButtonsPanel&&Yc(this.eButtonsPanel)},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=this,n=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),i=Ga(this.checkApplyDebounce.bind(this),n);this.onBtApplyDebounce=function(){e.debouncePending=!0,i()}},t.prototype.checkApplyDebounce=function(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var n=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){n.updateUiVisibility(),n.applyModel("api")})},t.prototype.onBtCancel=function(e){var n=this;this.resetUiToActiveModel(this.getModel(),function(){n.handleCancelEnd(e)})},t.prototype.handleCancelEnd=function(e){this.providedFilterParams.closeOnApply&&this.close(e)},t.prototype.resetUiToActiveModel=function(e,n){var i=this,o=function(){i.onUiChanged(!1,"prevent"),n?.()};null!=e?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(e){var n=this.getModelFromUi();if(!this.isModelValid(n))return!1;var i=this.appliedModel;return this.appliedModel=n,!this.areModelsEqual(i,n)},t.prototype.isModelValid=function(e){return!0},t.prototype.onFormSubmit=function(e){e.preventDefault()},t.prototype.onBtApply=function(e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1),i&&i.preventDefault(),this.applyModel(n?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:n,source:"columnFilter"}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!n&&this.close(i)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var o,i=e&&e.key;("Enter"===i||"Space"===i)&&(o={keyboardEvent:e}),this.hidePopup(o),this.hidePopup=null}},t.prototype.onUiChanged=function(e,n){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){var i=this.isModelValid(this.getModelFromUi()),o=this.getRefElement("applyFilterButton");o&&A_(o,!i)}e&&!n||"immediately"===n?this.onBtApply(e):(!this.applyActive&&!n||"debounce"===n)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)},t.prototype.refreshFilterResizer=function(e){if(this.positionableFeature&&"toolPanel"!==e){var o=this.positionableFeature,s=this.gridOptionsService;"floatingFilter"===e?(o.restoreLastSize(),o.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}},t.prototype.afterGuiDetached=function(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)},t.getDebounceMs=function(e,n){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:n},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.refresh=function(e){return this.providedFilterParams=e,!0},t.prototype.destroy=function(){var e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),r.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.localeService.getLocaleTextFunc()(e,j9[e])},t.prototype.getCellValue=function(e){return this.providedFilterParams.getValue(e)},t.prototype.getPositionableElement=function(){return this.eFilterBody},d6([be("rowModel")],t.prototype,"rowModel",void 0),d6([zt("eFilterBody")],t.prototype,"eFilterBody",void 0),d6([Gt],t.prototype,"postConstruct",null),t}(Kn),Ooe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),W9=function(r){function t(e,n){var i=r.call(this,n)||this;return i.labelSeparator="",i.labelAlignment="left",i.disabled=!1,i.label="",i.config=e||{},i}return Ooe(t,r),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,n=e.labelSeparator,i=e.label,o=e.labelWidth,s=e.labelAlignment;null!=n&&this.setLabelSeparator(n),null!=i&&this.setLabel(i),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(s||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){uo(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(mr(this.eLabel,!1),to(this.eLabel,"presentation")):(mr(this.eLabel,!0),to(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-".concat(this.getCompId(),"-label"),this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var i=this.getGui().classList;return i.toggle("ag-label-align-left","left"===e),i.toggle("ag-label-align-right","right"===e),i.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelEllipsis=function(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this},t.prototype.setLabelWidth=function(e){return null==this.label||SS(this.eLabel,e),this},t.prototype.setDisabled=function(e){e=!!e;var n=this.getGui();return A_(n,e),n.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(Kn),Ioe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$9=function(r){function t(e,n,i){var o=r.call(this,e,n)||this;return o.className=i,o}return Ioe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()},t.prototype.refreshAriaLabelledBy=function(){var e=this.getAriaElement(),n=this.getLabelId();null!==u9(e)?RA(e,""):RA(e,n??"")},t.prototype.setAriaLabel=function(e){return qc(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this},t.prototype.onValueChange=function(e){var n=this;return this.addManagedListener(this,Ce.EVENT_FIELD_VALUE_CHANGED,function(){return e(n.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return za(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,n){return this.value===e||(this.previousValue=this.value,this.value=e,n||this.dispatchEvent({type:Ce.EVENT_FIELD_VALUE_CHANGED})),this},t}(W9),Poe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},q9=function(r){function t(e){var n=r.call(this,e,e?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',e?.className)||this;if(n.isPickerDisplayed=!1,n.skipClick=!1,n.pickerGap=4,n.hideCurrentPicker=null,n.ariaRole=e?.ariaRole,n.onPickerFocusIn=n.onPickerFocusIn.bind(n),n.onPickerFocusOut=n.onPickerFocusOut.bind(n),!e)return n;var i=e.pickerGap,o=e.maxPickerHeight,s=e.variableWidth,l=e.minPickerWidth,v=e.maxPickerWidth;return null!=i&&(n.pickerGap=i),n.variableWidth=!!s,null!=o&&n.setPickerMaxHeight(o),null!=l&&n.setPickerMinWidth(l),null!=v&&n.setPickerMaxWidth(v),n}return Poe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setupAria();var e="ag-".concat(this.getCompId(),"-display");this.eDisplayField.setAttribute("id",e);var n=this.getAriaElement();this.addManagedListener(n,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));var i=this.config.pickerIcon;if(i){var o=Mi(i,this.gridOptionsService);o&&this.eIcon.appendChild(o)}},t.prototype.setupAria=function(){var e=this.getAriaElement();e.setAttribute("tabindex",this.gridOptionsService.get("tabIndex").toString()),Ol(e,!1),this.ariaRole&&to(e,this.ariaRole)},t.prototype.onLabelOrWrapperMouseDown=function(e){if(e){var n=this.getFocusableElement();if(n!==this.eWrapper&&e?.target===n)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())},t.prototype.onKeyDown=function(e){switch(e.key){case it.UP:case it.DOWN:case it.ENTER:case it.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case it.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}},t.prototype.showPicker=function(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());var e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)},t.prototype.renderAndPositionPicker=function(){var e=this,n=this.gridOptionsService.getDocument(),i=this.pickerComponent.getGui();this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL,function(){e.hidePicker()}));var o=this.localeService.getLocaleTextFunc(),s=this.config,D=s.modalPicker,z={modal:void 0===D||D,eChild:i,closeOnEsc:!0,closedCallback:function(){var Ve=n.activeElement===n.body;e.beforeHidePicker(),Ve&&e.isAlive()&&e.getFocusableElement().focus()},ariaLabel:o(s.pickerAriaLabelKey,s.pickerAriaLabelValue)},re=this.popupService.addPopup(z),fe=this.maxPickerHeight,ge=this.minPickerWidth,we=this.maxPickerWidth;this.variableWidth?(ge&&(i.style.minWidth=ge),i.style.width=NA(_S(this.eWrapper)),we&&(i.style.maxWidth=we)):SS(i,we??_S(this.eWrapper));var Ie=fe??"".concat(yS(this.popupService.getPopupParent()),"px");return i.style.setProperty("max-height",Ie),i.style.position="absolute",this.alignPickerToComponent(),re.hideFunc},t.prototype.alignPickerToComponent=function(){if(this.pickerComponent){var e=this.config.pickerType,n=this.pickerGap,i=this.gridOptionsService.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:i,keepWithinBounds:!0,nudgeY:n})}},t.prototype.beforeHidePicker=function(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);var e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null},t.prototype.toggleExpandedStyles=function(e){this.isAlive()&&(Ol(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e))},t.prototype.onPickerFocusIn=function(){this.togglePickerHasFocus(!0)},t.prototype.onPickerFocusOut=function(e){var n;null!==(n=this.pickerComponent)&&void 0!==n&&n.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)},t.prototype.togglePickerHasFocus=function(e){!this.pickerComponent||this.eWrapper.classList.toggle("ag-picker-has-focus",e)},t.prototype.hidePicker=function(){this.hideCurrentPicker&&this.hideCurrentPicker()},t.prototype.setInputWidth=function(e){return SS(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},t.prototype.setPickerGap=function(e){return this.pickerGap=e,this},t.prototype.setPickerMinWidth=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.minPickerWidth=e??void 0,this},t.prototype.setPickerMaxWidth=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.maxPickerWidth=e??void 0,this},t.prototype.setPickerMaxHeight=function(e){return"number"==typeof e&&(e="".concat(e,"px")),this.maxPickerHeight=e??void 0,this},t.prototype.destroy=function(){this.hidePicker(),r.prototype.destroy.call(this)},TS([be("popupService")],t.prototype,"popupService",void 0),TS([zt("eLabel")],t.prototype,"eLabel",void 0),TS([zt("eWrapper")],t.prototype,"eWrapper",void 0),TS([zt("eDisplayField")],t.prototype,"eDisplayField",void 0),TS([zt("eIcon")],t.prototype,"eIcon",void 0),t}($9),Foe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y9=function(r){function t(e){void 0===e&&(e="default");var n=r.call(this,'<div class="ag-list ag-'.concat(e,'-list" role="listbox"></div>'))||this;return n.cssIdentifier=e,n.options=[],n.itemEls=[],n}return Foe(t,r),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var n=e.key;switch(n){case it.ENTER:if(this.highlightedEl){var i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}else this.setValue(this.getValue());break;case it.DOWN:case it.UP:var o=n===it.DOWN,s=void 0;if(e.preventDefault(),this.highlightedEl){var v=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);v=Math.min(Math.max(v,0),this.itemEls.length-1),s=this.itemEls[v]}else s=this.itemEls[o?0:this.itemEls.length-1];this.highlightItem(s)}},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){var n=e.value,o=zi(e.text||n);return this.options.push({value:n,text:o}),this.renderOption(n,o),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(n,i){R3(n,i+1),x3(n,e.length)})},t.prototype.renderOption=function(e,n){var i=this,o=document.createElement("div");to(o,"option"),o.classList.add("ag-list-item","ag-".concat(this.cssIdentifier,"-list-item")),o.innerHTML="<span>".concat(n,"</span>"),o.tabIndex=-1,this.itemEls.push(o),this.addManagedListener(o,"mouseover",function(){return i.highlightItem(o)}),this.addManagedListener(o,"mouseleave",function(){return i.clearHighlighted()}),this.addManagedListener(o,"click",function(){return i.setValue(e)}),this.getGui().appendChild(o)},t.prototype.setValue=function(e,n){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var i=this.options.findIndex(function(s){return s.value===e});if(-1!==i){var o=this.options[i];this.value=o.value,this.displayValue=null!=o.text?o.text:o.value,this.highlightItem(this.itemEls[i]),n||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var n=this.options.findIndex(function(i){return i.value===e.value});-1!==n&&this.highlightItem(this.itemEls[n])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){!As(e)||(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),T_(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!As(this.highlightedEl)||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),T_(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Ce.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"init",null),t}(Kn),Loe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),h6=function(){return h6=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},h6.apply(this,arguments)},GA=function(r){function t(e){return r.call(this,h6({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},e))||this}return Loe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createListComponent(),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex")},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new Y9("select")),this.listComponent.setParentComponent(this);var n=this.listComponent.getAriaElement(),i="ag-select-list-".concat(this.listComponent.getCompId());n.setAttribute("id",i),M3(this.getAriaElement(),n),this.listComponent.addGuiEventListener("keydown",function(o){o.key===it.TAB&&(o.preventDefault(),o.stopImmediatePropagation(),e.getGui().dispatchEvent(new KeyboardEvent("keydown",{key:o.key,shiftKey:o.shiftKey,ctrlKey:o.ctrlKey,bubbles:!0})))}),this.listComponent.addManagedListener(this.listComponent,Y9.EVENT_ITEM_SELECTED,function(){e.hidePicker(),e.dispatchEvent({type:t.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,Ce.EVENT_FIELD_VALUE_CHANGED,function(){!e.listComponent||(e.setValue(e.listComponent.getValue(),!1,!0),e.hidePicker())})},t.prototype.createPickerComponent=function(){return this.listComponent},t.prototype.showPicker=function(){!this.listComponent||(r.prototype.showPicker.call(this),this.listComponent.refreshHighlighted())},t.prototype.addOptions=function(e){var n=this;return e.forEach(function(i){return n.addOption(i)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,n,i){return this.value!==e&&this.listComponent?(i||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),r.prototype.setValue.call(this,e,n))):this},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),r.prototype.destroy.call(this)},t.EVENT_ITEM_SELECTED="selectedItem",t}(q9),Voe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),f6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hh=function(r){function t(e,n,i,o){void 0===i&&(i="text"),void 0===o&&(o="input");var s=r.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'.concat(o,' ref="eInput" class="ag-input-field-input"></').concat(o,">\n                </div>\n            </div>"),n)||this;return s.inputType=i,s.displayFieldTag=o,s}return Voe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add("".concat(this.className,"-label")),this.eWrapper.classList.add("".concat(this.className,"-input-wrapper")),this.eInput.classList.add("".concat(this.className,"-input")),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-".concat(this.getCompId(),"-input");var e=this.config,n=e.width,i=e.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners(),this.activateTabIndex([this.eInput])},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){return e.setValue(n.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return SS(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return wu(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return qc(this.eInput,e),this.refreshAriaLabelledBy(),this},t.prototype.setDisabled=function(e){return A_(this.eInput,e),r.prototype.setDisabled.call(this,e)},t.prototype.setAutoComplete=function(e){return wu(this.eInput,"autocomplete",!0===e?null:"string"==typeof e?e:"off"),this},f6([zt("eLabel")],t.prototype,"eLabel",void 0),f6([zt("eWrapper")],t.prototype,"eWrapper",void 0),f6([zt("eInput")],t.prototype,"eInput",void 0),t}($9),Boe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jA=function(r){function t(e,n,i){void 0===n&&(n="ag-checkbox"),void 0===i&&(i="checkbox");var o=r.call(this,e,n,i)||this;return o.labelAlignment="right",o.selected=!1,o.readOnly=!1,o.passive=!1,o}return Boe(t,r),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),r.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),n=this.getNextValue();this.passive?this.dispatchChange(n,e):this.setValue(n)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,n){return this.refreshSelectedClass(e),this.setSelected(e,n),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,n){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,n||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,n,i){this.dispatchEvent({type:Ce.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:n,event:i});var o=this.getInputElement();this.eventService.dispatchEvent({type:Ce.EVENT_CHECKBOX_CHANGED,id:o.id,name:o.name,selected:e,previousValue:n})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var n=this.isSelected(),i=this.selected=e.target.checked;this.refreshSelectedClass(i),this.dispatchChange(i,n,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(Hh),Goe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),K9=function(r){function t(e){return r.call(this,e,"ag-radio-button","radio")||this}return Goe(t,r),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){r.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,Ce.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(jA),joe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),p6=function(){function r(t,e,n){this.localeService=t,this.optionsFactory=e,this.valueFormatter=n}return r.prototype.getModelAsString=function(t){var e=this;if(!t)return null;var n=null!=t.operator,i=this.localeService.getLocaleTextFunc();if(n){var o=t,s=o.conditions;s||(s=[o.condition1,o.condition2]);var D=s.map(function(Te){return e.getModelAsString(Te)}),F="AND"===o.operator?"andCondition":"orCondition";return D.join(" ".concat(i(F,j9[F])," "))}if(t.type===ni.BLANK||t.type===ni.NOT_BLANK)return i(t.type,t.type);var z=t,re=this.optionsFactory.getCustomOption(z.type),ae=re||{},fe=ae.displayKey,ge=ae.displayName;return fe&&ge&&0===ae.numberOfInputs?(i(fe,ge),ge):this.conditionToString(z,re)},r.prototype.updateParams=function(t){this.optionsFactory=t.optionsFactory},r.prototype.formatValue=function(t){var e;return this.valueFormatter?null!==(e=this.valueFormatter(t??null))&&void 0!==e?e:"":String(t)},r}(),ni=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.eTypes=[],e.eJoinOperatorPanels=[],e.eJoinOperatorsAnd=[],e.eJoinOperatorsOr=[],e.eConditionBodies=[],e.listener=function(){return e.onUiChanged()},e.lastUiCompletePosition=null,e.joinOperatorId=0,e}return joe(t,r),t.prototype.getNumberOfInputs=function(e){var n=this.optionsFactory.getCustomOption(e);return n?n.numberOfInputs??1:e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,n){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(n),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){var n=this;this.eTypes.forEach(function(i,o){i.setValue(0===o?e:n.optionsFactory.getDefaultOption(),!0)})},t.prototype.getModelFromUi=function(){var e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:e[0],condition2:e[1],conditions:e}:e[0]},t.prototype.getConditionTypes=function(){return this.eTypes.map(function(e){return e.getValue()})},t.prototype.getConditionType=function(e){return this.eTypes[e].getValue()},t.prototype.getJoinOperator=function(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,n){var i=this;if(!e&&!n)return!0;if(!e&&n||e&&!n)return!1;var o=!e.operator,s=!n.operator;return!(!o&&s||o&&!s)&&(o?this.areSimpleModelsEqual(e,n):e.operator===n.operator&&$c(e.conditions,n.conditions,function(ae,fe){return i.areSimpleModelsEqual(ae,fe)}))},t.prototype.shouldRefresh=function(e){var n,i,o,s=this.getModel(),l=s?null!==(n=s.conditions)&&void 0!==n?n:[s]:null,v=null!==(o=null===(i=e.filterOptions)||void 0===i?void 0:i.map(function(F){return"string"==typeof F?F:F.displayKey}))&&void 0!==o?o:this.getDefaultFilterOptions();return!(l&&!l.every(function(F){return void 0!==v.find(function(z){return z===F.type})})||"number"==typeof e.maxNumConditions&&l&&l.length>e.maxNumConditions)},t.prototype.refresh=function(e){return!!this.shouldRefresh(e)&&!!r.prototype.refresh.call(this,e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)},t.prototype.setModelIntoUi=function(e){var n=this;if(e.operator){var o=e;o.conditions||(o.conditions=[o.condition1,o.condition2]);var s=this.validateAndUpdateConditions(o.conditions),l=this.getNumConditions();if(s<l)this.removeConditionsAndOperators(s);else if(s>l)for(var v=l;v<s;v++)this.createJoinOperatorPanel(),this.createOption();var D="OR"===o.operator;this.eJoinOperatorsAnd.forEach(function(z){return z.setValue(!D,!0)}),this.eJoinOperatorsOr.forEach(function(z){return z.setValue(D,!0)}),o.conditions.forEach(function(z,re){n.eTypes[re].setValue(z.type,!0),n.setConditionIntoUi(z,re)})}else{var F=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(F.type,!0),this.setConditionIntoUi(F,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),$a.resolve()},t.prototype.validateAndUpdateConditions=function(e){var n=e.length;return n>this.maxNumConditions&&(e.splice(this.maxNumConditions),$n('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),n=this.maxNumConditions),n},t.prototype.doesFilterPass=function(e){var i,n=this,o=this.getModel();if(null==o)return!0;var s=o.operator,l=[];return s?l.push.apply(l,function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(null!==(i=o.conditions)&&void 0!==i?i:[]),!1)):l.push(o),l[s&&"OR"===s?"some":"every"](function(F){return n.individualConditionPasses(e,F)})},t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new G9,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")},t.prototype.setNumConditions=function(e){var n,i;null!=e.suppressAndOrCondition&&$n('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=e.alwaysShowBothConditions&&$n('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!==(n=e.maxNumConditions)&&void 0!==n?n:e.suppressAndOrCondition?1:2,this.maxNumConditions<1&&($n('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!==(i=e.numAlwaysVisibleConditions)&&void 0!==i?i:e.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&($n('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&($n('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)},t.prototype.createOption=function(){var e=this,n=this.createManagedBean(new GA);this.eTypes.push(n),n.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(n.getGui());var i=this.createValueElement();this.eConditionBodies.push(i),this.eFilterBody.appendChild(i),this.putOptionsIntoDropdown(n),this.resetType(n);var o=this.getNumConditions()-1;this.forEachPositionInput(o,function(s){return e.resetInput(s)}),this.addChangedListeners(n,o)},t.prototype.createJoinOperatorPanel=function(){var e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");var n=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);var o=this.eJoinOperatorPanels.length-1,s=this.joinOperatorId++;this.resetJoinOperatorAnd(n,o,s),this.resetJoinOperatorOr(i,o,s),this.isReadOnly()||(n.onValueChange(this.listener),i.onValueChange(this.listener))},t.prototype.createJoinOperator=function(e,n,i){var o=this.createManagedBean(new K9);return e.push(o),o.addCssClass("ag-filter-condition-operator"),o.addCssClass("ag-filter-condition-operator-".concat(i)),n.appendChild(o.getGui()),o},t.prototype.getDefaultJoinOperator=function(e){return"AND"===e||"OR"===e?e:"AND"},t.prototype.createFilterListOptions=function(){var e=this,n=this.optionsFactory.getFilterOptions();this.filterListOptions=n.map(function(i){return"string"==typeof i?e.createBoilerplateListOption(i):e.createCustomListOption(i)})},t.prototype.putOptionsIntoDropdown=function(e){this.filterListOptions.forEach(function(n){e.addOption(n)}),e.setDisabled(this.filterListOptions.length<=1)},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var n=e.displayKey,i=this.optionsFactory.getCustomOption(e.displayKey);return{value:n,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(n)}},t.prototype.isAllowTwoConditions=function(){return this.maxNumConditions>=2},t.prototype.createBodyTemplate=function(){return""},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)},t.prototype.updateNumConditions=function(){for(var e,n=-1,i=!0,o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?n=o:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{var s=null!==(e=this.lastUiCompletePosition)&&void 0!==e?e:this.getNumConditions()-2;if(n<s){this.removeConditionsAndOperators(s+1);var l=n+1,v=s-l;v>0&&this.removeConditionsAndOperators(l,v),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=n},t.prototype.updateConditionStatusesAndValues=function(e,n){var i=this;this.eTypes.forEach(function(s,l){var v=i.isConditionDisabled(l,e);s.setDisabled(v||i.filterListOptions.length<=1),1===l&&(A_(i.eJoinOperatorPanels[0],v),i.eJoinOperatorsAnd[0].setDisabled(v),i.eJoinOperatorsOr[0].setDisabled(v))}),this.eConditionBodies.forEach(function(s,l){mr(s,i.isConditionBodyVisible(l))});var o="OR"===(n??this.getJoinOperator());this.eJoinOperatorsAnd.forEach(function(s,l){s.setValue(!o,!0)}),this.eJoinOperatorsOr.forEach(function(s,l){s.setValue(o,!0)}),this.forEachInput(function(s,l,v,D){i.setElementDisplayed(s,l<D),i.setElementDisabled(s,i.isConditionDisabled(v,e))}),this.resetPlaceholder()},t.prototype.shouldAddNewConditionAtEnd=function(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()},t.prototype.removeConditionsAndOperators=function(e,n){if(!(e>=this.getNumConditions())){this.removeComponents(this.eTypes,e,n),this.removeElements(this.eConditionBodies,e,n),this.removeValueElements(e,n);var i=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,i,n),this.removeComponents(this.eJoinOperatorsAnd,i,n),this.removeComponents(this.eJoinOperatorsOr,i,n)}},t.prototype.removeElements=function(e,n,i){this.removeItems(e,n,i).forEach(function(s){return Yc(s)})},t.prototype.removeComponents=function(e,n,i){var o=this;this.removeItems(e,n,i).forEach(function(l){Yc(l.getGui()),o.destroyBean(l)})},t.prototype.removeItems=function(e,n,i){return null==i?e.splice(n):e.splice(n,i)},t.prototype.afterGuiAttached=function(e){if(r.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{var n=this.getInputs(0)[0];if(!n)return;n instanceof Hh&&n.getInputElement().focus()}},t.prototype.afterGuiDetached=function(){r.prototype.afterGuiDetached.call(this);var e=this.getModel();this.resetUiToActiveModel(e);for(var n=-1,i=-1,o=!1,s=this.getJoinOperator(),l=this.getNumConditions()-1;l>=0;l--)if(this.isConditionUiComplete(l))-1===n&&(n=l,i=l);else{var D=l<n;(l>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(l-1)||D)&&(this.removeConditionsAndOperators(l,1),o=!0,D&&i--)}var F=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),F=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),F=!0),F&&this.updateConditionStatusesAndValues(i,s),o&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i},t.prototype.getPlaceholderText=function(e,n){var i=this.translate(e);if(CA(this.filterPlaceholder)){var o=this.filterPlaceholder,s=this.eTypes[n].getValue();i=o({filterOptionKey:s,filterOption:this.translate(s),placeholder:i})}else"string"==typeof this.filterPlaceholder&&(i=this.filterPlaceholder);return i},t.prototype.resetPlaceholder=function(){var e=this,n=this.localeService.getLocaleTextFunc();this.forEachInput(function(i,o,s,l){if(i instanceof Hh){var v=0===o&&l>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",D=0===o&&l>1?n("ariaFilterFromValue","Filter from value"):0===o?n("ariaFilterValue","Filter Value"):n("ariaFilterToValue","Filter to Value");i.setInputPlaceholder(e.getPlaceholderText(v,s)),i.setInputAriaLabel(D)}})},t.prototype.setElementValue=function(e,n,i){e instanceof Hh&&e.setValue(null!=n?String(n):null,!0)},t.prototype.setElementDisplayed=function(e,n){e instanceof Kn&&mr(e.getGui(),n)},t.prototype.setElementDisabled=function(e,n){e instanceof Kn&&A_(e.getGui(),n)},t.prototype.attachElementOnChange=function(e,n){e instanceof Hh&&e.onValueChange(n)},t.prototype.forEachInput=function(e){var n=this;this.getConditionTypes().forEach(function(i,o){n.forEachPositionTypeInput(o,i,e)})},t.prototype.forEachPositionInput=function(e,n){var i=this.getConditionType(e);this.forEachPositionTypeInput(e,i,n)},t.prototype.forEachPositionTypeInput=function(e,n,i){for(var o=this.getNumberOfInputs(n),s=this.getInputs(e),l=0;l<s.length;l++){var v=s[l];null!=v&&i(v,l,e,o)}},t.prototype.isConditionDisabled=function(e,n){return!!this.isReadOnly()||0!==e&&e>n+1},t.prototype.isConditionBodyVisible=function(e){var n=this.getConditionType(e);return this.getNumberOfInputs(n)>0},t.prototype.isConditionUiComplete=function(e){return!(e>=this.getNumConditions()||this.getConditionType(e)===t.EMPTY||this.getValues(e).some(function(i){return null==i}))},t.prototype.getNumConditions=function(){return this.eTypes.length},t.prototype.getUiCompleteConditions=function(){for(var e=[],n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)&&e.push(this.createCondition(n));return e},t.prototype.createMissingConditionsAndOperators=function(){if(!this.isReadOnly())for(var e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()},t.prototype.resetUiToDefaults=function(e){var n=this;return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(function(i){return n.resetType(i)}),this.eJoinOperatorsAnd.forEach(function(i,o){return n.resetJoinOperatorAnd(i,o,n.joinOperatorId+o)}),this.eJoinOperatorsOr.forEach(function(i,o){return n.resetJoinOperatorOr(i,o,n.joinOperatorId+o)}),this.joinOperatorId++,this.forEachInput(function(i){return n.resetInput(i)}),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),$a.resolve()},t.prototype.resetType=function(e){var i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)},t.prototype.resetJoinOperatorAnd=function(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("AND"),this.translate("andCondition"),i)},t.prototype.resetJoinOperatorOr=function(e,n,i){this.resetJoinOperator(e,n,this.isDefaultOperator("OR"),this.translate("orCondition"),i)},t.prototype.resetJoinOperator=function(e,n,i,o,s){this.updateJoinOperatorDisabled(e.setValue(i,!0).setName("ag-simple-filter-and-or-".concat(this.getCompId(),"-").concat(s)).setLabel(o),n)},t.prototype.updateJoinOperatorsDisabled=function(){var e=this;this.eJoinOperatorsAnd.forEach(function(n,i){return e.updateJoinOperatorDisabled(n,i)}),this.eJoinOperatorsOr.forEach(function(n,i){return e.updateJoinOperatorDisabled(n,i)})},t.prototype.updateJoinOperatorDisabled=function(e,n){e.setDisabled(this.isReadOnly()||n>0)},t.prototype.resetInput=function(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())},t.prototype.setConditionIntoUi=function(e,n){var i=this,o=this.mapValuesFromModel(e);this.forEachInput(function(s,l,v,D){v===n&&i.setElementValue(s,null!=o[l]?o[l]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var n=this;this.forEachInput(function(i,o,s,l){n.setElementValue(i,0===o&&0===s?e:null,!0)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(e,n){var i=this;this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(n,function(o){i.attachElementOnChange(o,i.listener)}))},t.prototype.individualConditionPasses=function(e,n){var i=this.getCellValue(e.node),o=this.mapValuesFromModel(n),s=this.optionsFactory.getCustomOption(n.type);return this.evaluateCustomFilter(s,o,i)??(null==i?this.evaluateNullValue(n.type):this.evaluateNonNullValue(o,i,n,e))},t.prototype.evaluateCustomFilter=function(e,n,i){if(null!=e){var o=e.predicate;if(null!=o&&!n.some(function(s){return null==s}))return o(n,i)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.prototype.hasInvalidInputs=function(){return!1},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",t}(BA),zoe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$i=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zoe(t,r),t.prototype.setParams=function(e){r.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,n,i){var o=this.comparator(),s=null!=e[0]?o(e[0],n):0;switch(i.type){case t.EQUALS:return 0===s;case t.NOT_EQUAL:return 0!==s;case t.GREATER_THAN:return s>0;case t.GREATER_THAN_OR_EQUAL:return s>=0;case t.LESS_THAN:return s<0;case t.LESS_THAN_OR_EQUAL:return s<=0;case t.IN_RANGE:var l=o(e[1],n);return this.scalarFilterParams.inRangeInclusive?s>=0&&l<=0:s>0&&l<0;case t.BLANK:return this.isBlank(n);case t.NOT_BLANK:return!this.isBlank(n);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(ni),Z9=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m6=function(){return m6=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},m6.apply(this,arguments)},J9=function(r){function t(e,n,i){var o=r.call(this,n,i)||this;return o.dateFilterParams=e,o}return Z9(t,r),t.prototype.conditionToString=function(e,n){var i=e.type,s=i==ni.IN_RANGE||2===(n||{}).numberOfInputs,l=Rs(e.dateFrom),v=Rs(e.dateTo),D=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){var F=null!==l?R_(l,D):"null",z=null!==v?R_(v,D):"null";return"".concat(F,"-").concat(z)}return null!=l?R_(l,D):"".concat(i)},t.prototype.updateParams=function(e){r.prototype.updateParams.call(this,e),this.dateFilterParams=e.dateFilterParams},t}(p6),e7=function(r){function t(){var e=r.call(this,"dateFilter")||this;return e.eConditionPanelsFrom=[],e.eConditionPanelsTo=[],e.dateConditionFromComps=[],e.dateConditionToComps=[],e.minValidYear=1e3,e.maxValidYear=1/0,e.minValidDate=null,e.maxValidDate=null,e}return Z9(t,r),t.prototype.afterGuiAttached=function(e){r.prototype.afterGuiAttached.call(this,e),this.dateConditionFromComps[0].afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},i=n.dateFrom,o=n.dateTo,s=n.type;return[i&&Rs(i)||null,o&&Rs(o)||null].slice(0,this.getNumberOfInputs(s))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,n){return null==n||n<e?-1:n>e?1:0},t.prototype.setParams=function(e){this.dateFilterParams=e,r.prototype.setParams.call(this,e);var n=function(i,o){if(null!=e[i]){if(!isNaN(e[i]))return null==e[i]?o:Number(e[i]);console.warn("AG Grid: DateFilter ".concat(i," is not a number"))}return o};this.minValidYear=n("minValidYear",1e3),this.maxValidYear=n("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Rs(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Rs(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new J9(this.dateFilterParams,this.localeService,this.optionsFactory)},t.prototype.createDateCompWrapper=function(e){var n=this,i=new B9(this.getContext(),this.userComponentFactory,{onDateChanged:function(){return n.onUiChanged()},filterParams:this.dateFilterParams},e);return this.addDestroyFunc(function(){return i.destroy()}),i},t.prototype.setElementValue=function(e,n){e.setDate(n)},t.prototype.setElementDisplayed=function(e,n){e.setDisplayed(n)},t.prototype.setElementDisabled=function(e,n){e.setDisabled(n)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e},t.prototype.createFromToElement=function(e,n,i,o){var s=document.createElement("div");s.classList.add("ag-filter-".concat(o)),s.classList.add("ag-filter-date-".concat(o)),n.push(s),e.appendChild(s),i.push(this.createDateCompWrapper(s))},t.prototype.removeValueElements=function(e,n){this.removeDateComps(this.dateConditionFromComps,e,n),this.removeDateComps(this.dateConditionToComps,e,n),this.removeItems(this.eConditionPanelsFrom,e,n),this.removeItems(this.eConditionPanelsTo,e,n)},t.prototype.removeDateComps=function(e,n,i){this.removeItems(e,n,i).forEach(function(s){return s.destroy()})},t.prototype.isValidDateValue=function(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0},t.prototype.isConditionUiComplete=function(e){var n=this;if(!r.prototype.isConditionUiComplete.call(this,e))return!1;var i=!0;return this.forEachInput(function(o,s,l,v){l!==e||!i||s>=v||(i=i&&n.isValidDateValue(o.getDate()))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.dateFrom===n.dateFrom&&e.dateTo===n.dateTo&&e.type===n.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={},o=this.getValues(e);return o.length>0&&(i.dateFrom=Ua(o[0])),o.length>1&&(i.dateTo=Ua(o[1])),m6({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:n},i)},t.prototype.resetPlaceholder=function(){var e=this.localeService.getLocaleTextFunc(),n=this.translate("dateFormatOoo"),i=e("ariaFilterValue","Filter Value");this.forEachInput(function(o){o.setInputPlaceholder(n),o.setInputAriaLabel(i)})},t.prototype.getInputs=function(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]},t.prototype.getValues=function(e){var n=[];return this.forEachPositionInput(e,function(i,o,s,l){o<l&&n.push(i.getDate())}),n},t.prototype.translate=function(e){return r.prototype.translate.call(this,e===$i.LESS_THAN?"before":e===$i.GREATER_THAN?"after":e)},t.prototype.getModelAsString=function(e){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e))&&void 0!==n?n:""},t.DEFAULT_FILTER_OPTIONS=[$i.EQUALS,$i.NOT_EQUAL,$i.LESS_THAN,$i.GREATER_THAN,$i.IN_RANGE,$i.BLANK,$i.NOT_BLANK],function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}($i),$oe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),t7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return $oe(t,r),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.isEventFromDataChange=function(e){return e?.afterDataChange},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.conditions[0]:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.setSimpleParams(e,!1)},t.prototype.setSimpleParams=function(e,n){void 0===n&&(n=!0),this.optionsFactory=new G9,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),n||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.lastType);this.setEditable(i)},t.prototype.onParamsUpdated=function(e){this.setSimpleParams(e)},t.prototype.doesFilterHaveSingleInput=function(e){var i=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==i||1==i},t.prototype.isTypeEditable=function(e){var n=[ni.IN_RANGE,ni.EMPTY,ni.BLANK,ni.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&n.indexOf(e)<0},t}(Kn),qoe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),g6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yoe=function(r){function t(){return r.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return qoe(t,r),t.prototype.getDefaultFilterOptions=function(){return e7.DEFAULT_FILTER_OPTIONS},t.prototype.init=function(e){r.prototype.init.call(this,e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new J9(this.filterParams,this.localeService,this.optionsFactory);var n=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(n("ariaDateFilterInput","Date Filter Input"))},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())},t.prototype.updateCompOnModelChange=function(e){var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(n),n?(this.dateComp.setDate(e?Rs(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null))},t.prototype.setEditable=function(e){mr(this.eDateWrapper,e),mr(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(r.prototype.setLastTypeFromModel.call(this,e),this.updateCompOnModelChange(e))},t.prototype.onDateChanged=function(){var e=this,i=Ua(this.dateComp.getDate());this.params.parentFilterInstance(function(o){if(o){var s=Rs(i);o.onFloatingFilterChanged(e.getLastType()||null,s)}})},t.prototype.getDateComponentParams=function(){var e=BA.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Ga(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}},t.prototype.createDateComponent=function(){var e=this;this.dateComp=new B9(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},t.prototype.updateDateComponent=function(){var e=this.getDateComponentParams(),n=this.gridOptionsService,o=n.columnApi,s=n.context;e.api=n.api,e.columnApi=o,e.context=s,this.dateComp.updateParams(e)},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},g6([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),g6([zt("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),g6([zt("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(t7),Koe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xoe=function(r){function t(){return r.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Koe(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this;this.params=e,this.setParams(e);var i=this.gridOptionsService.getDocument(),o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",function(){n.eDateInput.isDisabled()||n.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",function(s){s.target===i.activeElement&&(n.eDateInput.isDisabled()||n.params.onDateChanged())})},t.prototype.setParams=function(e){var n=this.eDateInput.getInputElement(),i=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=i&&Ml(),n.type=i?"date":"text";var o=e.filterParams||{},s=o.minValidYear,l=o.maxValidYear,v=o.minValidDate,D=o.maxValidDate;if(v&&s&&$n("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),D&&l&&$n("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),v&&D){var F=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}([v,D].map(function(ae){return ae instanceof Date?ae:Rs(ae)}),2),z=F[0],re=F[1];z&&re&&z.getTime()>re.getTime()&&$n("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}v?n.min=v instanceof Date?R_(v):v:s&&(n.min="".concat(s,"-01-01")),D?n.max=D instanceof Date?R_(D):D:l&&(n.max="".concat(l,"-12-31"))},t.prototype.onParamsUpdated=function(e){this.params=e,this.setParams(e)},t.prototype.getDate=function(){return Rs(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(Ua(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:IA()||G3()||Ml()&&B3()>=14.1},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([zt("eDateInput")],t.prototype,"eDateInput",void 0),t}(Kn),Joe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hm=function(r){function t(e,n,i){return void 0===n&&(n="ag-text-field"),void 0===i&&(i="text"),r.call(this,e,n,i)||this}return Joe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,n){return this.eInput.value!==e&&(this.eInput.value=Tt(e)?e:""),r.prototype.setValue.call(this,e,n)},t.prototype.setStartValue=function(e){this.setValue(e,!0)},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("[".concat(this.config.allowedCharPattern,"]"));this.addManagedListener(this.eInput,"keydown",function(i){!LA(i)||i.key&&!e.test(i.key)&&i.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(i){var o,s=null===(o=i.clipboardData)||void 0===o?void 0:o.getData("text");s&&s.split("").some(function(l){return!e.test(l)})&&i.preventDefault()})},t}(Hh),ese=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v6=function(r){function t(e){return r.call(this,e,"ag-number-field","number")||this}return ese(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var n=parseFloat(e.eInput.value),i=isNaN(n)?"":e.normalizeValue(n.toString());e.value!==i&&e.setValue(i)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.normalizeValue=function(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));var n=parseFloat(e);return null!=this.min&&n<this.min?e=this.min.toString():null!=this.max&&n>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e,n){if(null==this.precision)return e;if(n){var i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}var o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return"".concat(o[0],".").concat(o[1].slice(0,this.precision))}return o[0]},t.prototype.setMin=function(e){return this.min===e||(this.min=e,wu(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,wu(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,wu(this.eInput,"step",e)),this},t.prototype.setValue=function(e,n){var i=this;return this.setValueOrInputValue(function(o){return r.prototype.setValue.call(i,o,n)},function(){return i},e)},t.prototype.setStartValue=function(e){var n=this;return this.setValueOrInputValue(function(i){return r.prototype.setValue.call(n,i,!0)},function(i){n.eInput.value=i},e)},t.prototype.setValueOrInputValue=function(e,n,i){if(Tt(i)){var o=this.isScientificNotation(i);if(o&&this.eInput.validity.valid)return e(i);if(o||(o=(i=this.adjustPrecision(i))!=this.normalizeValue(i)),o)return n(i)}return e(i)},t.prototype.getValue=function(){if(this.eInput.validity.valid){var e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):r.prototype.getValue.call(this)}},t.prototype.isScientificNotation=function(e){return"string"==typeof e&&e.includes("e")},t}(Hm),n7=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return n7(t,r),t.prototype.conditionToString=function(e,n){return e.type==ni.IN_RANGE||2===(n||{}).numberOfInputs?"".concat(this.formatValue(e.filter),"-").concat(this.formatValue(e.filterTo)):null!=e.filter?this.formatValue(e.filter):"".concat(e.type)},t}(p6);function y6(r){return(r??{}).allowedCharPattern??null}var i7=function(r){function t(){var e=r.call(this,"numberFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return n7(t,r),t.prototype.refresh=function(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&r.prototype.refresh.call(this,e)},t.prototype.mapValuesFromModel=function(e){var n=e||{},o=n.filterTo,s=n.type;return[this.processValue(n.filter),this.processValue(o)].slice(0,this.getNumberOfInputs(s))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,n){return e===n?0:e<n?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e,r.prototype.setParams.call(this,e),this.filterModelFormatter=new r7(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.setElementValue=function(e,n,i){var o=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(n??null):n;r.prototype.setElementValue.call(this,e,o)},t.prototype.createValueElement=function(){var e=y6(this.numberFilterParams),n=document.createElement("div");return n.classList.add("ag-filter-body"),to(n,"presentation"),this.createFromToElement(n,this.eValuesFrom,"from",e),this.createFromToElement(n,this.eValuesTo,"to",e),n},t.prototype.createFromToElement=function(e,n,i,o){var s=this.createManagedBean(o?new Hm({allowedCharPattern:o}):new v6);s.addCssClass("ag-filter-".concat(i)),s.addCssClass("ag-filter-filter"),n.push(s),e.appendChild(s.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.getValues=function(e){var n=this,i=[];return this.forEachPositionInput(e,function(o,s,l,v){s<v&&i.push(n.processValue(n.stringToFloat(o.getValue())))}),i},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getFilterType=function(){return"number"},t.prototype.processValue=function(e){return null==e||isNaN(e)?null:e},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var n=yu(e);return null!=n&&""===n.trim()&&(n=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(n):null==n||"-"===n.trim()?null:parseFloat(n)},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},o=this.getValues(e);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getModelAsString=function(e){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e))&&void 0!==n?n:""},t.prototype.hasInvalidInputs=function(){var e=!1;return this.forEachInput(function(n){n.getInputElement().validity.valid||(e=!0)}),e},t.DEFAULT_FILTER_OPTIONS=[$i.EQUALS,$i.NOT_EQUAL,$i.GREATER_THAN,$i.GREATER_THAN_OR_EQUAL,$i.LESS_THAN,$i.LESS_THAN_OR_EQUAL,$i.IN_RANGE,$i.BLANK,$i.NOT_BLANK],t}($i),o7=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HA=function(){return HA=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},HA.apply(this,arguments)},s7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return o7(t,r),t.prototype.conditionToString=function(e,n){return e.type==ni.IN_RANGE||2===(n||{}).numberOfInputs?"".concat(e.filter,"-").concat(e.filterTo):"".concat(null!=e.filter?e.filter:e.type)},t}(p6),_6=function(r){function t(){var e=r.call(this,"textFilter")||this;return e.eValuesFrom=[],e.eValuesTo=[],e}return o7(t,r),t.trimInput=function(e){var n=e&&e.trim();return""===n?e:n},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){this.textFilterParams=e,r.prototype.setParams.call(this,e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new s7(this.localeService,this.optionsFactory)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(Qn.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),function(n){return e(n.filterOption,n.value,n.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var n=this.getConditionType(e),i={filterType:this.getFilterType(),type:n},o=this.getValuesWithSideEffects(e,!0);return o.length>0&&(i.filter=o[0]),o.length>1&&(i.filterTo=o[1]),i},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,n){return e.filter===n.filter&&e.filterTo===n.filterTo&&e.type===n.type},t.prototype.getInputs=function(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]},t.prototype.getValues=function(e){return this.getValuesWithSideEffects(e,!1)},t.prototype.getValuesWithSideEffects=function(e,n){var i=this,o=[];return this.forEachPositionInput(e,function(s,l,v,D){var F;if(l<D){var z=yu(s.getValue());n&&i.textFilterParams.trimInput&&(z=null!==(F=t.trimInput(z))&&void 0!==F?F:null,s.setValue(z,!0)),o.push(z)}}),o},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueElement=function(){var e=document.createElement("div");return e.classList.add("ag-filter-body"),to(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e},t.prototype.createFromToElement=function(e,n,i){var o=this.createManagedBean(new Hm);o.addCssClass("ag-filter-".concat(i)),o.addCssClass("ag-filter-filter"),n.push(o),e.appendChild(o.getGui())},t.prototype.removeValueElements=function(e,n){this.removeComponents(this.eValuesFrom,e,n),this.removeComponents(this.eValuesTo,e,n)},t.prototype.mapValuesFromModel=function(e){var n=e||{};return[n.filter||null,n.filterTo||null].slice(0,this.getNumberOfInputs(n.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[ni.NOT_EQUAL,ni.NOT_CONTAINS,ni.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,n,i,o){var s=this,l=e.map(function(Te){return s.formatter(Te)})||[],v=this.formatter(n),D=this.textFilterParams,F=D.api,z=D.colDef,re=D.column,ae=D.columnApi,fe=D.context,ge=D.textFormatter;if(i.type===ni.BLANK)return this.isBlank(n);if(i.type===ni.NOT_BLANK)return!this.isBlank(n);var we={api:F,colDef:z,column:re,columnApi:ae,context:fe,node:o.node,data:o.data,filterOption:i.type,value:v,textFormatter:ge};return l.some(function(Te){return s.matcher(HA(HA({},we),{filterText:Te}))})},t.prototype.getModelAsString=function(e){var n;return null!==(n=this.filterModelFormatter.getModelAsString(e))&&void 0!==n?n:""},t.DEFAULT_FILTER_OPTIONS=[ni.CONTAINS,ni.NOT_CONTAINS,ni.EQUALS,ni.NOT_EQUAL,ni.STARTS_WITH,ni.ENDS_WITH,ni.BLANK,ni.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var i=e.value,o=e.filterText;if(null==o)return!1;switch(e.filterOption){case t.CONTAINS:return i.indexOf(o)>=0;case t.NOT_CONTAINS:return i.indexOf(o)<0;case t.EQUALS:return i===o;case t.NOT_EQUAL:return i!=o;case t.STARTS_WITH:return 0===i.indexOf(o);case t.ENDS_WITH:var s=i.lastIndexOf(o);return s>=0&&s===i.length-o.length;default:return!1}},t}(ni),a7=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},l7=function(r){function t(e){var n=r.call(this)||this;return n.params=e,n.valueChangedListener=function(){},n}return a7(t,r),t.prototype.setupGui=function(e){var i,n=this;this.eFloatingFilterTextInput=this.createManagedBean(new Hm(null===(i=this.params)||void 0===i?void 0:i.config));var o=this.eFloatingFilterTextInput.getGui();e.appendChild(o),this.addManagedListener(o,"input",function(s){return n.valueChangedListener(s)}),this.addManagedListener(o,"keydown",function(s){return n.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.eFloatingFilterTextInput.setDisabled(!e)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.eFloatingFilterTextInput.getValue()},t.prototype.setValue=function(e,n){this.eFloatingFilterTextInput.setValue(e,n)},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Pt),u7=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return a7(t,r),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,n){this.isEventFromFloatingFilter(n)||this.isEventFromDataChange(n)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))},t.prototype.init=function(e){this.setupFloatingFilterInputService(e),r.prototype.init.call(this,e),this.setTextInputParams(e)},t.prototype.setupFloatingFilterInputService=function(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)},t.prototype.setTextInputParams=function(e){var n;this.params=e;var i=null!==(n=e.browserAutoComplete)&&void 0!==n&&n;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:i}),this.applyActive=BA.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){var o=BA.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=Ga(this.syncUpWithParentFilter.bind(this),o);this.floatingFilterInputService.setValueChangedListener(s)}},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.setTextInputParams(e)},t.prototype.recreateFloatingFilterInputService=function(e){var n=this.floatingFilterInputService.getValue();uo(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(n,!0)},t.prototype.getAriaLabel=function(e){var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),i=this.localeService.getLocaleTextFunc();return"".concat(n," ").concat(i("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var n=this;if(!this.applyActive||e.key===it.ENTER){var o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=_6.trimInput(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance(function(s){s&&s.onFloatingFilterChanged(n.getLastType()||null,o||null)})}},t.prototype.setEditable=function(e){this.floatingFilterInputService.setEditable(e)},b6([be("columnModel")],t.prototype,"columnModel",void 0),b6([zt("eFloatingFilterInputContainer")],t.prototype,"eFloatingFilterInputContainer",void 0),b6([Gt],t.prototype,"postConstruct",null),t}(t7),c7=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tse=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.valueChangedListener=function(){},e.numberInputActive=!0,e}return c7(t,r),t.prototype.setupGui=function(e){var n=this;this.eFloatingFilterNumberInput=this.createManagedBean(new v6),this.eFloatingFilterTextInput=this.createManagedBean(new Hm),this.eFloatingFilterTextInput.setDisabled(!0);var i=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(i),e.appendChild(o),this.setupListeners(i,function(s){return n.valueChangedListener(s)}),this.setupListeners(o,function(s){return n.valueChangedListener(s)})},t.prototype.setEditable=function(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)},t.prototype.setAutoComplete=function(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)},t.prototype.getValue=function(){return this.getActiveInputElement().getValue()},t.prototype.setValue=function(e,n){this.getActiveInputElement().setValue(e,n)},t.prototype.getActiveInputElement=function(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput},t.prototype.setValueChangedListener=function(e){this.valueChangedListener=e},t.prototype.setupListeners=function(e,n){this.addManagedListener(e,"input",n),this.addManagedListener(e,"keydown",n)},t.prototype.setParams=function(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)},t.prototype.setAriaLabel=function(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)},t}(Pt),nse=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return c7(t,r),t.prototype.init=function(e){var n;r.prototype.init.call(this,e),this.filterModelFormatter=new r7(this.localeService,this.optionsFactory,null===(n=e.filterParams)||void 0===n?void 0:n.numberFormatter)},t.prototype.onParamsUpdated=function(e){y6(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),r.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return i7.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(e){return this.allowedCharPattern=y6(e.filterParams),this.createManagedBean(this.allowedCharPattern?new l7({config:{allowedCharPattern:this.allowedCharPattern}}):new tse)},t}(u7),rse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ise=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rse(t,r),t.prototype.init=function(e){r.prototype.init.call(this,e),this.filterModelFormatter=new s7(this.localeService,this.optionsFactory)},t.prototype.onParamsUpdated=function(e){r.prototype.onParamsUpdated.call(this,e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})},t.prototype.getDefaultFilterOptions=function(){return _6.DEFAULT_FILTER_OPTIONS},t.prototype.getFilterModelFormatter=function(){return this.filterModelFormatter},t.prototype.createFloatingFilterInputService=function(){return this.createManagedBean(new l7)},t}(u7),ca=function(){function r(t,e){void 0===e&&(e=!1);var n=this;this.destroyFuncs=[],this.touching=!1,this.eventService=new Fh,this.eElement=t,this.preventMouseClick=e;var i=this.onTouchStart.bind(this),o=this.onTouchMove.bind(this),s=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",o,{passive:!0}),this.eElement.addEventListener("touchend",s,{passive:!1}),this.destroyFuncs.push(function(){n.eElement.removeEventListener("touchstart",i,{passive:!0}),n.eElement.removeEventListener("touchmove",o,{passive:!0}),n.eElement.removeEventListener("touchend",s,{passive:!1})})}return r.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},r.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},r.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===n&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:r.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},r.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!i6(e,this.touchStart,4)&&(this.moved=!0)}},r.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:r.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1)},r.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>r.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:r.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},r.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},r.EVENT_TAP="tap",r.EVENT_DOUBLE_TAP="doubleTap",r.EVENT_LONG_TAP="longTap",r.DOUBLE_TAP_MILLIS=500,r}(),ose=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Um=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},w6=function(r){function t(e){var n=r.call(this)||this;return e||n.setTemplate(t.TEMPLATE),n}return ose(t,r),t.prototype.attachCustomElements=function(e,n,i,o,s){this.eSortOrder=e,this.eSortAsc=n,this.eSortDesc=i,this.eSortMixed=o,this.eSortNone=s},t.prototype.setupSort=function(e,n){var i=this;void 0===n&&(n=!1),this.column=e,this.suppressOrder=n,this.setupMultiSortIndicator(),this.column.isSortable()&&(this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addManagedPropertyListener("unSortIcon",function(){return i.updateIcons()}),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(){return i.updateIcons()}),this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,function(){return i.onSortChanged()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return i.onSortChanged()}),this.onSortChanged())},t.prototype.addInIcon=function(e,n,i){if(null!=n){var o=Mi(e,this.gridOptionsService,i);o&&n.appendChild(o)}},t.prototype.onSortChanged=function(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()},t.prototype.updateIcons=function(){var e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&mr(this.eSortAsc,"asc"===e,{skipAriaHidden:!0}),this.eSortDesc&&mr(this.eSortDesc,"desc"===e,{skipAriaHidden:!0}),this.eSortNone){var o=!this.column.getColDef().unSortIcon&&!this.gridOptionsService.get("unSortIcon");mr(this.eSortNone,!o&&null==e,{skipAriaHidden:!0})}},t.prototype.setupMultiSortIndicator=function(){var e=this;this.addInIcon("sortUnSort",this.eSortMixed,this.column);var n=this.column.getColDef().showRowGroup;this.gridOptionsService.isColumnsSortingCoupledToGroup()&&n&&(this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,function(){return e.updateMultiSortIndicator()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateMultiSortIndicator()}),this.updateMultiSortIndicator())},t.prototype.updateMultiSortIndicator=function(){if(this.eSortMixed){var e="mixed"===this.sortController.getDisplaySortForColumn(this.column);mr(this.eSortMixed,e,{skipAriaHidden:!0})}},t.prototype.updateSortOrder=function(){var n,e=this;if(this.eSortOrder){var i=this.sortController.getColumnsWithSortingOrdered(),o=null!==(n=this.sortController.getDisplaySortIndexForColumn(this.column))&&void 0!==n?n:-1,s=i.some(function(v){var D;return null!==(D=e.sortController.getDisplaySortIndexForColumn(v))&&void 0!==D&&D});mr(this.eSortOrder,o>=0&&s,{skipAriaHidden:!0}),o>=0?this.eSortOrder.innerHTML=(o+1).toString():uo(this.eSortOrder)}},t.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',Um([zt("eSortOrder")],t.prototype,"eSortOrder",void 0),Um([zt("eSortAsc")],t.prototype,"eSortAsc",void 0),Um([zt("eSortDesc")],t.prototype,"eSortDesc",void 0),Um([zt("eSortMixed")],t.prototype,"eSortMixed",void 0),Um([zt("eSortNone")],t.prototype,"eSortNone",void 0),Um([be("columnModel")],t.prototype,"columnModel",void 0),Um([be("sortController")],t.prototype,"sortController",void 0),t}(Kn),sse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),da=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ase=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return sse(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=zH(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var n=zi(this.currentDisplayName);this.eText&&(this.eText.innerHTML=n)}},t.prototype.setupIcons=function(e){this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,n,i){if(null!=n){var o=Mi(e,this.gridOptionsService,i);o&&n.appendChild(o)}},t.prototype.setupTap=function(){var e=this,n=this.gridOptionsService;if(!n.get("suppressTouch")){var i=new ca(this.getGui(),!0),o=n.get("suppressMenuHide"),s=o&&Tt(this.eMenu),l=s?new ca(this.eMenu,!0):i;this.params.enableMenu&&this.addManagedListener(l,ca[s?"EVENT_TAP":"EVENT_LONG_TAP"],function(z){n.api.showColumnMenuAfterMouseClick(e.params.column,z.touchStart)}),this.params.enableSorting&&this.addManagedListener(i,ca.EVENT_TAP,function(z){o&&e.eMenu.contains(z.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return i.destroy()}),s&&this.addDestroyFunc(function(){return l.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsService.get("suppressMenuHide"),n=Bh()&&e;return this.params.enableMenu&&!n},t.prototype.shouldSuppressMenuHide=function(){return this.gridOptionsService.get("suppressMenuHide")},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Yc(this.eMenu);this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new w6(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),this.currentSort){this.addManagedListener(this.params.column,Lr.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(i){var o=e.params.column.isMoving(),s=(new Date).getTime();if(!(o||s-e.lastMovingChanged<50)){var D="ctrl"===e.gridOptionsService.get("multiSortKey");e.params.progressSort(D?i.ctrlKey||i.metaKey:i.shiftKey)}});var n=function(){if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",e.params.column.isSortAscending()),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",e.params.column.isSortDescending()),e.addOrRemoveCssClass("ag-header-cell-sorted-none",e.params.column.isSortNone()),e.params.column.getColDef().showRowGroup){var o=e.columnModel.getSourceColumnsForGroupColumn(e.params.column)?.every(function(l){return e.params.column.getSort()==l.getSort()});e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",!o)}};this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,n),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,n)}},t.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Lr.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();mr(this.eFilter,e,{skipAriaHidden:!0})},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',da([be("sortController")],t.prototype,"sortController",void 0),da([be("menuFactory")],t.prototype,"menuFactory",void 0),da([be("columnModel")],t.prototype,"columnModel",void 0),da([zt("eFilter")],t.prototype,"eFilter",void 0),da([zt("eSortIndicator")],t.prototype,"eSortIndicator",void 0),da([zt("eMenu")],t.prototype,"eMenu",void 0),da([zt("eLabel")],t.prototype,"eLabel",void 0),da([zt("eText")],t.prototype,"eText",void 0),da([zt("eSortOrder")],t.prototype,"eSortOrder",void 0),da([zt("eSortAsc")],t.prototype,"eSortAsc",void 0),da([zt("eSortDesc")],t.prototype,"eSortDesc",void 0),da([zt("eSortMixed")],t.prototype,"eSortMixed",void 0),da([zt("eSortNone")],t.prototype,"eSortNone",void 0),t}(Kn),lse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),C6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},use=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return lse(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&$n("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var n=function(s){if(!xl(s)){var l=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),l,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,n),this.addTouchAndClickListeners(this.eOpenIcon,n);var i=function(s){_u(s)};this.addManagedListener(this.eCloseIcon,"dblclick",i),this.addManagedListener(this.eOpenIcon,"dblclick",i),this.addManagedListener(this.getGui(),"dblclick",n),this.updateIconVisibility();var o=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(o,Ci.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(o,Ci.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,n){var i=new ca(e,!0);this.addManagedListener(i,ca.EVENT_TAP,n),this.addDestroyFunc(function(){return i.destroy()}),this.addManagedListener(e,"click",n)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var n=this.params.columnGroup.isExpanded();mr(this.eOpenIcon,n),mr(this.eCloseIcon,!n)}else mr(this.eOpenIcon,!1),mr(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,n){var i=Mi(e,this.gridOptionsService,null);i&&this.getRefElement(n).appendChild(i)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return mr(this.eOpenIcon,!1),void mr(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e,n=this.params,i=n.displayName,o=n.columnGroup;if(Tt(i)){var s=zi(i);this.getRefElement("agLabel").innerHTML=s}this.addOrRemoveCssClass("ag-sticky-label",!(null!==(e=o.getColGroupDef())&&void 0!==e&&e.suppressStickyLabel))},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',C6([be("columnModel")],t.prototype,"columnModel",void 0),C6([zt("agOpened")],t.prototype,"eOpenIcon",void 0),C6([zt("agClosed")],t.prototype,"eCloseIcon",void 0),t}(Kn),cse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zm=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cse(t,r),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),r.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),r.prototype.destroy.call(this)},t}(Kn),dse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fse=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return dse(t,r),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Tt(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()},t.prototype.onKeyDown=function(e){var n=e.key;(n===it.LEFT||n===it.UP||n===it.RIGHT||n===it.DOWN||e.shiftKey&&n===it.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){var e=this.eTextArea.getValue();return Tt(e)||Tt(this.params.value)?this.params.parseValue(e):this.params.value},t.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([zt("eTextArea")],t.prototype,"eTextArea",void 0),t}(zm),pse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mse=function(r){function t(){var e=r.call(this,'<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>')||this;return e.startedByEnter=!1,e}return pse(t,r),t.prototype.init=function(e){this.focusAfterAttached=e.cellStartedEdit;var n=this,i=n.eSelect,o=n.valueFormatterService,s=n.gridOptionsService,l=e.values,v=e.value,D=e.eventKey;if(An(l))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=D&&D===it.ENTER;var F=!1;l.forEach(function(fe){var ge={value:fe},we=o.formatValue(e.column,null,fe);ge.text=null!=we?we:fe,i.addOption(ge),F=F||v===fe}),F?i.setValue(e.value,!0):e.values.length&&i.setValue(e.values[0],!0);var z=e.valueListGap,re=e.valueListMaxWidth,ae=e.valueListMaxHeight;null!=z&&i.setPickerGap(z),null!=ae&&i.setPickerMaxHeight(ae),null!=re&&i.setPickerMaxWidth(re),"fullRow"!==s.get("editType")&&this.addManagedListener(this.eSelect,GA.EVENT_ITEM_SELECTED,function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){var e=this;this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(function(){e.isAlive()&&e.eSelect.showPicker()})},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},d7([be("valueFormatterService")],t.prototype,"valueFormatterService",void 0),d7([zt("eSelect")],t.prototype,"eSelect",void 0),t}(zm),gse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UA=function(r){function t(e){var n=r.call(this,'\n            <div class="ag-cell-edit-wrapper">\n                '.concat(e.getTemplate(),"\n            </div>"))||this;return n.cellEditorInput=e,n}return gse(t,r),t.prototype.init=function(e){this.params=e;var i,n=this.eInput;if(this.cellEditorInput.init(n,e),e.cellStartedEdit){this.focusAfterAttached=!0;var o=e.eventKey;o===it.BACKSPACE||e.eventKey===it.DELETE?i="":o&&1===o.length?i=o:(i=this.cellEditorInput.getStartValue(),o!==it.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,i=this.cellEditorInput.getStartValue();null!=i&&n.setStartValue(i),this.addManagedListener(n.getGui(),"keydown",function(s){var l=s.key;(l===it.PAGE_UP||l===it.PAGE_DOWN)&&s.preventDefault()})},t.prototype.afterGuiAttached=function(){var e,n,i=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(i("ariaInputEditor","Input Editor")),this.focusAfterAttached){Ml()||o.getFocusableElement().focus();var s=o.getInputElement();this.highlightAllOnFocus?s.select():null===(n=(e=this.cellEditorInput).setCaret)||void 0===n||n.call(e)}},t.prototype.focusIn=function(){var e=this.eInput,n=e.getFocusableElement(),i=e.getInputElement();n.focus(),i.select()},t.prototype.getValue=function(){return this.cellEditorInput.getValue()},t.prototype.isPopup=function(){return!1},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([zt("eInput")],t.prototype,"eInput",void 0),t}(zm),yse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_se=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.maxLength&&t.setMaxLength(e.maxLength)},r.prototype.getValue=function(){var t=this.eInput.getValue();return Tt(t)||Tt(this.params.value)?this.params.parseValue(t):this.params.value},r.prototype.getStartValue=function(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value},r.prototype.setCaret=function(){var t=this.eInput.getValue(),e=Tt(t)&&t.length||0;e&&this.eInput.getInputElement().setSelectionRange(e,e)},r}(),h7=function(r){function t(){return r.call(this,new _se)||this}return yse(t,r),t}(UA),bse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ese=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return bse(t,r),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,n){var i=Math.abs(n),o=e.formatValue(i),s=Tt(o)?o:i,l=n>=0;this.eDelta.innerHTML=l?"\u2191"+s:"\u2193"+s,this.eDelta.classList.toggle("ag-value-change-delta-up",l),this.eDelta.classList.toggle("ag-value-change-delta-down",!l)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var n=this.refreshCount;window.setTimeout(function(){n===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),uo(this.eDelta)},t.prototype.refresh=function(e){var n=e.value;return n!==this.lastValue&&(Tt(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:Tt(e.value)?this.eValue.innerHTML=n:uo(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof n&&"number"==typeof this.lastValue&&this.showDelta(e,n-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=n,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("filterManager")],t.prototype,"filterManager",void 0),t}(Kn),Dse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xse=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return Dse(t,r),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var n=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Do('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){n===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){n===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var n=e.value;return An(n)&&(n=""),n!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=n,Tt(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:Tt(e.value)?this.eCurrent.innerHTML=n:uo(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("filterManager")],t.prototype,"filterManager",void 0),t}(Kn),M_=function(){return M_=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},M_.apply(this,arguments)},nr=function(){function r(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=r.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}return r.prototype.setData=function(t){this.setDataCommon(t,!1)},r.prototype.updateData=function(t){this.setDataCommon(t,!0)},r.prototype.setDataCommon=function(t,e){var n=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();var i=this.createDataChangedEvent(t,n,e);this.dispatchLocalEvent(i)},r.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},r.prototype.createDataChangedEvent=function(t,e,n){return{type:r.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:n}},r.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},r.prototype.getRowIndexString=function(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()},r.prototype.createDaemonNode=function(){var t=new r(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t},r.prototype.setDataAndId=function(t,e){var n=Tt(this.id)?this.createDaemonNode():null,i=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,n);var o=this.createDataChangedEvent(t,i,!1);this.dispatchLocalEvent(o)},r.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsService.get("isRowSelectable");this.setRowSelectable(!t||t(this))},r.prototype.setRowSelectable=function(t,e){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_SELECTABLE_CHANGED)),e)return;if(this.beans.gridOptionsService.get("groupSelectsChildren")){var i=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:i??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}},r.prototype.setId=function(t){var e=this.beans.gridOptionsService.getCallback("getRowId");if(e)if(this.data){var n=this.getGroupKeys(!0);this.id=e({data:this.data,parentKeys:n.length>0?n:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(r.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with ".concat(r.ID_PREFIX_ROW_GROUP,", this is a reserved prefix for AG Grid's row grouping feature.")),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},r.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],n=this;for(t&&(n=n.parent);n&&n.level>=0;)e.push(n.key),n=n.parent;return e.reverse(),e},r.prototype.isPixelInRange=function(t){return!(!Tt(this.rowTop)||!Tt(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},r.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_FIRST_CHILD_CHANGED)))},r.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_LAST_CHILD_CHANGED)))},r.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_CHILD_INDEX_CHANGED)))},r.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},r.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},r.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DISPLAYED_CHANGED)))},r.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_DRAGGING_CHANGED)))},r.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HIGHLIGHT_CHANGED)))},r.prototype.setHovered=function(t){this.hovered!==t&&(this.hovered=t)},r.prototype.isHovered=function(){return this.hovered},r.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},r.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_MASTER_CHANGED)))},r.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_GROUP_CHANGED)))},r.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HEIGHT_CHANGED))},r.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Ga(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},r.prototype.checkAutoHeights=function(){var t=this,e=!1,n=!0,i=0,o=this.__autoHeights;if(null!=o&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(v){var D=o[v.getId()];if(null==D){if(!t.beans.columnModel.isColSpanActive())return void(e=!0);var F=[];switch(v.getPinned()){case"left":F=t.beans.columnModel.getDisplayedLeftColumnsForRow(t);break;case"right":F=t.beans.columnModel.getDisplayedRightColumnsForRow(t);break;case null:F=t.beans.columnModel.getViewportCenterColumnsForRow(t)}if(F.includes(v))return void(e=!0);D=-1}else n=!1;D>i&&(i=D)}),!e&&((n||i<10)&&(i=this.beans.gridOptionsService.getRowHeightForNode(this).height),i!=this.rowHeight))){this.setRowHeight(i);var l=this.beans.rowModel;l.onRowHeightChangedDebounced&&l.onRowHeightChangedDebounced()}},r.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_ROW_INDEX_CHANGED)))},r.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_UI_LEVEL_CHANGED)))},r.prototype.setExpanded=function(t,e){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_EXPANDED_CHANGED));var n=Object.assign({},this.createGlobalRowEvent(Ce.EVENT_ROW_GROUP_OPENED),{expanded:t,event:e||null});this.beans.rowNodeEventThrottle.dispatchExpanded(n),this.sibling&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},r.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi}},r.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},r.prototype.setDataValue=function(t,e,n){var D,s="string"!=typeof t?t:null!==(D=this.beans.columnModel.getGridColumn(t))&&void 0!==D?D:this.beans.columnModel.getPrimaryColumn(t),l=this.getValueFromValueService(s);if(this.beans.gridOptionsService.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(s,l,e,n),!1;var v=this.beans.valueService.setValue(this,s,e,n);return this.dispatchCellChangedEvent(s,e,l),this.checkRowSelectable(),v},r.prototype.getValueFromValueService=function(t){var e=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!e,o=this.beans.gridOptionsService.getGroupIncludeFooter()({node:this}),s=this.beans.gridOptionsService.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(t,this,!1,n&&o&&!s)},r.prototype.dispatchEventForSaveValueReadOnly=function(t,e,n,i){var o={type:Ce.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,data:this.data,node:this,oldValue:e,newValue:n,value:n,source:i};this.beans.eventService.dispatchEvent(o)},r.prototype.setGroupValue=function(t,e){var n=this.beans.columnModel.getGridColumn(t);An(this.groupData)&&(this.groupData={});var i=n.getColId(),o=this.groupData[i];o!==e&&(this.groupData[i]=e,this.dispatchCellChangedEvent(n,e,o))},r.prototype.setAggData=function(t){var e=this,n=PH([this.aggData,t]),i=this.aggData;this.aggData=t,this.eventService&&n.forEach(function(o){var s=e.aggData?e.aggData[o]:void 0,l=i?i[o]:void 0;if(s!==l){var v=e.beans.columnModel.lookupGridColumn(o);!v||e.dispatchCellChangedEvent(v,s,l)}})},r.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gridOptionsService.isRowModelType("serverSide")){var n=this.beans.gridOptionsService.get("treeData"),i=this.beans.gridOptionsService.get("isServerSideGroup");t=!this.stub&&!this.footer&&(n?!!i&&i(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(r.EVENT_HAS_CHILDREN_CHANGED)))},r.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},r.prototype.isEmptyRowGroupNode=function(){return this.group&&Ts(this.childrenAfterGroup)},r.prototype.dispatchCellChangedEvent=function(t,e,n){this.dispatchLocalEvent({type:r.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:n})},r.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},r.prototype.isExpandable=function(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)},r.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},r.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},r.prototype.calculateSelectedFromChildren=function(){var t,e=!1,n=!1,i=!1;if(null===(t=this.childrenAfterGroup)||void 0===t||!t.length)return this.selectable?this.selected:null;for(var o=0;o<this.childrenAfterGroup.length;o++){var s=this.childrenAfterGroup[o],l=s.isSelected();if(!s.selectable){var v=s.calculateSelectedFromChildren();if(null===v)continue;l=v}switch(l){case!0:e=!0;break;case!1:n=!0;break;default:i=!0}}return i||e&&n?void 0:!!e||!n&&(this.selectable?this.selected:null)},r.prototype.setSelectedInitialValue=function(t){this.selected=t},r.prototype.selectThisNode=function(t,e,n){if(void 0===n&&(n="api"),!this.selectable&&t||this.selected===t)return!1;if(this.selected=t,this.eventService){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_ROW_SELECTED));var s=this.sibling;s&&s.footer&&s.dispatchLocalEvent(s.createLocalRowEvent(r.EVENT_ROW_SELECTED))}var l=M_(M_({},this.createGlobalRowEvent(Ce.EVENT_ROW_SELECTED)),{event:e||null,source:n});return this.beans.eventService.dispatchEvent(l),!0},r.prototype.setSelected=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="api"),"boolean"!=typeof n?this.setSelectedParams({newValue:t,clearSelection:e,rangeSelect:!1,source:n}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")},r.prototype.setSelectedParams=function(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(M_(M_({},t),{nodes:[this.footer?this.sibling:this]}))},r.prototype.isRowPinned=function(){return"top"===this.rowPinned||"bottom"===this.rowPinned},r.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},r.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new Fh),this.eventService.addEventListener(t,e)},r.prototype.removeEventListener=function(t,e){!this.eventService||(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},r.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_ENTER))},r.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(r.EVENT_MOUSE_LEAVE))},r.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,n=!0,i=!1,o=null;n&&!i;){var s=e.parent;Tt(s)&&e.firstChild?s.rowGroupColumn===t&&(i=!0,o=s):n=!1,e=s}return i?o:null},r.prototype.isFullWidthCell=function(){if(this.detail)return!0;var t=this.beans.gridOptionsService.getCallback("isFullWidthRow");return!!t&&t({rowNode:this})},r.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},r.prototype.createFooter=function(){var t=this;if(!this.sibling){var e=new Set(["eventService","__objectId","sticky"]),n=new r(this.beans);Object.keys(this).forEach(function(i){e.has(i)||(n[i]=t[i])}),n.footer=!0,n.setRowTop(null),n.setRowIndex(null),n.oldRowTop=null,n.id="rowGroupFooter_"+this.id,n.sibling=this,this.sibling=n}},r.prototype.destroyFooter=function(){!this.sibling||(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)},r.ID_PREFIX_ROW_GROUP="row-group-",r.ID_PREFIX_TOP_PINNED="t-",r.ID_PREFIX_BOTTOM_PINNED="b-",r.OBJECT_ID_SEQUENCE=0,r.EVENT_ROW_SELECTED="rowSelected",r.EVENT_DATA_CHANGED="dataChanged",r.EVENT_CELL_CHANGED="cellChanged",r.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",r.EVENT_MASTER_CHANGED="masterChanged",r.EVENT_GROUP_CHANGED="groupChanged",r.EVENT_MOUSE_ENTER="mouseEnter",r.EVENT_MOUSE_LEAVE="mouseLeave",r.EVENT_HEIGHT_CHANGED="heightChanged",r.EVENT_TOP_CHANGED="topChanged",r.EVENT_DISPLAYED_CHANGED="displayedChanged",r.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",r.EVENT_LAST_CHILD_CHANGED="lastChildChanged",r.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",r.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",r.EVENT_EXPANDED_CHANGED="expandedChanged",r.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",r.EVENT_SELECTABLE_CHANGED="selectableChanged",r.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",r.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",r.EVENT_DRAGGING_CHANGED="draggingChanged",r}(),Rse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zA=function(){return zA=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},zA.apply(this,arguments)},f7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},p7=function(r){function t(){return r.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Rse(t,r),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0),E3(this.eCheckbox.getInputElement(),"polite")},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.localeService.getLocaleTextFunc(),n=this.rowNode.isSelected(),i=OA(e,n),o=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(n,!0),this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},t.prototype.onClicked=function(e,n,i){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:i.shiftKey,groupSelectsFiltered:n,event:i,source:"checkboxSelected"})},t.prototype.init=function(e){var n=this;if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",function(l){_u(l)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(l){_u(l);var v=n.gridOptionsService.get("groupSelectsFiltered"),D=n.eCheckbox.getValue();n.shouldHandleIndeterminateState(D,v)?0===n.onClicked(!0,v,l||{})&&n.onClicked(!1,v,l):D?n.onClicked(!1,v,l):n.onClicked(!0,v,l||{})}),this.addManagedListener(this.rowNode,nr.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsService.get("isRowSelectable")||"function"==typeof this.getIsVisible()){var s=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,s),this.addManagedListener(this.rowNode,nr.EVENT_DATA_CHANGED,s),this.addManagedListener(this.rowNode,nr.EVENT_CELL_CHANGED,s),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.shouldHandleIndeterminateState=function(e,n){return n&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&this.gridOptionsService.isRowModelType("clientSide")},t.prototype.showOrHideSelect=function(){var e,n,i,o,s=this.rowNode.selectable,l=this.getIsVisible();if(s)if("function"==typeof l){var v=null===(e=this.overrides)||void 0===e?void 0:e.callbackParams,D=null===(n=this.column)||void 0===n?void 0:n.createColumnFunctionCallbackParams(this.rowNode);s=!!D&&l(zA(zA({},v),D))}else s=l??!1;if(null===(i=this.column)||void 0===i?void 0:i.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!s),this.setVisible(!0),void this.setDisplayed(!0);null!==(o=this.overrides)&&void 0!==o&&o.removeHidden?this.setDisplayed(s):this.setVisible(s)},t.prototype.getIsVisible=function(){var e,n;return this.overrides?this.overrides.isVisible:null===(n=null===(e=this.column)||void 0===e?void 0:e.getColDef())||void 0===n?void 0:n.checkboxSelection},f7([zt("eCheckbox")],t.prototype,"eCheckbox",void 0),f7([Gt],t.prototype,"postConstruct",null),t}(Kn),Wm=(()=>(function(r){r[r.Up=0]="Up",r[r.Down=1]="Down"}(Wm||(Wm={})),Wm))(),zo=(()=>(function(r){r[r.Left=0]="Left",r[r.Right=1]="Right"}(zo||(zo={})),zo))(),Ase=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$m=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WA=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},us=(()=>(function(r){r[r.ToolPanel=0]="ToolPanel",r[r.HeaderCell=1]="HeaderCell",r[r.RowDrag=2]="RowDrag",r[r.ChartPanel=3]="ChartPanel",r[r.AdvancedFilterBuilder=4]="AdvancedFilterBuilder"}(us||(us={})),us))(),co=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.dragSourceAndParamsList=[],n.dropTargets=[],n}var e;return Ase(t,r),e=t,t.prototype.init=function(){this.ePinnedIcon=Wa("columnMovePin",this.gridOptionsService,null),this.eHideIcon=Wa("columnMoveHide",this.gridOptionsService,null),this.eMoveIcon=Wa("columnMoveMove",this.gridOptionsService,null),this.eLeftIcon=Wa("columnMoveLeft",this.gridOptionsService,null),this.eRightIcon=Wa("columnMoveRight",this.gridOptionsService,null),this.eGroupIcon=Wa("columnMoveGroup",this.gridOptionsService,null),this.eAggregateIcon=Wa("columnMoveValue",this.gridOptionsService,null),this.ePivotIcon=Wa("columnMovePivot",this.gridOptionsService,null),this.eDropNotAllowedIcon=Wa("dropNotAllowed",this.gridOptionsService,null)},t.prototype.addDragSource=function(n,i){void 0===i&&(i=!1);var o={eElement:n.eElement,dragStartPixels:n.dragStartPixels,onDragStart:this.onDragStart.bind(this,n),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:i};this.dragSourceAndParamsList.push({params:o,dragSource:n}),this.dragService.addDragSource(o)},t.prototype.removeDragSource=function(n){var i=this.dragSourceAndParamsList.find(function(o){return o.dragSource===n});i&&(this.dragService.removeDragSource(i.params),la(this.dragSourceAndParamsList,i))},t.prototype.clearDragSourceParamsList=function(){var n=this;this.dragSourceAndParamsList.forEach(function(i){return n.dragService.removeDragSource(i.params)}),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(n,i){this.dragging=!0,this.dragSource=n,this.eventLastTime=i,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(n){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var i=this.createDropTargetEvent(this.lastDropTarget,n,null,null,!1);this.lastDropTarget.onDragStop(i)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(n,i){var s,l,v,D,o=this,F=this.getHorizontalDirection(n),z=this.getVerticalDirection(n);this.eventLastTime=n,this.positionGhost(n);var re=this.dropTargets.filter(function(ge){return o.isMouseOnDropTarget(n,ge)}),ae=this.findCurrentDropTarget(n,re);if(ae!==this.lastDropTarget)this.leaveLastTargetIfExists(n,F,z,i),null!==this.lastDropTarget&&null===ae&&(null===(l=(s=this.dragSource).onGridExit)||void 0===l||l.call(s,this.dragItem)),null===this.lastDropTarget&&null!==ae&&(null===(D=(v=this.dragSource).onGridEnter)||void 0===D||D.call(v,this.dragItem)),this.enterDragTargetIfExists(ae,n,F,z,i),this.lastDropTarget=ae;else if(ae&&ae.onDragging){var fe=this.createDropTargetEvent(ae,n,F,z,i);ae.onDragging(fe)}},t.prototype.getAllContainersFromDropTarget=function(n){var i=n.getSecondaryContainers?n.getSecondaryContainers():null,o=[[n.getContainer()]];return i?o.concat(i):o},t.prototype.allContainersIntersect=function(n,i){var o,s;try{for(var l=WA(i),v=l.next();!v.done;v=l.next()){var F=v.value.getBoundingClientRect();if(0===F.width||0===F.height)return!1;if(!(n.clientX>=F.left&&n.clientX<F.right&&n.clientY>=F.top&&n.clientY<F.bottom))return!1}}catch(ae){o={error:ae}}finally{try{v&&!v.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return!0},t.prototype.isMouseOnDropTarget=function(n,i){var o,s,l=this.getAllContainersFromDropTarget(i),v=!1;try{for(var D=WA(l),F=D.next();!F.done;F=D.next())if(this.allContainersIntersect(n,F.value)){v=!0;break}}catch(re){o={error:re}}finally{try{F&&!F.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}return!(i.targetContainsSource&&!i.getContainer().contains(this.dragSource.eElement))&&v&&i.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},t.prototype.findCurrentDropTarget=function(n,i){var o,s,l,v,D=i.length;if(0===D)return null;if(1===D)return i[0];var z=this.gridOptionsService.getRootNode().elementsFromPoint(n.clientX,n.clientY);try{for(var re=WA(z),ae=re.next();!ae.done;ae=re.next()){var fe=ae.value;try{for(var ge=(l=void 0,WA(i)),we=ge.next();!we.done;we=ge.next()){var Te=we.value;if(-1!==YH(this.getAllContainersFromDropTarget(Te)).indexOf(fe))return Te}}catch(Ve){l={error:Ve}}finally{try{we&&!we.done&&(v=ge.return)&&v.call(ge)}finally{if(l)throw l.error}}}}catch(Ve){o={error:Ve}}finally{try{ae&&!ae.done&&(s=re.return)&&s.call(re)}finally{if(o)throw o.error}}return null},t.prototype.enterDragTargetIfExists=function(n,i,o,s,l){if(n){if(n.onDragEnter){var v=this.createDropTargetEvent(n,i,o,s,l);n.onDragEnter(v)}this.setGhostIcon(n.getIconName?n.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(n,i,o,s){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var l=this.createDropTargetEvent(this.lastDropTarget,n,i,o,s);this.lastDropTarget.onDragLeave(l)}this.setGhostIcon(null)}},t.prototype.addDropTarget=function(n){this.dropTargets.push(n)},t.prototype.removeDropTarget=function(n){this.dropTargets=this.dropTargets.filter(function(i){return i.getContainer()!==n.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(n){return n.external})},t.prototype.findExternalZone=function(n){return this.dropTargets.filter(function(o){return o.external}).find(function(o){return o.getContainer()===n.getContainer()})||null},t.prototype.getHorizontalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientX,o=n.clientX;return i===o?null:i>o?zo.Left:zo.Right},t.prototype.getVerticalDirection=function(n){var i=this.eventLastTime&&this.eventLastTime.clientY,o=n.clientY;return i===o?null:i>o?Wm.Up:Wm.Down},t.prototype.createDropTargetEvent=function(n,i,o,s,l){var v=n.getContainer(),D=v.getBoundingClientRect(),F=this;return{event:i,x:i.clientX-D.left,y:i.clientY-D.top,vDirection:s,hDirection:o,dragSource:F.dragSource,fromNudge:l,dragItem:F.dragItem,api:F.gridApi,columnApi:F.columnApi,dropZoneTarget:v}},t.prototype.positionGhost=function(n){var i=this.eGhost;if(i){var s=i.getBoundingClientRect().height,l=b9()-2,v=w9()-2,D=Z3(i.offsetParent),re=n.clientY-D.top-s/2,ae=n.clientX-D.left-10,fe=this.gridOptionsService.getDocument(),ge=fe.defaultView||window,we=ge.pageYOffset||fe.documentElement.scrollTop,Te=ge.pageXOffset||fe.documentElement.scrollLeft;l>0&&ae+i.clientWidth>l+Te&&(ae=l+Te-i.clientWidth),ae<0&&(ae=0),v>0&&re+i.clientHeight>v+we&&(re=v+we-i.clientHeight),re<0&&(re=0),i.style.left="".concat(ae,"px"),i.style.top="".concat(re,"px")}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Do(e.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);var n=this.environment.getTheme().theme;n&&this.eGhost.classList.add(n),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var i=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;CA(o)&&(o=o()),i.innerHTML=zi(o)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var v,s=this.gridOptionsService.getDocument(),l=null;try{l=s.fullscreenElement}catch{}finally{l||(l=this.gridOptionsService.getRootNode()),v=l.querySelector("body")||(l instanceof ShadowRoot?l:l instanceof Document?l?.documentElement:l)}this.eGhostParent=v,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(n,i){void 0===i&&(i=!1),uo(this.eGhostIcon);var o=null;switch(n||(n=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():e.ICON_NOT_ALLOWED),n){case e.ICON_PINNED:o=this.ePinnedIcon;break;case e.ICON_MOVE:o=this.eMoveIcon;break;case e.ICON_LEFT:o=this.eLeftIcon;break;case e.ICON_RIGHT:o=this.eRightIcon;break;case e.ICON_GROUP:o=this.eGroupIcon;break;case e.ICON_AGGREGATE:o=this.eAggregateIcon;break;case e.ICON_PIVOT:o=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:o=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",i),(o!==this.eHideIcon||!this.gridOptionsService.get("suppressDragLeaveHidesColumns"))&&o&&this.eGhostIcon.appendChild(o)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',$m([be("dragService")],t.prototype,"dragService",void 0),$m([be("mouseEventService")],t.prototype,"mouseEventService",void 0),$m([be("columnApi")],t.prototype,"columnApi",void 0),$m([be("gridApi")],t.prototype,"gridApi",void 0),$m([Gt],t.prototype,"init",null),$m([ls],t.prototype,"clearDragSourceParamsList",null),e=$m([Jt("dragAndDropService")],t)}(Pt),$A=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},qA=function(r){function t(e,n,i,o,s,l){var v=r.call(this)||this;return v.cellValueFn=e,v.rowNode=n,v.column=i,v.customGui=o,v.dragStartPixels=s,v.suppressVisibilityChange=l,v.dragSource=null,v}return $A(t,r),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Mi("rowDrag",this.gridOptionsService,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.gridOptionsService.get("rowDragManaged")?new Mse(this,this.beans,this.rowNode,this.column):new Ose(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,n){this.setTemplateFromElement(e),this.addDragSource(n)},t.prototype.getSelectedNodes=function(){if(!this.gridOptionsService.get("rowDragMultiRow"))return[this.rowNode];var n=this.beans.selectionService.getSelectedNodes();return-1!==n.indexOf(this.rowNode)?n:[this.rowNode]},t.prototype.checkCompatibility=function(){var e=this.gridOptionsService.get("rowDragManaged");this.gridOptionsService.get("treeData")&&e&&$n("If using row drag with tree data, you cannot have rowDragManaged=true")},t.prototype.getDragItem=function(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}},t.prototype.getRowDragText=function(e){if(e){var n=e.getColDef();if(n.rowDragText)return n.rowDragText}return this.gridOptionsService.get("rowDragText")},t.prototype.addDragSource=function(e){var n=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var i=this.localeService.getLocaleTextFunc();this.dragSource={type:us.RowDrag,eElement:this.getGui(),dragItemName:function(){var o,s=n.getDragItem(),l=(null===(o=s.rowNodes)||void 0===o?void 0:o.length)||1,v=n.getRowDragText(n.column);return v?v(s,l):1===l?n.cellValueFn():"".concat(l," ").concat(i("rowDragRows","rows"))},getDragItem:function(){return n.getDragItem()},dragStartPixels:e,dragSourceDomDataKey:this.gridOptionsService.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},xS([be("beans")],t.prototype,"beans",void 0),xS([Gt],t.prototype,"postConstruct",null),xS([ls],t.prototype,"removeDragSource",null),t}(Kn),m7=function(r){function t(e,n,i){var o=r.call(this)||this;return o.parent=e,o.rowNode=n,o.column=i,o}return $A(t,r),t.prototype.setDisplayedOrVisible=function(e){var n={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,n);else{var i=!0,o=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=CA(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,n),this.parent.setVisible(i,n)):(this.parent.setDisplayed(i,n),this.parent.setVisible(!0,n))}},t}(Pt),Ose=function(r){function t(e,n,i,o){var s=r.call(this,e,i,o)||this;return s.beans=n,s}return $A(t,r),t.prototype.postConstruct=function(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.gridOptionsService.get("suppressRowDrag");this.setDisplayedOrVisible(e)},xS([Gt],t.prototype,"postConstruct",null),t}(m7),Mse=function(r){function t(e,n,i,o){var s=r.call(this,e,i,o)||this;return s.beans=n,s}return $A(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,Ce.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ce.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var n=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),i=n&&n.shouldPreventRowMove(),o=this.gridOptionsService.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(i&&!s||o)},xS([Gt],t.prototype,"postConstruct",null),t}(m7),Ise=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),YA=function(){return YA=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},YA.apply(this,arguments)},RS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pse=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ise(t,r),t.prototype.init=function(e,n,i,o,s,l,v){var D,F;this.params=v,this.eGui=n,this.eCheckbox=i,this.eExpanded=o,this.eContracted=s,this.comp=e,this.compClass=l;var z=v.node,re=v.colDef,ae=this.isTopLevelFooter();if(!ae){if(this.isEmbeddedRowMismatch())return;if(z.footer&&this.gridOptionsService.get("groupHideOpenParents")&&(re&&re.showRowGroup)!==(z.rowGroupColumn&&z.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!ae){var Te=v.node.footer&&v.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(function(Bt){var Mt;return Bt.getColId()===(null===(Mt=v.colDef)||void 0===Mt?void 0:Mt.showRowGroup)}),Ve="singleColumn"===this.gridOptionsService.get("groupDisplayType")||this.gridOptionsService.get("treeData")||this.gridOptionsService.get("showOpenedGroup")&&!v.node.footer&&(!v.node.group||null!=v.node.rowGroupIndex&&v.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(function(Bt){var Mt;return Bt.getColId()===(null===(Mt=v.colDef)||void 0===Mt?void 0:Mt.showRowGroup)})),et=!z.group&&((null===(D=this.params.colDef)||void 0===D?void 0:D.field)||(null===(F=this.params.colDef)||void 0===F?void 0:F.valueGetter)),gt=this.isExpandable();if(!(this.showingValueForOpenedParent||gt||et||Ve||Te))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()},t.prototype.getCellAriaRole=function(){var e,n,i=null===(e=this.params.colDef)||void 0===e?void 0:e.cellAriaRole,o=null===(n=this.params.column)||void 0===n?void 0:n.getColDef().cellAriaRole;return i||o||"gridcell"},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.expandListener=null},t.prototype.refreshAriaExpanded=function(){var e=this.params,n=e.node,i=e.eParentOfValue;if(this.expandListener&&(this.expandListener=this.expandListener()),this.isExpandable()){var o=function(){Ol(i,!!n.expanded)};this.expandListener=this.addManagedListener(n,nr.EVENT_EXPANDED_CHANGED,o)||null,o()}else h9(i)},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsService.get("groupIncludeTotalFooter")||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var i=this.columnModel.getRowGroupColumns();return!i||0===i.length||i[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsService.get("embedFullWidthRows"))return!1;var e="left"===this.params.pinned,n="right"===this.params.pinned,i=!e&&!n;return this.gridOptionsService.get("enableRtl")?this.columnModel.isPinningLeft()?!n:!i:this.columnModel.isPinningLeft()?!e:!i},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,n=this.params.node;if(this.showingValueForOpenedParent)for(var i=n.parent;null!=i;){if(i.rowGroupColumn&&e.isRowGroupDisplayed(i.rowGroupColumn.getId())){this.displayedGroupNode=i;break}i=i.parent}An(this.displayedGroupNode)&&(this.displayedGroupNode=n)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,n=this.params.column;if(this.gridOptionsService.get("groupHideOpenParents"))if(e.groupData){if(null!=e.rowGroupColumn){var o=e.rowGroupColumn.getId();if(n.isRowGroupDisplayed(o))return void(this.showingValueForOpenedParent=!1)}var l=null!=e.groupData[n.getId()];this.showingValueForOpenedParent=l}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e,n=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(n),s=n.value,l=n.valueFormatted;if(null==l){var v=this.displayedGroupNode.rowGroupColumn&&(null===(e=this.params.column)||void 0===e?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));l=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&v?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):s??null}this.comp.setInnerRenderer(i,l)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,n=this.params.column;if(!e)return this.params;if(null!=n&&!n.isRowGroupDisplayed(e.getId()))return this.params;var s=this.params,l=this.params,F=this.valueFormatterService.formatValue(e,l.node,l.value);return YA(YA({},s),{valueFormatted:F})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,n="";if(e){var i=c3(this.params);i.value=this.params.value,"function"==typeof e?n=e(i):"string"==typeof e?n=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else n="Total "+(null!=this.params.value?this.params.value:"");var o=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(o,n)},t.prototype.getInnerCompDetails=function(e){var n=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptionsService.get("groupRowRendererParams"),e);var i=this.userComponentFactory.getInnerRendererDetails(e,e),o=function(F){return F&&F.componentClass==n.compClass};if(i&&!o(i))return i;var s=this.displayedGroupNode.rowGroupColumn,l=s?s.getColDef():void 0;if(l){var v=this.userComponentFactory.getCellRendererDetails(l,e);if(v&&!o(v))return v;if(o(v)&&l.cellRendererParams&&l.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(l.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,nr.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow()&&null!=e&&e>=0?"(".concat(e,")"):"";this.comp.setChildCount(o)},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsService.get("treeData"))return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var n=this.params.column;return null==n||n.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e,n=this.params,i=Mi("groupExpanded",this.gridOptionsService,null),o=Mi("groupContracted",this.gridOptionsService,null);i&&this.eExpanded.appendChild(i),o&&this.eContracted.appendChild(o);var s=n.eGridCell;!((null===(e=this.params.column)||void 0===e?void 0:e.isCellEditable(n.node))&&this.gridOptionsService.get("enableGroupEdit"))&&this.isExpandable()&&!n.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(n.node,nr.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var v=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,nr.EVENT_ALL_CHILDREN_COUNT_CHANGED,v),this.addManagedListener(this.displayedGroupNode,nr.EVENT_MASTER_CHANGED,v),this.addManagedListener(this.displayedGroupNode,nr.EVENT_GROUP_CHANGED,v),this.addManagedListener(this.displayedGroupNode,nr.EVENT_HAS_CHILDREN_CHANGED,v)},t.prototype.onExpandClicked=function(e){xl(e)||(_u(e),this.onExpandOrContract(e))},t.prototype.onExpandOrContract=function(e){var n=this.displayedGroupNode,i=!n.expanded;!i&&n.sticky&&this.scrollToStickyNode(n),n.setExpanded(i,e)},t.prototype.scrollToStickyNode=function(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,n=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||n)return!1;var o=this.params.column;return null==o||"string"!=typeof o.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,i=e.displayedGroupNode,o=e.columnModel,s=e.params.node,l=this.isExpandable();if(l){var v=!!this.showingValueForOpenedParent||s.expanded;this.comp.setExpandedDisplayed(v),this.comp.setContractedDisplayed(!v)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var D=o.isPivotMode(),F=D&&i.leafGroup,z=l&&!F,re=s.footer&&-1===s.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",z),this.comp.addOrRemoveCssClass("ag-row-group",z),D?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",F):re||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!z)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,nr.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsService.get("groupHideOpenParents")){var e=this.params,n=e.node,i=!!e.colDef,o=this.gridOptionsService.get("treeData"),l=!i||o||!0===e.colDef.showRowGroup?n.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+l,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var n=new qA(function(){return e.params.value},this.params.node);this.createManagedBean(n,this.context),this.eGui.insertAdjacentElement("afterbegin",n.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e||!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,n=this.displayedGroupNode,i=this.isUserWantsSelected()&&!n.footer&&!n.rowPinned&&!n.detail;if(i){var o=new p7;this.getContext().createBean(o),o.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(o.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(o)})}this.comp.setCheckboxVisible(i)},t.prototype.onKeyDown=function(e){e.key!==it.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)},t.prototype.onCellDblClicked=function(e){xl(e)||DA(this.eExpanded,e)||DA(this.eContracted,e)||this.onExpandOrContract(e)},RS([be("expressionService")],t.prototype,"expressionService",void 0),RS([be("valueFormatterService")],t.prototype,"valueFormatterService",void 0),RS([be("columnModel")],t.prototype,"columnModel",void 0),RS([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),RS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(Pt),kse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},g7=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return kse(t,r),t.prototype.init=function(e){var n=this,i={setInnerRenderer:function(v,D){return n.setRenderDetails(v,D)},setChildCount:function(v){return n.eChildCount.innerHTML=v},addOrRemoveCssClass:function(v,D){return n.addOrRemoveCssClass(v,D)},setContractedDisplayed:function(v){return mr(n.eContracted,v)},setExpandedDisplayed:function(v){return mr(n.eExpanded,v)},setCheckboxVisible:function(v){return n.eCheckbox.classList.toggle("ag-invisible",!v)}},o=this.createManagedBean(new Pse),s=!e.colDef,l=this.getGui();o.init(i,l,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),s&&to(l,o.getCellAriaRole())},t.prototype.setRenderDetails=function(e,n){var i=this;if(e){var o=e.newAgStackInstance();if(!o)return;o.then(function(s){if(s){var l=function(){return i.context.destroyBean(s)};i.isAlive()?(i.eValue.appendChild(s.getGui()),i.addDestroyFunc(l)):l()}})}else this.eValue.innerText=n},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),r.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',AS([zt("eExpanded")],t.prototype,"eExpanded",void 0),AS([zt("eContracted")],t.prototype,"eContracted",void 0),AS([zt("eCheckbox")],t.prototype,"eCheckbox",void 0),AS([zt("eValue")],t.prototype,"eValue",void 0),AS([zt("eChildCount")],t.prototype,"eChildCount",void 0),t}(Kn),Fse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),v7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Nse=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return Fse(t,r),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){var e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")},t.prototype.setupLoading=function(){var e=Mi("groupLoading",this.gridOptionsService,null);e&&this.eLoadingIcon.appendChild(e);var n=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=n("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',v7([zt("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),v7([zt("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(Kn),Lse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vse=function(r){function t(){return r.call(this)||this}return Lse(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n,i=null!==(n=this.gridOptionsService.get("overlayLoadingTemplate"))&&void 0!==n?n:t.DEFAULT_LOADING_OVERLAY_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[LOADING...]",o("loadingOoo","Loading..."));this.setTemplate(s)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(Kn),Bse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gse=function(r){function t(){return r.call(this)||this}return Bse(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(e){var n,i=null!==(n=this.gridOptionsService.get("overlayNoRowsTemplate"))&&void 0!==n?n:t.DEFAULT_NO_ROWS_TEMPLATE,o=this.localeService.getLocaleTextFunc(),s=i.replace("[NO_ROWS_TO_SHOW]",o("noRowsToShow","No Rows To Show"));this.setTemplate(s)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(Kn),jse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hse=function(r){function t(){return r.call(this,'<div class="ag-tooltip"></div>')||this}return jse(t,r),t.prototype.init=function(e){var n=e.value;this.getGui().innerHTML=zi(n)},t}(zm),Use=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zse=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.max&&t.setMax(e.max),null!=e.min&&t.setMin(e.min),null!=e.precision&&t.setPrecision(e.precision),null!=e.step&&t.setStep(e.step);var n=t.getInputElement();e.preventStepping?t.addManagedListener(n,"keydown",this.preventStepping):e.showStepperButtons&&n.classList.add("ag-number-field-input-stepper")},r.prototype.preventStepping=function(t){(t.key===it.UP||t.key===it.DOWN)&&t.preventDefault()},r.prototype.getValue=function(){var t=this.eInput.getValue();if(!Tt(t)&&!Tt(this.params.value))return this.params.value;var e=this.params.parseValue(t);if(null==e)return e;if("string"==typeof e){if(""===e)return null;e=Number(e)}return isNaN(e)?null:e},r.prototype.getStartValue=function(){return this.params.value},r}(),Wse=function(r){function t(){return r.call(this,new zse)||this}return Use(t,r),t}(UA),$se=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qse=function(){function r(){}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.eInput.getDate();return Tt(t)||Tt(this.params.value)?t??null:this.params.value},r.prototype.getStartValue=function(){var t=this.params.value;if(t instanceof Date)return Ua(t,!1)},r}(),Yse=function(r){function t(){return r.call(this,new qse)||this}return $se(t,r),t}(UA),Kse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qse=function(){function r(t){this.getDataTypeService=t}return r.prototype.getTemplate=function(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'},r.prototype.init=function(t,e){this.eInput=t,this.params=e,null!=e.min&&t.setMin(e.min),null!=e.max&&t.setMax(e.max),null!=e.step&&t.setStep(e.step)},r.prototype.getValue=function(){var t=this.formatDate(this.eInput.getDate());return Tt(t)||Tt(this.params.value)?this.params.parseValue(t??""):this.params.value},r.prototype.getStartValue=function(){var t,e;return Ua(null!==(e=this.parseDate(null!==(t=this.params.value)&&void 0!==t?t:void 0))&&void 0!==e?e:null,!1)},r.prototype.parseDate=function(t){return this.getDataTypeService().getDateParserFunction()(t)},r.prototype.formatDate=function(t){return this.getDataTypeService().getDateFormatterFunction()(t)},r}(),Xse=function(r){function t(){var e=r.call(this,new Qse(function(){return e.dataTypeService}))||this;return e}return Kse(t,r),function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("dataTypeService")],t.prototype,"dataTypeService",void 0),t}(UA),Jse=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tae=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return Jse(t,r),t.prototype.init=function(e){var n=this;this.params=e,this.updateCheckbox(e);var i=this.eCheckbox.getInputElement();i.setAttribute("tabindex","-1"),E3(i,"polite"),this.addManagedListener(i,"click",function(s){if(_u(s),!n.eCheckbox.isDisabled()){var l=n.eCheckbox.getValue();n.onCheckboxChanged(l)}}),this.addManagedListener(i,"dblclick",function(s){_u(s)});var o=this.gridOptionsService.getDocument();this.addManagedListener(this.params.eGridCell,"keydown",function(s){if(s.key===it.SPACE&&!n.eCheckbox.isDisabled()){n.params.eGridCell===o.activeElement&&n.eCheckbox.toggle();var l=n.eCheckbox.getValue();n.onCheckboxChanged(l),s.preventDefault()}})},t.prototype.refresh=function(e){return this.params=e,this.updateCheckbox(e),!0},t.prototype.updateCheckbox=function(e){var n,i,o,s,l=!0;if(e.node.group&&e.column){var v=e.column.getColId();v.startsWith(Nm)?s=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[v]?s=null!==(n=e.value)&&void 0!==n?n:void 0:l=!1}else s=null!==(i=e.value)&&void 0!==i?i:void 0;if(l){this.eCheckbox.setValue(s);var D=null!=e.disabled?e.disabled:!(null!==(o=e.column)&&void 0!==o&&o.isCellEditable(e.node));this.eCheckbox.setDisabled(D);var F=this.localeService.getLocaleTextFunc(),z=OA(F,s),re=D?z:"".concat(F("ariaToggleCellValue","Press SPACE to toggle cell value")," (").concat(z,")");this.eCheckbox.setInputAriaLabel(re)}else this.eCheckbox.setDisplayed(!1)},t.prototype.onCheckboxChanged=function(e){var n=this.params,i=n.column,o=n.node,s=n.rowIndex,l=n.value,v={type:Ce.EVENT_CELL_EDITING_STARTED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:l};this.eventService.dispatchEvent(v);var D=this.params.node.setDataValue(this.params.column,e,"edit"),F={type:Ce.EVENT_CELL_EDITING_STOPPED,column:i,colDef:i?.getColDef(),data:o.data,node:o,rowIndex:s,rowPinned:o.rowPinned,value:l,oldValue:l,newValue:e,valueChanged:D};this.eventService.dispatchEvent(F)},t.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([zt("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(Kn),nae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iae=function(r){function t(){return r.call(this,'\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return nae(t,r),t.prototype.init=function(e){var i,n=this;this.params=e;var o=null!==(i=e.value)&&void 0!==i?i:void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListener(this.eCheckbox,Ce.EVENT_FIELD_VALUE_CHANGED,function(l){return n.setAriaLabel(l.selected)})},t.prototype.getValue=function(){return this.eCheckbox.getValue()},t.prototype.focusIn=function(){this.eCheckbox.getFocusableElement().focus()},t.prototype.afterGuiAttached=function(){this.params.cellStartedEdit&&this.focusIn()},t.prototype.isPopup=function(){return!1},t.prototype.setAriaLabel=function(e){var n=this.localeService.getLocaleTextFunc(),i=OA(n,e),o=n("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel("".concat(o," (").concat(i,")"))},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([zt("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(zm),oae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},y7=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},_7=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},sae=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:Xoe,agColumnHeader:ase,agColumnGroupHeader:use,agSortIndicator:w6,agTextColumnFloatingFilter:ise,agNumberColumnFloatingFilter:nse,agDateColumnFloatingFilter:Yoe,agReadOnlyFloatingFilter:Doe,agAnimateShowChangeCellRenderer:Ese,agAnimateSlideCellRenderer:xse,agGroupCellRenderer:g7,agGroupRowRenderer:g7,agLoadingCellRenderer:Nse,agCheckboxCellRenderer:tae,agCellEditor:h7,agTextCellEditor:h7,agNumberCellEditor:Wse,agDateCellEditor:Yse,agDateStringCellEditor:Xse,agSelectCellEditor:mse,agLargeTextCellEditor:fse,agCheckboxCellEditor:iae,agTextColumnFilter:_6,agNumberColumnFilter:i7,agDateColumnFilter:e7,agLoadingOverlay:Vse,agNoRowsOverlay:Gse,agTooltipComponent:Hse},e.enterpriseAgDefaultCompsModule={agSetColumnFilter:rn.SetFilterModule,agSetColumnFloatingFilter:rn.SetFilterModule,agMultiColumnFilter:rn.MultiFilterModule,agMultiColumnFloatingFilter:rn.MultiFilterModule,agGroupColumnFilter:rn.RowGroupingModule,agGroupColumnFloatingFilter:rn.RowGroupingModule,agRichSelect:rn.RichSelectModule,agRichSelectCellEditor:rn.RichSelectModule,agDetailCellRenderer:rn.MasterDetailModule,agSparklineCellRenderer:rn.SparklinesModule},e.jsComps={},e}return oae(t,r),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Uo(this.gridOptions.components,function(n,i){return e.registerJsComponent(n,i)})},t.prototype.registerDefaultComponent=function(e,n){this.agGridDefaults[e]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[e]=n},t.prototype.registerJsComponent=function(e,n){this.jsComps[e]=n},t.prototype.retrieve=function(e,n){var i=this,o=function(z,re){return{componentFromFramework:re,component:z}},s=this.getFrameworkOverrides().frameworkComponent(n,this.gridOptions.components);if(null!=s)return o(s,!0);var l=this.jsComps[n];if(l)return o(l,this.getFrameworkOverrides().isFrameworkComponent(l));var D=this.agGridDefaults[n];if(D)return o(D,!1);var F=this.enterpriseAgDefaultCompsModule[n];return F?Yn.__assertRegistered(F,"AG Grid '".concat(e,"' component: ").concat(n),this.context.getGridId()):D_(function(){i.warnAboutMissingComponent(e,n)},"MissingComp"+n),null},t.prototype.warnAboutMissingComponent=function(e,n){var o=DS(n,_7(_7([],y7(Object.keys(this.agGridDefaults).filter(function(s){return!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)})),!1),y7(Object.keys(this.jsComps)),!1),!0,.8).values;console.warn("AG Grid: Could not find '".concat(n,"' component. It was configured as \"").concat(e,": '").concat(n,"'\" but it wasn't found in the list of registered components.")),o.length>0&&console.warn("         Did you mean: [".concat(o.slice(0,3),"]?")),console.warn("If using a custom component check it has been registered as described in: ".concat(this.getFrameworkOverrides().getDocLink("components/")))},S6([be("gridOptions")],t.prototype,"gridOptions",void 0),S6([Gt],t.prototype,"init",null),S6([Jt("userComponentRegistry")],t)}(Pt),aae={propertyName:"dateComponent",cellRenderer:!1},lae={propertyName:"headerComponent",cellRenderer:!1},uae={propertyName:"headerGroupComponent",cellRenderer:!1},b7={propertyName:"cellRenderer",cellRenderer:!0},cae={propertyName:"cellEditor",cellRenderer:!1},w7={propertyName:"innerRenderer",cellRenderer:!0},dae={propertyName:"loadingOverlayComponent",cellRenderer:!1},hae={propertyName:"noRowsOverlayComponent",cellRenderer:!1},fae={propertyName:"tooltipComponent",cellRenderer:!1},E6={propertyName:"filter",cellRenderer:!1},pae={propertyName:"floatingFilterComponent",cellRenderer:!1},mae={propertyName:"toolPanel",cellRenderer:!1},gae={propertyName:"statusPanel",cellRenderer:!1},vae={propertyName:"fullWidthCellRenderer",cellRenderer:!0},yae={propertyName:"loadingCellRenderer",cellRenderer:!0},_ae={propertyName:"groupRowRenderer",cellRenderer:!0},bae={propertyName:"detailCellRenderer",cellRenderer:!0},wae=function(){function r(){}return r.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},r.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},r}(),Cae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),I_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Sae=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Cae(t,r),t.prototype.getHeaderCompDetails=function(e,n){return this.getCompDetails(e,lae,"agColumnHeader",n)},t.prototype.getHeaderGroupCompDetails=function(e){var n=e.columnGroup.getColGroupDef();return this.getCompDetails(n,uae,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,vae,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,yae,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,_ae,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,bae,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,n){return this.getCompDetails(e,w7,null,n)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,n){return this.getCompDetails(e,w7,null,n)},t.prototype.getCellRendererDetails=function(e,n){return this.getCompDetails(e,b7,null,n)},t.prototype.getCellEditorDetails=function(e,n){return this.getCompDetails(e,cae,"agCellEditor",n,!0)},t.prototype.getFilterDetails=function(e,n,i){return this.getCompDetails(e,E6,i,n,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,aae,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,dae,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,hae,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,fae,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,n){return this.getCompDetails(e,b7,null,n)},t.prototype.getFloatingFilterCompDetails=function(e,n,i){return this.getCompDetails(e,pae,i,n)},t.prototype.getToolPanelCompDetails=function(e,n){return this.getCompDetails(e,mae,null,n,!0)},t.prototype.getStatusPanelCompDetails=function(e,n){return this.getCompDetails(e,gae,null,n,!0)},t.prototype.getCompDetails=function(e,n,i,o,s){var l=this;void 0===s&&(s=!1);var v=n.propertyName,D=n.cellRenderer,F=this.getCompKeys(e,n,o),z=F.compName,re=F.jsComp,ae=F.fwComp,fe=F.paramsFromSelector,ge=F.popupFromSelector,we=F.popupPositionFromSelector,Te=function(gt){var Dt=l.userComponentRegistry.retrieve(v,gt);Dt&&(re=Dt.componentFromFramework?void 0:Dt.component,ae=Dt.componentFromFramework?Dt.component:void 0)};if(null!=z&&Te(z),null==re&&null==ae&&null!=i&&Te(i),re&&D&&!this.agComponentUtils.doesImplementIComponent(re)&&(re=this.agComponentUtils.adaptFunction(v,re)),re||ae){var Ie=this.mergeParamsWithApplicationProvidedParams(e,n,o,fe),Ve=null==re,et=re||ae;return{componentFromFramework:Ve,componentClass:et,params:Ie,type:n,popupFromSelector:ge,popupPositionFromSelector:we,newAgStackInstance:function(){return l.newAgStackInstance(et,Ve,Ie,n)}}}s&&console.error("AG Grid: Could not find component ".concat(z,", did you forget to configure this component?"))},t.prototype.getCompKeys=function(e,n,i){var l,v,D,F,z,re,o=this,s=n.propertyName;if(e){var ae=e,fe=ae[s+"Selector"],ge=fe?fe(i):null,we=function(Te){"string"==typeof Te?l=Te:null!=Te&&!0!==Te&&(o.getFrameworkOverrides().isFrameworkComponent(Te)?D=Te:v=Te)};ge?(we(ge.component),F=ge.params,z=ge.popup,re=ge.popupPosition):we(ae[s])}return{compName:l,jsComp:v,fwComp:D,paramsFromSelector:F,popupFromSelector:z,popupPositionFromSelector:re}},t.prototype.newAgStackInstance=function(e,n,i,o){var v;if(n){var D=this.componentMetadataProvider.retrieve(o.propertyName);v=this.frameworkComponentWrapper.wrap(e,D.mandatoryMethodList,D.optionalMethodList,o)}else v=new e;var F=this.initComponent(v,i);return null==F?$a.resolve(v):F.then(function(){return v})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,n,i,o){void 0===o&&(o=null);var s={context:this.gridOptionsService.context,columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api};aa(s,i);var v=e&&e[n.propertyName+"Params"];return"function"==typeof v?aa(s,v(i)):"object"==typeof v&&aa(s,v),aa(s,o),s},t.prototype.initComponent=function(e,n){if(this.context.createBean(e),null!=e.init)return e.init(n)},t.prototype.getDefaultFloatingFilterType=function(e,n){if(null==e)return null;var i=null,o=this.getCompKeys(e,E6),s=o.compName,l=o.jsComp,v=o.fwComp;return s?i=wae.getFloatingFilterType(s):null==l&&null==v&&!0===e.filter&&(i=n()),i},I_([be("gridOptions")],t.prototype,"gridOptions",void 0),I_([be("agComponentUtils")],t.prototype,"agComponentUtils",void 0),I_([be("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),I_([be("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),I_([pr("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),I_([Jt("userComponentFactory")],t)}(Pt),Eae=function(){function r(){}return r.ColDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0},r.ALL_PROPERTIES=Object.keys(r.ColDefPropertyMap),r}(),OS=(()=>(function(r){r[r.SINGLE_SHEET=0]="SINGLE_SHEET",r[r.MULTI_SHEET=1]="MULTI_SHEET"}(OS||(OS={})),OS))(),Dae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),D6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Tae=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Dae(t,r),t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var n=e.dragSource.eElement;n.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&n.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var n=this.dragSources.find(function(i){return i.dragSource===e});!n||(this.removeListener(n),la(this.dragSources,n))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e){var n=this,i=this.onMouseDown.bind(this,e),o=e.eElement,s=e.includeTouch,l=e.stopPropagationForTouch;o.addEventListener("mousedown",i);var v=null,D=this.gridOptionsService.get("suppressTouch");s&&!D&&o.addEventListener("touchstart",v=function(F){Y3(F.target)||(F.cancelable&&(F.preventDefault(),l&&F.stopPropagation()),n.onTouchStart(e,F))},{passive:!1}),this.dragSources.push({dragSource:e,mouseDownListener:i,touchStartListener:v,touchEnabled:!!s})},t.prototype.getStartTarget=function(){return this.startTarget},t.prototype.onTouchStart=function(e,n){var i=this;this.currentDragParams=e,this.dragging=!1;var o=n.touches[0];this.touchLastTime=o,this.touchStart=o;var l=function(z){return i.onTouchUp(z,e.eElement)},D=n.target,F=[{target:this.gridOptionsService.getRootNode(),type:"touchmove",listener:function(z){z.cancelable&&z.preventDefault()},options:{passive:!1}},{target:D,type:"touchmove",listener:function(z){return i.onTouchMove(z,e.eElement)},options:{passive:!0}},{target:D,type:"touchend",listener:l,options:{passive:!0}},{target:D,type:"touchcancel",listener:l,options:{passive:!0}}];this.addTemporaryEvents(F),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,n){var i=this,o=n;if(!(e.skipMouseEvent&&e.skipMouseEvent(n)||o._alreadyProcessedByDragService||(o._alreadyProcessedByDragService=!0,0!==n.button))){this.shouldPreventMouseEvent(n)&&n.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=n,this.startTarget=n.target;var D=this.gridOptionsService.getRootNode();this.addTemporaryEvents([{target:D,type:"mousemove",listener:function(z){return i.onMouseMove(z,e.eElement)}},{target:D,type:"mouseup",listener:function(z){return i.onMouseUp(z,e.eElement)}},{target:D,type:"contextmenu",listener:function(z){return z.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(n,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(n){n.target.addEventListener(n.type,n.listener,n.options)}),this.dragEndFunctions.push(function(){e.forEach(function(n){n.target.removeEventListener(n.type,n.listener,n.options)})})},t.prototype.isEventNearStartEvent=function(e,n){var i=this.currentDragParams.dragStartPixels;return i6(e,n,Tt(i)?i:4)},t.prototype.getFirstActiveTouch=function(e){for(var n=0;n<e.length;n++)if(e[n].identifier===this.touchStart.identifier)return e[n];return null},t.prototype.onCommonMove=function(e,n,i){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,n))return;this.dragging=!0,this.eventService.dispatchEvent({type:Ce.EVENT_DRAG_STARTED,target:i}),this.currentDragParams.onDragStart(n),this.currentDragParams.onDragging(n)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,n){var i=this.getFirstActiveTouch(e.touches);!i||this.onCommonMove(i,this.touchStart,n)},t.prototype.onMouseMove=function(e,n){var i;Ml()&&(null===(i=this.gridOptionsService.getDocument().getSelection())||void 0===i||i.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,n)},t.prototype.shouldPreventMouseEvent=function(e){return this.gridOptionsService.get("enableCellTextSelection")&&"mousemove"===e.type&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)},t.prototype.isOverFormFieldElement=function(e){var i=e.target?.tagName.toLocaleLowerCase();return!!i?.match("^a$|textarea|input|select|button")},t.prototype.onTouchUp=function(e,n){var i=this.getFirstActiveTouch(e.changedTouches);i||(i=this.touchLastTime),this.onUpCommon(i,n)},t.prototype.onMouseUp=function(e,n){this.onUpCommon(e,n)},t.prototype.onUpCommon=function(e,n){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:Ce.EVENT_DRAG_STOPPED,target:n})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(o){return o()}),this.dragEndFunctions.length=0},D6([be("mouseEventService")],t.prototype,"mouseEventService",void 0),D6([ls],t.prototype,"removeAllListeners",null),D6([Jt("dragService")],t)}(Pt),C7=function(){function r(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return r.prototype.check=function(t,e){void 0===e&&(e=!1);var n=e||this.shouldSkipVerticalScroll();if(!n||!this.shouldSkipHorizontalScroll()){var i=this.scrollContainer.getBoundingClientRect(),o=this.scrollByTick;this.tickLeft=t.clientX<i.left+o,this.tickRight=t.clientX>i.right-o,this.tickUp=t.clientY<i.top+o&&!n,this.tickDown=t.clientY>i.bottom-o&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},r.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},r.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var n=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(n-t),this.tickRight&&this.setHorizontalPosition(n+t)}this.onScrollCallback&&this.onScrollCallback()},r.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},r}(),xae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},T6="ag-list-item-hovered",Cu=(function(r){function t(e,n,i){var o=r.call(this)||this;return o.comp=e,o.virtualList=n,o.params=i,o.currentDragValue=null,o.lastHoveredListItem=null,o}xae(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.listItemDragStart=function(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)},t.prototype.listItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragValue=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(i){return i===e.params.dragSourceType},getIconName:function(){return co[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(i){return e.onDragging(i)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new C7({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(this.currentDragValue&&!this.moveBlocked){var n=this.getListDragItem(e),i=this.virtualList.getComponentAt(n.rowIndex);if(i){var o=i.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===n.rowIndex&&this.lastHoveredListItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=n,$3(o,T6),$3(o,"ag-item-highlight-".concat(n.position)))}}},t.prototype.getListDragItem=function(e){var n=this.virtualList.getGui(),i=parseFloat(window.getComputedStyle(n).paddingTop),o=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),l=Math.max(0,(e.y-i+s)/o),v=this.params.getNumRows(this.comp)-1,D=0|Math.min(v,l);return{rowIndex:D,position:Math.round(l)>l||l>v?"bottom":"top",component:this.virtualList.getComponentAt(D)}},t.prototype.onDragStop=function(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll(".".concat(T6)).forEach(function(n){[T6,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(i){n.classList.remove(i)})}),this.lastHoveredListItem=null},S7([be("dragAndDropService")],t.prototype,"dragAndDropService",void 0),S7([Gt],t.prototype,"postConstruct",null)}(Pt),(()=>(function(r){r[r.Above=0]="Above",r[r.Below=1]="Below"}(Cu||(Cu={})),Cu))()),cr=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o};function qm(r){return null!=r&&null!=r.getFrameworkComponentInstance?r.getFrameworkComponentInstance():r}var E7=function(){function r(){this.detailGridInfoMap={},this.destroyCalled=!1}return r.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCtrl=t.ctrlsService.getGridBodyCtrl()})},r.prototype.__getAlignedGridService=function(){return this.alignedGridsService},r.prototype.__getContext=function(){return this.context},r.prototype.getGridId=function(){return this.context.getGridId()},r.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},r.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},r.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},r.prototype.forEachDetailGridInfo=function(t){var e=0;Uo(this.detailGridInfoMap,function(n,i){Tt(i)&&(t(i,e),e++)})},r.prototype.getDataAsCsv=function(t){if(Yn.__assertRegistered(rn.CsvExportModule,"api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(t)},r.prototype.exportDataAsCsv=function(t){Yn.__assertRegistered(rn.CsvExportModule,"api.exportDataAsCSv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(t)},r.prototype.assertNotExcelMultiSheet=function(t,e){return!(!Yn.__assertRegistered(rn.ExcelExportModule,"api."+t,this.context.getGridId())||this.excelCreator.getFactoryMode()===OS.MULTI_SHEET&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))},r.prototype.getDataAsExcel=function(t){if(this.assertNotExcelMultiSheet("getDataAsExcel",t))return this.excelCreator.getDataAsExcel(t)},r.prototype.exportDataAsExcel=function(t){this.assertNotExcelMultiSheet("exportDataAsExcel",t)&&this.excelCreator.exportDataAsExcel(t)},r.prototype.getSheetDataForExcel=function(t){if(Yn.__assertRegistered(rn.ExcelExportModule,"api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(OS.MULTI_SHEET),this.excelCreator.getSheetDataForExcel(t)},r.prototype.getMultipleSheetsAsExcel=function(t){if(Yn.__assertRegistered(rn.ExcelExportModule,"api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(t)},r.prototype.exportMultipleSheetsAsExcel=function(t){if(Yn.__assertRegistered(rn.ExcelExportModule,"api.exportMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.exportMultipleSheetsAsExcel(t)},r.prototype.setGridAriaProperty=function(t,e){if(t){var n=this.ctrlsService.getGridBodyCtrl().getGui(),i="aria-".concat(t);null===e?n.removeAttribute(i):n.setAttribute(i,e)}},r.prototype.logMissingRowModel=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];console.error("AG Grid: api.".concat(t," can only be called when gridOptions.rowModelType is ").concat(e.join(" or ")))},r.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},r.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},r.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},r.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},r.prototype.expireValueCache=function(){this.valueCache.expire()},r.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},r.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},r.prototype.refreshCells=function(t){void 0===t&&(t={}),this.rowRenderer.refreshCells(t)},r.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},r.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},r.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},r.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},r.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},r.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},r.prototype.getModel=function(){return this.rowModel},r.prototype.setRowNodeExpanded=function(t,e,n){this.expansionService.setRowNodeExpanded(t,e,n)},r.prototype.onGroupExpandedOrCollapsed=function(){An(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()},r.prototype.refreshClientSideRowModel=function(t){An(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(t)},r.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},r.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},r.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},r.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}},r.prototype.expandAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")},r.prototype.collapseAll=function(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")},r.prototype.addRenderedRowListener=function(t,e,n){this.rowRenderer.addRenderedRowListener(t,e,n)},r.prototype.getQuickFilter=function(){return this.gos.get("quickFilterText")},r.prototype.getAdvancedFilterModel=function(){return Yn.__assertRegistered(rn.AdvancedFilterModule,"api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null},r.prototype.setAdvancedFilterModel=function(t){this.filterManager.setAdvancedFilterModel(t)},r.prototype.showAdvancedFilterBuilder=function(){Yn.__assertRegistered(rn.AdvancedFilterModule,"api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")},r.prototype.setNodesSelected=function(t){t.nodes.every(function(l){return l.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==l.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)})&&this.selectionService.setNodesSelected({nodes:t.nodes,source:t.source??"api",newValue:t.newValue})},r.prototype.selectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.selectAllRowNodes({source:t})},r.prototype.deselectAll=function(t){void 0===t&&(t="apiSelectAll"),this.selectionService.deselectAllRowNodes({source:t})},r.prototype.selectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},r.prototype.deselectAllFiltered=function(t){void 0===t&&(t="apiSelectAllFiltered"),this.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},r.prototype.getServerSideSelectionState=function(){return An(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()},r.prototype.setServerSideSelectionState=function(t){An(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(t,"api")},r.prototype.selectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.deselectAllOnCurrentPage=function(t){void 0===t&&(t="apiSelectAllCurrentPage"),this.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},r.prototype.showLoadingOverlay=function(){this.overlayService.showLoadingOverlay()},r.prototype.showNoRowsOverlay=function(){this.overlayService.showNoRowsOverlay()},r.prototype.hideOverlay=function(){this.overlayService.hideOverlay()},r.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},r.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},r.prototype.getBestCostNodeSelection=function(){if(!An(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")},r.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},r.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(t,e)},r.prototype.ensureIndexVisible=function(t,e){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t,e)},r.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(t,e)},r.prototype.forEachLeafNode=function(t){An(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(t)},r.prototype.forEachNode=function(t,e){this.rowModel.forEachNode(t,e)},r.prototype.forEachNodeAfterFilter=function(t){An(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(t)},r.prototype.forEachNodeAfterFilterAndSort=function(t){An(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},r.prototype.getFilterInstance=function(t,e){return this.filterManager.getFilterInstance(t,e)},r.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"api")},r.prototype.getStatusPanel=function(t){if(Yn.__assertRegistered(rn.StatusBarModule,"api.getStatusPanel",this.context.getGridId()))return qm(this.statusBarService.getStatusPanel(t))},r.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},r.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},r.prototype.onFilterChanged=function(t){void 0===t&&(t="api"),this.filterManager.onFilterChanged({source:t})},r.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},r.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},r.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},r.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},r.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},r.prototype.setFocusedCell=function(t,e,n){this.focusService.setFocusedCell({rowIndex:t,column:e,rowPinned:n,forceBrowserFocus:!0})},r.prototype.addRowDropZone=function(t){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(t)},r.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},r.prototype.getRowDropZoneParams=function(t){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(t)},r.prototype.assertSideBarLoaded=function(t){return Yn.__assertRegistered(rn.SideBarModule,"api."+t,this.context.getGridId())},r.prototype.isSideBarVisible=function(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()},r.prototype.setSideBarVisible=function(t){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(t)},r.prototype.setSideBarPosition=function(t){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(t)},r.prototype.openToolPanel=function(t){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(t,"api")},r.prototype.closeToolPanel=function(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")},r.prototype.getOpenedToolPanel=function(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null},r.prototype.refreshToolPanel=function(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()},r.prototype.isToolPanelShowing=function(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()},r.prototype.getToolPanelInstance=function(t){if(this.assertSideBarLoaded("getToolPanelInstance"))return qm(this.sideBarService.getSideBarComp().getToolPanelInstance(t))},r.prototype.getSideBar=function(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()},r.prototype.resetRowHeights=function(){if(Tt(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},r.prototype.setRowCount=function(t,e){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(t,e):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):this.logMissingRowModel("setRowCount","infinite","serverSide")},r.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},r.prototype.getValue=function(t,e){var n=this.columnModel.getPrimaryColumn(t);return An(n)&&(n=this.columnModel.getGridColumn(t)),An(n)?null:this.valueService.getValue(n,e)},r.prototype.addEventListener=function(t,e){this.apiEventService.addEventListener(t,e)},r.prototype.addGlobalListener=function(t){this.apiEventService.addGlobalListener(t)},r.prototype.removeEventListener=function(t,e){this.apiEventService.removeEventListener(t,e)},r.prototype.removeGlobalListener=function(t){this.apiEventService.removeGlobalListener(t)},r.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},r.prototype.destroy=function(){var t="See ".concat(this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed"));if(!this.destroyCalled){var e={type:Ce.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(e),this.destroyCalled=!0;var n=this.ctrlsService.getGridCtrl();n&&n.destroyGridUi(),this.context.destroy(),kH(this,["isDestroyed"],t)}},r.prototype.isDestroyed=function(){return this.destroyCalled},r.prototype.resetQuickFilter=function(){this.filterManager.resetQuickFilterCache()},r.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(Yn.__assertRegistered(rn.RangeSelectionModule,"api.getCellRanges",this.context.getGridId()),null)},r.prototype.addCellRange=function(t){this.rangeService?this.rangeService.addCellRange(t):Yn.__assertRegistered(rn.RangeSelectionModule,"api.addCellRange",this.context.getGridId())},r.prototype.clearRangeSelection=function(){this.rangeService&&this.rangeService.removeAllCellRanges(),Yn.__assertRegistered(rn.RangeSelectionModule,"gridApi.clearRangeSelection",this.context.getGridId())},r.prototype.undoCellEditing=function(){this.undoRedoService.undo("api")},r.prototype.redoCellEditing=function(){this.undoRedoService.redo("api")},r.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},r.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},r.prototype.getChartModels=function(){if(Yn.__assertRegistered(rn.GridChartsModule,"api.getChartModels",this.context.getGridId()))return this.chartService.getChartModels()},r.prototype.getChartRef=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.getChartRef",this.context.getGridId()))return this.chartService.getChartRef(t)},r.prototype.getChartImageDataURL=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.getChartImageDataURL",this.context.getGridId()))return this.chartService.getChartImageDataURL(t)},r.prototype.downloadChart=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.downloadChart",this.context.getGridId()))return this.chartService.downloadChart(t)},r.prototype.openChartToolPanel=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.openChartToolPanel",this.context.getGridId()))return this.chartService.openChartToolPanel(t)},r.prototype.closeChartToolPanel=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.closeChartToolPanel",this.context.getGridId()))return this.chartService.closeChartToolPanel(t.chartId)},r.prototype.createRangeChart=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.createRangeChart",this.context.getGridId()))return this.chartService.createRangeChart(t)},r.prototype.createPivotChart=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.createPivotChart",this.context.getGridId()))return this.chartService.createPivotChart(t)},r.prototype.createCrossFilterChart=function(t){if(Yn.__assertRegistered(rn.GridChartsModule,"api.createCrossFilterChart",this.context.getGridId()))return this.chartService.createCrossFilterChart(t)},r.prototype.updateChart=function(t){Yn.__assertRegistered(rn.GridChartsModule,"api.updateChart",this.context.getGridId())&&this.chartService.updateChart(t)},r.prototype.restoreChart=function(t,e){if(Yn.__assertRegistered(rn.GridChartsModule,"api.restoreChart",this.context.getGridId()))return this.chartService.restoreChart(t,e)},r.prototype.copyToClipboard=function(t){Yn.__assertRegistered(rn.ClipboardModule,"api.copyToClipboard",this.context.getGridId())&&this.clipboardService.copyToClipboard(t)},r.prototype.cutToClipboard=function(t){Yn.__assertRegistered(rn.ClipboardModule,"api.cutToClipboard",this.context.getGridId())&&this.clipboardService.cutToClipboard(t,"api")},r.prototype.copySelectedRowsToClipboard=function(t){Yn.__assertRegistered(rn.ClipboardModule,"api.copySelectedRowsToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRowsToClipboard(t)},r.prototype.copySelectedRangeToClipboard=function(t){Yn.__assertRegistered(rn.ClipboardModule,"api.copySelectedRangeToClipboard",this.context.getGridId())&&this.clipboardService.copySelectedRangeToClipboard(t)},r.prototype.copySelectedRangeDown=function(){Yn.__assertRegistered(rn.ClipboardModule,"api.copySelectedRangeDown",this.context.getGridId())&&this.clipboardService.copyRangeDown()},r.prototype.pasteFromClipboard=function(){Yn.__assertRegistered(rn.ClipboardModule,"api.pasteFromClipboard",this.context.getGridId())&&this.clipboardService.pasteFromClipboard()},r.prototype.showColumnMenuAfterButtonClick=function(t,e){var n=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(n,e,"columnMenu")},r.prototype.showColumnMenuAfterMouseClick=function(t,e){var n=this.columnModel.getGridColumn(t);n||(n=this.columnModel.getPrimaryColumn(t)),n?this.menuFactory.showMenuAfterMouseEvent(n,e):console.error("AG Grid: column '".concat(t,"' not found"))},r.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},r.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},r.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},r.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(qm)},r.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(qm)},r.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},r.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},r.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(t.rowIndex);var o=this.navigationService.getCellByPosition(n);!o||(this.focusService.isCellFocused(n)||this.focusService.setFocusedCell(n),o.startRowOrCellEdit(t.key))}else console.warn("AG Grid: no column found for ".concat(t.colKey))},r.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},r.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},r.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},r.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);this.logMissingRowModel("applyServerSideTransaction","serverSide")},r.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")},r.prototype.applyServerSideRowData=function(t){var e,n,i=null!==(e=t.startRow)&&void 0!==e?e:0,o=null!==(n=t.route)&&void 0!==n?n:[];i<0?console.warn("AG Grid: invalid value ".concat(t.startRow," for startRow, the value should be >= 0")):this.serverSideRowModel?this.serverSideRowModel.applyRowData(t.successParams,i,o):this.logMissingRowModel("setServerSideDatasource","serverSide")},r.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")},r.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")},r.prototype.applyTransaction=function(t){if(this.clientSideRowModel)return this.clientSideRowModel.updateRowData(t);this.logMissingRowModel("applyTransaction","clientSide")},r.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):this.logMissingRowModel("applyTransactionAsync","clientSide")},r.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():this.logMissingRowModel("flushAsyncTransactions","clientSide")},r.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")},r.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")},r.prototype.refreshServerSide=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):this.logMissingRowModel("refreshServerSide","serverSide")},r.prototype.getServerSideGroupLevelState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])},r.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")},r.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")},r.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},r.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},r.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},r.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},r.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},r.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},r.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},r.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},r.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},r.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},r.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},r.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},r.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},r.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},r.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},r.prototype.sizeColumnsToFit=function(t){"number"==typeof t?this.columnModel.sizeColumnsToFit(t,"api"):this.gridBodyCtrl.sizeColumnsToFit(t)},r.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},r.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},r.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},r.prototype.getColumns=function(){return this.columnModel.getAllPrimaryColumns()},r.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},r.prototype.getColumnState=function(){return this.columnModel.getColumnState()},r.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},r.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},r.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},r.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},r.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},r.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},r.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},r.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},r.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},r.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},r.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},r.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},r.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},r.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},r.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},r.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},r.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},r.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},r.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},r.prototype.moveColumn=function(t,e){this.columnModel.moveColumn(t,e,"api")},r.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},r.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},r.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},r.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},r.prototype.setColumnWidth=function(t,e,n,i){void 0===n&&(n=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,n,i)},r.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,n)},r.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},r.prototype.getPivotResultColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},r.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},r.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},r.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},r.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},r.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},r.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},r.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},r.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},r.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},r.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},r.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},r.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},r.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},r.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},r.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},r.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},r.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},r.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},r.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},r.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},r.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},r.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},r.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},r.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},r.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},r.prototype.setPivotResultColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},r.prototype.getPivotResultColumns=function(){return this.columnModel.getSecondaryColumns()},r.prototype.getState=function(){return this.stateService.getState()},r.prototype.getGridOption=function(t){return this.gos.get(t)},r.prototype.setGridOption=function(t,e){var n;this.updateGridOptions(((n={})[t]=e,n))},r.prototype.updateGridOptions=function(t){this.gos.updateGridOptions({options:t})},r.prototype.__internalUpdateGridOptions=function(t){this.gos.updateGridOptions({options:t,source:"gridOptionsUpdated"})},r.prototype.deprecatedUpdateGridOption=function(t,e){$n("set".concat(t.charAt(0).toUpperCase()).concat(t.slice(1,t.length)," is deprecated. Please use 'api.setGridOption('").concat(t,"', newValue)' or 'api.updateGridOptions({ ").concat(t,": newValue })' instead.")),this.setGridOption(t,e)},r.prototype.setPivotMode=function(t){this.deprecatedUpdateGridOption("pivotMode",t)},r.prototype.setPinnedTopRowData=function(t){this.deprecatedUpdateGridOption("pinnedTopRowData",t)},r.prototype.setPinnedBottomRowData=function(t){this.deprecatedUpdateGridOption("pinnedBottomRowData",t)},r.prototype.setPopupParent=function(t){this.deprecatedUpdateGridOption("popupParent",t)},r.prototype.setSuppressModelUpdateAfterUpdateTransaction=function(t){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",t)},r.prototype.setDataTypeDefinitions=function(t){this.deprecatedUpdateGridOption("dataTypeDefinitions",t)},r.prototype.setPagination=function(t){this.deprecatedUpdateGridOption("pagination",t)},r.prototype.paginationSetPageSize=function(t){this.deprecatedUpdateGridOption("paginationPageSize",t)},r.prototype.setSideBar=function(t){this.deprecatedUpdateGridOption("sideBar",t)},r.prototype.setSuppressClipboardPaste=function(t){this.deprecatedUpdateGridOption("suppressClipboardPaste",t)},r.prototype.setGroupRemoveSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",t)},r.prototype.setGroupRemoveLowestSingleChildren=function(t){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",t)},r.prototype.setGroupDisplayType=function(t){this.deprecatedUpdateGridOption("groupDisplayType",t)},r.prototype.setGroupIncludeFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeFooter",t)},r.prototype.setGroupIncludeTotalFooter=function(t){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",t)},r.prototype.setRowClass=function(t){this.deprecatedUpdateGridOption("rowClass",t)},r.prototype.setDeltaSort=function(t){this.deprecatedUpdateGridOption("deltaSort",t)},r.prototype.setSuppressRowDrag=function(t){this.deprecatedUpdateGridOption("suppressRowDrag",t)},r.prototype.setSuppressMoveWhenRowDragging=function(t){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",t)},r.prototype.setSuppressRowClickSelection=function(t){this.deprecatedUpdateGridOption("suppressRowClickSelection",t)},r.prototype.setEnableAdvancedFilter=function(t){this.deprecatedUpdateGridOption("enableAdvancedFilter",t)},r.prototype.setIncludeHiddenColumnsInAdvancedFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",t)},r.prototype.setAdvancedFilterParent=function(t){this.deprecatedUpdateGridOption("advancedFilterParent",t)},r.prototype.setAdvancedFilterBuilderParams=function(t){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",t)},r.prototype.setQuickFilter=function(t){$n("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:t}})},r.prototype.setExcludeHiddenColumnsFromQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!t)},r.prototype.setIncludeHiddenColumnsInQuickFilter=function(t){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",t)},r.prototype.setQuickFilterParser=function(t){this.deprecatedUpdateGridOption("quickFilterParser",t)},r.prototype.setQuickFilterMatcher=function(t){this.deprecatedUpdateGridOption("quickFilterMatcher",t)},r.prototype.setAlwaysShowHorizontalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",t)},r.prototype.setAlwaysShowVerticalScroll=function(t){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",t)},r.prototype.setFunctionsReadOnly=function(t){this.deprecatedUpdateGridOption("functionsReadOnly",t)},r.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),$n("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:t},source:e})},r.prototype.setAutoGroupColumnDef=function(t,e){void 0===e&&(e="api"),$n("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:t},source:e})},r.prototype.setDefaultColDef=function(t,e){void 0===e&&(e="api"),$n("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:t},source:e})},r.prototype.setColumnTypes=function(t,e){void 0===e&&(e="api"),$n("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:t},source:e})},r.prototype.setTreeData=function(t){this.deprecatedUpdateGridOption("treeData",t)},r.prototype.setServerSideDatasource=function(t){this.deprecatedUpdateGridOption("serverSideDatasource",t)},r.prototype.setCacheBlockSize=function(t){this.deprecatedUpdateGridOption("cacheBlockSize",t)},r.prototype.setDatasource=function(t){this.deprecatedUpdateGridOption("datasource",t)},r.prototype.setViewportDatasource=function(t){this.deprecatedUpdateGridOption("viewportDatasource",t)},r.prototype.setRowData=function(t){this.deprecatedUpdateGridOption("rowData",t)},r.prototype.setEnableCellTextSelection=function(t){this.deprecatedUpdateGridOption("enableCellTextSelection",t)},r.prototype.setHeaderHeight=function(t){this.deprecatedUpdateGridOption("headerHeight",t)},r.prototype.setDomLayout=function(t){this.deprecatedUpdateGridOption("domLayout",t)},r.prototype.setFillHandleDirection=function(t){this.deprecatedUpdateGridOption("fillHandleDirection",t)},r.prototype.setGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("groupHeaderHeight",t)},r.prototype.setFloatingFiltersHeight=function(t){this.deprecatedUpdateGridOption("floatingFiltersHeight",t)},r.prototype.setPivotHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotHeaderHeight",t)},r.prototype.setPivotGroupHeaderHeight=function(t){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",t)},r.prototype.setAnimateRows=function(t){this.deprecatedUpdateGridOption("animateRows",t)},r.prototype.setIsExternalFilterPresent=function(t){this.deprecatedUpdateGridOption("isExternalFilterPresent",t)},r.prototype.setDoesExternalFilterPass=function(t){this.deprecatedUpdateGridOption("doesExternalFilterPass",t)},r.prototype.setNavigateToNextCell=function(t){this.deprecatedUpdateGridOption("navigateToNextCell",t)},r.prototype.setTabToNextCell=function(t){this.deprecatedUpdateGridOption("tabToNextCell",t)},r.prototype.setTabToNextHeader=function(t){this.deprecatedUpdateGridOption("tabToNextHeader",t)},r.prototype.setNavigateToNextHeader=function(t){this.deprecatedUpdateGridOption("navigateToNextHeader",t)},r.prototype.setRowGroupPanelShow=function(t){this.deprecatedUpdateGridOption("rowGroupPanelShow",t)},r.prototype.setGetGroupRowAgg=function(t){this.deprecatedUpdateGridOption("getGroupRowAgg",t)},r.prototype.setGetBusinessKeyForNode=function(t){this.deprecatedUpdateGridOption("getBusinessKeyForNode",t)},r.prototype.setGetChildCount=function(t){this.deprecatedUpdateGridOption("getChildCount",t)},r.prototype.setProcessRowPostCreate=function(t){this.deprecatedUpdateGridOption("processRowPostCreate",t)},r.prototype.setGetRowId=function(t){$n("getRowId is a static property and can no longer be updated.")},r.prototype.setGetRowClass=function(t){this.deprecatedUpdateGridOption("getRowClass",t)},r.prototype.setIsFullWidthRow=function(t){this.deprecatedUpdateGridOption("isFullWidthRow",t)},r.prototype.setIsRowSelectable=function(t){this.deprecatedUpdateGridOption("isRowSelectable",t)},r.prototype.setIsRowMaster=function(t){this.deprecatedUpdateGridOption("isRowMaster",t)},r.prototype.setPostSortRows=function(t){this.deprecatedUpdateGridOption("postSortRows",t)},r.prototype.setGetDocument=function(t){this.deprecatedUpdateGridOption("getDocument",t)},r.prototype.setGetContextMenuItems=function(t){this.deprecatedUpdateGridOption("getContextMenuItems",t)},r.prototype.setGetMainMenuItems=function(t){this.deprecatedUpdateGridOption("getMainMenuItems",t)},r.prototype.setProcessCellForClipboard=function(t){this.deprecatedUpdateGridOption("processCellForClipboard",t)},r.prototype.setSendToClipboard=function(t){this.deprecatedUpdateGridOption("sendToClipboard",t)},r.prototype.setProcessCellFromClipboard=function(t){this.deprecatedUpdateGridOption("processCellFromClipboard",t)},r.prototype.setProcessPivotResultColDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColDef",t)},r.prototype.setProcessPivotResultColGroupDef=function(t){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",t)},r.prototype.setPostProcessPopup=function(t){this.deprecatedUpdateGridOption("postProcessPopup",t)},r.prototype.setInitialGroupOrderComparator=function(t){this.deprecatedUpdateGridOption("initialGroupOrderComparator",t)},r.prototype.setGetChartToolbarItems=function(t){this.deprecatedUpdateGridOption("getChartToolbarItems",t)},r.prototype.setPaginationNumberFormatter=function(t){this.deprecatedUpdateGridOption("paginationNumberFormatter",t)},r.prototype.setGetServerSideGroupLevelParams=function(t){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",t)},r.prototype.setIsServerSideGroupOpenByDefault=function(t){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",t)},r.prototype.setIsApplyServerSideTransaction=function(t){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",t)},r.prototype.setIsServerSideGroup=function(t){this.deprecatedUpdateGridOption("isServerSideGroup",t)},r.prototype.setGetServerSideGroupKey=function(t){this.deprecatedUpdateGridOption("getServerSideGroupKey",t)},r.prototype.setGetRowStyle=function(t){this.deprecatedUpdateGridOption("getRowStyle",t)},r.prototype.setGetRowHeight=function(t){this.deprecatedUpdateGridOption("getRowHeight",t)},cr([pr("csvCreator")],r.prototype,"csvCreator",void 0),cr([pr("excelCreator")],r.prototype,"excelCreator",void 0),cr([be("rowRenderer")],r.prototype,"rowRenderer",void 0),cr([be("navigationService")],r.prototype,"navigationService",void 0),cr([be("filterManager")],r.prototype,"filterManager",void 0),cr([be("columnModel")],r.prototype,"columnModel",void 0),cr([be("selectionService")],r.prototype,"selectionService",void 0),cr([be("gridOptionsService")],r.prototype,"gos",void 0),cr([be("valueService")],r.prototype,"valueService",void 0),cr([be("alignedGridsService")],r.prototype,"alignedGridsService",void 0),cr([be("eventService")],r.prototype,"eventService",void 0),cr([be("pinnedRowModel")],r.prototype,"pinnedRowModel",void 0),cr([be("context")],r.prototype,"context",void 0),cr([be("rowModel")],r.prototype,"rowModel",void 0),cr([be("sortController")],r.prototype,"sortController",void 0),cr([be("paginationProxy")],r.prototype,"paginationProxy",void 0),cr([be("focusService")],r.prototype,"focusService",void 0),cr([be("dragAndDropService")],r.prototype,"dragAndDropService",void 0),cr([pr("rangeService")],r.prototype,"rangeService",void 0),cr([pr("clipboardService")],r.prototype,"clipboardService",void 0),cr([pr("aggFuncService")],r.prototype,"aggFuncService",void 0),cr([be("menuFactory")],r.prototype,"menuFactory",void 0),cr([pr("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),cr([be("valueCache")],r.prototype,"valueCache",void 0),cr([be("animationFrameService")],r.prototype,"animationFrameService",void 0),cr([pr("statusBarService")],r.prototype,"statusBarService",void 0),cr([pr("chartService")],r.prototype,"chartService",void 0),cr([pr("undoRedoService")],r.prototype,"undoRedoService",void 0),cr([pr("rowNodeBlockLoader")],r.prototype,"rowNodeBlockLoader",void 0),cr([pr("ssrmTransactionManager")],r.prototype,"serverSideTransactionManager",void 0),cr([be("ctrlsService")],r.prototype,"ctrlsService",void 0),cr([be("overlayService")],r.prototype,"overlayService",void 0),cr([pr("sideBarService")],r.prototype,"sideBarService",void 0),cr([be("stateService")],r.prototype,"stateService",void 0),cr([be("expansionService")],r.prototype,"expansionService",void 0),cr([be("apiEventService")],r.prototype,"apiEventService",void 0),cr([be("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),cr([Gt],r.prototype,"init",null),cr([Jt("gridApi")],r)}(),Rae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},D7=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.quickFilter=null,n.quickFilterParts=null,n}var e;return Rae(t,r),e=t,t.prototype.postConstruct=function(){var n=this;this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return n.resetQuickFilterCache()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VISIBLE,function(){n.gridOptionsService.get("includeHiddenColumnsInQuickFilter")||n.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",function(i){return n.setQuickFilter(i.currentValue)}),this.addManagedPropertyListener("includeHiddenColumnsInQuickFilter",function(){return n.onIncludeHiddenColumnsInQuickFilterChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsService.get("quickFilterText")),this.parser=this.gridOptionsService.get("quickFilterParser"),this.matcher=this.gridOptionsService.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],function(){return n.setQuickFilterParserAndMatcher()})},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassQuickFilter=function(n){var i=this,o=this.gridOptionsService.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,n):this.quickFilterParts.every(function(s){return o?i.doesRowPassQuickFilterCache(n,s):i.doesRowPassQuickFilterNoCache(n,s)})},t.prototype.resetQuickFilterCache=function(){this.rowModel.forEachNode(function(n){return n.quickFilterAggregateText=null})},t.prototype.setQuickFilterParts=function(){var i=this.quickFilter,o=this.parser;this.quickFilterParts=i?o?o(i):i.split(" "):null},t.prototype.parseQuickFilter=function(n){return Tt(n)?this.gridOptionsService.isRowModelType("clientSide")?n.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(n){if(null==n||"string"==typeof n){var i=this.parseQuickFilter(n);this.quickFilter!==i&&(this.quickFilter=i,this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))}else console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: ".concat(typeof n))},t.prototype.setQuickFilterParserAndMatcher=function(){var n=this.gridOptionsService.get("quickFilterParser"),i=this.gridOptionsService.get("quickFilterMatcher"),o=n!==this.parser||i!==this.matcher;this.parser=n,this.matcher=i,o&&(this.setQuickFilterParts(),this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED}))},t.prototype.onIncludeHiddenColumnsInQuickFilterChanged=function(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:e.EVENT_QUICK_FILTER_CHANGED})},t.prototype.doesRowPassQuickFilterNoCache=function(n,i){var o=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(l){var v=o.getQuickFilterTextForColumn(l,n);return Tt(v)&&v.indexOf(i)>=0})},t.prototype.doesRowPassQuickFilterCache=function(n,i){return this.checkGenerateQuickFilterAggregateText(n),n.quickFilterAggregateText.indexOf(i)>=0},t.prototype.doesRowPassQuickFilterMatcher=function(n,i){var o;return n?(this.checkGenerateQuickFilterAggregateText(i),o=i.quickFilterAggregateText):o=this.getQuickFilterAggregateText(i),(0,this.matcher)(this.quickFilterParts,o)},t.prototype.checkGenerateQuickFilterAggregateText=function(n){n.quickFilterAggregateText||(n.quickFilterAggregateText=this.getQuickFilterAggregateText(n))},t.prototype.getQuickFilterTextForColumn=function(n,i){var o=this.valueService.getValue(n,i,!0),s=n.getColDef();return s.getQuickFilterText&&(o=s.getQuickFilterText({value:o,node:i,data:i.data,column:n,colDef:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),Tt(o)?o.toString().toUpperCase():null},t.prototype.getQuickFilterAggregateText=function(n){var i=this,o=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(function(l){var v=i.getQuickFilterTextForColumn(l,n);Tt(v)&&o.push(v)}),o.join(e.QUICK_FILTER_SEPARATOR)},t.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",t.QUICK_FILTER_SEPARATOR="\n",MS([be("valueService")],t.prototype,"valueService",void 0),MS([be("columnModel")],t.prototype,"columnModel",void 0),MS([be("rowModel")],t.prototype,"rowModel",void 0),MS([Gt],t.prototype,"postConstruct",null),e=MS([Jt("quickFilterService")],t)}(Pt),Aae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ym=function(){return Ym=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Ym.apply(this,arguments)},Su=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oae=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.allColumnFilters=new Map,e.allColumnListeners=new Map,e.activeAggregateFilters=[],e.activeColumnFilters=[],e.processingFilterChange=!1,e.filterModelUpdateQueue=[],e.advancedFilterModelUpdateQueue=[],e}return Aae(t,r),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_GRID_COLUMNS_CHANGED,function(){return e.onColumnsChanged()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VALUE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VISIBLE,function(){return e.updateAdvancedFilterColumns()}),this.addManagedListener(this.eventService,Ce.EVENT_ROW_DATA_UPDATED,function(){return e.onNewRowsLoaded("rowDataUpdated")}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],function(){e.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",function(){e.updateAggFiltering(),e.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",function(n){return e.setAdvancedFilterModel(n.currentValue)}),this.addManagedListener(this.eventService,Ce.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,function(n){return e.onAdvancedFilterEnabledChanged(n.enabled)}),this.addManagedListener(this.eventService,Ce.EVENT_DATA_TYPES_INFERRED,function(){return e.processFilterModelUpdateQueue()}),this.addManagedListener(this.quickFilterService,D7.EVENT_QUICK_FILTER_CHANGED,function(){return e.onFilterChanged({source:"quickFilter"})})},t.prototype.isExternalFilterPresentCallback=function(){var e=this.gridOptionsService.getCallback("isExternalFilterPresent");return"function"==typeof e&&e({})},t.prototype.doesExternalFilterPass=function(e){var n=this.gridOptionsService.get("doesExternalFilterPass");return"function"==typeof n&&n(e)},t.prototype.setFilterModel=function(e,n){var i=this;if(void 0===n&&(n="api"),this.isAdvancedFilterEnabled())this.warnAdvancedFilters();else if(this.dataTypeService.isPendingInference())this.filterModelUpdateQueue.push({model:e,source:n});else{var o=[],s=this.getFilterModel();if(e){var l=o6(Object.keys(e));this.allColumnFilters.forEach(function(v,D){o.push(i.setModelOnFilterWrapper(v.filterPromise,e[D])),l.delete(D)}),l.forEach(function(v){var D=i.columnModel.getPrimaryColumn(v)||i.columnModel.getGridColumn(v);if(D)if(D.isFilterAllowed()){var F=i.getOrCreateFilterWrapper(D,"NO_UI");F?o.push(i.setModelOnFilterWrapper(F.filterPromise,e[v])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+v)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+v);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+v)})}else this.allColumnFilters.forEach(function(v){o.push(i.setModelOnFilterWrapper(v.filterPromise,null))});$a.all(o).then(function(){var v=i.getFilterModel(),D=[];i.allColumnFilters.forEach(function(F,z){Qn.jsonEquals(s?s[z]:null,v?v[z]:null)||D.push(F.column)}),D.length>0&&i.onFilterChanged({columns:D,source:n})})}},t.prototype.setModelOnFilterWrapper=function(e,n){return new $a(function(i){e.then(function(o){"function"!=typeof o.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),i()),(o.setModel(n)||$a.resolve()).then(function(){return i()})})})},t.prototype.getFilterModel=function(){var e={};return this.allColumnFilters.forEach(function(n,i){var s=n.filterPromise.resolveNow(null,function(v){return v});if(null==s)return null;if("function"==typeof s.getModel){var l=s.getModel();Tt(l)&&(e[i]=l)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),e},t.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},t.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},t.prototype.isExternalFilterPresent=function(){return this.externalFilterPresent},t.prototype.isChildFilterPresent=function(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()},t.prototype.isAdvancedFilterPresent=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()},t.prototype.onAdvancedFilterEnabledChanged=function(e){var i,n=this;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(function(o){return n.disposeFilterWrapper(o,"advancedFilterEnabled")}),this.onFilterChanged({source:"advancedFilter"})):null!==(i=this.advancedFilterService)&&void 0!==i&&i.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))},t.prototype.isAdvancedFilterEnabled=function(){var e;return null===(e=this.advancedFilterService)||void 0===e?void 0:e.isEnabled()},t.prototype.isAdvancedFilterHeaderActive=function(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()},t.prototype.doAggregateFiltersPass=function(e,n){return this.doColumnFiltersPass(e,n,!0)},t.prototype.updateActiveFilters=function(){var e=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var n=function(s){return!!s&&(s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},i=!!this.gridOptionsService.getGroupAggFiltering();this.allColumnFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var l=s.filterPromise.resolveNow(null,function(v){return v});!function(s){if(!s.isPrimary())return!0;var v=!e.columnModel.isPivotActive();return!(!s.isValueActive()||!v)&&(!!e.columnModel.isPivotMode()||i)}(s.column)?e.activeColumnFilters.push(l):e.activeAggregateFilters.push(l)}})},t.prototype.updateFilterFlagInColumns=function(e,n){this.allColumnFilters.forEach(function(i){var o=i.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()});i.column.setFilterActive(o,e,n)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()},t.prototype.doColumnFiltersPass=function(e,n,i){for(var l=i?this.activeAggregateFilters:this.activeColumnFilters,v=i?e.aggData:e.data,D=0;D<l.length;D++){var F=l[D];if(null!=F&&F!==n){if("function"!=typeof F.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!F.doesFilterPass({node:e,data:v}))return!1}}return!0},t.prototype.resetQuickFilterCache=function(){this.quickFilterService.resetQuickFilterCache()},t.prototype.refreshFiltersForAggregations=function(){this.gridOptionsService.getGroupAggFiltering()&&this.onFilterChanged()},t.prototype.callOnFilterChangedOutsideRenderCycle=function(e){var n=this,i=function(){return n.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(i,0):i()},t.prototype.onFilterChanged=function(e){void 0===e&&(e={});var n=e.source,i=e.filterInstance,o=e.additionalEventAttributes,s=e.columns;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",o),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(function(v){!v.filterPromise||v.filterPromise.then(function(D){D&&D!==i&&D.onAnyFilterChanged&&D.onAnyFilterChanged()})});var l={source:n,type:Ce.EVENT_FILTER_CHANGED,columns:s||[]};o&&aa(l,o),this.processingFilterChange=!0,this.eventService.dispatchEvent(l),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){var e;return!(null!==(e=this.gridOptionsService.get("allowShowChangeAfterFilter"))&&void 0!==e&&e)&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return this.quickFilterService.isQuickFilterPresent()},t.prototype.updateAggFiltering=function(){this.aggFiltering=!!this.gridOptionsService.getGroupAggFiltering()},t.prototype.isAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.isNonAggregateQuickFilterPresent=function(){return this.isQuickFilterPresent()&&!(this.aggFiltering||this.columnModel.isPivotMode())},t.prototype.doesRowPassOtherFilters=function(e,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:e})},t.prototype.doesRowPassAggregateFilters=function(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))},t.prototype.doesRowPassFilter=function(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))},t.prototype.onNewRowsLoaded=function(e){this.allColumnFilters.forEach(function(n){n.filterPromise.then(function(i){i.onNewRowsLoaded&&i.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()},t.prototype.createValueGetter=function(e){var n=this;return function(i){return n.valueService.getValue(e,i.node,!0)}},t.prototype.createGetValue=function(e){var n=this;return function(i,o){var s=o?n.columnModel.getGridColumn(o):e;return s?n.valueService.getValue(s,i,!0):void 0}},t.prototype.getFilterComponent=function(e,n,i){var o;if(void 0===i&&(i=!0),i)return(null===(o=this.getOrCreateFilterWrapper(e,n))||void 0===o?void 0:o.filterPromise)||null;var s=this.cachedFilter(e);return s?s.filterPromise:null},t.prototype.isFilterActive=function(e){var n=this.cachedFilter(e);return!!n&&n.filterPromise.resolveNow(!1,function(i){return i.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(e,n){if(!e.isFilterAllowed())return null;var i=this.cachedFilter(e);return i?"NO_UI"!==n&&this.putIntoGui(i,n):(i=this.createFilterWrapper(e,n),this.setColumnFilterWrapper(e,i)),i},t.prototype.cachedFilter=function(e){return this.allColumnFilters.get(e.getColId())},t.prototype.getDefaultFilter=function(e){var n;if(Yn.__isRegistered(rn.SetFilterModule,this.context.getGridId()))n="agSetColumnFilter";else{var i=e.getColDef().cellDataType;n="number"===i?"agNumberColumnFilter":"date"===i||"dateString"===i?"agDateColumnFilter":"agTextColumnFilter"}return n},t.prototype.getDefaultFloatingFilter=function(e){var n;if(Yn.__isRegistered(rn.SetFilterModule,this.context.getGridId()))n="agSetColumnFloatingFilter";else{var i=e.getColDef().cellDataType;n="number"===i?"agNumberColumnFloatingFilter":"date"===i||"dateString"===i?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return n},t.prototype.createFilterInstance=function(e){var s,n=this,i=this.getDefaultFilter(e),o=e.getColDef(),l=Ym(Ym({},this.createFilterParams(e,o)),{filterModifiedCallback:function(){return n.filterModifiedCallbackFactory(s,e)()},filterChangedCallback:function(D){return n.filterChangedCallbackFactory(s,e)(D)},doesRowPassOtherFilter:function(D){return n.doesRowPassOtherFilters(s,D)}}),v=this.userComponentFactory.getFilterDetails(o,l,i);return v?{filterPromise:function(){var D=v.newAgStackInstance();return D&&D.then(function(F){return s=F}),D},compDetails:v}:{filterPromise:null,compDetails:null}},t.prototype.createFilterParams=function(e,n){return{column:e,colDef:c3(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:function(){return!0},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}},t.prototype.createFilterWrapper=function(e,n){var i,o={column:e,filterPromise:null,compiledElement:null,guiPromise:$a.resolve(null),compDetails:null},s=this.createFilterInstance(e),l=s.filterPromise,v=s.compDetails;return o.filterPromise=null!==(i=l?.())&&void 0!==i?i:null,o.compDetails=v,l&&this.putIntoGui(o,n),o},t.prototype.putIntoGui=function(e,n){var i=this,o=document.createElement("div");o.className="ag-filter",e.guiPromise=new $a(function(s){e.filterPromise.then(function(l){var v=l.getGui();Tt(v)||console.warn("AG Grid: getGui method from filter returned ".concat(v,", it should be a DOM element or an HTML template string.")),"string"==typeof v&&(v=Do(v)),o.appendChild(v),s(o),i.eventService.dispatchEvent({type:Ce.EVENT_FILTER_OPENED,column:e.column,source:n,eGui:o})})})},t.prototype.onColumnsChanged=function(){var e=this,n=[];this.allColumnFilters.forEach(function(i,o){!(i.column.isPrimary()?e.columnModel.getPrimaryColumn(o):e.columnModel.getGridColumn(o))&&(n.push(i.column),e.disposeFilterWrapper(i,"columnChanged"),e.disposeColumnListener(o))}),n.length>0?this.onFilterChanged({columns:n,source:"api"}):this.updateDependantFilters()},t.prototype.updateDependantFilters=function(){var e=this;this.columnModel.getGroupAutoColumns()?.forEach(function(i){"agGroupColumnFilter"===i.getColDef().filter&&e.getOrCreateFilterWrapper(i,"NO_UI")})},t.prototype.isFilterAllowed=function(e){var n,i;return!this.isAdvancedFilterEnabled()&&!!e.isFilterAllowed()&&(null===(i=null===(n=this.allColumnFilters.get(e.getColId())?.filterPromise)||void 0===n?void 0:n.resolveNow(!0,function(l){return"function"!=typeof l?.isFilterAllowed||l?.isFilterAllowed()}))||void 0===i||i)},t.prototype.getFloatingFilterCompDetails=function(e,n){var i=this,o=e.getColDef(),s=this.createFilterParams(e,o),l=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,E6,s),v=this.userComponentFactory.getDefaultFloatingFilterType(o,function(){return i.getDefaultFloatingFilter(e)});return null==v&&(v="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(o,{column:e,filterParams:l,currentParentModel:function(){return i.getCurrentFloatingFilterParentModel(e)},parentFilterInstance:function(z){i.getFilterComponent(e,"NO_UI")?.then(function(ae){z(qm(ae))})},showParentFilter:n,suppressFilterButton:!1},v)},t.prototype.getCurrentFloatingFilterParentModel=function(e){var n=this.getFilterComponent(e,"NO_UI",!1);return n?n.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.destroyFilter=function(e,n){void 0===n&&(n="api");var i=e.getColId(),o=this.allColumnFilters.get(i);this.disposeColumnListener(i),o&&(this.disposeFilterWrapper(o,n),this.onFilterChanged({columns:[e],source:"api"}))},t.prototype.disposeColumnListener=function(e){var n=this.allColumnListeners.get(e);n&&(this.allColumnListeners.delete(e),n())},t.prototype.disposeFilterWrapper=function(e,n){var i=this;e.filterPromise.then(function(o){i.getContext().destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),i.allColumnFilters.delete(e.column.getColId()),i.eventService.dispatchEvent({type:Ce.EVENT_FILTER_DESTROYED,source:n,column:e.column})})},t.prototype.filterModifiedCallbackFactory=function(e,n){var i=this;return function(){i.eventService.dispatchEvent({type:Ce.EVENT_FILTER_MODIFIED,column:n,filterInstance:e})}},t.prototype.filterChangedCallbackFactory=function(e,n){var i=this;return function(o){var s,l=null!==(s=o?.source)&&void 0!==s?s:"api";i.callOnFilterChangedOutsideRenderCycle({filter:e,additionalEventAttributes:o,columns:[n],source:l})}},t.prototype.checkDestroyFilter=function(e){var n=this,i=this.allColumnFilters.get(e);if(i){var o=i.column,s=(o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null}).compDetails;if(this.areFilterCompsDifferent(i.compDetails,s))return void this.destroyFilter(o,"columnChanged");var l=o.getColDef().filterParams;if(!i.filterPromise)return void this.destroyFilter(o,"columnChanged");i.filterPromise.then(function(v){!v?.refresh||v.refresh(Ym(Ym(Ym({},n.createFilterParams(o,o.getColDef())),{filterModifiedCallback:n.filterModifiedCallbackFactory(v,o),filterChangedCallback:n.filterChangedCallbackFactory(v,o),doesRowPassOtherFilter:function(F){return n.doesRowPassOtherFilters(v,F)}}),l))||n.destroyFilter(o,"columnChanged")})}},t.prototype.setColumnFilterWrapper=function(e,n){var i=this,o=e.getColId();this.allColumnFilters.set(o,n),this.allColumnListeners.set(o,this.addManagedListener(e,Lr.EVENT_COL_DEF_CHANGED,function(){return i.checkDestroyFilter(o)}))},t.prototype.areFilterCompsDifferent=function(e,n){if(!n||!e)return!0;var i=e.componentClass,o=n.componentClass;return!(i===o||i?.render&&o?.render&&i.render===o.render)},t.prototype.getAdvancedFilterModel=function(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null},t.prototype.setAdvancedFilterModel=function(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(e);this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}},t.prototype.showAdvancedFilterBuilder=function(e){!this.isAdvancedFilterEnabled()||this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)},t.prototype.updateAdvancedFilterColumns=function(){!this.isAdvancedFilterEnabled()||this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})},t.prototype.hasFloatingFilters=function(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(function(n){return n.getColDef().floatingFilter})},t.prototype.getFilterInstance=function(e,n){if(!this.isAdvancedFilterEnabled()){var i=this.getFilterInstanceImpl(e,function(s){if(n){var l=qm(s);n(l)}});return qm(i)}this.warnAdvancedFilters()},t.prototype.getFilterInstanceImpl=function(e,n){var i=this.columnModel.getPrimaryColumn(e);if(i){var o=this.getFilterComponent(i,"NO_UI"),s=o&&o.resolveNow(null,function(l){return l});return s?setTimeout(n,0,s):o&&o.then(function(l){n(l)}),s}},t.prototype.warnAdvancedFilters=function(){$n("Column Filter API methods have been disabled as Advanced Filters are enabled.")},t.prototype.setupAdvancedFilterHeaderComp=function(e){var n;null===(n=this.advancedFilterService)||void 0===n||n.getCtrl().setupHeaderComp(e)},t.prototype.getHeaderRowCount=function(){return this.isAdvancedFilterHeaderActive()?1:0},t.prototype.getHeaderHeight=function(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0},t.prototype.processFilterModelUpdateQueue=function(){var e=this;this.filterModelUpdateQueue.forEach(function(n){return e.setFilterModel(n.model,n.source)}),this.filterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(function(n){return e.setAdvancedFilterModel(n)}),this.advancedFilterModelUpdateQueue=[]},t.prototype.destroy=function(){var e=this;r.prototype.destroy.call(this),this.allColumnFilters.forEach(function(n){return e.disposeFilterWrapper(n,"gridDestroyed")}),this.allColumnListeners.clear()},Su([be("valueService")],t.prototype,"valueService",void 0),Su([be("columnModel")],t.prototype,"columnModel",void 0),Su([be("rowModel")],t.prototype,"rowModel",void 0),Su([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Su([be("rowRenderer")],t.prototype,"rowRenderer",void 0),Su([be("dataTypeService")],t.prototype,"dataTypeService",void 0),Su([be("quickFilterService")],t.prototype,"quickFilterService",void 0),Su([pr("advancedFilterService")],t.prototype,"advancedFilterService",void 0),Su([Gt],t.prototype,"init",null),Su([Jt("filterManager")],t)}(Pt),Mae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),x6=function(r){function t(e,n){var i=r.call(this,e)||this;return i.ctrl=n,i}return Mae(t,r),t.prototype.getCtrl=function(){return this.ctrl},t}(Kn),Iae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pae=function(r){function t(e){return r.call(this,t.TEMPLATE,e)||this}return Iae(t,r),t.prototype.postConstruct=function(){var e=this,n=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(o,s){return e.addOrRemoveCssClass(o,s)},addOrRemoveBodyCssClass:function(o,s){return e.eFloatingFilterBody.classList.toggle(o,s)},setButtonWrapperDisplayed:function(o){return mr(e.eButtonWrapper,o)},setCompDetails:function(o){return e.setCompDetails(o)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(o){return n.style.width=o},setMenuIcon:function(o){return e.eButtonShowMainFilter.appendChild(o)}},n,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var n=this;if(!e)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(i){return n.afterCompCreated(i)})},t.prototype.destroyFloatingFilterComp=function(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))},t.prototype.afterCompCreated=function(e){if(e){if(!this.isAlive())return void this.destroyBean(e);this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',IS([zt("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),IS([zt("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),IS([zt("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),IS([Gt],t.prototype,"postConstruct",null),IS([ls],t.prototype,"destroyFloatingFilterComp",null),t}(x6),kae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ii=(()=>(function(r){r.AUTO_HEIGHT="ag-layout-auto-height",r.NORMAL="ag-layout-normal",r.PRINT="ag-layout-print"}(Ii||(Ii={})),Ii))(),R6=function(r){function t(e){var n=r.call(this)||this;return n.view=e,n}return kae(t,r),t.prototype.postConstruct=function(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),n={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e};this.view.updateLayoutClasses(n.autoHeight?Ii.AUTO_HEIGHT:n.print?Ii.PRINT:Ii.NORMAL,n)},t.prototype.getDomLayout=function(){var e,n=null!==(e=this.gridOptionsService.get("domLayout"))&&void 0!==e?e:"normal";return-1===["normal","print","autoHeight"].indexOf(n)?($n("".concat(n," is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.")),"normal"):n},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(Pt),Nae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KA=function(){return KA=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},KA.apply(this,arguments)},Uh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},To=(()=>(function(r){r[r.Vertical=0]="Vertical",r[r.Horizontal=1]="Horizontal"}(To||(To={})),To))(),Wo=(()=>(function(r){r[r.Container=0]="Container",r[r.FakeContainer=1]="FakeContainer"}(Wo||(Wo={})),Wo))(),Lae=function(r){function t(e){var n=r.call(this)||this;return n.lastScrollSource=[null,null],n.scrollLeft=-1,n.nextScrollTop=-1,n.scrollTop=-1,n.eBodyViewport=e,n.resetLastHScrollDebounced=Ga(function(){return n.lastScrollSource[To.Horizontal]=null},500),n.resetLastVScrollDebounced=Ga(function(){return n.lastScrollSource[To.Vertical]=null},500),n}return Nae(t,r),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollComp(),n=this.ctrlsService.getFakeVScrollComp();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));var i=this.gridOptionsService.get("debounceVerticalScrollbar"),o=i?Ga(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=i?Ga(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o),n.onScrollCallback(s)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCtrl){void 0===e&&(e=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var i=this.enableRtl?e:-e,o=this.ctrlsService.getTopCenterRowContainerCtrl(),s=this.ctrlsService.getStickyTopCenterRowContainerCtrl(),l=this.ctrlsService.getBottomCenterRowContainerCtrl(),v=this.ctrlsService.getFakeHScrollComp();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(-i),l.setContainerTranslateX(i),o.setContainerTranslateX(i),s.setContainerTranslateX(i);var F=this.centerRowContainerCtrl.getViewportElement(),z=this.lastScrollSource[To.Horizontal]===Wo.Container;e=Math.abs(e),z?v.setScrollPosition(e):CS(F,e,this.enableRtl)}},t.prototype.isControllingScroll=function(e,n){return null==this.lastScrollSource[n]?(this.lastScrollSource[n]=e,!0):this.lastScrollSource[n]===e},t.prototype.onFakeHScroll=function(){!this.isControllingScroll(Wo.FakeContainer,To.Horizontal)||this.onHScrollCommon(Wo.FakeContainer)},t.prototype.onHScroll=function(){!this.isControllingScroll(Wo.Container,To.Horizontal)||this.onHScrollCommon(Wo.Container)},t.prototype.onHScrollCommon=function(e){var o,n=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate(To.Horizontal,n.scrollLeft,!0)||(o=e===Wo.Container?wS(n,this.enableRtl):this.ctrlsService.getFakeHScrollComp().getScrollPosition(),this.doHorizontalScroll(Math.round(o)),this.resetLastHScrollDebounced())},t.prototype.onFakeVScroll=function(){!this.isControllingScroll(Wo.FakeContainer,To.Vertical)||this.onVScrollCommon(Wo.FakeContainer)},t.prototype.onVScroll=function(){!this.isControllingScroll(Wo.Container,To.Vertical)||this.onVScrollCommon(Wo.Container)},t.prototype.onVScrollCommon=function(e){var n;n=e===Wo.Container?this.eBodyViewport.scrollTop:this.ctrlsService.getFakeVScrollComp().getScrollPosition(),!this.shouldBlockScrollUpdate(To.Vertical,n,!0)&&(this.animationFrameService.setScrollTop(n),this.nextScrollTop=n,e===Wo.Container?this.ctrlsService.getFakeVScrollComp().setScrollPosition(n):this.eBodyViewport.scrollTop=n,this.gridOptionsService.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())},t.prototype.doHorizontalScroll=function(e){var n=this.ctrlsService.getFakeHScrollComp().getScrollPosition();this.scrollLeft===e&&e===n||(this.scrollLeft=e,this.fireScrollEvent(To.Horizontal),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowContainerCtrl.onHorizontalViewportChanged(!0))},t.prototype.fireScrollEvent=function(e){var n=this,i={type:Ce.EVENT_BODY_SCROLL,direction:e===To.Horizontal?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(i),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var o=KA(KA({},i),{type:Ce.EVENT_BODY_SCROLL_END});n.eventService.dispatchEvent(o)},100)},t.prototype.shouldBlockScrollUpdate=function(e,n,i){return void 0===i&&(i=!1),!(i&&!Bh())&&(e===To.Vertical?this.shouldBlockVerticalScroll(n):this.shouldBlockHorizontalScroll(n))},t.prototype.shouldBlockVerticalScroll=function(e){var n=yS(this.eBodyViewport);return e<0||e+n>this.eBodyViewport.scrollHeight},t.prototype.shouldBlockHorizontalScroll=function(e){var n=this.centerRowContainerCtrl.getCenterWidth(),i=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&bS()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+n>i},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent(To.Vertical)},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(Wo.Container)},t.prototype.scrollGridIfNeeded=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e,n){void 0===n&&(n=!1);var o=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();!n&&this.shouldBlockScrollUpdate(To.Horizontal,e)&&(e=this.enableRtl&&bS()?e>0?0:o:Math.min(Math.max(e,0),o)),CS(this.centerRowContainerCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var n=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(n+e),this.centerRowContainerCtrl.getViewportElement().scrollLeft-n},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,n){void 0===n&&(n=null);for(var i=this.rowModel.getRowCount(),o=-1,s=0;s<i;s++){var l=this.rowModel.getRow(s);if("function"==typeof e){if(l&&e(l)){o=s;break}}else if(e===l||e===l.data){o=s;break}}o>=0&&this.ensureIndexVisible(o,n)},t.prototype.ensureIndexVisible=function(e,n){if(!this.gridOptionsService.isDomLayout("print")){var i=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=i)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")||this.paginationProxy.goToPageWithIndex(e);var F,v=this.ctrlsService.getGridBodyCtrl().getStickyTopHeight(),D=this.paginationProxy.getRow(e);do{var z=D.rowTop,re=D.rowHeight,ae=this.paginationProxy.getPixelOffset(),fe=D.rowTop-ae,ge=fe+D.rowHeight,we=this.getVScrollPosition(),Te=this.heightScaler.getDivStretchOffset(),Ie=we.top+Te,Ve=we.bottom+Te,et=Ve-Ie,gt=this.heightScaler.getScrollPositionForPixel(fe),Dt=this.heightScaler.getScrollPositionForPixel(ge-et),Bt=Math.min((gt+Dt)/2,fe),an=null;"top"===n?an=gt:"bottom"===n?an=Dt:"middle"===n?an=Bt:Ie+v>fe?an=gt-v:Ve<ge&&(an=Dt),null!==an&&(this.setVerticalScrollPosition(an),this.rowRenderer.redraw({afterScroll:!0})),F=z!==D.rowTop||re!==D.rowHeight}while(F);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,n){void 0===n&&(n="auto");var i=this.columnModel.getGridColumn(e);if(i&&!i.isPinned()&&this.columnModel.isColumnDisplayed(i)){var o=this.getPositionedHorizontalScroll(i,n);null!==o&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(o),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.setScrollPosition=function(e,n){this.centerRowContainerCtrl.setCenterViewportScrollLeft(n),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()},t.prototype.getPositionedHorizontalScroll=function(e,n){var i=this.isColumnOutsideViewport(e),o=i.columnBeforeStart,s=i.columnAfterEnd,l=this.centerRowContainerCtrl.getCenterWidth()<e.getActualWidth(),v=this.centerRowContainerCtrl.getCenterWidth(),D=this.enableRtl,F=(D?o:s)||l,z=D?s:o;"auto"!==n&&(F="start"===n,z="end"===n);var re="middle"===n;if(F||z||re){var ae=this.getColumnBounds(e),fe=ae.colLeft,we=ae.colRight;return re?ae.colMiddle-v/2:F?D?we:fe:D?fe-v:we-v}return null},t.prototype.isColumnOutsideViewport=function(e){var n=this.getViewportBounds(),i=n.start,o=n.end,s=this.getColumnBounds(e),l=s.colLeft,v=s.colRight,D=this.enableRtl;return{columnBeforeStart:D?i>v:o<v,columnAfterEnd:D?o<l:i>l}},t.prototype.getColumnBounds=function(e){var n=this.enableRtl,i=this.columnModel.getBodyContainerWidth(),o=e.getActualWidth(),s=e.getLeft(),l=n?-1:1,v=n?i-s:s;return{colLeft:v,colMiddle:v+o/2*l,colRight:v+o*l}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCtrl.getCenterWidth(),n=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:n,end:e+n,width:e}},Uh([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Uh([be("animationFrameService")],t.prototype,"animationFrameService",void 0),Uh([be("paginationProxy")],t.prototype,"paginationProxy",void 0),Uh([be("rowModel")],t.prototype,"rowModel",void 0),Uh([be("rowContainerHeightService")],t.prototype,"heightScaler",void 0),Uh([be("rowRenderer")],t.prototype,"rowRenderer",void 0),Uh([be("columnModel")],t.prototype,"columnModel",void 0),Uh([Gt],t.prototype,"postConstruct",null),t}(Pt),Vae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),A6=function(){return A6=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},A6.apply(this,arguments)},Ya=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jae=function(r){function t(e){var n=r.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=e,n}return Vae(t,r),t.prototype.postConstruct=function(){var e=this;this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel);var n=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_MODEL_UPDATED,function(){n()}),n(),this.ctrlsService.whenReady(function(){var i=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new C7({scrollContainer:i.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return i.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(o){return i.getScrollFeature().setVerticalScrollPosition(o)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!Ts(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===us.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsService.get("rowDragManaged")&&this.shouldPreventRowMove()?co.ICON_NOT_ALLOWED:co.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var n=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var i=this.gridOptionsService.get("rowDragMultiRow"),o=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(this.selectionService.getSelectedNodes()),!1).sort(function(l,v){return null==l.rowIndex||null==v.rowIndex?0:n.getRowIndexNumber(l)-n.getRowIndexNumber(v)}),s=e.dragItem.rowNode;return i&&-1!==o.indexOf(s)?(this.isMultiRowDrag=!0,o):(this.isMultiRowDrag=!1,[s])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(Ce.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(n){n.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsService.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(Ce.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var n=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsService.get("rowDragManaged")&&this.doManagedDrag(e,n),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,n){var i=this.isFromThisGrid(e),o=this.gridOptionsService.get("rowDragManaged"),s=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],n):this.moveRows(s,n))},t.prototype.getRowIndexNumber=function(e){return parseInt(Sr(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var n=this,i=this.clientSideRowModel.getLastHighlightedRowNode(),o=i&&i.highlighted===Cu.Below,s=this.mouseEventService.getNormalisedPosition(e).y,l=e.dragItem.rowNodes,v=o?1:0;if(this.isFromThisGrid(e))l.forEach(function(z){z.rowTop<s&&(v-=1)}),this.moveRows(l,s,v);else{var D=this.gridOptionsService.getCallback("getRowId"),F=this.clientSideRowModel.getRowIndexAtPixel(s)+1;this.clientSideRowModel.getHighlightPosition(s)===Cu.Above&&F--,this.clientSideRowModel.updateRowData({add:l.map(function(z){return z.data}).filter(function(z){return!n.clientSideRowModel.getRowNode(D?D({data:z,level:0}):z.id)}),addIndex:F})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,n,i){void 0===i&&(i=0),this.clientSideRowModel.ensureRowsAtPixel(e,n,i)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var n=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var i={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,i=e):(e.onDragEnter&&(i.onDragEnter=function(o){e.onDragEnter(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_ENTER,o))}),e.onDragLeave&&(i.onDragLeave=function(o){e.onDragLeave(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_LEAVE,o))}),e.onDragging&&(i.onDragging=function(o){e.onDragging(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_MOVE,o))}),e.onDragStop&&(i.onDragStop=function(o){e.onDragStop(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_END,o))})),this.dragAndDropService.addDropTarget(A6({isInterestedIn:function(o){return o===us.RowDrag},getIconName:function(){return co.ICON_MOVE},external:!0},i))}else $n("addRowDropZone - A container target needs to be provided")},t.prototype.getRowDropZone=function(e){var n=this,i=this.getContainer.bind(this),o=this.onDragEnter.bind(this),s=this.onDragLeave.bind(this),l=this.onDragging.bind(this),v=this.onDragStop.bind(this);return e?{getContainer:i,onDragEnter:e.onDragEnter?function(D){o(D),e.onDragEnter(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_ENTER,D))}:o,onDragLeave:e.onDragLeave?function(D){s(D),e.onDragLeave(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_LEAVE,D))}:s,onDragging:e.onDragging?function(D){l(D),e.onDragging(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_MOVE,D))}:l,onDragStop:e.onDragStop?function(D){v(D),e.onDragStop(n.draggingToRowDragEvent(Ce.EVENT_ROW_DRAG_END,D))}:v,fromGrid:!0}:{getContainer:i,onDragEnter:o,onDragLeave:s,onDragging:l,onDragStop:v,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,n){var l,v,i=this.mouseEventService.getNormalisedPosition(n).y,s=-1;switch(i>this.paginationProxy.getCurrentPageHeight()||(s=this.rowModel.getRowIndexAtPixel(i),l=this.rowModel.getRow(s)),n.vDirection){case Wm.Down:v="down";break;case Wm.Up:v="up";break;default:v=null}return{type:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,event:n.event,node:n.dragItem.rowNode,nodes:n.dragItem.rowNodes,overIndex:s,overNode:l,y:i,vDirection:v}},t.prototype.dispatchGridEvent=function(e,n){var i=this.draggingToRowDragEvent(e,n);this.eventService.dispatchEvent(i)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(Ce.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(Ce.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsService.get("rowDragManaged")&&(this.gridOptionsService.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(n){n.setDragging(!1)})},Ya([be("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ya([be("rowModel")],t.prototype,"rowModel",void 0),Ya([be("paginationProxy")],t.prototype,"paginationProxy",void 0),Ya([be("columnModel")],t.prototype,"columnModel",void 0),Ya([be("focusService")],t.prototype,"focusService",void 0),Ya([be("sortController")],t.prototype,"sortController",void 0),Ya([be("filterManager")],t.prototype,"filterManager",void 0),Ya([be("selectionService")],t.prototype,"selectionService",void 0),Ya([be("mouseEventService")],t.prototype,"mouseEventService",void 0),Ya([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Ya([pr("rangeService")],t.prototype,"rangeService",void 0),Ya([Gt],t.prototype,"postConstruct",null),t}(Pt),Hae=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Os=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Km=(()=>(function(r){r.ANIMATION_ON="ag-row-animation",r.ANIMATION_OFF="ag-row-no-animation"}(Km||(Km={})),Km))(),T7="ag-force-vertical-scroll",Wae=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.stickyTopHeight=0,e}return Hae(t,r),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,n,i,o,s,l){var v=this;this.comp=e,this.eGridBody=n,this.eBodyViewport=i,this.eTop=o,this.eBottom=s,this.eStickyTop=l,this.setCellTextSelection(this.gridOptionsService.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",function(D){return v.setCellTextSelection(D.currentValue)}),this.createManagedBean(new R6(this.comp)),this.bodyScrollFeature=this.createManagedBean(new Lae(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([o,i,s,l]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(o),this.ctrlsService.registerGridBodyCtrl(this)},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,Ce.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.addFocusListeners=function(e){var n=this;e.forEach(function(i){n.addManagedListener(i,"focusin",function(o){var l=Lm(o.target,"ag-root",i);i.classList.toggle("ag-has-focus",!l)}),n.addManagedListener(i,"focusout",function(o){var s=o.target,l=o.relatedTarget,v=i.contains(l),D=Lm(l,"ag-root",i);Lm(s,"ag-root",i)||(!v||D)&&i.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss("ag-column-moving",e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss("ag-selectable",e)},t.prototype.onScrollVisibilityChanged=function(){var e=this,n=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(n),this.setStickyTopWidth(n);var i=n&&this.gridOptionsService.getScrollbarWidth()||0,o=H3()?16:0,s="calc(100% + ".concat(i+o,"px)");this.animationFrameService.requestAnimationFrame(function(){return e.comp.setBodyViewportWidth(s)})},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsService.get("stopEditingWhenCellsLoseFocus")){var n=function(o){var s=o.relatedTarget;if(null!==kA(s)){var l=i.some(function(D){return D.contains(s)})&&e.mouseEventService.isElementInThisGrid(s);if(!l){var v=e.popupService;l=v.getActivePopups().some(function(D){return D.contains(s)})||v.isElementWithinCustomPopup(s)}l||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},i=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop];i.forEach(function(o){return e.addManagedListener(o,"focusout",n)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),n=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===n?-1:e+n)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsService.get("alwaysShowVerticalScroll"),n=e?T7:null,i=this.gridOptionsService.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(n,e),e||i&&A9(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,n=function(){var i=e.gridOptionsService.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(i?Km.ANIMATION_ON:Km.ANIMATION_OFF,i)};n(),this.addManagedListener(this.eventService,Ce.EVENT_HEIGHT_SCALE_CHANGED,n),this.addManagedPropertyListener("animateRows",n)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyTopWheel.bind(this)),this.addFullWidthContainerWheelListener()},t.prototype.addFullWidthContainerWheelListener=function(){var e=this,n=this.eBodyViewport.querySelector(".ag-full-width-container"),i=this.eBodyViewport.querySelector(".ag-center-cols-viewport");n&&i&&this.addManagedListener(n,"wheel",function(o){return e.onFullWidthContainerWheel(o,i)})},t.prototype.onFullWidthContainerWheel=function(e,n){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),n.scrollBy({left:e.deltaX}))},t.prototype.onBodyViewportContextMenu=function(e,n,i){if(e||i){this.gridOptionsService.get("preventDefaultOnContextMenu")&&(e||i).preventDefault();var s=(e||n).target;if(s===this.eBodyViewport||s===this.ctrlsService.getCenterRowContainerCtrl().getViewportElement()){if(!this.contextMenuFactory)return;e?this.contextMenuFactory.onContextMenu(e,null,null,null,null,this.eGridBody):i&&this.contextMenuFactory.onContextMenu(null,i,null,null,null,this.eGridBody)}}},t.prototype.mockContextMenuForIPad=function(e){if(Bh()){var n=new ca(this.eBodyViewport);this.addManagedListener(n,ca.EVENT_LONG_TAP,function(o){e(void 0,o.touchStart,o.touchEvent)}),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.onBodyViewportWheel=function(e){!this.gridOptionsService.get("suppressScrollWhenPopupsAreOpen")||this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.onStickyTopWheel=function(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var n=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(n+e),this.eBodyViewport.scrollTop-n},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new jae(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.onPinnedRowDataChanged=function(){this.setFloatingHeights()},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,n=e.getPinnedTopTotalHeight();n&&(n+=1);var i=e.getPinnedBottomTotalHeight();i&&(i+=1),this.comp.setTopHeight(n),this.comp.setBottomHeight(i),this.comp.setTopDisplay(n?"inherit":"none"),this.comp.setBottomDisplay(i?"inherit":"none"),this.setStickyTopOffsetTop()},t.prototype.setStickyTopHeight=function(e){void 0===e&&(e=0),this.comp.setStickyTopHeight("".concat(e,"px")),this.stickyTopHeight=e},t.prototype.getStickyTopHeight=function(){return this.stickyTopHeight},t.prototype.setStickyTopWidth=function(e){if(e){var n=this.gridOptionsService.getScrollbarWidth();this.comp.setStickyTopWidth("calc(100% - ".concat(n,"px)"))}else this.comp.setStickyTopWidth("100%")},t.prototype.onHeaderHeightChanged=function(){this.setStickyTopOffsetTop()},t.prototype.setStickyTopOffsetTop=function(){var n=this.ctrlsService.getGridHeaderCtrl().getHeaderHeight()+this.filterManager.getHeaderHeight(),i=this.pinnedRowModel.getPinnedTopTotalHeight(),o=0;n>0&&(o+=n+1),i>0&&(o+=i+1),this.comp.setStickyTopTop("".concat(o,"px"))},t.prototype.sizeColumnsToFit=function(e,n){var i=this,s=this.isVerticalScrollShowing()?this.gridOptionsService.getScrollbarWidth():0,v=Vm(this.eGridBody)-s;v>0?this.columnModel.sizeColumnsToFit(v,"sizeColumnsToFit",!1,e):void 0===n?window.setTimeout(function(){i.sizeColumnsToFit(e,100)},0):100===n?window.setTimeout(function(){i.sizeColumnsToFit(e,500)},100):500===n?window.setTimeout(function(){i.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},Os([be("animationFrameService")],t.prototype,"animationFrameService",void 0),Os([be("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Os([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Os([be("columnModel")],t.prototype,"columnModel",void 0),Os([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Os([pr("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),Os([be("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Os([be("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Os([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Os([be("rowRenderer")],t.prototype,"rowRenderer",void 0),Os([be("popupService")],t.prototype,"popupService",void 0),Os([be("mouseEventService")],t.prototype,"mouseEventService",void 0),Os([be("rowModel")],t.prototype,"rowModel",void 0),Os([be("filterManager")],t.prototype,"filterManager",void 0),t}(Pt),PS=(()=>(function(r){r[r.FILL=0]="FILL",r[r.RANGE=1]="RANGE"}(PS||(PS={})),PS))(),Zm=(()=>(function(r){r[r.VALUE=0]="VALUE",r[r.DIMENSION=1]="DIMENSION"}(Zm||(Zm={})),Zm))(),kS="ag-cell-range-selected",ele=function(){function r(t,e){this.beans=t,this.cellCtrl=e}return r.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},r.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(kS,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(kS,"-1"),1===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(kS,"-2"),2===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(kS,"-3"),3===this.rangeCount),this.cellComp.addOrRemoveCssClass("".concat(kS,"-4"),this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),T_(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},r.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),i=!e&&t.right,o=!e&&t.bottom,s=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",s)},r.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},r.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(n){return ja([Zm.DIMENSION,Zm.VALUE],n.type)})},r.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},r.prototype.getRangeBorders=function(){var z,re,t=this,e=this.beans.gridOptionsService.get("enableRtl"),n=!1,i=!1,o=!1,s=!1,l=this.cellCtrl.getCellPosition().column,v=this.beans,D=v.rangeService,F=v.columnModel;e?(z=F.getDisplayedColAfter(l),re=F.getDisplayedColBefore(l)):(z=F.getDisplayedColBefore(l),re=F.getDisplayedColAfter(l));var ae=D.getCellRanges().filter(function(Ie){return D.isCellInSpecificRange(t.cellCtrl.getCellPosition(),Ie)});z||(s=!0),re||(i=!0);for(var fe=0;fe<ae.length&&!(n&&i&&o&&s);fe++){var ge=ae[fe],we=D.getRangeStartRow(ge),Te=D.getRangeEndRow(ge);!n&&this.beans.rowPositionUtils.sameRow(we,this.cellCtrl.getCellPosition())&&(n=!0),!o&&this.beans.rowPositionUtils.sameRow(Te,this.cellCtrl.getCellPosition())&&(o=!0),!s&&z&&ge.columns.indexOf(z)<0&&(s=!0),!i&&re&&ge.columns.indexOf(re)<0&&(i=!0)}return{top:n,right:i,bottom:o,left:s}},r.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},r.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,n=t.rangeService,i=n.getCellRanges(),o=i.length;if(this.rangeCount<1||o<1)return!1;var s=Sr(i),l=this.cellCtrl.getCellPosition(),v=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),D=e.get("enableRangeHandle"),F=1===o&&!this.cellCtrl.isEditing()&&(v||D);if(this.hasChartRange){var re=i[0].type===Zm.DIMENSION&&n.isCellInSpecificRange(l,i[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",re),F=s.type===Zm.VALUE}return F&&null!=s.endRow&&n.isContiguousRange(s)&&n.isBottomRightCell(s,l)},r.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsService,i=Sr(t.rangeService.getCellRanges()).type,s=e.get("enableFillHandle")&&An(i)?PS.FILL:PS.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==s&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(s)),this.selectionHandle.refresh(this.cellCtrl)},r.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},r}(),tle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nle=function(r){function t(e,n){var i=r.call(this)||this;return i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i.setupColSpan(),i.setupRowSpan(),i}return tle(t,r),t.prototype.setupRowSpan=function(){var e=this;this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onNewColumnsLoaded=function(){var e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();$c(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width="".concat(e,"px")}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,n){return e+n.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),n=[];if(1===e)n.push(this.column);else for(var i=this.column,o=this.column.getPinned(),s=0;i&&s<e&&(n.push(i),(i=this.beans.columnModel.getDisplayedColAfter(i))&&!An(i)&&o===i.getPinned());s++);return n},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Sr(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;var n=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?n+this.beans.columnModel.getBodyContainerWidth()+(e||0):n+(e||0)},t.prototype.applyRowSpan=function(e){if(1!==this.rowSpan||e){var n=this.beans.gridOptionsService.getRowHeightAsNumber();this.eGui.style.height="".concat(n*this.rowSpan,"px"),this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Pt),rle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ile=function(r){function t(e,n){var i=r.call(this)||this;return i.staticClasses=[],i.cellCtrl=e,i.beans=n,i.column=e.getColumn(),i.rowNode=e.getRowNode(),i}return rle(t,r),t.prototype.setComp=function(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,n=this.column.getColDef(),i=n.cellClassRules,o={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:n,column:this.column,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.beans.stylingService.processClassRules(i===this.cellClassRules?void 0:this.cellClassRules,i,o,function(s){return e.cellComp.addOrRemoveCssClass(s,!0)},function(s){return e.cellComp.addOrRemoveCssClass(s,!1)}),this.cellClassRules=i},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var n;if("function"==typeof e.cellStyle){var i={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};n=(0,e.cellStyle)(i)}else n=e.cellStyle;n&&this.cellComp.setUserStyles(n)}},t.prototype.applyClassesFromColDef=function(){var e=this,n=this.column.getColDef(),i={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:n,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context};this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(n,i),this.staticClasses.length&&this.staticClasses.forEach(function(o){return e.cellComp.addOrRemoveCssClass(o,!0)})},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Pt),ole=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),O6=function(r){function t(e,n){var i=r.call(this)||this;return i.ctrl=e,i.beans=n,i}return ole(t,r),t.prototype.setComp=function(e){this.eGui=e,this.setupTooltip()},t.prototype.setBrowserTooltip=function(e){var n="title";null!=e&&""!=e?this.eGui.setAttribute(n,e):this.eGui.removeAttribute(n)},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsService.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?this.setBrowserTooltip(this.tooltip):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var n,i,o,s,e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new a6({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}},null===(i=(n=this.ctrl).getTooltipShowDelayOverride)||void 0===i?void 0:i.call(n),null===(s=(o=this.ctrl).getTooltipHideDelayOverride)||void 0===s?void 0:s.call(o)),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.setBrowserTooltip(this.tooltip)},t.prototype.getTooltipParams=function(){var e=this,n=this.ctrl,i=n.getColumn?n.getColumn():void 0,o=n.getColDef?n.getColDef():void 0,s=n.getRowNode?n.getRowNode():void 0;return{location:n.getLocation(),colDef:o,column:i,rowIndex:n.getRowIndex?n.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:n.getValueFormatted?n.getValueFormatted():void 0,hideTooltipCallback:function(){return e.genericTooltipFeature.hideTooltip(!0)}}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Pt),qn=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},x7=function(){function r(){}return r.prototype.postConstruct=function(){this.gridOptionsService.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gridOptionsService.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)},qn([be("resizeObserverService")],r.prototype,"resizeObserverService",void 0),qn([be("paginationProxy")],r.prototype,"paginationProxy",void 0),qn([be("context")],r.prototype,"context",void 0),qn([be("columnApi")],r.prototype,"columnApi",void 0),qn([be("gridApi")],r.prototype,"gridApi",void 0),qn([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),qn([be("expressionService")],r.prototype,"expressionService",void 0),qn([be("environment")],r.prototype,"environment",void 0),qn([be("rowRenderer")],r.prototype,"rowRenderer",void 0),qn([be("templateService")],r.prototype,"templateService",void 0),qn([be("valueService")],r.prototype,"valueService",void 0),qn([be("eventService")],r.prototype,"eventService",void 0),qn([be("columnModel")],r.prototype,"columnModel",void 0),qn([be("headerNavigationService")],r.prototype,"headerNavigationService",void 0),qn([be("navigationService")],r.prototype,"navigationService",void 0),qn([be("columnAnimationService")],r.prototype,"columnAnimationService",void 0),qn([pr("rangeService")],r.prototype,"rangeService",void 0),qn([be("focusService")],r.prototype,"focusService",void 0),qn([pr("contextMenuFactory")],r.prototype,"contextMenuFactory",void 0),qn([be("popupService")],r.prototype,"popupService",void 0),qn([be("valueFormatterService")],r.prototype,"valueFormatterService",void 0),qn([be("stylingService")],r.prototype,"stylingService",void 0),qn([be("columnHoverService")],r.prototype,"columnHoverService",void 0),qn([be("userComponentFactory")],r.prototype,"userComponentFactory",void 0),qn([be("userComponentRegistry")],r.prototype,"userComponentRegistry",void 0),qn([be("animationFrameService")],r.prototype,"animationFrameService",void 0),qn([be("dragService")],r.prototype,"dragService",void 0),qn([be("dragAndDropService")],r.prototype,"dragAndDropService",void 0),qn([be("sortController")],r.prototype,"sortController",void 0),qn([be("filterManager")],r.prototype,"filterManager",void 0),qn([be("rowContainerHeightService")],r.prototype,"rowContainerHeightService",void 0),qn([be("frameworkOverrides")],r.prototype,"frameworkOverrides",void 0),qn([be("cellPositionUtils")],r.prototype,"cellPositionUtils",void 0),qn([be("rowPositionUtils")],r.prototype,"rowPositionUtils",void 0),qn([be("selectionService")],r.prototype,"selectionService",void 0),qn([pr("selectionHandleFactory")],r.prototype,"selectionHandleFactory",void 0),qn([be("rowCssClassCalculator")],r.prototype,"rowCssClassCalculator",void 0),qn([be("rowModel")],r.prototype,"rowModel",void 0),qn([be("ctrlsService")],r.prototype,"ctrlsService",void 0),qn([be("ctrlsFactory")],r.prototype,"ctrlsFactory",void 0),qn([be("agStackComponentsRegistry")],r.prototype,"agStackComponentsRegistry",void 0),qn([be("valueCache")],r.prototype,"valueCache",void 0),qn([be("rowNodeEventThrottle")],r.prototype,"rowNodeEventThrottle",void 0),qn([be("localeService")],r.prototype,"localeService",void 0),qn([be("valueParserService")],r.prototype,"valueParserService",void 0),qn([be("syncService")],r.prototype,"syncService",void 0),qn([Gt],r.prototype,"postConstruct",null),qn([Jt("beans")],r)}(),sle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ale=function(r){function t(e,n,i){var o=r.call(this)||this;return o.cellCtrl=e,o.beans=n,o.column=i,o}return sle(t,r),t.prototype.onMouseEvent=function(e,n){if(!xl(n))switch(e){case"click":this.onCellClicked(n);break;case"mousedown":case"touchstart":this.onMouseDown(n);break;case"dblclick":this.onCellDoubleClicked(n);break;case"mouseout":this.onMouseOut(n);break;case"mouseover":this.onMouseOver(n)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var n=this.beans,i=n.eventService,o=n.rangeService,s=n.gridOptionsService;o&&(e.ctrlKey||e.metaKey)&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);var v=this.cellCtrl.createEvent(e,Ce.EVENT_CELL_CLICKED);i.dispatchEvent(v);var D=this.column.getColDef();D.onCellClicked&&window.setTimeout(function(){return D.onCellClicked(v)},0),(s.get("singleClickEdit")||D.singleClickEdit)&&!s.get("suppressClickEdit")&&(!e.shiftKey||0==o?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!Bh()||b3("dblclick"))return!1;var e=(new Date).getTime(),n=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,n},t.prototype.onCellDoubleClicked=function(e){var n=this.column.getColDef(),i=this.cellCtrl.createEvent(e,Ce.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(i),"function"==typeof n.onCellDoubleClicked&&window.setTimeout(function(){return n.onCellDoubleClicked(i)},0),!this.beans.gridOptionsService.get("singleClickEdit")&&!this.beans.gridOptionsService.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)},t.prototype.onMouseDown=function(e){var n=e.ctrlKey,i=e.metaKey,o=e.shiftKey,s=e.target,v=this.cellCtrl,D=this.beans,F=D.eventService,z=D.rangeService,re=D.focusService;if(!this.isRightClickInExistingRange(e)){var ae=z&&0!=z.getCellRanges().length;if(!o||!ae){var fe=Ml()&&!v.isEditing()&&!Y3(s);v.focusCell(fe)}if(o&&ae&&!re.isCellFocused(v.getCellPosition())){e.preventDefault();var ge=re.getFocusedCell();if(ge){var we=ge.column,Te=ge.rowIndex,Ie=ge.rowPinned,et=D.rowRenderer.getRowByPosition({rowIndex:Te,rowPinned:Ie})?.getCellCtrl(we);et?.isEditing()&&et.stopEditing(),re.setFocusedCell({column:we,rowIndex:Te,rowPinned:Ie,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(z){var gt=this.cellCtrl.getCellPosition();o?z.extendLatestRangeToCell(gt):z.setRangeToCell(gt,n||i)}F.dispatchEvent(this.cellCtrl.createEvent(e,Ce.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var n=this.beans.rangeService;if(n){var i=n.isCellInAnyRange(this.cellCtrl.getCellPosition()),o=2===e.button||e.ctrlKey&&this.beans.gridOptionsService.get("allowContextMenuWithControlKey");if(i&&o)return!0}return!1},t.prototype.containsWidget=function(e){return Lm(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,Ce.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var n=this.cellCtrl.createEvent(e,Ce.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(n),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var n=this.cellCtrl.getGui(),i=n.contains(e.target),o=n.contains(e.relatedTarget);return i&&o},t.prototype.destroy=function(){},t}(x7),lle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ule=function(r){function t(e,n,i,o,s){var l=r.call(this)||this;return l.cellCtrl=e,l.beans=n,l.rowNode=o,l.rowCtrl=s,l}return lle(t,r),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var n=e.key;switch(n){case it.ENTER:this.onEnterKeyDown(e);break;case it.F2:this.onF2KeyDown(e);break;case it.ESCAPE:this.onEscapeKeyDown(e);break;case it.TAB:this.onTabKeyDown(e);break;case it.BACKSPACE:case it.DELETE:this.onBackspaceOrDeleteKeyDown(n,e);break;case it.DOWN:case it.UP:case it.RIGHT:case it.LEFT:this.onNavigationKeyDown(e,n)}},t.prototype.onNavigationKeyDown=function(e,n){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,n,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var n=this.beans.rangeService.extendLatestRangeInDirection(e);n&&this.beans.navigationService.ensureCellVisible(n)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyDown=function(e,n){var i=this,o=i.cellCtrl,s=i.beans,l=i.rowNode,v=s.gridOptionsService,D=s.rangeService,F=s.eventService;o.isEditing()||(F.dispatchEvent({type:Ce.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),N9(e,v.get("enableCellEditingOnBackspace"))?D&&v.get("enableRangeSelection")?D.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"}):o.isCellEditable()&&l.setDataValue(o.getColumn(),null,"cellClear"):o.startRowOrCellEdit(e,n),F.dispatchEvent({type:Ce.EVENT_KEY_SHORTCUT_CHANGED_CELL_END}))},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey):this.beans.gridOptionsService.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,e.shiftKey?it.UP:it.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(it.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(it.F2,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.processCharacter=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var o=e.key;" "===o?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(o,e),e.preventDefault())}},t.prototype.onSpaceKeyDown=function(e){var n=this.beans.gridOptionsService;if(!this.cellCtrl.isEditing()&&n.isRowSelection()){var i=this.rowNode.isSelected(),o=!i;if(o||!n.get("suppressRowDeselection")){var s=this.beans.gridOptionsService.get("groupSelectsFiltered"),l=this.rowNode.setSelectedParams({newValue:o,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});void 0===i&&0===l&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()},t.prototype.destroy=function(){r.prototype.destroy.call(this)},t}(Pt),cle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hle=function(r){function t(e,n,i){var o=r.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return o.rowNode=e,o.column=n,o.eCell=i,o}return cle(t,r),t.prototype.postConstruct=function(){this.getGui().appendChild(Mi("rowDrag",this.gridOptionsService,null)),this.addGuiEventListener("mousedown",function(n){n.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var n=this,i=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),i?i({rowNode:this.rowNode,dragEvent:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):function(){try{var l=JSON.stringify(n.rowNode.data);e.dataTransfer.setData("application/json",l),e.dataTransfer.setData("text/plain",l)}catch{}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(Kn),ZA=function(){function r(){}return r.getHeaderClassesFromColDef=function(t,e,n,i){return An(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,n,i)},r.getToolPanelClassesFromColDef=function(t,e,n,i){return An(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,n,i)},r.refreshFirstAndLastStyles=function(t,e,n){t.addOrRemoveCssClass("ag-column-first",n.isColumnAtEdge(e,"first")),t.addOrRemoveCssClass("ag-column-last",n.isColumnAtEdge(e,"last"))},r.getClassParams=function(t,e,n,i){return{colDef:t,column:n,columnGroup:i,api:e.api,columnApi:e.columnApi,context:e.context}},r.getColumnClassesFromCollDef=function(t,e,n,i,o){return An(t)?[]:"string"==typeof(s="function"==typeof t?t(this.getClassParams(e,n,i,o)):t)?[s]:Array.isArray(s)?function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(s),!1):[];var s},r}(),vle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),QA=function(){return QA=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},QA.apply(this,arguments)},xle=0,Qm=function(r){function t(e,n,i,o){var s=r.call(this)||this;s.cellRangeFeature=null,s.cellPositionFeature=null,s.cellCustomStyleFeature=null,s.tooltipFeature=null,s.cellMouseListenerFeature=null,s.cellKeyboardListenerFeature=null,s.suppressRefreshCell=!1,s.onCellCompAttachedFuncs=[],s.column=e,s.rowNode=n,s.beans=i,s.rowCtrl=o,s.instanceId=e.getId()+"-"+xle++;var l=s.column.getColDef();return s.colIdSanitised=zi(s.column.getId()),s.beans.gridOptionsService.get("suppressCellFocus")||(s.tabIndex=-1),s.isCellRenderer=null!=l.cellRenderer||null!=l.cellRendererSelector,s.createCellPosition(),s.addFeatures(),s.updateAndFormatValue(!1),s}return vle(t,r),t.prototype.shouldRestoreFocus=function(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)},t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new nle(this,this.beans),this.addDestroyFunc(function(){var i;null===(i=e.cellPositionFeature)||void 0===i||i.destroy(),e.cellPositionFeature=null}),this.cellCustomStyleFeature=new ile(this,this.beans),this.addDestroyFunc(function(){var i;null===(i=e.cellCustomStyleFeature)||void 0===i||i.destroy(),e.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new ale(this,this.beans,this.column),this.addDestroyFunc(function(){var i;null===(i=e.cellMouseListenerFeature)||void 0===i||i.destroy(),e.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new ule(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){var i;null===(i=e.cellKeyboardListenerFeature)||void 0===i||i.destroy(),e.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(function(){e.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gridOptionsService.get("enableRangeSelection")&&(this.cellRangeFeature=new ele(this.beans,this),this.addDestroyFunc(function(){var i;null===(i=e.cellRangeFeature)||void 0===i||i.destroy(),e.cellRangeFeature=null}))},t.prototype.enableTooltipFeature=function(){var e=this;this.tooltipFeature=new O6({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var o=e.column.getColDef(),s=e.rowNode.data;if(o.tooltipField&&Tt(s))return E_(s,o.tooltipField,e.column.isTooltipFieldContainsDots());var l=o.tooltipValueGetter;return l?l({location:"cell",api:e.beans.gridOptionsService.api,columnApi:e.beans.gridOptionsService.columnApi,context:e.beans.gridOptionsService.context,colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans)},t.prototype.disableTooltipFeature=function(){!this.tooltipFeature||(this.tooltipFeature.destroy(),this.tooltipFeature=null)},t.prototype.setComp=function(e,n,i,o,s){var l,v,D,F;this.cellComp=e,this.eGui=n,this.printLayout=o,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null===(l=this.cellPositionFeature)||void 0===l||l.setComp(n),null===(v=this.cellCustomStyleFeature)||void 0===v||v.setComp(e),null===(D=this.tooltipFeature)||void 0===D||D.setComp(n),null===(F=this.cellKeyboardListenerFeature)||void 0===F||F.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),s&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(function(z){return z()}),this.onCellCompAttachedFuncs=[])},t.prototype.setupAutoHeight=function(e){var n=this;if(this.isAutoHeight=this.column.isAutoHeight(),this.isAutoHeight&&e){var i=e.parentElement,o=this.beans.gridOptionsService.getRowHeightForNode(this.rowNode).height,s=function(D){if(!n.editing&&n.isAlive()){var F=Gh(i),Te=e.offsetHeight+(F.paddingTop+F.paddingBottom+F.borderBottomWidth+F.borderTopWidth);if(D<5){var Ie=n.beans.gridOptionsService.getDocument();if(!Ie||!Ie.contains(e)||0==Te)return void n.beans.frameworkOverrides.setTimeout(function(){return s(D+1)},0)}var gt=Math.max(Te,o);n.rowNode.setRowAutoHeight(gt,n.column)}},l=function(){return s(0)};l();var v=this.beans.resizeObserverService.observeResize(e,l);this.addDestroyFunc(function(){v(),n.rowNode.setRowAutoHeight(void 0,n.column)})}},t.prototype.getCellAriaRole=function(){var e;return null!==(e=this.column.getColDef().cellAriaRole)&&void 0!==e?e:"gridcell"},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getIncludeSelection=function(){return this.includeSelection},t.prototype.getIncludeRowDrag=function(){return this.includeRowDrag},t.prototype.getIncludeDndSource=function(){return this.includeDndSource},t.prototype.getColumnIdSanitised=function(){return this.colIdSanitised},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.getIsCellRenderer=function(){return this.isCellRenderer},t.prototype.getValueToDisplay=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},t.prototype.showValue=function(e){void 0===e&&(e=!1);var i,n=this.getValueToDisplay();if(this.isCellRenderer){var o=this.createCellRendererParams();i=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),o)}this.cellComp.setRenderDetails(i,n,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsService.get("enableCellTextSelection")||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),n=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),o=this.includeDndSource!=this.isIncludeControl(e.dndSource);return n||i||o},t.prototype.startEditing=function(e,n,i){var o=this;if(void 0===e&&(e=null),void 0===n&&(n=!1),void 0===i&&(i=null),this.isCellEditable()&&!this.editing){if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(function(){o.startEditing(e,n,i)});var s=this.createCellEditorParams(e,n),l=this.column.getColDef(),v=this.beans.userComponentFactory.getCellEditorDetails(l,s),D=null!=v?.popupFromSelector?v.popupFromSelector:!!l.cellEditorPopup,F=null!=v?.popupPositionFromSelector?v.popupPositionFromSelector:l.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(v,D,F);var z=this.createEvent(i,Ce.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(z)}},t.prototype.setEditing=function(e){this.editing!==e&&(this.editing=e,this.refreshHandle())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),"fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var n={newValueExists:!1};if(e)return n;var i=this.cellComp.getCellEditor();return i?i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}:n},t.prototype.saveNewValue=function(e,n){if(n===e)return!1;this.suppressRefreshCell=!0;var i=this.rowNode.setDataValue(this.column,n,"edit");return this.suppressRefreshCell=!1,i},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),!this.editing)return!1;var n=this.takeValueFromCellEditor(e),i=n.newValue,o=n.newValueExists,s=this.rowNode.getValueFromValueService(this.column),l=!1;return o&&(l=this.saveNewValue(s,i)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,i,!e&&!!l),l},t.prototype.dispatchEditingStoppedEvent=function(e,n,i){var o=QA(QA({},this.createEvent(null,Ce.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:n,valueChanged:i});this.beans.eventService.dispatchEvent(o)},t.prototype.createCellEditorParams=function(e,n){return{value:this.rowNode.getValueFromValueService(this.column),eventKey:e,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsService.api,cellStartedEdit:n,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},t.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:function(){return e.rowNode.getValueFromValueService(e.column)},setValue:function(i){return e.beans.valueService.setValue(e.rowNode,e.column,i)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsService.api,columnApi:this.beans.gridOptionsService.columnApi,context:this.beans.gridOptionsService.context,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(i,o,s,l){return e.registerRowDragger(i,o,l)}}},t.prototype.parseValue=function(e){return this.beans.valueParserService.parseValue(this.column,this.rowNode,e,this.getValue())},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},t.prototype.refreshOrDestroyCell=function(e){var n;this.refreshShouldDestroy()?null===(n=this.rowCtrl)||void 0===n||n.refreshCell(this):this.refreshCell(e)},t.prototype.refreshCell=function(e){var n,i,o;if(!this.suppressRefreshCell&&!this.editing){var s=this.column.getColDef(),l=null!=e&&!!e.newData,v=null!=e&&!!e.suppressFlash||!!s.suppressCellFlash,F=e&&e.forceRefresh||null==s.field&&null==s.valueGetter&&null==s.showRowGroup||l,z=!!this.cellComp,re=this.updateAndFormatValue(z);if(z){if(F||re){this.showValue(l);var fe=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!v&&!fe&&(this.beans.gridOptionsService.get("enableCellChangeFlash")||s.enableCellChangeFlash)&&this.flashCell(),null===(n=this.cellCustomStyleFeature)||void 0===n||n.applyUserStyles(),null===(i=this.cellCustomStyleFeature)||void 0===i||i.applyClassesFromColDef()}this.refreshToolTip(),null===(o=this.cellCustomStyleFeature)||void 0===o||o.applyCellClassRules()}}},t.prototype.stopEditingAndFocus=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit(n)},t.prototype.navigateAfterEdit=function(e){this.beans.gridOptionsService.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,e?it.UP:it.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,n,i){var o=this;if(this.cellComp){var s="ag-cell-".concat(e),l="ag-cell-".concat(e,"-animation"),v=this.beans.gridOptionsService;n||(n=v.get("cellFlashDelay")),Tt(i)||(i=v.get("cellFadeDelay")),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(l,!1),window.setTimeout(function(){!o.isAlive()||(o.cellComp.addOrRemoveCssClass(s,!1),o.cellComp.addOrRemoveCssClass(l,!0),o.eGui.style.transition="background-color ".concat(i,"ms"),window.setTimeout(function(){!o.isAlive()||(o.cellComp.addOrRemoveCssClass(l,!1),o.eGui.style.transition="")},i))},n)}},t.prototype.onFlashCells=function(e){if(this.cellComp){var n=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[n]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var n;return null!==(n=this.callValueFormatter(e))&&void 0!==n?n:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,e)},t.prototype.updateAndFormatValue=function(e){var n=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!e||!this.valuesAreEqual(n,this.value)||this.valueFormatted!=i},t.prototype.valuesAreEqual=function(e,n){var i=this.column.getColDef();return i.equals?i.equals(e,n):e===n},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,n=this.getGui();this.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsService.setDomData(n,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,n){return{type:n,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsService.context,api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex}},t.prototype.processCharacter=function(e){var n;null===(n=this.cellKeyboardListenerFeature)||void 0===n||n.processCharacter(e)},t.prototype.onKeyDown=function(e){var n;null===(n=this.cellKeyboardListenerFeature)||void 0===n||n.onKeyDown(e)},t.prototype.onMouseEvent=function(e,n){var i;null===(i=this.cellMouseListenerFeature)||void 0===i||i.onMouseEvent(e,n)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){var e;null===(e=this.tooltipFeature)||void 0===e||e.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){var e;!this.cellComp||null===(e=this.cellPositionFeature)||void 0===e||e.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.eGui||(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())},t.prototype.refreshFirstAndLastStyles=function(){var e=this;ZA.refreshFirstAndLastStyles(e.cellComp,e.column,e.beans.columnModel)},t.prototype.refreshAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);O3(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){var e;return null===(e=this.cellPositionFeature)||void 0===e?void 0:e.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,n){void 0===n&&(n=null),this.cellComp&&("fullRow"===this.beans.gridOptionsService.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,n))},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(!this.beans.gridOptionsService.get("suppressCellFocus")){var n=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(n&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",n),n&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!e.preventScrollOnBrowserFocus});var o="fullRow"===this.beans.gridOptionsService.get("editType");!n&&!o&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:yu(this.rowNode.rowPinned),column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsService.get("columnHoverHighlight")){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onColDefChanged=function(){var e,n;this.cellComp&&(this.column.isAutoHeight()!==this.isAutoHeight&&(null===(e=this.rowCtrl)||void 0===e||e.refreshCell(this)),this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature(),null===(n=this.tooltipFeature)||void 0===n||n.setComp(this.eGui)):this.disableTooltipFeature(),this.setWrapText(),this.editing||this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var n=this.column.getColDef(),i=this.createEvent(e,Ce.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),n.onCellContextMenu&&window.setTimeout(function(){return n.onCellContextMenu(i)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){this.onCellCompAttachedFuncs=[],r.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new p7;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new hle(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,n,i){var o=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,n);else{var s=this.createRowDragComp(e,n,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(function(){o.beans.context.destroyBean(s),o.customRowDragComp=null}))}},t.prototype.createRowDragComp=function(e,n,i){var o=this,s=this.beans.gridOptionsService.get("pagination"),l=this.beans.gridOptionsService.get("rowDragManaged"),v=this.beans.gridOptionsService.isRowModelType("clientSide");if(l){if(!v)return void $n("managed row dragging is only allowed in the Client Side Row Model");if(s)return void $n("managed row dragging is not possible when doing pagination")}var D=new qA(function(){return o.value},this.rowNode,this.column,e,n,i);return this.beans.context.createBean(D),D},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(Pt),Rle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),M6=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},I6=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},cs=(()=>(function(r){r.Normal="Normal",r.FullWidth="FullWidth",r.FullWidthLoading="FullWidthLoading",r.FullWidthGroup="FullWidthGroup",r.FullWidthDetail="FullWidthDetail"}(cs||(cs={})),cs))(),Ole=0,Xm=function(r){function t(e,n,i,o,s){var l=r.call(this)||this;return l.allRowGuis=[],l.active=!0,l.centerCellCtrls={list:[],map:{}},l.leftCellCtrls={list:[],map:{}},l.rightCellCtrls={list:[],map:{}},l.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},l.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},l.rowDragComps=[],l.lastMouseDownOnDragger=!1,l.emptyStyle={},l.updateColumnListsPending=!1,l.rowId=null,l.businessKeySanitised=null,l.beans=n,l.gridOptionsService=n.gridOptionsService,l.rowNode=e,l.paginationPage=n.paginationProxy.getCurrentPage(),l.useAnimationFrameForCreate=o,l.printLayout=s,l.instanceId=e.id+"-"+Ole++,l.rowId=zi(e.id),l.initRowBusinessKey(),l.rowFocused=n.focusService.isRowFocused(l.rowNode.rowIndex,l.rowNode.rowPinned),l.rowLevel=n.rowCssClassCalculator.calculateRowLevel(l.rowNode),l.setRowType(),l.setAnimateFlags(i),l.rowStyles=l.processStylesFromGridOptions(),l.isFullWidth()&&!l.gridOptionsService.get("suppressCellFocus")&&(l.tabIndex=-1),l.addListeners(),l}return Rle(t,r),t.prototype.initRowBusinessKey=function(){this.businessKeyForNodeFunc=this.gridOptionsService.get("getBusinessKeyForNode"),this.updateRowBusinessKey()},t.prototype.updateRowBusinessKey=function(){if("function"==typeof this.businessKeyForNodeFunc){var e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=zi(e)}},t.prototype.getRowId=function(){return this.rowId},t.prototype.getRowStyles=function(){return this.rowStyles},t.prototype.getTabIndex=function(){return this.tabIndex},t.prototype.isSticky=function(){return this.rowNode.sticky},t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n,i){var o={rowComp:e,element:n,containerType:i};this.allRowGuis.push(o),i===qi.LEFT?this.leftGui=o:i===qi.RIGHT?this.rightGui=o:i===qi.FULL_WIDTH?this.fullWidthGui=o:this.centerGui=o,this.initialiseRowComp(o),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()},t.prototype.unsetComp=function(e){switch(this.allRowGuis=this.allRowGuis.filter(function(n){return n.containerType!==e}),e){case qi.LEFT:this.leftGui=void 0;break;case qi.RIGHT:this.rightGui=void 0;break;case qi.FULL_WIDTH:this.fullWidthGui=void 0;break;case qi.CENTER:this.centerGui=void 0}},t.prototype.isCacheable=function(){return this.rowType===cs.FullWidthDetail&&this.gridOptionsService.get("keepDetailRows")},t.prototype.setCached=function(e){var n=e?"none":"";this.allRowGuis.forEach(function(i){return i.element.style.display=n})},t.prototype.initialiseRowComp=function(e){var n=this,i=this.gridOptionsService;this.listenOnDomOrder(e),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);var o=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(function(l){return o.addOrRemoveCssClass(l,!0)}),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&Ol(e.element,1==this.rowNode.expanded),this.setRowCompRowId(o),this.setRowCompRowBusinessKey(o),i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(function(){return i.setDomData(e.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,e.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(e.element),this.isFullWidth()&&this.setupFullWidth(e),i.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(function(){!n.isAlive()||e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()},t.prototype.setRowCompRowBusinessKey=function(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)},t.prototype.getBusinessKey=function(){return this.businessKeySanitised},t.prototype.setRowCompRowId=function(e){this.rowId=zi(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)},t.prototype.executeSlideAndFadeAnimations=function(e){var n=this,i=e.containerType;this.slideInAnimation[i]&&(f3(function(){n.onTopChanged()}),this.slideInAnimation[i]=!1),this.fadeInAnimation[i]&&(f3(function(){e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[i]=!1)},t.prototype.addRowDraggerToRow=function(e){if(this.gridOptionsService.get("enableRangeSelection"))$n("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");else{var n=this.beans.localeService.getLocaleTextFunc(),i=new qA(function(){return"1 ".concat(n("rowDragRow","row"))},this.rowNode,void 0,e.element,void 0,!0),o=this.createBean(i,this.beans.context);this.rowDragComps.push(o)}},t.prototype.setupFullWidth=function(e){var n=this.getPinnedForContainer(e.containerType),i=this.createFullWidthParams(e.element,n);if(this.rowType!=cs.FullWidthDetail||Yn.__assertRegistered(rn.MasterDetailModule,"cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId())){var o;switch(this.rowType){case cs.FullWidthDetail:o=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);break;case cs.FullWidthGroup:o=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);break;case cs.FullWidthLoading:o=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);break;default:o=this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}e.rowComp.showFullWidth(o)}},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.getFullWidthCellRenderer=function(){var e,n;return null===(n=null===(e=this.fullWidthGui)||void 0===e?void 0:e.rowComp)||void 0===n?void 0:n.getFullWidthCellRenderer()},t.prototype.getCellElement=function(e){var n=this.getCellCtrl(e);return n?n.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.gridOptionsService.getCallback("processRowPostCreate");e&&this.areAllContainersReady()&&e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},t.prototype.areAllContainersReady=function(){var e=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),n=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return e&&n&&i},t.prototype.setRowType=function(){var e=this.rowNode.stub,n=this.rowNode.isFullWidthCell(),i=this.gridOptionsService.get("masterDetail")&&this.rowNode.detail,o=this.beans.columnModel.isPivotMode(),l=!!this.rowNode.group&&!this.rowNode.footer&&this.gridOptionsService.isGroupUseEntireRow(o);this.rowType=e?cs.FullWidthLoading:i?cs.FullWidthDetail:n?cs.FullWidth:l?cs.FullWidthGroup:cs.Normal},t.prototype.updateColumnLists=function(e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=!1),!this.isFullWidth()){if(e||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout)return void this.updateColumnListsImpl(n);this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!i.active||i.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,n,i){var o=this;void 0===i&&(i=null);var s={list:[],map:{}},l=function(v,D){s.list.push(D),s.map[v]=D};return n.forEach(function(v){var D=v.getInstanceId(),F=e.map[D];F||(F=new Qm(v,o.rowNode,o.beans,o)),l(D,F)}),e.list.forEach(function(v){if(null==s.map[v.getColumn().getInstanceId()]){if(!o.isCellEligibleToBeRemoved(v,i))return void l(v.getColumn().getInstanceId(),v);v.destroy()}}),s},t.prototype.updateColumnListsImpl=function(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)},t.prototype.setCellCtrls=function(e){var n=this;this.allRowGuis.forEach(function(i){var o=n.getCellCtrlsForContainer(i.containerType);i.rowComp.setCellCtrls(o,e)})},t.prototype.getCellCtrlsForContainer=function(e){switch(e){case qi.LEFT:return this.leftCellCtrls.list;case qi.RIGHT:return this.rightCellCtrls.list;case qi.FULL_WIDTH:return[];case qi.CENTER:return this.centerCellCtrls.list;default:throw new Error("Unhandled case: ".concat(e))}},t.prototype.createAllCellCtrls=function(){var e=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,e.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=e.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var i=e.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");var o=e.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,o,"right")}},t.prototype.isCellEligibleToBeRemoved=function(e,n){var i=!0;if(e.getColumn().getPinned()!=n)return i;var l=e.isEditing(),v=this.beans.focusService.isCellFocused(e.getCellPosition());if(l||v){var F=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(F)>=0)&&i}return i},t.prototype.getDomOrder=function(){return this.gridOptionsService.get("ensureDomOrder")||this.gridOptionsService.isDomLayout("print")},t.prototype.listenOnDomOrder=function(e){var n=this,i=function(){e.rowComp.setDomOrder(n.getDomOrder())};this.addManagedPropertyListener("domLayout",i),this.addManagedPropertyListener("ensureDomOrder",i)},t.prototype.setAnimateFlags=function(e){if(!this.isSticky()&&e){var n=Tt(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),o=this.beans.columnModel.isPinningRight();if(n){if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=o}else{if(this.isFullWidth()&&!this.gridOptionsService.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=o}}},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==cs.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,n=function(D,F){if(!D)return!0;var z=D.rowComp.getFullWidthCellRenderer();if(!z||!z.refresh)return!1;var re=e.createFullWidthParams(D.element,F);return z.refresh(re)},i=n(this.fullWidthGui,null),o=n(this.centerGui,null),s=n(this.leftGui,"left"),l=n(this.rightGui,"right");return i&&o&&s&&l},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.rowNode,nr.EVENT_HEIGHT_CHANGED,function(){return e.onRowHeightChanged()}),this.addManagedListener(this.rowNode,nr.EVENT_ROW_SELECTED,function(){return e.onRowSelected()}),this.addManagedListener(this.rowNode,nr.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,nr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,nr.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var n=this.beans.eventService;this.addManagedListener(n,Ce.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(n,Ce.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(n,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(n,Ce.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(n,Ce.EVENT_CELL_FOCUSED,this.onCellFocused.bind(this)),this.addManagedListener(n,Ce.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusCleared.bind(this)),this.addManagedListener(n,Ce.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(n,Ce.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(n,Ce.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addDestroyFunc(function(){e.destroyBeans(e.rowDragComps,e.beans.context)}),this.addManagedPropertyListeners(["rowDragEntireRow"],function(){e.gridOptionsService.get("rowDragEntireRow")?e.allRowGuis.forEach(function(o){e.addRowDraggerToRow(o)}):(e.destroyBeans(e.rowDragComps,e.beans.context),e.rowDragComps=[])}),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,nr.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,nr.EVENT_CELL_CHANGED,function(n){e.getAllCellCtrls().forEach(function(i){return i.onCellChanged(n)})})},t.prototype.onRowNodeDataChanged=function(e){var n=this;this.isFullWidth()!==!!this.rowNode.isFullWidthCell()?this.beans.rowRenderer.redrawRow(this.rowNode):this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(function(s){return s.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.allRowGuis.forEach(function(s){n.setRowCompRowId(s.rowComp),n.updateRowBusinessKey(),n.setRowCompRowBusinessKey(s.rowComp)}),this.onRowSelected(),this.postProcessCss())},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(n){var o=e===Cu.Below;n.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===Cu.Above),n.rowComp.addOrRemoveCssClass("ag-row-highlight-below",o)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),n=1==this.rowNode.expanded;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-group",e),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&n),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!n),Ol(i.element,e&&n)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists(!1,!0)},t.prototype.getRowPosition=function(){return{rowPinned:yu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var n=this.allRowGuis.find(function(D){return D.element.contains(e.target)});if((n?n.element:null)===e.target){var s=this.rowNode,l=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:l&&l.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!xl(e)){var n=this.allRowGuis.find(function(l){return l.element.contains(e.target)}),i=n?n.element:null,o=i===e.target,s=null;o||(s=this.beans.focusService.findNextFocusableElement(i,!1,e.shiftKey)),(this.isFullWidth()&&o||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var n,i=this.rowNode,o=!!e&&this.isFullWidth()&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned,s=this.fullWidthGui?this.fullWidthGui.element:null===(n=this.centerGui)||void 0===n?void 0:n.element;!s||(s.classList.toggle("ag-full-width-focus",o),o&&s.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,n){var i={list:[],map:{}};return e.list.forEach(function(o){o!==n&&(i.list.push(o),i.map[o.getInstanceId()]=o)}),i},t.prototype.onMouseEvent=function(e,n){switch(e){case"dblclick":this.onRowDblClick(n);break;case"click":this.onRowClick(n);break;case"touchstart":case"mousedown":this.onRowMouseDown(n)}},t.prototype.createRowEvent=function(e,n){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.gridOptionsService.context,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,event:n}},t.prototype.createRowEventWithSource=function(e,n){var i=this.createRowEvent(e,n);return i.source=this,i},t.prototype.onRowDblClick=function(e){if(!xl(e)){var n=this.createRowEventWithSource(Ce.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(n)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=Lm(e.target,"ag-row-drag",3),this.isFullWidth()){var n=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:n.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:n.rowPinned,forceBrowserFocus:!0})}},t.prototype.onRowClick=function(e){if(!xl(e)&&!this.lastMouseDownOnDragger){var i=this.createRowEventWithSource(Ce.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(i);var o=e.ctrlKey||e.metaKey,s=e.shiftKey;if(!(this.gridOptionsService.get("groupSelectsChildren")&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.gridOptionsService.isRowSelection()||this.gridOptionsService.get("suppressRowClickSelection"))){var v=this.gridOptionsService.get("rowMultiSelectWithClick"),D=!this.gridOptionsService.get("suppressRowDeselection"),F="rowClicked";this.rowNode.isSelected()?v?this.rowNode.setSelectedParams({newValue:!1,event:e,source:F}):o?D&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:F}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!s,rangeSelect:s,event:e,source:F}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!v&&!o,rangeSelect:s,event:e,source:F})}}},t.prototype.setupDetailRowAutoHeight=function(e){var n=this;if(this.rowType===cs.FullWidthDetail&&this.gridOptionsService.get("detailRowAutoHeight")){var i=function(){var s=e.clientHeight;null!=s&&s>0&&n.beans.frameworkOverrides.setTimeout(function(){n.rowNode.setRowHeight(s),n.beans.clientSideRowModel?n.beans.clientSideRowModel.onRowHeightChanged():n.beans.serverSideRowModel&&n.beans.serverSideRowModel.onRowHeightChanged()},0)},o=this.beans.resizeObserverService.observeResize(e,i);this.addDestroyFunc(o),i()}},t.prototype.createFullWidthParams=function(e,n){var i=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridCell:e,eParentOfValue:e,pinned:n,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(s,l,v,D){return i.addFullWidthRowDragging(s,l,v,D)}}},t.prototype.addFullWidthRowDragging=function(e,n,i,o){if(void 0===i&&(i=""),this.isFullWidth()){var s=new qA(function(){return i},this.rowNode,void 0,e,n,o);this.createManagedBean(s,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var n="ag-row-level-"+e,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass(n,!0),o.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),n=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==n&&(this.lastRowOnPage=n,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-last",n)}))},t.prototype.stopEditing=function(e){var n,i;if(void 0===e&&(e=!1),!this.stoppingRowEdit){var o=this.getAllCellCtrls(),s=this.editingRow;this.stoppingRowEdit=!0;var l=!1;try{for(var v=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(o),D=v.next();!D.done;D=v.next()){var z=D.value.stopEditing(e);s&&!e&&!l&&z&&(l=!0)}}catch(ae){n={error:ae}}finally{try{D&&!D.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}if(l){var re=this.createRowEvent(Ce.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(re)}s&&this.setEditingRow(!1),this.stoppingRowEdit=!1}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var n=this.createRowEvent(e?Ce.EVENT_ROW_EDITING_STARTED:Ce.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(n)},t.prototype.startRowEditing=function(e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),this.editingRow||this.getAllCellCtrls().reduce(function(s,l){var v=l===n;return l.startEditing(v?e:null,v,i),!!s||l.isEditing()},!1)&&this.setEditingRow(!0)},t.prototype.getAllCellCtrls=function(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:I6(I6(I6([],M6(this.centerCellCtrls.list),!1),M6(this.leftCellCtrls.list),!1),M6(this.rightCellCtrls.list),!1)},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,n=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!n||!n.length||n.forEach(function(i){e.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass(i,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!0)})},function(n){e.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass(n,!1)})})},t.prototype.setStylesFromGridOptions=function(e,n){var i=this;e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(n,function(o){return o.rowComp.setUserStyles(i.rowStyles)})},t.prototype.getPinnedForContainer=function(e){return e===qi.LEFT?"left":e===qi.RIGHT?"right":null},t.prototype.getInitialRowClasses=function(e){var n=this.getPinnedForContainer(e),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:n};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)},t.prototype.processStylesFromGridOptions=function(){var e=this.gridOptionsService.get("rowStyle");if(!e||"function"!=typeof e){var i,n=this.gridOptionsService.getCallback("getRowStyle");return n&&(i=n({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),i||e?Object.assign({},e,i):this.emptyStyle}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(e){var n=this,i=!!this.rowNode.isSelected();this.forEachGui(e,function(o){o.rowComp.addOrRemoveCssClass("ag-row-selected",i),T_(o.element,!!i||void 0);var s=n.createAriaLabel();qc(o.element,s??"")})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.gridOptionsService.get("suppressRowDeselection"))return this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to ".concat(e?"deselect":"select"," this row."))},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var n=this;!this.active||(this.addManagedListener(e,"mouseenter",function(){return n.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return n.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,nr.EVENT_MOUSE_ENTER,function(){!n.beans.dragService.isDragging()&&!n.gridOptionsService.get("suppressRowHoverHighlight")&&(e.classList.add("ag-row-hover"),n.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,nr.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover"),n.rowNode.setHovered(!1)}))},t.prototype.roundRowTopToBounds=function(e){var i=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.applyPaginationOffset(i.top,!0)-100,s=this.applyPaginationOffset(i.bottom,!0)+100;return Math.min(Math.max(o,e),s)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.forEachGui=function(e,n){e?n(e):this.allRowGuis.forEach(n)},t.prototype.onRowHeightChanged=function(e){if(null!=this.rowNode.rowHeight){var n=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),s=this.gridOptionsService.isGetRowHeightFunction()?this.gridOptionsService.getRowHeightForNode(this.rowNode).height:void 0,l=s?"".concat(Math.min(i,s)-2,"px"):void 0;this.forEachGui(e,function(v){v.element.style.height="".concat(n,"px"),l&&v.element.style.setProperty("--ag-line-height",l)})}},t.prototype.addEventListener=function(e,n){r.prototype.addEventListener.call(this,e,n)},t.prototype.removeEventListener=function(e,n){r.prototype.removeEventListener.call(this,e,n)},t.prototype.destroyFirstPass=function(){this.active=!1,this.gridOptionsService.isAnimateRows()&&this.setupRemoveAnimation(),this.rowNode.setHovered(!1);var e=this.createRowEvent(Ce.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),r.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(!this.isSticky())if(null!=this.rowNode.rowTop){var n=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(n)}else this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0,this.stopEditing();var e=function(n){return n.list.forEach(function(i){return i.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(e){var n=this;this.forEachGui(e,function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",n.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!n.rowFocused)})},t.prototype.onCellFocused=function(){this.onCellFocusChanged()},t.prototype.onCellFocusCleared=function(){this.onCellFocusChanged()},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,n){return void 0===n&&(n=!1),this.rowNode.isRowPinned()||this.rowNode.sticky?e:e+this.beans.paginationProxy.getPixelOffset()*(n?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&Tt(e)){var n=this.applyPaginationOffset(e),o=this.rowNode.isRowPinned()||this.rowNode.sticky?n:this.beans.rowContainerHeightService.getRealPixelPosition(n),s="".concat(o,"px");this.setRowTopStyle(s)}},t.prototype.getInitialRowTop=function(e){return this.gridOptionsService.get("suppressRowTransform")?this.getInitialRowTopShared(e):void 0},t.prototype.getInitialTransform=function(e){return this.gridOptionsService.get("suppressRowTransform")?void 0:"translateY(".concat(this.getInitialRowTopShared(e),")")},t.prototype.getInitialRowTopShared=function(e){if(this.printLayout)return"";var n;if(this.isSticky())n=this.rowNode.stickyRowTop;else{var i=this.slideInAnimation[e]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(i);n=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o)}return n+"px"},t.prototype.setRowTopStyle=function(e){var n=this.gridOptionsService.get("suppressRowTransform");this.allRowGuis.forEach(function(i){return n?i.rowComp.setTop(e):i.rowComp.setTransform("translateY(".concat(e,")"))})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var n=null;return this.getAllCellCtrls().forEach(function(i){i.getColumn()==e&&(n=i)}),null!=n||this.getAllCellCtrls().forEach(function(i){i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.getRowIndex=function(){return this.rowNode.getRowIndexString()},t.prototype.updateRowIndexes=function(e){var n=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),o=this.rowNode.rowIndex%2==0,s=i+this.rowNode.rowIndex+1;this.forEachGui(e,function(l){l.rowComp.setRowIndex(n),l.rowComp.addOrRemoveCssClass("ag-row-even",o),l.rowComp.addOrRemoveCssClass("ag-row-odd",!o),A3(l.element,s)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(Pt),Mle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ha=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ple=function(r){function t(e){var n=r.call(this)||this;return n.element=e,n}return Mle(t,r),t.prototype.postConstruct=function(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()},t.prototype.addKeyboardListeners=function(){var e="keydown",n=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,n)},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",b3("touchstart")?"touchstart":"mousedown"].forEach(function(o){var s=e.processMouseEvent.bind(e,o);e.addManagedListener(e.element,o,s)})},t.prototype.processMouseEvent=function(e,n){if(this.mouseEventService.isEventFromThisGrid(n)&&!xl(n)){var i=this.getRowForEvent(n),o=this.mouseEventService.getRenderedCellForEvent(n);"contextmenu"===e?this.handleContextMenuMouseEvent(n,null,i,o):(o&&o.onMouseEvent(e,n),i&&i.onMouseEvent(e,n))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(Bh()){var n=new ca(this.element);this.addManagedListener(n,ca.EVENT_LONG_TAP,function(o){var s=e.getRowForEvent(o.touchEvent),l=e.mouseEventService.getRenderedCellForEvent(o.touchEvent);e.handleContextMenuMouseEvent(null,o.touchEvent,s,l)}),this.addDestroyFunc(function(){return n.destroy()})}},t.prototype.getRowForEvent=function(e){for(var n=e.target;n;){var i=this.gridOptionsService.getDomData(n,Xm.DOM_DATA_KEY_ROW_CTRL);if(i)return i;n=n.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,n,i,o){var s=i?i.getRowNode():null,l=o?o.getColumn():null,v=null;l&&(o.dispatchCellContextMenuEvent(e||n),v=this.valueService.getValue(l,s));var F=this.ctrlsService.getGridBodyCtrl(),z=o?o.getGui():F.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,n,s,l,v,z)},t.prototype.getControlsForEventTarget=function(e){return{cellCtrl:EA(this.gridOptionsService,e,Qm.DOM_DATA_KEY_CELL_CTRL),rowCtrl:EA(this.gridOptionsService,e,Xm.DOM_DATA_KEY_ROW_CTRL)}},t.prototype.processKeyboardEvent=function(e,n){var i=this.getControlsForEventTarget(n.target),o=i.cellCtrl,s=i.rowCtrl;n.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,n):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,n))},t.prototype.processCellKeyboardEvent=function(e,n,i){var o=e.getRowNode(),s=e.getColumn(),l=e.isEditing();if(VA(this.gridOptionsService,i,o,s,l)||"keydown"!==n||(!l&&this.navigationService.handlePageScrollingKey(i)||e.onKeyDown(i),this.doGridOperations(i,e.isEditing()),LA(i)&&e.processCharacter(i)),"keydown"===n){var F=e.createEvent(i,Ce.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(F)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,n,i){var o=e.getRowNode(),s=this.focusService.getFocusedCell();if(!VA(this.gridOptionsService,i,o,s&&s.column,!1)&&"keydown"===n)switch(i.key){case it.PAGE_HOME:case it.PAGE_END:case it.PAGE_UP:case it.PAGE_DOWN:this.navigationService.handlePageScrollingKey(i,!0);break;case it.UP:case it.DOWN:e.onKeyboardNavigate(i);break;case it.TAB:e.onTabKeyDown(i)}if("keydown"===n){var F=e.createRowEvent(Ce.EVENT_CELL_KEY_DOWN,i);this.eventService.dispatchEvent(F)}},t.prototype.doGridOperations=function(e,n){if((e.ctrlKey||e.metaKey)&&!n&&this.mouseEventService.isEventFromThisGrid(e)){var i=F9(e);if(i===it.A)return this.onCtrlAndA(e);if(i===it.C)return this.onCtrlAndC(e);if(i===it.D)return this.onCtrlAndD(e);if(i===it.V)return this.onCtrlAndV(e);if(i===it.X)return this.onCtrlAndX(e);if(i===it.Y)return this.onCtrlAndY();if(i===it.Z)return this.onCtrlAndZ(e)}},t.prototype.onCtrlAndA=function(e){var n=this,i=n.pinnedRowModel,s=n.rangeService;if(s&&n.paginationProxy.isRowsToRender()){var l=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}([i.isEmpty("top"),i.isEmpty("bottom")],2),F=l[0]?null:"top",z=void 0,re=void 0;l[1]?(z=null,re=this.paginationProxy.getRowCount()-1):(z="bottom",re=i.getPinnedBottomRowData().length-1);var ae=this.columnModel.getAllDisplayedColumns();if(Ts(ae))return;s.setCellRange({rowStartIndex:0,rowStartPinned:F,rowEndIndex:re,rowEndPinned:z,columnStart:ae[0],columnEnd:Sr(ae)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")){var n=this.getControlsForEventTarget(e.target),o=n.rowCtrl;n.cellCtrl?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}},t.prototype.onCtrlAndX=function(e){if(this.clipboardService&&!this.gridOptionsService.get("enableCellTextSelection")&&!this.gridOptionsService.get("suppressCutToClipboard")){var n=this.getControlsForEventTarget(e.target),o=n.rowCtrl;n.cellCtrl?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}},t.prototype.onCtrlAndV=function(e){var n=this.getControlsForEventTarget(e.target),o=n.rowCtrl;n.cellCtrl?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){this.clipboardService&&!this.gridOptionsService.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()},t.prototype.onCtrlAndZ=function(e){!this.gridOptionsService.get("undoRedoCellEditing")||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))},t.prototype.onCtrlAndY=function(){this.undoRedoService.redo("ui")},ha([be("mouseEventService")],t.prototype,"mouseEventService",void 0),ha([be("valueService")],t.prototype,"valueService",void 0),ha([pr("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ha([be("ctrlsService")],t.prototype,"ctrlsService",void 0),ha([be("navigationService")],t.prototype,"navigationService",void 0),ha([be("focusService")],t.prototype,"focusService",void 0),ha([be("undoRedoService")],t.prototype,"undoRedoService",void 0),ha([be("columnModel")],t.prototype,"columnModel",void 0),ha([be("paginationProxy")],t.prototype,"paginationProxy",void 0),ha([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ha([pr("rangeService")],t.prototype,"rangeService",void 0),ha([pr("clipboardService")],t.prototype,"clipboardService",void 0),ha([Gt],t.prototype,"postConstruct",null),t}(Pt),kle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},R7=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},A7=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Fle=function(r){function t(e){var n=r.call(this)||this;return n.centerContainerCtrl=e,n}return kle(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,Ce.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],function(){e.checkViewportAndScrolls()})},t.prototype.listenForResize=function(){var e=this,n=function(){return e.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(n),this.gridBodyCtrl.registerBodyViewportResizeListener(n)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();var e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.keepPinnedColumnsNarrowerThanViewport=function(){var n=Vm(this.gridBodyCtrl.getBodyViewportElement());if(!(isNaN(n)||n<=50)){var i=this.getPinnedColumnsOverflowingViewport(n-50),o=this.gridOptionsService.getCallback("processUnpinnedColumns");i.length&&(o&&(i=o({columns:i,viewportWidth:n})),this.columnModel.setColumnsPinned(i,null,"viewportSizeFeature"))}},t.prototype.getPinnedColumnsOverflowingViewport=function(e){var o=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(o<e)return[];for(var s=A7([],R7(this.columnModel.getDisplayedLeftColumns()),!1),l=A7([],R7(this.columnModel.getDisplayedRightColumns()),!1),v=0,D=0,z=[],re=o-0-e;(D<s.length||v<l.length)&&re>0;){var ae;v<l.length&&(re-=(ae=l[v++]).getActualWidth(),z.push(ae)),D<s.length&&re>0&&(re-=(ae=s[D++]).getActualWidth(),z.push(ae))}return z},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var n=yS(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==n&&(this.bodyHeight=n,this.eventService.dispatchEvent({type:Ce.EVENT_BODY_HEIGHT_CHANGED}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)},t.prototype.isHorizontalScrollShowing=function(){return this.centerContainerCtrl.isHorizontalScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCtrl.getCenterWidth(),n=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,n)},FS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),FS([be("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),FS([be("columnModel")],t.prototype,"columnModel",void 0),FS([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),FS([Gt],t.prototype,"postConstruct",null),t}(Pt),Nle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),O7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lle=function(r){function t(e){var n=r.call(this)||this;return n.element=e,n}return Nle(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ce.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth();mr(this.element,e>0),za(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedLeftWidth()},O7([be("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),O7([Gt],t.prototype,"postConstruct",null),t}(Pt),Vle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),M7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ble=function(r){function t(e){var n=r.call(this)||this;return n.element=e,n}return Vle(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ce.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth();mr(this.element,e>0),za(this.element,e)},t.prototype.getWidth=function(){return this.pinnedWidthService.getPinnedRightWidth()},M7([be("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),M7([Gt],t.prototype,"postConstruct",null),t}(Pt),Gle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),I7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},P7=function(r){function t(e,n){var i=r.call(this)||this;return i.eContainer=e,i.eViewport=n,i}return Gle(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ce.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),n=null!=e?"".concat(e,"px"):"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)},I7([be("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),I7([Gt],t.prototype,"postConstruct",null),t}(Pt),jle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hle=function(r){function t(e){var n=r.call(this)||this;return n.eContainer=e,n}return jle(t,r),t.prototype.postConstruct=function(){var e=this;An(this.rangeService)||(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",function(i){i.currentValue?e.enableFeature():e.disableFeature()}),this.addDestroyFunc(function(){return e.disableFeature()}),this.gridOptionsService.get("enableRangeSelection")&&this.enableFeature())},t.prototype.enableFeature=function(){this.dragService.addDragSource(this.params)},t.prototype.disableFeature=function(){this.dragService.removeDragSource(this.params)},P6([pr("rangeService")],t.prototype,"rangeService",void 0),P6([be("dragService")],t.prototype,"dragService",void 0),P6([Gt],t.prototype,"postConstruct",null),t}(Pt),Ule=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),k6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},F6=function(r){function t(e,n){void 0===n&&(n=!1);var i=r.call(this)||this;return i.callback=e,i.addSpacer=n,i}return Ule(t,r),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,Ce.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()},t.prototype.setWidth=function(){var l,e=this.columnModel,n=this.gridOptionsService.isDomLayout("print"),i=e.getBodyContainerWidth(),o=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();n?l=i+o+s:(l=i,this.addSpacer&&0===(this.gridOptionsService.get("enableRtl")?o:s)&&this.scrollVisibleService.isVerticalScrollShowing()&&(l+=this.gridOptionsService.getScrollbarWidth())),this.callback(l)},k6([be("columnModel")],t.prototype,"columnModel",void 0),k6([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),k6([Gt],t.prototype,"postConstruct",null),t}(Pt),zle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},XA=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},JA=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},mt=(()=>(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth",r.TOP_LEFT="topLeft",r.TOP_RIGHT="topRight",r.TOP_CENTER="topCenter",r.TOP_FULL_WIDTH="topFullWidth",r.STICKY_TOP_LEFT="stickyTopLeft",r.STICKY_TOP_RIGHT="stickyTopRight",r.STICKY_TOP_CENTER="stickyTopCenter",r.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",r.BOTTOM_LEFT="bottomLeft",r.BOTTOM_RIGHT="bottomRight",r.BOTTOM_CENTER="bottomCenter",r.BOTTOM_FULL_WIDTH="bottomFullWidth"}(mt||(mt={})),mt))(),qi=(()=>(function(r){r.LEFT="left",r.RIGHT="right",r.CENTER="center",r.FULL_WIDTH="fullWidth"}(qi||(qi={})),qi))(),$le=Nh([[mt.CENTER,"ag-center-cols-container"],[mt.LEFT,"ag-pinned-left-cols-container"],[mt.RIGHT,"ag-pinned-right-cols-container"],[mt.FULL_WIDTH,"ag-full-width-container"],[mt.TOP_CENTER,"ag-floating-top-container"],[mt.TOP_LEFT,"ag-pinned-left-floating-top"],[mt.TOP_RIGHT,"ag-pinned-right-floating-top"],[mt.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[mt.STICKY_TOP_CENTER,"ag-sticky-top-container"],[mt.STICKY_TOP_LEFT,"ag-pinned-left-sticky-top"],[mt.STICKY_TOP_RIGHT,"ag-pinned-right-sticky-top"],[mt.STICKY_TOP_FULL_WIDTH,"ag-sticky-top-full-width-container"],[mt.BOTTOM_CENTER,"ag-floating-bottom-container"],[mt.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[mt.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[mt.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),qle=Nh([[mt.CENTER,"ag-center-cols-viewport"],[mt.TOP_CENTER,"ag-floating-top-viewport"],[mt.STICKY_TOP_CENTER,"ag-sticky-top-viewport"],[mt.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),k7=function(r){function t(e){var n=r.call(this)||this;return n.visible=!0,n.EMPTY_CTRLS=[],n.name=e,n.isFullWithContainer=n.name===mt.TOP_FULL_WIDTH||n.name===mt.STICKY_TOP_FULL_WIDTH||n.name===mt.BOTTOM_FULL_WIDTH||n.name===mt.FULL_WIDTH,n}return zle(t,r),t.getRowContainerCssClasses=function(e){return{container:$le.get(e),viewport:qle.get(e)}},t.getPinned=function(e){switch(e){case mt.BOTTOM_LEFT:case mt.TOP_LEFT:case mt.STICKY_TOP_LEFT:case mt.LEFT:return"left";case mt.BOTTOM_RIGHT:case mt.TOP_RIGHT:case mt.STICKY_TOP_RIGHT:case mt.RIGHT:return"right";default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsService.get("enableRtl"),this.forContainers([mt.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new Fle(e))})},t.prototype.registerWithCtrlsService=function(){switch(this.name){case mt.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case mt.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case mt.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case mt.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case mt.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case mt.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case mt.STICKY_TOP_CENTER:this.ctrlsService.registerStickyTopCenterRowContainerCtrl(this);break;case mt.STICKY_TOP_LEFT:this.ctrlsService.registerStickyTopLeftRowContainerCon(this);break;case mt.STICKY_TOP_RIGHT:this.ctrlsService.registerStickyTopRightRowContainerCtrl(this);break;case mt.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case mt.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case mt.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,n){e.indexOf(this.name)>=0&&n()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,n,i){var o=this;this.comp=e,this.eContainer=n,this.eViewport=i,this.createManagedBean(new Ple(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var l=[mt.STICKY_TOP_CENTER,mt.STICKY_TOP_LEFT,mt.STICKY_TOP_RIGHT],v=[mt.BOTTOM_CENTER,mt.BOTTOM_LEFT,mt.BOTTOM_RIGHT],D=[mt.CENTER,mt.LEFT,mt.RIGHT],F=JA(JA(JA(JA([],XA([mt.TOP_CENTER,mt.TOP_LEFT,mt.TOP_RIGHT]),!1),XA(v),!1),XA(D),!1),XA(l),!1),z=[mt.CENTER,mt.LEFT,mt.RIGHT,mt.FULL_WIDTH],re=[mt.CENTER,mt.TOP_CENTER,mt.STICKY_TOP_CENTER,mt.BOTTOM_CENTER],fe=[mt.RIGHT,mt.BOTTOM_RIGHT,mt.TOP_RIGHT,mt.STICKY_TOP_RIGHT];this.forContainers([mt.LEFT,mt.BOTTOM_LEFT,mt.TOP_LEFT,mt.STICKY_TOP_LEFT],function(){o.pinnedWidthFeature=o.createManagedBean(new Lle(o.eContainer)),o.addManagedListener(o.eventService,Ce.EVENT_LEFT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(fe,function(){o.pinnedWidthFeature=o.createManagedBean(new Ble(o.eContainer)),o.addManagedListener(o.eventService,Ce.EVENT_RIGHT_PINNED_WIDTH_CHANGED,function(){return o.onPinnedWidthChanged()})}),this.forContainers(z,function(){return o.createManagedBean(new P7(o.eContainer,o.name===mt.CENTER?i:void 0))}),this.forContainers(F,function(){return o.createManagedBean(new Hle(o.eContainer))}),this.forContainers(re,function(){return o.createManagedBean(new F6(function(ge){return o.comp.setContainerWidth("".concat(ge,"px"))}))}),this.addListeners(),this.registerWithCtrlsService()},t.prototype.addListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return e.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_ROWS_CHANGED,function(n){return e.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},t.prototype.listenOnDomOrder=function(){var e=this;if([mt.STICKY_TOP_CENTER,mt.STICKY_TOP_LEFT,mt.STICKY_TOP_RIGHT,mt.STICKY_TOP_FULL_WIDTH].indexOf(this.name)>=0)this.comp.setDomOrder(!0);else{var o=function(){var s=e.gridOptionsService.get("ensureDomOrder"),l=e.gridOptionsService.isDomLayout("print");e.comp.setDomOrder(s||l)};this.addManagedPropertyListener("domLayout",o),o()}},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([mt.TOP_CENTER,mt.STICKY_TOP_CENTER,mt.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([mt.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([mt.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.addPreventScrollWhileDragging=function(){var e=this,n=function(i){e.dragService.isDragging()&&i.cancelable&&i.preventDefault()};this.eContainer.addEventListener("touchmove",n,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",n)})},t.prototype.onHorizontalViewportChanged=function(e){void 0===e&&(e=!1);var n=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(n,i,e)},t.prototype.getCenterWidth=function(){return Vm(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return wS(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var n=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return n()})},t.prototype.isViewportVisible=function(){return As(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return wS(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsService.get("alwaysShowHorizontalScroll")||R9(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX(".concat(e,"px)")},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){CS(this.eViewport,e,this.enableRtl)},t.prototype.isContainerVisible=function(){return!t.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0},t.prototype.onPinnedWidthChanged=function(){var e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())},t.prototype.onDisplayedRowsChanged=function(e){var n=this;if(void 0===e&&(e=!1),this.visible){var i=this.gridOptionsService.isDomLayout("print"),s=this.gridOptionsService.get("embedFullWidthRows")||i,v=this.getRowCtrls().filter(function(D){var F=D.isFullWidth();return n.isFullWithContainer?!s&&F:s||!F});this.comp.setRowCtrls(v,e)}else this.comp.setRowCtrls(this.EMPTY_CTRLS,!1)},t.prototype.getRowCtrls=function(){switch(this.name){case mt.TOP_CENTER:case mt.TOP_LEFT:case mt.TOP_RIGHT:case mt.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case mt.STICKY_TOP_CENTER:case mt.STICKY_TOP_LEFT:case mt.STICKY_TOP_RIGHT:case mt.STICKY_TOP_FULL_WIDTH:return this.rowRenderer.getStickyTopRowCtrls();case mt.BOTTOM_CENTER:case mt.BOTTOM_LEFT:case mt.BOTTOM_RIGHT:case mt.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}},zh([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),zh([be("dragService")],t.prototype,"dragService",void 0),zh([be("ctrlsService")],t.prototype,"ctrlsService",void 0),zh([be("columnModel")],t.prototype,"columnModel",void 0),zh([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),zh([be("animationFrameService")],t.prototype,"animationFrameService",void 0),zh([be("rowRenderer")],t.prototype,"rowRenderer",void 0),zh([Gt],t.prototype,"postConstruct",null),t}(Pt),Yle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kc=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kle='<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'.concat(mt.TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="').concat(mt.TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="').concat(mt.TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="').concat(mt.TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="').concat(mt.LEFT,'"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="').concat(mt.CENTER,'"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="').concat(mt.RIGHT,'"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="').concat(mt.FULL_WIDTH,'"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="').concat(mt.STICKY_TOP_LEFT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="').concat(mt.STICKY_TOP_CENTER,'"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="').concat(mt.STICKY_TOP_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="').concat(mt.STICKY_TOP_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="').concat(mt.BOTTOM_LEFT,'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="').concat(mt.BOTTOM_CENTER,'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="').concat(mt.BOTTOM_RIGHT,'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="').concat(mt.BOTTOM_FULL_WIDTH,'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>'),Zle=function(r){function t(){return r.call(this,Kle)||this}return Yle(t,r),t.prototype.init=function(){var e=this,n=function(o,s){var l="".concat(o,"px");s.style.minHeight=l,s.style.height=l},i={setRowAnimationCssOnBodyViewport:function(o,s){return e.setRowAnimationCssOnBodyViewport(o,s)},setColumnCount:function(o){return m9(e.getGui(),o)},setRowCount:function(o){return p9(e.getGui(),o)},setTopHeight:function(o){return n(o,e.eTop)},setBottomHeight:function(o){return n(o,e.eBottom)},setTopDisplay:function(o){return e.eTop.style.display=o},setBottomDisplay:function(o){return e.eBottom.style.display=o},setStickyTopHeight:function(o){return e.eStickyTop.style.height=o},setStickyTopTop:function(o){return e.eStickyTop.style.top=o},setStickyTopWidth:function(o){return e.eStickyTop.style.width=o},setColumnMovingCss:function(o,s){return e.addOrRemoveCssClass(o,s)},updateLayoutClasses:function(o,s){[e.eBodyViewport.classList,e.eBody.classList].forEach(function(v){v.toggle(Ii.AUTO_HEIGHT,s.autoHeight),v.toggle(Ii.NORMAL,s.normal),v.toggle(Ii.PRINT,s.print)}),e.addOrRemoveCssClass(Ii.AUTO_HEIGHT,s.autoHeight),e.addOrRemoveCssClass(Ii.NORMAL,s.normal),e.addOrRemoveCssClass(Ii.PRINT,s.print)},setAlwaysVerticalScrollClass:function(o,s){return e.eBodyViewport.classList.toggle(T7,s)},registerBodyViewportResizeListener:function(o){var s=e.resizeObserverService.observeResize(e.eBodyViewport,o);e.addDestroyFunc(function(){return s()})},setPinnedTopBottomOverflowY:function(o){return e.eTop.style.overflowY=e.eBottom.style.overflowY=o},setCellSelectableCss:function(o,s){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(l){return l.classList.toggle(o,s)})},setBodyViewportWidth:function(o){return e.eBodyViewport.style.width=o}};this.ctrl=this.createManagedBean(new Wae),this.ctrl.setComp(i,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop),(this.rangeService&&this.gridOptionsService.get("enableRangeSelection")||"multiple"===this.gridOptionsService.get("rowSelection"))&&f9(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,n){var i=this.eBodyViewport.classList;i.toggle(Km.ANIMATION_ON,n),i.toggle(Km.ANIMATION_OFF,!n)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},Kc([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Kc([pr("rangeService")],t.prototype,"rangeService",void 0),Kc([zt("eBodyViewport")],t.prototype,"eBodyViewport",void 0),Kc([zt("eStickyTop")],t.prototype,"eStickyTop",void 0),Kc([zt("eTop")],t.prototype,"eTop",void 0),Kc([zt("eBottom")],t.prototype,"eBottom",void 0),Kc([zt("gridHeader")],t.prototype,"headerRootComp",void 0),Kc([zt("eBody")],t.prototype,"eBody",void 0),Kc([Gt],t.prototype,"init",null),t}(Kn),Qle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Xle=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Qle(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var n={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(n)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:Ce.EVENT_SCROLL_VISIBILITY_CHANGED}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},N6([be("ctrlsService")],t.prototype,"ctrlsService",void 0),N6([Gt],t.prototype,"postConstruct",null),N6([Jt("scrollVisibleService")],t)}(Pt),Jle=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),F7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},eue=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.gridInstanceId=e.gridInstanceSequence.next(),n}var e;return Jle(t,r),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(n){n[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(n){return EA(this.gridOptionsService,n.target,Qm.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(n){return this.isElementInThisGrid(n.target)},t.prototype.isElementInThisGrid=function(n){for(var i=n;i;){var o=i[e.GRID_DOM_KEY];if(Tt(o))return o===this.gridInstanceId;i=i.parentElement}return!1},t.prototype.getCellPositionForEvent=function(n){var i=this.getRenderedCellForEvent(n);return i?i.getCellPosition():null},t.prototype.getNormalisedPosition=function(n){var s,l,i=this.gridOptionsService.isDomLayout("normal");if(null!=n.clientX||null!=n.clientY?(s=n.clientX,l=n.clientY):(s=n.x,l=n.y),i){var v=this.ctrlsService.getGridBodyCtrl(),D=v.getScrollFeature().getVScrollPosition();s+=v.getScrollFeature().getHScrollPosition().left,l+=D.top}return{x:s,y:l}},t.gridInstanceSequence=new O_,t.GRID_DOM_KEY="__ag_grid_instance",F7([be("ctrlsService")],t.prototype,"ctrlsService",void 0),e=F7([Jt("mouseEventService")],t)}(Pt),tue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eO=function(){return eO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},eO.apply(this,arguments)},Ms=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nue=function(r){function t(){var e=r.call(this)||this;return e.onPageDown=p3(e.onPageDown,100),e.onPageUp=p3(e.onPageUp,100),e}return tue(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e,n){void 0===n&&(n=!1);var i=e.key,o=e.altKey,s=e.ctrlKey||e.metaKey,l=!!this.rangeService&&e.shiftKey,v=this.mouseEventService.getCellPositionForEvent(e),D=!1;switch(i){case it.PAGE_HOME:case it.PAGE_END:!s&&!o&&(this.onHomeOrEndKey(i),D=!0);break;case it.LEFT:case it.RIGHT:case it.UP:case it.DOWN:if(!v)return!1;s&&!o&&!l&&(this.onCtrlUpDownLeftRight(i,v),D=!0);break;case it.PAGE_DOWN:case it.PAGE_UP:!s&&!o&&(D=this.handlePageUpDown(i,v,n))}return D&&e.preventDefault(),D},t.prototype.handlePageUpDown=function(e,n,i){return i&&(n=this.focusService.getFocusedCell()),!!n&&(e===it.PAGE_UP?this.onPageUp(n):this.onPageDown(n),!0)},t.prototype.navigateTo=function(e){var n=e.scrollIndex,i=e.scrollType,o=e.scrollColumn,s=e.focusIndex,l=e.focusColumn;Tt(o)&&!o.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(o),Tt(n)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(n,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(s),this.focusService.setFocusedCell({rowIndex:s,column:l,rowPinned:null,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:null,column:l})},t.prototype.onPageDown=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),v=this.paginationProxy.getRowIndexAtPixel(i.top+o+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,v):this.navigateToNextPage(e,v)},t.prototype.onPageUp=function(e){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.paginationProxy.getPixelOffset(),l=this.paginationProxy.getRowIndexAtPixel(i.top+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)},t.prototype.navigateToNextPage=function(e,n,i){void 0===i&&(i=!1);var fe,o=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),l=this.paginationProxy.getPageLastRow(),v=this.paginationProxy.getPixelOffset(),D=this.paginationProxy.getRow(e.rowIndex),re=this.paginationProxy.getRowIndexAtPixel(D?.rowTop+(i?D?.rowHeight-o-v:o-v)+v);re===e.rowIndex&&(n=re=e.rowIndex+(i?-1:1)),i?(fe="bottom",re<s&&(re=s),n<s&&(n=s)):(fe="top",re>l&&(re=l),n>l&&(n=l)),this.isRowTallerThanView(re)&&(n=re,fe="top"),this.navigateTo({scrollIndex:n,scrollType:fe,scrollColumn:null,focusIndex:re,focusColumn:e.column})},t.prototype.navigateToNextPageWithAutoHeight=function(e,n,i){var o=this;void 0===i&&(i=!1),this.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column}),setTimeout(function(){var s=o.getNextFocusIndexForAutoHeight(e,i);o.navigateTo({scrollIndex:n,scrollType:i?"bottom":"top",scrollColumn:null,focusIndex:s,focusColumn:e.column,isAsync:!0})},50)},t.prototype.getNextFocusIndexForAutoHeight=function(e,n){var i;void 0===n&&(n=!1);for(var o=n?-1:1,s=this.getViewportHeight(),l=this.paginationProxy.getPageLastRow(),v=0,D=e.rowIndex;D>=0&&D<=l;){var F=this.paginationProxy.getRow(D);if(F){var z=null!==(i=F.rowHeight)&&void 0!==i?i:0;if(v+z>s)break;v+=z}D+=o}return Math.max(0,Math.min(D,l))},t.prototype.getViewportHeight=function(){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.gridOptionsService.getScrollbarWidth(),o=n.bottom-n.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(o-=i),o},t.prototype.isRowTallerThanView=function(e){var n=this.paginationProxy.getRow(e);if(!n)return!1;var i=n.rowHeight;return"number"==typeof i&&i>this.getViewportHeight()},t.prototype.onCtrlUpDownLeftRight=function(e,n){var i=this.cellNavigationService.getNextCellToFocus(e,n,!0),o=i.rowIndex,s=i.column;this.navigateTo({scrollIndex:o,scrollType:null,scrollColumn:s,focusIndex:o,focusColumn:s})},t.prototype.onHomeOrEndKey=function(e){var n=e===it.PAGE_HOME,i=this.columnModel.getAllDisplayedColumns(),o=n?i[0]:Sr(i),s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:o,focusIndex:s,focusColumn:o})},t.prototype.onTabKeyDown=function(e,n){var i=n.shiftKey;if(this.tabToNextCellCommon(e,i,n))n.preventDefault();else if(i){var s=e.getRowPosition(),l=s.rowIndex;(s.rowPinned?0===l:l===this.paginationProxy.getPageFirstRow())&&(0===this.gridOptionsService.get("headerHeight")?this.focusService.focusNextGridCoreContainer(!0,!0):(n.preventDefault(),this.focusService.focusPreviousFromFirstCell(n)))}else e instanceof Qm&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(i)&&n.preventDefault()},t.prototype.tabToNextCell=function(e,n){var i=this.focusService.getFocusedCell();if(!i)return!1;var o=this.getCellByPosition(i);return!!(o||(o=this.rowRenderer.getRowByPosition(i),o&&o.isFullWidth()))&&this.tabToNextCellCommon(o,e,n)},t.prototype.tabToNextCellCommon=function(e,n,i){var o=e.isEditing();if(!o&&e instanceof Qm){var l=e.getRowCtrl();l&&(o=l.isEditing())}return(o?"fullRow"===this.gridOptionsService.get("editType")?this.moveToNextEditingRow(e,n,i):this.moveToNextEditingCell(e,n,i):this.moveToNextCellNotEditing(e,n))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,n,i){void 0===i&&(i=null);var o=e.getCellPosition();e.getGui().focus(),e.stopEditing();var s=this.findNextCellToFocusOn(o,n,!0);return null!=s&&(s.startEditing(null,!0,i),s.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,n,i){void 0===i&&(i=null);var o=e.getCellPosition(),s=this.findNextCellToFocusOn(o,n,!0);if(null==s)return!1;var l=s.getCellPosition(),v=this.isCellEditable(o),D=this.isCellEditable(l),F=l&&o.rowIndex===l.rowIndex&&o.rowPinned===l.rowPinned;return v&&e.setFocusOutOnEditor(),F||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,i)),D?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,n){var o,i=this.columnModel.getAllDisplayedColumns();o=e instanceof Xm?eO(eO({},e.getRowPosition()),{column:n?i[0]:Sr(i)}):e.getCellPosition();var s=this.findNextCellToFocusOn(o,n,!1);if(s instanceof Qm)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),n);return Tt(s)},t.prototype.findNextCellToFocusOn=function(e,n,i){for(var o=e;;){e!==o&&(e=o),n||(o=this.getLastCellOfColSpan(o)),o=this.cellNavigationService.getNextTabbedCell(o,n);var s=this.gridOptionsService.getCallback("tabToNextCell");if(Tt(s)){var v=s({backwards:n,editing:i,previousCellPosition:e,nextCellPosition:o||null});Tt(v)?(v.floating&&($n("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),v.rowPinned=v.floating),o={rowIndex:v.rowIndex,column:v.column,rowPinned:v.rowPinned}):o=null}if(!o)return null;if(o.rowIndex<0){var D=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:D+o.rowIndex,column:o.column},fromCell:!0}),null}var F="fullRow"===this.gridOptionsService.get("editType");if(!i||F||this.isCellEditable(o)){this.ensureCellVisible(o);var re=this.getCellByPosition(o);if(!re){var ae=this.rowRenderer.getRowByPosition(o);if(!ae||!ae.isFullWidth()||i)continue;return ae}if(!re.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(o),re}}},t.prototype.isCellEditable=function(e){var n=this.lookupRowNodeForCell(e);return!!n&&e.column.isCellEditable(n)},t.prototype.getCellByPosition=function(e){var n=this.rowRenderer.getRowByPosition(e);return n?n.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,n,i,o){for(var s=i,l=!1;s&&(s===i||!this.isValidNavigateCell(s));)this.gridOptionsService.get("enableRtl")?n===it.LEFT&&(s=this.getLastCellOfColSpan(s)):n===it.RIGHT&&(s=this.getLastCellOfColSpan(s)),l=An(s=this.cellNavigationService.getNextCellToFocus(n,s));if(l&&e&&e.key===it.UP&&(s={rowIndex:-1,rowPinned:null,column:i.column}),o){var v=this.gridOptionsService.getCallback("navigateToNextCell");if(Tt(v)){var F=v({key:n,previousCellPosition:i,nextCellPosition:s||null,event:e});Tt(F)?(F.floating&&($n("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),F.rowPinned=F.floating),s={rowPinned:F.rowPinned,rowIndex:F.rowIndex,column:F.column}):s=null}}if(s){if(s.rowIndex<0){var z=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:z+s.rowIndex,column:i.column},event:e||void 0,fromCell:!0})}var re=this.getNormalisedPosition(s);re?this.focusPosition(re):this.tryToFocusFullWidthRow(s)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var n=this.getCellByPosition(e);return n?(e=n.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,n){void 0===n&&(n=!1);var i=this.columnModel.getAllDisplayedColumns(),o=this.rowRenderer.getRowByPosition(e);if(!o||!o.isFullWidth())return!1;var s=this.focusService.getFocusedCell(),l={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(n?Sr(i):i[0])};this.focusPosition(l);var v=null!=s&&this.rowPositionUtils.before(l,s);return this.eventService.dispatchEvent({type:Ce.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:l.rowIndex,rowPinned:l.rowPinned,column:l.column,isFullWidthCell:!0,floating:l.rowPinned,fromBelow:v}),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var n=this.getCellByPosition(e);if(!n)return e;var i=n.getColSpanningList();return 1===i.length?e:{rowIndex:e.rowIndex,column:Sr(i),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){var n=this.gridOptionsService.isGroupRowsSticky(),i=this.rowModel.getRow(e.rowIndex);!(n&&i?.sticky)&&An(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)},Ms([be("mouseEventService")],t.prototype,"mouseEventService",void 0),Ms([be("paginationProxy")],t.prototype,"paginationProxy",void 0),Ms([be("focusService")],t.prototype,"focusService",void 0),Ms([pr("rangeService")],t.prototype,"rangeService",void 0),Ms([be("columnModel")],t.prototype,"columnModel",void 0),Ms([be("rowModel")],t.prototype,"rowModel",void 0),Ms([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Ms([be("rowRenderer")],t.prototype,"rowRenderer",void 0),Ms([be("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Ms([be("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ms([be("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ms([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ms([Gt],t.prototype,"postConstruct",null),Ms([Jt("navigationService")],t)}(Pt),rue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oue=function(r){function t(e){var n=r.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return n.params=e,n}return rue(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,n=this.getGui(),i=this.params;this.addManagedListener(n,"keydown",function(s){VA(e.gridOptionsService,s,i.node,i.column,!0)||i.onKeyDown(s)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(zm),sue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aue=function(r){function t(e,n,i,o,s){var l=r.call(this)||this;l.rendererVersion=0,l.editorVersion=0,l.beans=e,l.column=n.getColumn(),l.rowNode=n.getRowNode(),l.rowCtrl=n.getRowCtrl(),l.eRow=o,l.cellCtrl=n,l.setTemplate('<div comp-id="'.concat(l.getCompId(),'"/>'));var v=l.getGui();l.forceWrapper=n.isForceWrapper(),l.refreshWrapper(!1);var D=function(re,ae){null!=ae&&""!=ae?v.setAttribute(re,ae):v.removeAttribute(re)};to(v,n.getCellAriaRole()),D("col-id",n.getColumnIdSanitised());var F=n.getTabIndex();return void 0!==F&&D("tabindex",F.toString()),n.setComp({addOrRemoveCssClass:function(re,ae){return l.addOrRemoveCssClass(re,ae)},setUserStyles:function(re){return t6(v,re)},getFocusableElement:function(){return l.getFocusableElement()},setIncludeSelection:function(re){return l.includeSelection=re},setIncludeRowDrag:function(re){return l.includeRowDrag=re},setIncludeDndSource:function(re){return l.includeDndSource=re},setRenderDetails:function(re,ae,fe){return l.setRenderDetails(re,ae,fe)},setEditDetails:function(re,ae,fe){return l.setEditDetails(re,ae,fe)},getCellEditor:function(){return l.cellEditor||null},getCellRenderer:function(){return l.cellRenderer||null},getParentOfValue:function(){return l.getParentOfValue()}},l.getGui(),l.eCellWrapper,i,s),l}return sue(t,r),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,n,i){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var s=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!i&&!s&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(n))}},t.prototype.setEditDetails=function(e,n,i){e?this.createCellEditorInstance(e,n,i):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var n=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=n||this.forceWrapper,o=i&&null==this.eCellWrapper;o&&(this.eCellWrapper=Do('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var s=!i&&null!=this.eCellWrapper;s&&(Yc(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);var l=!e&&i,v=l&&null==this.eCellValue;v&&(this.eCellValue=Do('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var D=!l&&null!=this.eCellValue;D&&(Yc(this.eCellValue),this.eCellValue=void 0);var F=o||s||v||D;return F&&this.removeControls(),e||n&&this.addControls(),F},t.prototype.addControls=function(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))},t.prototype.createCellEditorInstance=function(e,n,i){var o=this,s=this.editorVersion,l=e.newAgStackInstance();if(l){var v=e.params;l.then(function(F){return o.afterCellEditorCreated(s,F,v,n,i)}),An(this.cellEditor)&&v.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var n=this.getParentOfValue();uo(n);var i=null!=e?zi(e):null;null!=i&&(n.innerHTML=i)},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Yc(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Yc(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var n=this.cellRenderer.refresh(e.params);return!0===n||void 0===n},t.prototype.createCellRendererInstance=function(e){var n=this,i=this.beans.gridOptionsService.get("suppressAnimationFrame"),s=this.rendererVersion,l=e.componentClass,v=function(){if(n.rendererVersion===s&&n.isAlive()){var F=e.newAgStackInstance(),z=n.afterCellRendererCreated.bind(n,s,l);F&&F.then(z)}};!i&&this.firstRender?this.beans.animationFrameService.createTask(v,this.rowNode.rowIndex,"createTasksP2"):v()},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,n,i){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=i,this.cellRendererClass=n,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var s=this.getParentOfValue();uo(s),s.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(i)},t.prototype.afterCellEditorCreated=function(e,n,i,o,s){if(e!==this.editorVersion)this.beans.context.destroyBean(n);else{if(n.isCancelBeforeStart&&n.isCancelBeforeStart())return this.beans.context.destroyBean(n),void this.cellCtrl.stopEditing(!0);if(!n.getGui)return console.warn("AG Grid: cellEditor for column ".concat(this.column.getId()," is missing getGui() method")),void this.beans.context.destroyBean(n);this.cellEditor=n,this.cellEditorGui=n.getGui();var D=o||void 0!==n.isPopup&&n.isPopup();D?this.addPopupCellEditor(i,s):this.addInCellEditor(),this.refreshEditStyles(!0,D),n.afterGuiAttached&&n.afterGuiAttached()}},t.prototype.refreshEditStyles=function(e,n){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!n),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!n),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!n),null===(i=this.rowCtrl)||void 0===i||i.setInlineEditingCss(e)},t.prototype.addInCellEditor=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();e.contains(n.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,n){var i=this;"fullRow"===this.beans.gridOptionsService.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var o=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new oue(e));var s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);var l=this.beans.popupService,v=this.beans.gridOptionsService.get("stopEditingWhenCellsLoseFocus"),D=n??(o.getPopupPosition?o.getPopupPosition():"over"),F=this.beans.gridOptionsService.get("enableRtl"),z={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:D,alignSide:F?"right":"left",keepWithinBounds:!0},re=l.positionPopupByComponent.bind(l,z),ae=this.beans.localeService.getLocaleTextFunc(),fe=l.addPopup({modal:v,eChild:s,closeOnEsc:!0,closedCallback:function(){i.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:re,ariaLabel:ae("ariaLabelCellEditor","Cell Editor")});fe&&(this.hideEditorPopup=fe.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),r.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),n=this.beans.gridOptionsService.getDocument();e.contains(n.activeElement)&&PA()&&e.focus({preventScroll:!0}),uo(this.getParentOfValue())},t}(Kn),lue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uue=function(r){function t(e,n,i){var o=r.call(this)||this;o.cellComps={},o.beans=n,o.rowCtrl=e,o.setTemplate('<div comp-id="'.concat(o.getCompId(),'" style="').concat(o.getInitialStyle(i),'"/>'));var s=o.getGui(),l=s.style;o.domOrder=o.rowCtrl.getDomOrder(),to(s,"row");var v=o.rowCtrl.getTabIndex();return null!=v&&s.setAttribute("tabindex",v.toString()),e.setComp({setDomOrder:function(F){return o.domOrder=F},setCellCtrls:function(F){return o.setCellCtrls(F)},showFullWidth:function(F){return o.showFullWidth(F)},getFullWidthCellRenderer:function(){return o.getFullWidthCellRenderer()},addOrRemoveCssClass:function(F,z){return o.addOrRemoveCssClass(F,z)},setUserStyles:function(F){return t6(s,F)},setTop:function(F){return l.top=F},setTransform:function(F){return l.transform=F},setRowIndex:function(F){return s.setAttribute("row-index",F)},setRowId:function(F){return s.setAttribute("row-id",F)},setRowBusinessKey:function(F){return s.setAttribute("row-business-key",F)}},o.getGui(),i),o.addDestroyFunc(function(){e.unsetComp(i)}),o}return lue(t,r),t.prototype.getInitialStyle=function(e){var n=this.rowCtrl.getInitialTransform(e),i=this.rowCtrl.getInitialRowTop(e);return n?"transform: ".concat(n):"top: ".concat(i)},t.prototype.showFullWidth=function(e){var n=this,o=e.newAgStackInstance();!o||o.then(function(s){if(n.isAlive()){var l=s.getGui();n.getGui().appendChild(l),n.rowCtrl.setupDetailRowAutoHeight(l),n.setFullWidthRowComp(s)}else n.beans.context.destroyBean(s)})},t.prototype.setCellCtrls=function(e){var n=this,i=Object.assign({},this.cellComps);e.forEach(function(s){var l=s.getInstanceId();null==n.cellComps[l]?n.newCellComp(s):i[l]=null});var o=kh(i).filter(function(s){return null!=s});this.destroyCells(o),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var n=this;if(this.domOrder){var i=[];e.forEach(function(o){var s=n.cellComps[o.getInstanceId()];s&&i.push(s.getGui())}),e6(this.getGui(),i)}},t.prototype.newCellComp=function(e){var n=new aue(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=n,this.getGui().appendChild(n.getGui())},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=kh(this.cellComps).filter(function(n){return null!=n});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var n=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){n.fullWidthCellRenderer=n.beans.context.destroyBean(n.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var n=this;e.forEach(function(i){if(i){var o=i.getCtrl().getInstanceId();n.cellComps[o]===i&&(i.detach(),i.destroy(),n.cellComps[o]=null)}})},t}(Kn),cue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),L6=function(){return L6=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},L6.apply(this,arguments)},NS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hue=function(r){function t(){var e=r.call(this,function due(){var r=Kn.elementGettingCreated.getAttribute("name"),t=k7.getRowContainerCssClasses(r);return r===mt.CENTER||r===mt.TOP_CENTER||r===mt.STICKY_TOP_CENTER||r===mt.BOTTOM_CENTER?'<div class="'.concat(t.viewport,'" ref="eViewport" role="presentation">\n                <div class="').concat(t.container,'" ref="eContainer"></div>\n            </div>'):'<div class="'.concat(t.container,'" ref="eContainer"></div>')}())||this;return e.rowComps={},e.name=Kn.elementGettingCreated.getAttribute("name"),e.type=function Wle(r){switch(r){case mt.CENTER:case mt.TOP_CENTER:case mt.STICKY_TOP_CENTER:case mt.BOTTOM_CENTER:return qi.CENTER;case mt.LEFT:case mt.TOP_LEFT:case mt.STICKY_TOP_LEFT:case mt.BOTTOM_LEFT:return qi.LEFT;case mt.RIGHT:case mt.TOP_RIGHT:case mt.STICKY_TOP_RIGHT:case mt.BOTTOM_RIGHT:return qi.RIGHT;case mt.FULL_WIDTH:case mt.TOP_FULL_WIDTH:case mt.STICKY_TOP_FULL_WIDTH:case mt.BOTTOM_FULL_WIDTH:return qi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return cue(t,r),t.prototype.postConstruct=function(){var e=this,n={setViewportHeight:function(o){return e.eViewport.style.height=o},setRowCtrls:function(o){return e.setRowCtrls(o)},setDomOrder:function(o){e.domOrder=o},setContainerWidth:function(o){return e.eContainer.style.width=o}};this.createManagedBean(new k7(this.name)).setComp(n,this.eContainer,this.eViewport)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var n=this,i=L6({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(s){var l=s.getInstanceId(),v=i[l];if(v)n.rowComps[l]=v,delete i[l],n.ensureDomOrder(v.getGui());else{if(!s.getRowNode().displayed)return;var D=new uue(s,n.beans,n.type);n.rowComps[l]=D,n.appendRow(D.getGui())}}),kh(i).forEach(function(s){n.eContainer.removeChild(s.getGui()),s.destroy()}),to(this.eContainer,e.length?"rowgroup":"presentation")},t.prototype.appendRow=function(e){this.domOrder?x9(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(J3(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},NS([be("beans")],t.prototype,"beans",void 0),NS([zt("eViewport")],t.prototype,"eViewport",void 0),NS([zt("eContainer")],t.prototype,"eContainer",void 0),NS([Gt],t.prototype,"postConstruct",null),NS([ls],t.prototype,"preDestroy",null),t}(Kn),N7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fue=function(){function r(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return r.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsService.get("functionsReadOnly")){var n=t.dragItem.columns;!n||n.forEach(function(i){!i.isPrimary()||i.isAnyFunctionActive()||(i.isAllowValue()?e.columnsToAggregate.push(i):i.isAllowRowGroup()?e.columnsToGroup.push(i):i.isAllowPivot()&&e.columnsToPivot.push(i))})}},r.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?co.ICON_PINNED:co.ICON_MOVE:null},r.prototype.onDragLeave=function(t){this.clearColumnsList()},r.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},r.prototype.onDragging=function(t){},r.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},N7([be("columnModel")],r.prototype,"columnModel",void 0),N7([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),r}(),Jm=function(){function r(){}return r.attemptMoveColumns=function(t){var e=t.isFromHeader,n=t.hDirection,i=t.xPosition,o=t.fromEnter,s=t.fakeEvent,l=t.pinned,v=t.gridOptionsService,D=t.columnModel,F=n===zo.Left,z=n===zo.Right,re=t.allMovingColumns;if(e){var ae=[];re.forEach(function(_n){for(var Xn,Ar=null,ri=_n.getParent();null!=ri&&1===ri.getDisplayedLeafColumns().length;)Ar=ri,ri=ri.getParent();null!=Ar?(null!==(Xn=Ar.getColGroupDef())&&void 0!==Xn&&Xn.marryChildren?Ar.getProvidedColumnGroup().getLeafColumns():Ar.getLeafColumns()).forEach(function(Yt){ae.includes(Yt)||ae.push(Yt)}):ae.includes(_n)||ae.push(_n)}),re=ae}var fe=re.slice();D.sortColumnsLikeGridColumns(fe);var ge=this.calculateValidMoves({movingCols:fe,draggingRight:z,xPosition:i,pinned:l,gridOptionsService:v,columnModel:D}),we=this.calculateOldIndex(fe,D);if(0!==ge.length){var Te=ge[0],Ie=null!==we&&!o;if(e&&(Ie=null!==we),!Ie||s||!(F&&Te>=we||z&&Te<=we)){for(var Ve=D.getAllDisplayedColumns(),et=[],gt=null,Dt=0;Dt<ge.length;Dt++){var Bt=ge[Dt],Mt=D.getProposedColumnOrder(fe,Bt);if(D.doesOrderPassRules(Mt)){var qt=Mt.filter(function(_n){return Ve.includes(_n)});if(null===gt)gt=qt;else if(!$c(qt,gt))break;var an=this.groupFragCount(Mt);et.push({move:Bt,fragCount:an})}}if(0!==et.length)return et.sort(function(_n,Xn){return _n.fragCount-Xn.fragCount}),this.moveColumns(re,et[0].move,"uiColumnMoved",!1,D)}}},r.moveColumns=function(t,e,n,i,o){return o.moveColumns(t,e,n,i),i?null:{columns:t,toIndex:e}},r.calculateOldIndex=function(t,e){var n=e.getAllGridColumns(),i=WH(t.map(function(D){return n.indexOf(D)})),o=i[0];return Sr(i)-o!=i.length-1?null:o},r.groupFragCount=function(t){function e(s){for(var l=[],v=s.getOriginalParent();null!=v;)l.push(v),v=v.getOriginalParent();return l}for(var n=0,i=function(s){var l,v=e(t[s]),D=e(t[s+1]);l=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(v.length>D.length?[v,D]:[D,v],2),D=l[1],(v=l[0]).forEach(function(F){-1===D.indexOf(F)&&n++})},o=0;o<t.length-1;o++)i(o);return n},r.calculateValidMoves=function(t){var e=t.movingCols,n=t.draggingRight,i=t.xPosition,o=t.pinned,l=t.columnModel;if(t.gridOptionsService.get("suppressMovableColumns")||e.some(function(_n){return _n.getColDef().suppressMovable}))return[];var Ve,D=l.getDisplayedColumns(o),F=l.getAllGridColumns(),z=D.filter(function(_n){return ja(e,_n)}),re=D.filter(function(_n){return!ja(e,_n)}),ae=F.filter(function(_n){return!ja(e,_n)}),fe=0,ge=i;if(n){var we=0;z.forEach(function(_n){return we+=_n.getActualWidth()}),ge-=we}if(ge>0){for(var Te=0;Te<re.length&&!((ge-=re[Te].getActualWidth())<0);Te++)fe++;n&&fe++}fe>0?Ve=ae.indexOf(re[fe-1])+1:-1===(Ve=ae.indexOf(re[0]))&&(Ve=0);var gt=[Ve],Dt=function(_n,Xn){return _n-Xn};if(n){for(var Bt=Ve+1,Mt=F.length-1;Bt<=Mt;)gt.push(Bt),Bt++;gt.sort(Dt)}else{Mt=F.length-1;for(var qt=F[Bt=Ve];Bt<=Mt&&D.indexOf(qt)<0;)Bt++,gt.push(Bt),qt=F[Bt];for(Bt=Ve-1;Bt>=0;)gt.push(Bt),Bt--;gt.sort(Dt).reverse()}return gt},r.normaliseX=function(t,e,n,i,o){var s=o.getHeaderRowContainerCtrl(e).getViewport();return n&&(t-=s.getBoundingClientRect().left),i.get("enableRtl")&&(t=s.clientWidth-t),null==e&&(t+=o.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},r}(),LS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mue=function(){function r(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=t,this.eContainer=e,this.centerContainer=!Tt(t)}return r.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},r.prototype.getIconName=function(){return this.pinned?co.ICON_PINNED:co.ICON_MOVE},r.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===us.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var i=t.dragItem.visibleState,o=(e||[]).filter(function(s){return i[s.getId()]});this.setColumnsVisible(o,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0,!0)},r.prototype.onDragLeave=function(){this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.setColumnsVisible=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter(function(o){return!o.getColDef().lockVisible});this.columnModel.setColumnsVisible(i,e,n)}},r.prototype.setColumnsPinned=function(t,e,n){if(void 0===n&&(n="api"),t){var i=t.filter(function(o){return!o.getColDef().lockPinned});this.columnModel.setColumnsPinned(i,e,n)}},r.prototype.onDragStop=function(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null},r.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),n=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsService.get("enableRtl")?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>n-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},r.prototype.onDragging=function(t,e,n,i){var s,o=this;if(void 0===t&&(t=this.lastDraggingEvent),void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),i){if(this.lastMovedInfo){var l=this.lastMovedInfo;Jm.moveColumns(l.columns,l.toIndex,"uiColumnMoved",!0,this.columnModel)}}else if(this.lastDraggingEvent=t,!An(t.hDirection)){var F=Jm.normaliseX(t.x,this.pinned,!1,this.gridOptionsService,this.ctrlsService);e||this.checkCenterForScrolling(F);var z=this.normaliseDirection(t.hDirection),re=t.dragSource.type,ae=(null===(s=t.dragSource.getDragItem().columns)||void 0===s?void 0:s.filter(function(ge){return!ge.getColDef().lockPinned||ge.getPinned()==o.pinned}))||[],fe=Jm.attemptMoveColumns({allMovingColumns:ae,isFromHeader:re===us.HeaderCell,hDirection:z,xPosition:F,pinned:this.pinned,fromEnter:e,fakeEvent:n,gridOptionsService:this.gridOptionsService,columnModel:this.columnModel});fe&&(this.lastMovedInfo=fe)}},r.prototype.normaliseDirection=function(t){if(!this.gridOptionsService.get("enableRtl"))return t;switch(t){case zo.Left:return zo.Right;case zo.Right:return zo.Left;default:console.error("AG Grid: Unknown direction ".concat(t))}},r.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?co.ICON_LEFT:co.ICON_RIGHT,!0))},r.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(co.ICON_MOVE))},r.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,n=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=n.scrollHorizontally(-t):this.needToMoveRight&&(e=n.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter(function(l){return!l.getColDef().lockPinned});o.length>0&&(this.dragAndDropService.setGhostIcon(co.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(o,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}},LS([be("columnModel")],r.prototype,"columnModel",void 0),LS([be("dragAndDropService")],r.prototype,"dragAndDropService",void 0),LS([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),LS([be("ctrlsService")],r.prototype,"ctrlsService",void 0),LS([Gt],r.prototype,"init",null),r}(),gue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),VS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vue=function(r){function t(e,n){var i=r.call(this)||this;return i.pinned=e,i.eContainer=n,i}return gue(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){switch(e.pinned){case"left":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.leftRowContainerCtrl.getContainerElement()],[n.bottomLeftRowContainerCtrl.getContainerElement()],[n.topLeftRowContainerCtrl.getContainerElement()]];break;case"right":e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.rightRowContainerCtrl.getContainerElement()],[n.bottomRightRowContainerCtrl.getContainerElement()],[n.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[n.gridBodyCtrl.getBodyViewportElement(),n.centerRowContainerCtrl.getViewportElement()],[n.bottomCenterRowContainerCtrl.getViewportElement()],[n.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===us.HeaderCell||e===us.ToolPanel&&this.gridOptionsService.get("allowDragFromColumnsToolPanel")},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new mue(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new fue(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===us.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},VS([be("dragAndDropService")],t.prototype,"dragAndDropService",void 0),VS([be("columnModel")],t.prototype,"columnModel",void 0),VS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),VS([Gt],t.prototype,"postConstruct",null),VS([Gt],t.prototype,"init",null),t}(Pt),yue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_ue=function(r){function t(e){var n=r.call(this,t.TEMPLATE,e)||this;return n.headerCompVersion=0,n.column=e.getColumnGroupChild(),n.pinned=e.getPinned(),n}return yue(t,r),t.prototype.postConstruct=function(){var l,v,e=this,n=this.getGui();l="col-id",null!=(v=this.column.getColId())&&""!=v?n.setAttribute(l,v):n.removeAttribute(l);var o={setWidth:function(l){return n.style.width=l},addOrRemoveCssClass:function(l,v){return e.addOrRemoveCssClass(l,v)},setAriaDescription:function(l){return c9(n,l)},setAriaSort:function(l){return l?v9(n,l):y9(n)},setUserCompDetails:function(l){return e.setUserCompDetails(l)},getUserCompInstance:function(){return e.headerComp}};this.ctrl.setComp(o,this.getGui(),this.eResize,this.eHeaderCompWrapper);var s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var n=this;this.headerCompVersion++;var i=this.headerCompVersion;e.newAgStackInstance().then(function(o){return n.afterCompCreated(i,o)})},t.prototype.afterCompCreated=function(e,n){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=n,this.headerCompGui=n.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(n)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',tO([zt("eResize")],t.prototype,"eResize",void 0),tO([zt("eHeaderCompWrapper")],t.prototype,"eHeaderCompWrapper",void 0),tO([Gt],t.prototype,"postConstruct",null),tO([ls],t.prototype,"destroyHeaderComp",null),t}(x6),bue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),V6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},wue=function(r){function t(e){return r.call(this,t.TEMPLATE,e)||this}return bue(t,r),t.prototype.postConstruct=function(){var e=this,n=this.getGui();n.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setResizableDisplayed:function(s){return mr(e.eResize,s)},setWidth:function(s){return n.style.width=s},setAriaExpanded:function(s){return function(s,l){return null!=l?n.setAttribute(s,l):n.removeAttribute(s)}("aria-expanded",s)},setUserCompDetails:function(s){return e.setUserCompDetails(s)},getUserCompInstance:function(){return e.headerGroupComp}},n,this.eResize)},t.prototype.setUserCompDetails=function(e){var n=this;e.newAgStackInstance().then(function(i){return n.afterHeaderCompCreated(i)})},t.prototype.afterHeaderCompCreated=function(e){var n=this,i=function(){return n.destroyBean(e)};if(this.isAlive()){var o=this.getGui(),s=e.getGui();o.appendChild(s),this.addDestroyFunc(i),this.headerGroupComp=e,this.ctrl.setDragSource(o)}else i()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',V6([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),V6([zt("eResize")],t.prototype,"eResize",void 0),V6([Gt],t.prototype,"postConstruct",null),t}(x6),Cue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),L7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ho=(()=>(function(r){r.COLUMN_GROUP="group",r.COLUMN="column",r.FLOATING_FILTER="filter"}(ho||(ho={})),ho))(),Sue=function(r){function t(e){var n=r.call(this)||this;return n.headerComps={},n.ctrl=e,n.setTemplate('<div class="'.concat(n.ctrl.getHeaderRowClass(),'" role="row"></div>')),n}return Cue(t,r),t.prototype.init=function(){var e=this;this.getGui().style.transform=this.ctrl.getTransform(),A3(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:function(i){return e.getGui().style.height=i},setTop:function(i){return e.getGui().style.top=i},setHeaderCtrls:function(i,o){return e.setHeaderCtrls(i,o)},setWidth:function(i){return e.getGui().style.width=i}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([],!1)},t.prototype.setHeaderCtrls=function(e,n){var i=this;if(this.isAlive()){var o=this.headerComps;if(this.headerComps={},e.forEach(function(v){var D=v.getInstanceId(),F=o[D];delete o[D],null==F&&(F=i.createHeaderComp(v),i.getGui().appendChild(F.getGui())),i.headerComps[D]=F}),Uo(o,function(v,D){i.getGui().removeChild(D.getGui()),i.destroyBean(D)}),n){var s=kh(this.headerComps);s.sort(function(v,D){return v.getCtrl().getColumnGroupChild().getLeft()-D.getCtrl().getColumnGroupChild().getLeft()});var l=s.map(function(v){return v.getGui()});e6(this.getGui(),l)}}},t.prototype.createHeaderComp=function(e){var n;switch(this.ctrl.getType()){case ho.COLUMN_GROUP:n=new wue(e);break;case ho.FLOATING_FILTER:n=new Pae(e);break;default:n=new _ue(e)}return this.createBean(n),n.setParentComponent(this),n},L7([Gt],t.prototype,"init",null),L7([ls],t.prototype,"destroyHeaderCtrls",null),t}(Kn),Eue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Due=0,nO=function(r){function t(e,n){var i=r.call(this)||this;return i.resizeToggleTimeout=0,i.resizeMultiplier=1,i.resizeFeature=null,i.lastFocusEvent=null,i.dragSource=null,i.columnGroupChild=e,i.parentRowCtrl=n,i.instanceId=e.getUniqueId()+"-"+Due++,i}return Eue(t,r),t.prototype.shouldStopEventPropagation=function(e){var n=this.focusService.getFocusedHeader();return k9(this.gridOptionsService,e,n.headerRowIndex,n.column)},t.prototype.getWrapperHasFocus=function(){return this.gridOptionsService.getDocument().activeElement===this.eGui},t.prototype.setGui=function(e){this.eGui=e,this.addDomData(),this.addManagedListener(this.beans.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())},t.prototype.refreshFirstAndLastStyles=function(){var e=this;ZA.refreshFirstAndLastStyles(e.comp,e.column,e.beans.columnModel)},t.prototype.refreshAriaColIndex=function(){var o=this.beans.columnModel.getAriaColumnIndex(this.column);O3(this.eGui,o)},t.prototype.addResizeAndMoveKeyboardListeners=function(){!this.resizeFeature||(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))},t.prototype.onGuiKeyDown=function(e){var n,o=this.gridOptionsService.getDocument().activeElement,s=e.key===it.LEFT||e.key===it.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),o===this.eGui&&(e.shiftKey||e.altKey)&&((this.isResizing||s)&&(e.preventDefault(),e.stopImmediatePropagation()),s)){var l=e.key===it.LEFT!==this.gridOptionsService.get("enableRtl"),v=zo[l?"Left":"Right"];e.altKey?(this.isResizing=!0,this.resizeMultiplier+=1,this.resizeHeader(v,e.shiftKey),null===(n=this.resizeFeature)||void 0===n||n.toggleColumnResizing(!0)):this.moveHeader(v)}},t.prototype.onGuiKeyUp=function(){var e=this;!this.isResizing||(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(function(){var n;null===(n=e.resizeFeature)||void 0===n||n.toggleColumnResizing(!1)},150))},t.prototype.handleKeyDown=function(e){var n=this.getWrapperHasFocus();switch(e.key){case it.PAGE_DOWN:case it.PAGE_UP:case it.PAGE_HOME:case it.PAGE_END:n&&e.preventDefault()}},t.prototype.addDomData=function(){var e=this,n=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsService.setDomData(this.eGui,n,this),this.addDestroyFunc(function(){return e.gridOptionsService.setDomData(e.eGui,n,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.prototype.removeDragSource=function(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",BS([be("focusService")],t.prototype,"focusService",void 0),BS([be("beans")],t.prototype,"beans",void 0),BS([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),BS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),BS([be("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(Pt),Tue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B6=function(r){function t(e,n,i,o){var s=r.call(this)||this;return s.columnOrGroup=e,s.eCell=n,s.ariaEl=s.eCell.querySelector("[role=columnheader]")||s.eCell,s.colsSpanning=o,s.beans=i,s}return Tue(t,r),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsService.get("enableRtl")&&this.colsSpanning?Sr(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Lr.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsService.get("suppressColumnMoveAnimation"),n=Tt(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&n&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,n=this.getColumnOrGroup(),i=n.getLeft(),o=n.getOldLeft(),s=this.modifyLeftForPrintLayout(n,o),l=this.modifyLeftForPrintLayout(n,i);this.setLeft(s),this.actualLeft=l,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===l&&e.setLeft(l)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),n=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,n),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,n){if(!this.beans.gridOptionsService.isDomLayout("print")||"left"===e.getPinned())return n;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===e.getPinned()?o+this.beans.columnModel.getBodyContainerWidth()+n:o+n},t.prototype.setLeft=function(e){if(Tt(e)&&(this.eCell.style.left="".concat(e,"px")),this.columnOrGroup instanceof Lr);else{var i=this.columnOrGroup.getLeafColumns();if(!i.length)return;i.length>1&&g9(this.ariaEl,i.length)}},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(Pt),Rue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),V7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G6=function(r){function t(e,n){var i=r.call(this)||this;return i.columns=e,i.element=n,i}return Rue(t,r),t.prototype.postConstruct=function(){this.gridOptionsService.get("columnHoverHighlight")&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},V7([be("columnHoverService")],t.prototype,"columnHoverService",void 0),V7([Gt],t.prototype,"postConstruct",null),t}(Pt),Aue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),j6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Oue=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.iconCreated=!1,i.column=e,i}return Aue(t,r),t.prototype.setComp=function(e,n,i,o){this.comp=e,this.eButtonShowMainFilter=i,this.eFloatingFilterBody=o,this.setGui(n),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Lr.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))},t.prototype.resizeHeader=function(){},t.prototype.moveHeader=function(){},t.prototype.setupActive=function(){var e=this.column.getColDef();this.active=!!e.filter&&!!e.floatingFilter},t.prototype.setupUi=function(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),this.active&&!this.iconCreated){var e=Mi("filter",this.gridOptionsService,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}},t.prototype.setupFocus=function(){this.createManagedBean(new jh(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.setupAria=function(){var e=this.localeService.getLocaleTextFunc();qc(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsService.getDocument().activeElement!==this.eGui){var s=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(s)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void s.focus();var l=this.findNextColumnWithFloatingFilter(e.shiftKey);!l||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:l},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var n=this.beans.columnModel,i=this.column;do{if(!(i=e?n.getDisplayedColBefore(i):n.getDisplayedColAfter(i)))break}while(!i.getColDef().filter||!i.getColDef().floatingFilter);return i},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();switch(e.key){case it.UP:case it.DOWN:n||e.preventDefault();case it.LEFT:case it.RIGHT:if(n)return;e.stopPropagation();case it.ENTER:n&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case it.ESCAPE:n||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Lm(e.relatedTarget,"ag-floating-filter");if(i&&o&&e.target===this.eGui){var s=this.lastFocusEvent;s&&s&&s.key===it.TAB&&this.focusService.focusInto(this.eGui,s.shiftKey)}var D=this.getRowIndex();this.beans.focusService.setFocusedHeader(D,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new G6([this.column],this.eGui));var n=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.setupLeft=function(){var e=new B6(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupFilterButton=function(){var e=this.column.getColDef();this.suppressFilterButton=!!e.floatingFilterComponentParams&&!!e.floatingFilterComponentParams.suppressFilterButton},t.prototype.setupUserComp=function(){var e=this;if(this.active){var n=this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()});n&&this.setCompDetails(n)}},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setCompDetails(e)},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var n=function(i){var o=e.comp.getFloatingFilterComp();!o||o.then(function(s){if(s){var l=e.filterManager.getCurrentFloatingFilterParentModel(e.column);s.onParentModelChanged(l,i)}})};this.destroySyncListener=this.addManagedListener(this.column,Lr.EVENT_FILTER_CHANGED,n),this.filterManager.isFilterActive(this.column)&&n(null)}},t.prototype.setupWidth=function(){var e=this,n=function(){var i="".concat(e.column.getActualWidth(),"px");e.comp.setWidth(i)};this.addManagedListener(this.column,Lr.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupFilterChangedListener=function(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Lr.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)))},t.prototype.updateFilterButton=function(){!this.suppressFilterButton&&this.comp&&this.comp.setButtonWrapperDisplayed(this.filterManager.isFilterAllowed(this.column))},t.prototype.onColDefChanged=function(){var n,i,e=this,o=this.active;this.setupActive();var s=!o&&this.active;o&&!this.active&&(null===(n=this.destroySyncListener)||void 0===n||n.call(this),null===(i=this.destroyFilterChangedListener)||void 0===i||i.call(this));var l=this.active?this.filterManager.getFloatingFilterCompDetails(this.column,function(){return e.showParentFilter()}):null,v=this.comp.getFloatingFilterComp();v&&l?v.then(function(D){var F;!D||e.filterManager.areFilterCompsDifferent(null!==(F=e.userCompDetails)&&void 0!==F?F:null,l)?e.updateCompDetails(l,s):e.updateFloatingFilterParams(l)}):this.updateCompDetails(l,s)},t.prototype.updateCompDetails=function(e,n){this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(),this.setupFilterChangedListener())},t.prototype.updateFloatingFilterParams=function(e){var n;if(e){var i=e.params;null===(n=this.comp.getFloatingFilterComp())||void 0===n||n.then(function(o){o?.onParamsUpdated&&"function"==typeof o.onParamsUpdated&&o.onParamsUpdated(i)})}},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null},j6([be("filterManager")],t.prototype,"filterManager",void 0),j6([be("columnHoverService")],t.prototype,"columnHoverService",void 0),j6([be("menuFactory")],t.prototype,"menuFactory",void 0),t}(nO),Mue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),GS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Iue=function(r){function t(e,n,i,o,s){var l=r.call(this)||this;return l.pinned=e,l.column=n,l.eResize=i,l.comp=o,l.ctrl=s,l}return Mue(t,r),t.prototype.postConstruct=function(){var i,o,e=this,n=[],l=function(){n.forEach(function(D){return D()}),n.length=0},v=function(){var D=e.column.isResizable(),F=!e.gridOptionsService.get("suppressAutoSize")&&!e.column.getColDef().suppressAutoSize;(D!==i||F!==o)&&(i=D,o=F,l(),function(){if(mr(e.eResize,i),i){var D=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(n.push(D),o){var F=e.gridOptionsService.get("skipHeaderOnAutoSize"),z=function(){e.columnModel.autoSizeColumn(e.column,F,"uiColumnResized")};e.eResize.addEventListener("dblclick",z);var re=new ca(e.eResize);re.addEventListener(ca.EVENT_DOUBLE_TAP,z),n.push(function(){e.eResize.removeEventListener("dblclick",z),re.removeEventListener(ca.EVENT_DOUBLE_TAP,z),re.destroy()})}}}())};v(),this.addDestroyFunc(l),this.ctrl.addRefreshFunction(v)},t.prototype.onResizing=function(e,n){var i=this,o=i.column,s=i.lastResizeAmount,l=i.resizeStartWidth,v=this.normaliseResizeAmount(n),F=[{key:o,newWidth:l+v}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(v-s)>Vm(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=v,this.columnModel.setColumnWidths(F,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1))},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.normaliseResizeAmount=function(e){var n=e,i="left"!==this.pinned,o="right"===this.pinned;return this.gridOptionsService.get("enableRtl")?i&&(n*=-1):o&&(n*=-1),n},GS([be("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),GS([be("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),GS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),GS([be("columnModel")],t.prototype,"columnModel",void 0),GS([Gt],t.prototype,"postConstruct",null),t}(Pt),Pue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},kue=function(r){function t(e){var n=r.call(this)||this;return n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.column=e,n}return Pue(t,r),t.prototype.onSpaceKeyDown=function(e){var n=this.cbSelectAll,i=this.gridOptionsService.getDocument();n.isDisplayed()&&!n.getGui().contains(i.activeElement)&&(e.preventDefault(),n.setValue(!n.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new jA),this.cbSelectAll.addCssClass("ag-header-select-all"),to(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Ce.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),AA(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.onNewColumnsLoaded=function(){this.showOrHideSelectAll()},t.prototype.onDisplayedColumnsChanged=function(){!this.isAlive()||this.showOrHideSelectAll()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()},t.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.localeService.getLocaleTextFunc(),i=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?"".concat(o," (").concat(i,")"):null),this.cbSelectAll.setInputAriaLabel("".concat(o," (").concat(i,")")),this.headerCellCtrl.refreshAriaDescription()},t.prototype.checkSelectionType=function(e){return!("multiple"!==this.gridOptionsService.get("rowSelection")&&(console.warn("AG Grid: ".concat(e," is only available if using 'multiple' rowSelection.")),1))},t.prototype.checkRightRowModelType=function(e){var n=this.rowModel.getType();return!("clientSide"!==n&&"serverSide"!==n&&(console.warn("AG Grid: ".concat(e," is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ").concat(n,".")),1))},t.prototype.onCbSelectAll=function(){if(!this.processingEventFromCheckbox&&this.cbSelectAllVisible){var e=this.cbSelectAll.getValue(),n=this.isFilteredOnly(),i=this.isCurrentPageOnly(),o="uiSelectAll";i?o="uiSelectAllCurrentPage":n&&(o="uiSelectAllFiltered");var s={source:o,justFiltered:n,justCurrentPage:i};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.gridOptionsService.columnApi,api:this.gridOptionsService.api,context:this.gridOptionsService.context})),!!e&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")},t.prototype.isFilteredOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly},t.prototype.isCurrentPageOnly=function(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly},B7([be("rowModel")],t.prototype,"rowModel",void 0),B7([be("selectionService")],t.prototype,"selectionService",void 0),t}(Pt),Fue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eg=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lue=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Vue=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.refreshFunctions=[],i.userHeaderClasses=new Set,i.ariaDescriptionProperties=new Map,i.column=e,i}return Fue(t,r),t.prototype.setComp=function(e,n,i,o){var s=this;this.comp=e,this.setGui(n),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(o),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new Iue(this.getPinned(),this.column,i,e,this)),this.createManagedBean(new G6([this.column],n)),this.createManagedBean(new B6(this.column,n,this.beans)),this.createManagedBean(new jh(n,{shouldStopEventPropagation:function(l){return s.shouldStopEventPropagation(l)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Lr.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))},t.prototype.resizeHeader=function(e,n){var i,o;if(this.column.isResizable()){var s=this.column.getPinned(),l=this.gridOptionsService.get("enableRtl"),v=this.column.getActualWidth(),D=null!==(i=this.column.getMinWidth())&&void 0!==i?i:0,F=null!==(o=this.column.getMaxWidth())&&void 0!==o?o:Number.MAX_SAFE_INTEGER,z=e===zo.Left;s&&l!==("right"===s)&&(z=!z);var re=(z?-1:1)*this.resizeMultiplier,ae=Math.min(Math.max(v+re,D),F);if(s&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+re>Vm(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return;this.columnModel.setColumnWidths([{key:this.column,newWidth:ae}],n,!0)}},t.prototype.moveHeader=function(e){var n=this,i=n.eGui,o=n.column,s=n.columnModel,l=n.gridOptionsService,v=n.ctrlsService,D=this.getPinned(),F=i.getBoundingClientRect().left,z=o.getActualWidth(),re=l.get("enableRtl"),fe=Jm.normaliseX(e===zo.Left!==re?F-20:F+z+20,D,!0,l,v);Jm.attemptMoveColumns({allMovingColumns:[o],isFromHeader:!0,hDirection:e,xPosition:fe,pinned:D,fromEnter:!1,fakeEvent:!1,gridOptionsService:l,columnModel:s}),v.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,"auto")},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),n=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(n,e)},t.prototype.createParams=function(){var e=this;return{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,showColumnMenu:function(i){e.gridApi.showColumnMenuAfterButtonClick(e.column,i)},progressSort:function(i){e.sortController.progressSort(e.column,!!i,"uiColumnSorted")},setSort:function(i,o){e.sortController.setSortForColumn(e.column,i,!!o,"uiColumnSorted")},api:this.gridApi,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new kue(this.column)),this.selectAllFeature.setComp(this)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e),e.key===it.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===it.ENTER&&this.onEnterKeyDown(e)},t.prototype.onEnterKeyDown=function(e){var n=this.comp.getUserCompInstance();n&&(e.ctrlKey||e.metaKey?this.menuEnabled&&n.showMenu&&(e.preventDefault(),n.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var n=this.getRowIndex();this.focusService.setFocusedHeader(n,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,i=this.createManagedBean(new O6({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));i.setComp(this.eGui),this.refreshFunctions.push(function(){return i.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,n=function(){var i=e.column.getColDef(),o=ZA.getHeaderClassesFromColDef(i,e.gridOptionsService,e.column,null),s=e.userHeaderClasses;e.userHeaderClasses=new Set(o),o.forEach(function(l){s.has(l)?s.delete(l):e.comp.addOrRemoveCssClass(l,!0)}),s.forEach(function(l){return e.comp.addOrRemoveCssClass(l,!1)})};this.refreshFunctions.push(n),n()},t.prototype.setDragSource=function(e){var n=this;if(this.dragSourceElement=e,this.removeDragSource(),e&&this.draggable){var i=this,o=i.column,s=i.columnModel,l=i.displayName,v=i.dragAndDropService,D=i.gridOptionsService,F=!this.gridOptionsService.get("suppressDragLeaveHidesColumns"),z=this.dragSource={type:us.HeaderCell,eElement:e,getDefaultIconName:function(){return F?co.ICON_HIDE:co.ICON_NOT_ALLOWED},getDragItem:function(){return n.createDragItem(o)},dragItemName:l,onDragStarted:function(){F=!D.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.setMoving(!1,"uiColumnMoved")},onGridEnter:function(re){var ae;if(F){var fe=(null===(ae=re?.columns)||void 0===ae?void 0:ae.filter(function(ge){return!ge.getColDef().lockVisible}))||[];s.setColumnsVisible(fe,!0,"uiColumnMoved")}},onGridExit:function(re){var ae;if(F){var fe=(null===(ae=re?.columns)||void 0===ae?void 0:ae.filter(function(ge){return!ge.getColDef().lockVisible}))||[];s.setColumnsVisible(fe,!1,"uiColumnMoved")}}};v.addDragSource(z,!0)}},t.prototype.createDragItem=function(e){var n={};return n[e.getId()]=e.isVisible(),{columns:[e],visibleState:n}},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var n=this.comp.getUserCompInstance();return!(!n||!n.refresh)&&n.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsService.get("suppressMovableColumns")||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,n=function(){var i=e.column.getActualWidth();e.comp.setWidth("".concat(i,"px"))};this.addManagedListener(this.column,Lr.EVENT_WIDTH_CHANGED,n),n()},t.prototype.setupMovingCss=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,Lr.EVENT_MOVING_CHANGED,n),n()},t.prototype.setupMenuClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,Lr.EVENT_MENU_VISIBLE_CHANGED,n),n()},t.prototype.setupSortableClass=function(){var e=this,n=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)};n(),this.addRefreshFunction(n),this.addManagedListener(this.eventService,Lr.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))},t.prototype.setupFilterClass=function(){var e=this,n=function(){var i=e.column.isFilterActive();e.comp.addOrRemoveCssClass("ag-header-cell-filtered",i),e.refreshAria()};this.addManagedListener(this.column,Lr.EVENT_FILTER_ACTIVE_CHANGED,n),n()},t.prototype.setupWrapTextClass=function(){var e=this,n=function(){var i=!!e.column.getColDef().wrapHeaderText;e.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",i)};n(),this.addRefreshFunction(n)},t.prototype.onDisplayedColumnsChanged=function(){r.prototype.onDisplayedColumnsChanged.call(this),this.isAlive()&&this.onHeaderHeightChanged()},t.prototype.onHeaderHeightChanged=function(){this.refreshSpanHeaderHeight()},t.prototype.refreshSpanHeaderHeight=function(){var e=this,n=e.eGui,o=e.comp,s=e.columnModel,l=e.gridOptionsService;if(!e.column.isSpanHeaderHeight())return n.style.removeProperty("top"),n.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),void o.addOrRemoveCssClass("ag-header-span-total",!1);var v=this.getColumnGroupPaddingInfo(),D=v.numberOfParents,F=v.isSpanningTotal;o.addOrRemoveCssClass("ag-header-span-height",D>0);var z=s.getColumnHeaderRowHeight();if(0===D)return o.addOrRemoveCssClass("ag-header-span-total",!1),n.style.setProperty("top","0px"),void n.style.setProperty("height","".concat(z,"px"));o.addOrRemoveCssClass("ag-header-span-total",F);var fe=D*(l.get("pivotMode")?s.getPivotGroupHeaderHeight():s.getGroupHeaderHeight());n.style.setProperty("top","".concat(-fe,"px")),n.style.setProperty("height","".concat(z+fe,"px"))},t.prototype.getColumnGroupPaddingInfo=function(){var e=this.column.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};for(var n=e.getPaddingLevel()+1,i=!0;e;){if(!e.isPadding()){i=!1;break}e=e.getParent()}return{numberOfParents:n,isSpanningTotal:i}},t.prototype.setupAutoHeight=function(e){var s,n=this,i=function(F){if(n.isAlive()){var z=Gh(n.getGui()),Ie=e.offsetHeight+(z.paddingTop+z.paddingBottom+z.borderBottomWidth+z.borderTopWidth);if(F<5){var Ve=n.beans.gridOptionsService.getDocument();if(!Ve||!Ve.contains(e)||0==Ie)return void n.beans.frameworkOverrides.setTimeout(function(){return i(F+1)},0)}n.columnModel.setColumnHeaderHeight(n.column,Ie)}},o=!1,l=function(){var F=n.column.isAutoHeaderHeight();F&&!o&&v(),!F&&o&&D()},v=function(){o=!0,i(0),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),s=n.resizeObserverService.observeResize(e,function(){return i(0)})},D=function(){o=!1,s&&s(),n.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),s=void 0};l(),this.addDestroyFunc(function(){return D()}),this.addManagedListener(this.column,Lr.EVENT_WIDTH_CHANGED,function(){return o&&i(0)}),this.addManagedListener(this.eventService,Lr.EVENT_SORT_CHANGED,function(){o&&n.beans.frameworkOverrides.setTimeout(function(){return i(0)})}),this.addRefreshFunction(l)},t.prototype.refreshAriaSort=function(){if(this.sortable){var e=this.localeService.getLocaleTextFunc(),n=this.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(s9(n)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort."))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)},t.prototype.refreshAriaMenu=function(){if(this.menuEnabled){var e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press CTRL ENTER to open column menu."))}else this.setAriaDescriptionProperty("menu",null)},t.prototype.refreshAriaFiltered=function(){var e=this.localeService.getLocaleTextFunc(),n=this.column.isFilterActive();this.setAriaDescriptionProperty("filter",n?e("ariaColumnFiltered","Column Filtered"):null)},t.prototype.setAriaDescriptionProperty=function(e,n){null!=n?this.ariaDescriptionProperties.set(e,n):this.ariaDescriptionProperties.delete(e)},t.prototype.refreshAriaDescription=function(){var e,n,i=null;try{for(var o=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.ariaDescriptionProperties),s=o.next();!s.done;s=o.next()){var l=Lue(s.value,2),D=l[1];i="filter"===l[0]?"".concat(D," ").concat(i||""):"".concat(i||""," ").concat(D)}}catch(F){e={error:F}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.comp.setAriaDescription(i??void 0)},t.prototype.refreshAria=function(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFiltered(),this.refreshAriaDescription()},t.prototype.addColumnHoverListener=function(){var e=this,n=function(){if(e.gridOptionsService.get("columnHoverHighlight")){var i=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",i)}};this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_HOVER_CHANGED,n),n()},t.prototype.getColId=function(){return this.column.getColId()},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,n=function(i){return e.setActiveHeader("mouseenter"===i.type)};this.addManagedListener(this.getGui(),"mouseenter",n),this.addManagedListener(this.getGui(),"mouseleave",n)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null},eg([be("columnModel")],t.prototype,"columnModel",void 0),eg([be("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),eg([be("columnHoverService")],t.prototype,"columnHoverService",void 0),eg([be("sortController")],t.prototype,"sortController",void 0),eg([be("menuFactory")],t.prototype,"menuFactory",void 0),eg([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),eg([be("gridApi")],t.prototype,"gridApi",void 0),t}(nO),Bue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gue=function(r){function t(e,n,i,o){var s=r.call(this)||this;return s.eResize=n,s.comp=e,s.pinned=i,s.columnGroup=o,s}return Bue(t,r),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(n),!this.gridOptionsService.get("suppressAutoSize")){var i=this.gridOptionsService.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",function(){var o=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(l){l.getColDef().suppressAutoSize||o.push(l.getColId())}),o.length>0&&e.columnModel.autoSizeColumns({columns:o,skipHeader:i,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit("uiColumnResized")})}}else this.comp.setResizableDisplayed(!1)},t.prototype.onResizeStart=function(e){var n=this.getInitialValues(e);this.storeLocalValues(n),this.toggleColumnResizing(!0)},t.prototype.onResizing=function(e,n,i){void 0===i&&(i="uiColumnResized");var o=this.normaliseDragChange(n);this.resizeColumnsFromLocalValues(this.resizeStartWidth+o,i,e)},t.prototype.getInitialValues=function(e){var n=this.getColumnsToResize(),i=this.getInitialSizeOfColumns(n),s={columnsToResize:n,resizeStartWidth:i,resizeRatios:this.getSizeRatiosOfColumns(n,i)},l=null;if(e&&(l=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),l){var v=l.getDisplayedLeafColumns(),D=s.groupAfterColumns=v.filter(function(z){return z.isResizable()}),F=s.groupAfterStartWidth=this.getInitialSizeOfColumns(D);s.groupAfterRatios=this.getSizeRatiosOfColumns(D,F)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s},t.prototype.storeLocalValues=function(e){var i=e.resizeStartWidth,o=e.resizeRatios,s=e.groupAfterColumns,l=e.groupAfterStartWidth,v=e.groupAfterRatios;this.resizeCols=e.columnsToResize,this.resizeStartWidth=i,this.resizeRatios=o,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=l,this.resizeTakeFromRatios=v},t.prototype.clearLocalValues=function(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0},t.prototype.resizeLeafColumnsToFit=function(e){var n=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),i=this.getInitialValues();n>i.resizeStartWidth&&this.resizeColumns(i,n,e,!0)},t.prototype.resizeColumnsFromLocalValues=function(e,n,i){var o,s,l;if(void 0===i&&(i=!0),this.resizeCols&&this.resizeRatios){var v={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!==(o=this.resizeTakeFromCols)&&void 0!==o?o:void 0,groupAfterStartWidth:null!==(s=this.resizeTakeFromStartWidth)&&void 0!==s?s:void 0,groupAfterRatios:null!==(l=this.resizeTakeFromRatios)&&void 0!==l?l:void 0};this.resizeColumns(v,e,n,i)}},t.prototype.resizeColumns=function(e,n,i,o){void 0===o&&(o=!0);var l=e.resizeStartWidth,D=e.groupAfterColumns,F=e.groupAfterStartWidth,z=e.groupAfterRatios,re=[];re.push({columns:e.columnsToResize,ratios:e.resizeRatios,width:n}),D&&re.push({columns:D,ratios:z,width:F-(n-l)}),this.columnModel.resizeColumnSets({resizeSets:re,finished:o,source:i}),o&&this.toggleColumnResizing(!1)},t.prototype.toggleColumnResizing=function(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)},t.prototype.getColumnsToResize=function(){return this.columnGroup.getDisplayedLeafColumns().filter(function(n){return n.isResizable()})},t.prototype.getInitialSizeOfColumns=function(e){return e.reduce(function(n,i){return n+i.getActualWidth()},0)},t.prototype.getSizeRatiosOfColumns=function(e,n){return e.map(function(i){return i.getActualWidth()/n})},t.prototype.normaliseDragChange=function(e){var n=e;return this.gridOptionsService.get("enableRtl")?"left"!==this.pinned&&(n*=-1):"right"===this.pinned&&(n*=-1),n},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.clearLocalValues()},rO([be("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),rO([be("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),rO([be("columnModel")],t.prototype,"columnModel",void 0),rO([Gt],t.prototype,"postConstruct",null),t}(Pt),jue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uue=function(r){function t(e,n){var i=r.call(this)||this;return i.removeChildListenersFuncs=[],i.columnGroup=n,i.comp=e,i}return jue(t,r),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,eo.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var n=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(i){i.addEventListener("widthChanged",n),i.addEventListener("visibleChanged",n),e.removeChildListenersFuncs.push(function(){i.removeEventListener("widthChanged",n),i.removeEventListener("visibleChanged",n)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){var e=this.columnGroup.getActualWidth();this.comp.setWidth("".concat(e,"px")),this.comp.addOrRemoveCssClass("ag-hidden",0===e)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(Pt),zue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iO=function(){return iO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},iO.apply(this,arguments)},$ue=function(r){function t(e,n){var i=r.call(this,e,n)||this;return i.onSuppressColMoveChange=function(){if(i.isSuppressMoving())i.removeDragSource();else if(!i.dragSource){var o=i.getGui();i.setDragSource(o)}},i.column=e,i}return zue(t,r),t.prototype.setComp=function(e,n,i){this.comp=e,this.setGui(n),this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var o=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new G6(s,n)),this.createManagedBean(new B6(this.column,n,this.beans)),this.createManagedBean(new Uue(e,this.column)),this.resizeFeature=this.createManagedBean(new Gue(e,i,o,this.column)),this.createManagedBean(new jh(n,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(Ce.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()},t.prototype.resizeHeader=function(e,n){if(this.resizeFeature){var o=(e===zo.Left?-1:1)*this.resizeMultiplier,s=this.resizeFeature.getInitialValues(n);this.resizeFeature.resizeColumns(s,s.resizeStartWidth+o,"uiColumnResized",!0)}},t.prototype.moveHeader=function(e){var n=this,i=n.eGui,o=n.column,s=n.columnModel,l=n.gridOptionsService,v=n.ctrlsService,D=l.get("enableRtl"),F=e===zo.Left,z=this.getPinned(),re=i.getBoundingClientRect(),ae=re.left,ge=Jm.normaliseX(F!==D?ae-20:ae+re.width+20,z,!0,l,v),we=o.getGroupId(),Te=this.focusService.getFocusedHeader();Jm.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:ge,pinned:z,fromEnter:!1,fakeEvent:!1,gridOptionsService:l,columnModel:s});var Ie=o.getDisplayedLeafColumns(),Ve=F?Ie[0]:Sr(Ie);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Ve,"auto"),!this.isAlive()&&Te&&this.restoreFocus(we,o,Te)},t.prototype.restoreFocus=function(e,n,i){var o=n.getLeafColumns();if(o.length){var s=o[0].getParent();if(s){var l=this.findGroupWidthId(s,e);l&&this.focusService.focusHeaderPosition({headerPosition:iO(iO({},i),{column:l})})}}},t.prototype.findGroupWidthId=function(e,n){for(;e;){if(e.getGroupId()===n)return e;e=e.getParent()}return null},t.prototype.resizeLeafColumnsToFit=function(e){!this.resizeFeature||this.resizeFeature.resizeLeafColumnsToFit(e)},t.prototype.setupUserComp=function(){var e=this,i=this.userComponentFactory.getHeaderGroupCompDetails({displayName:this.displayName,columnGroup:this.column,setExpanded:function(o){e.columnModel.setColumnGroupOpened(e.column.getProvidedColumnGroup(),o,"gridInitializing")},api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});this.comp.setUserCompDetails(i)},t.prototype.setupTooltip=function(){var e=this,n=this.column.getColGroupDef(),i={getColumn:function(){return e.column},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return n&&n.headerTooltip}};n&&(i.getColDef=function(){return n}),this.createManagedBean(new O6(i,this.beans)).setComp(this.eGui)},t.prototype.setupExpandable=function(){var e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Ci.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Ci.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.column;this.expandable=e.isExpandable();var n=e.isExpanded();this.comp.setAriaExpanded(this.expandable?n?"true":"false":void 0)},t.prototype.getColId=function(){return this.column.getUniqueId()},t.prototype.addClasses=function(){var e=this,n=this.column.getColGroupDef(),i=ZA.getHeaderClassesFromColDef(n,this.gridOptionsService,null,this.column);this.column.isPadding()?(i.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(function(s){return s.isSpanHeaderHeight()})&&i.push("ag-header-span-height")):i.push("ag-header-group-cell-with-group"),i.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!0)})},t.prototype.setupMovingCss=function(){var e=this,i=this.column.getProvidedColumnGroup().getLeafColumns(),o=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};i.forEach(function(s){e.addManagedListener(s,Lr.EVENT_MOVING_CHANGED,o)}),o()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}},t.prototype.handleKeyDown=function(e){r.prototype.handleKeyDown.call(this,e);var n=this.getWrapperHasFocus();if(this.expandable&&n&&e.key===it.ENTER){var i=this.column,o=!i.isExpanded();this.columnModel.setColumnGroupOpened(i.getProvidedColumnGroup(),o,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var n=this;if(!this.isSuppressMoving()&&(this.removeDragSource(),e)){var i=this,o=i.column,s=i.columnModel,l=i.displayName,v=i.gridOptionsService,D=i.dragAndDropService,F=o.getProvidedColumnGroup().getLeafColumns(),z=!v.get("suppressDragLeaveHidesColumns"),re=this.dragSource={type:us.HeaderCell,eElement:e,getDefaultIconName:function(){return z?co.ICON_HIDE:co.ICON_NOT_ALLOWED},dragItemName:l,getDragItem:function(){return n.getDragItemForGroup(o)},onDragStarted:function(){z=!v.get("suppressDragLeaveHidesColumns"),F.forEach(function(ae){return ae.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return F.forEach(function(ae){return ae.setMoving(!1,"uiColumnDragged")})},onGridEnter:function(ae){var fe;if(z){var ge=(null===(fe=ae?.columns)||void 0===fe?void 0:fe.filter(function(we){return!we.getColDef().lockVisible}))||[];s.setColumnsVisible(ge,!0,"uiColumnMoved")}},onGridExit:function(ae){var fe;if(z){var ge=(null===(fe=ae?.columns)||void 0===fe?void 0:fe.filter(function(we){return!we.getColDef().lockVisible}))||[];s.setColumnsVisible(ge,!1,"uiColumnMoved")}}};D.addDragSource(re,!0)}},t.prototype.getDragItemForGroup=function(e){var n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(function(s){return i[s.getId()]=s.isVisible()});var o=[];return this.columnModel.getAllDisplayedColumns().forEach(function(s){n.indexOf(s)>=0&&(o.push(s),la(n,s))}),n.forEach(function(s){return o.push(s)}),{columns:o,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach(function(i){(i.getColDef().suppressMovable||i.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsService.get("suppressMovableColumns")},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("columnModel")],t.prototype,"columnModel",void 0),t}(nO),que=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},G7=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Yue=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Kue=0,H6=function(r){function t(e,n,i){var o=r.call(this)||this;return o.instanceId=Kue++,o.rowIndex=e,o.pinned=n,o.type=i,o.headerRowClass="ag-header-row ".concat(i==ho.COLUMN_GROUP?"ag-header-row-column-group":i==ho.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column"),o}return que(t,r),t.prototype.postConstruct=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.isEnsureDomOrder=this.gridOptionsService.get("ensureDomOrder")},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,n){void 0===n&&(n=!0),this.comp=e,n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()},t.prototype.getHeaderRowClass=function(){return this.headerRowClass},t.prototype.getAriaRowIndex=function(){return this.rowIndex+1},t.prototype.getTransform=function(){if(Ml())return"translateZ(0)"},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_VIRTUAL_COLUMNS_CHANGED,function(n){return e.onVirtualColumnsChanged(n.afterScroll)}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",function(n){return e.isEnsureDomOrder=n.currentValue}),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){if(this.headerCellCtrls)return Pm(this.headerCellCtrls).find(function(n){return n.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.isPrintLayout=this.gridOptionsService.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth("".concat(e,"px"))},t.prototype.getWidthForRow=function(){return this.isPrintLayout?null!=this.pinned?0:this.columnModel.getContainerWidth("right")+this.columnModel.getContainerWidth("left")+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var e=this.getTopAndHeight(),i=e.rowHeight;this.comp.setTop(e.topOffset+"px"),this.comp.setHeight(i+"px")},t.prototype.getTopAndHeight=function(){var e=this.columnModel.getHeaderRowCount(),n=[],i=0;this.filterManager.hasFloatingFilters()&&(e++,i=1);for(var o=this.columnModel.getColumnGroupHeaderRowHeight(),s=this.columnModel.getColumnHeaderRowHeight(),v=e-(1+i),D=0;D<v;D++)n.push(o);for(n.push(s),D=0;D<i;D++)n.push(this.columnModel.getFloatingFiltersHeight());var F=0;for(D=0;D<this.rowIndex;D++)F+=n[D];return{topOffset:F,rowHeight:n[this.rowIndex]}},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(e){void 0===e&&(e=!1);var n=this.getHeaderCtrls();this.comp.setHeaderCtrls(n,this.isEnsureDomOrder||this.isPrintLayout,e)},t.prototype.getHeaderCtrls=function(){var e,n,i,o,l=this.headerCellCtrls;this.headerCellCtrls=new Map;var et,v=this.getColumnsInViewport();try{for(var D=G7(v),F=D.next();!F.done;F=D.next())this.recycleAndCreateHeaderCtrls(F.value,l)}catch(et){e={error:et}}finally{try{F&&!F.done&&(n=D.return)&&n.call(D)}finally{if(e)throw e.error}}if(l)try{for(var ae=G7(l),fe=ae.next();!fe.done;fe=ae.next()){var ge=Yue(fe.value,2),we=ge[0],Te=ge[1];this.focusService.isHeaderWrapperFocused(et=Te)&&this.columnModel.isDisplayed(et.getColumnGroupChild())?this.headerCellCtrls.set(we,Te):this.destroyBean(Te)}}catch(et){i={error:et}}finally{try{fe&&!fe.done&&(o=ae.return)&&o.call(ae)}finally{if(i)throw i.error}}return Array.from(this.headerCellCtrls.values())},t.prototype.recycleAndCreateHeaderCtrls=function(e,n){if(this.headerCellCtrls&&!e.isEmptyGroup()){var o,i=e.getUniqueId();if(n&&(o=n.get(i),n.delete(i)),o&&o.getColumnGroupChild()!=e&&(this.destroyBean(o),o=void 0),null==o)switch(this.type){case ho.FLOATING_FILTER:o=this.createBean(new Oue(e,this));break;case ho.COLUMN_GROUP:o=this.createBean(new $ue(e,this));break;default:o=this.createBean(new Vue(e,this))}this.headerCellCtrls.set(i,o)}},t.prototype.getColumnsInViewport=function(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var n=[],i=this.getActualDepth();return["left",null,"right"].forEach(function(o){var s=e.columnModel.getVirtualHeaderGroupRow(o,i);n=n.concat(s)}),n},t.prototype.getActualDepth=function(){return this.type==ho.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,n){if(!this.headerCellCtrls)return!1;var o=Array.from(this.headerCellCtrls.values()).find(function(s){return s.getColumnGroupChild()==e});return!!o&&o.focus(n)},t.prototype.destroy=function(){var e=this;this.headerCellCtrls&&this.headerCellCtrls.forEach(function(n){e.destroyBean(n)}),this.headerCellCtrls=void 0,r.prototype.destroy.call(this)},oO([be("columnModel")],t.prototype,"columnModel",void 0),oO([be("focusService")],t.prototype,"focusService",void 0),oO([be("filterManager")],t.prototype,"filterManager",void 0),oO([Gt],t.prototype,"postConstruct",null),t}(Pt),Zue=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jue=function(r){function t(e){var n=r.call(this)||this;return n.hidden=!1,n.includeFloatingFilter=!1,n.groupsRowCtrls=[],n.pinned=e,n}return Zue(t,r),t.prototype.setComp=function(e,n){this.comp=e,this.eViewport=n,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,Ce.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var n=new vue(this.pinned,e);this.createManagedBean(n)},t.prototype.refresh=function(e){var n=this;void 0===e&&(e=!1);var F,z,i=new O_,o=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var F=n.columnModel.getHeaderRowCount()-1;n.groupsRowCtrls=n.destroyBeans(n.groupsRowCtrls);for(var z=0;z<F;z++){var re=n.createBean(new H6(i.next(),n.pinned,ho.COLUMN_GROUP));n.groupsRowCtrls.push(re)}})(),F=i.next(),((z=!(n.hidden||null!=n.columnsRowCtrl&&e&&n.columnsRowCtrl.getRowIndex()===F))||n.hidden)&&(n.columnsRowCtrl=n.destroyBean(n.columnsRowCtrl)),z&&(n.columnsRowCtrl=n.createBean(new H6(F,n.pinned,ho.COLUMN))),function(){n.includeFloatingFilter=n.filterManager.hasFloatingFilters()&&!n.hidden;var F=function(){n.filtersRowCtrl=n.destroyBean(n.filtersRowCtrl)};if(n.includeFloatingFilter){var z=i.next();if(n.filtersRowCtrl){var re=n.filtersRowCtrl.getRowIndex()!==z;(!e||re)&&F()}n.filtersRowCtrl||(n.filtersRowCtrl=n.createBean(new H6(z,n.pinned,ho.FLOATING_FILTER)))}else F()}();var D=this.getAllCtrls();this.comp.setCtrls(D),this.restoreFocusOnHeader(o)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(this.groupsRowCtrls),!1);return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.onDisplayedColumnsChanged=function(){var e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new F6(function(n){return e.comp.setCenterWidth("".concat(n,"px"))},!0))},t.prototype.setHorizontalScroll=function(e){this.comp.setViewportScrollLeft(e)},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var n="left"===this.pinned,i="right"===this.pinned;this.hidden=!0;var o=function(){var s=n?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=s){var l=0==s,v=e.hidden!==l,D=e.gridOptionsService.get("enableRtl"),F=e.gridOptionsService.getScrollbarWidth(),z=e.scrollVisibleService.isVerticalScrollShowing()&&(D&&n||!D&&i);e.comp.setPinnedContainerWidth("".concat(z?s+F:s,"px")),e.comp.setDisplayed(!l),v&&(e.hidden=l,e.refresh())}};this.addManagedListener(this.eventService,Ce.EVENT_LEFT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,Ce.EVENT_RIGHT_PINNED_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,Ce.EVENT_SCROLL_VISIBILITY_CHANGED,o),this.addManagedListener(this.eventService,Ce.EVENT_SCROLLBAR_WIDTH_CHANGED,o)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof Lr)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var n=0;n<this.groupsRowCtrls.length;n++){var i=this.groupsRowCtrls[n].getHeaderCellCtrl(e);if(i)return i}},t.prototype.getHtmlElementForColumnHeader=function(e){var n=this.getHeaderCtrlForColumn(e);return n?n.getGui():null},t.prototype.getRowType=function(e){var i=this.getAllCtrls()[e];return i?i.getType():void 0},t.prototype.focusHeader=function(e,n,i){var s=this.getAllCtrls()[e];return!!s&&s.focusHeader(n,i)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getRowCount=function(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)},t.prototype.destroy=function(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),r.prototype.destroy.call(this)},P_([be("ctrlsService")],t.prototype,"ctrlsService",void 0),P_([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),P_([be("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),P_([be("columnModel")],t.prototype,"columnModel",void 0),P_([be("focusService")],t.prototype,"focusService",void 0),P_([be("filterManager")],t.prototype,"filterManager",void 0),t}(Pt),ece=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),U6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},z6=function(r){function t(e){var n=r.call(this)||this;return n.headerRowComps={},n.rowCompsList=[],n.pinned=e,n}return ece(t,r),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var n={setDisplayed:function(o){return e.setDisplayed(o)},setCtrls:function(o){return e.setCtrls(o)},setCenterWidth:function(o){return e.eCenterContainer.style.width=o},setViewportScrollLeft:function(o){return e.getGui().scrollLeft=o},setPinnedContainerWidth:function(o){var s=e.getGui();s.style.width=o,s.style.maxWidth=o,s.style.minWidth=o}};this.createManagedBean(new Jue(this.pinned)).setComp(n,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate("left"==this.pinned?t.PINNED_LEFT_TEMPLATE:"right"==this.pinned?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var o,n=this,i=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(l){var v=l.getInstanceId(),D=i[v];delete i[v];var F=D||n.createBean(new Sue(l));n.headerRowComps[v]=F,n.rowCompsList.push(F),function(l){var v=l.getGui();v.parentElement!=n.eRowContainer&&n.eRowContainer.appendChild(v),o&&J3(n.eRowContainer,v,o),o=v}(F)}),kh(i).forEach(function(l){return n.destroyRowComp(l)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"></div>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"></div>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',U6([zt("eCenterContainer")],t.prototype,"eCenterContainer",void 0),U6([Gt],t.prototype,"init",null),U6([ls],t.prototype,"destroyRowComps",null),t}(Kn),tce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pl=(()=>(function(r){r[r.UP=0]="UP",r[r.DOWN=1]="DOWN",r[r.LEFT=2]="LEFT",r[r.RIGHT=3]="RIGHT"}(Pl||(Pl={})),Pl))(),nce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return tce(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.gridBodyCon=n.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.navigateVertically=function(e,n,i){if(n||(n=this.focusService.getFocusedHeader()),!n)return!1;var o=n.headerRowIndex,s=n.column,l=this.getHeaderRowCount(),D=e===Pl.UP?this.headerPositionUtils.getColumnVisibleParent(s,o):this.headerPositionUtils.getColumnVisibleChild(s,o),F=D.nextRow,z=D.nextFocusColumn,re=!1;return F<0&&(F=0,z=s,re=!0),F>=l&&(F=-1),!(!re&&!z)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:F,column:z},allowUserOverride:!0,event:i})},t.prototype.navigateHorizontally=function(e,n,i){void 0===n&&(n=!1);var v,D,o=this.focusService.getFocusedHeader();return(v=e===Pl.LEFT!==this.gridOptionsService.get("enableRtl")?this.headerPositionUtils.findHeader(o,D="Before"):this.headerPositionUtils.findHeader(o,D="After"))||!n?this.focusService.focusHeaderPosition({headerPosition:v,direction:D,fromTab:n,allowUserOverride:!0,event:i}):this.focusNextHeaderRow(o,D,i)},t.prototype.focusNextHeaderRow=function(e,n,i){var o=e.headerRowIndex,s=null;return"Before"===n?o>0&&(s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o-1,"end")):s=this.headerPositionUtils.findColAtEdgeForHeaderRow(o+1,"start"),this.focusService.focusHeaderPosition({headerPosition:s,direction:n,fromTab:!0,allowUserOverride:!0,event:i})},t.prototype.scrollToColumn=function(e,n){if(void 0===n&&(n="After"),!e.getPinned()){var i;if(e instanceof eo){var o=e.getDisplayedLeafColumns();i="Before"===n?Sr(o):o[0]}else i=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(i)}},jS([be("focusService")],t.prototype,"focusService",void 0),jS([be("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),jS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),jS([Gt],t.prototype,"postConstruct",null),jS([Jt("headerNavigationService")],t)}(Pt),rce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ice=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rce(t,r),t.prototype.setComp=function(e,n,i){this.comp=e,this.eGui=n,this.createManagedBean(new jh(i,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.setHeaderHeight=function(){var o,e=this.columnModel,n=0,i=e.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(i++,n=1);var l=this.columnModel.getColumnGroupHeaderRowHeight(),v=this.columnModel.getColumnHeaderRowHeight(),F=i-(1+n);if(o=n*e.getFloatingFiltersHeight(),o+=F*l,this.headerHeight!==(o+=v)){this.headerHeight=o;var z="".concat(o+1,"px");this.comp.setHeightAndMinHeight(z),this.eventService.dispatchEvent({type:Ce.EVENT_HEADER_HEIGHT_CHANGED})}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onDisplayedColumnsChanged=function(){var n=this.columnModel.getAllDisplayedColumns().some(function(i){return i.isSpanHeaderHeight()});this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)},t.prototype.onTabKeyDown=function(e){var n=this.gridOptionsService.get("enableRtl");(this.headerNavigationService.navigateHorizontally(e.shiftKey!==n?Pl.LEFT:Pl.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var n=null;switch(e.key){case it.LEFT:n=Pl.LEFT;case it.RIGHT:Tt(n)||(n=Pl.RIGHT),this.headerNavigationService.navigateHorizontally(n,!1,e);break;case it.UP:n=Pl.UP;case it.DOWN:Tt(n)||(n=Pl.DOWN),this.headerNavigationService.navigateVertically(n,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var n=this.gridOptionsService.getDocument(),i=e.relatedTarget;!i&&this.eGui.contains(n.activeElement)||this.eGui.contains(i)||this.focusService.clearFocusedHeader()},HS([be("headerNavigationService")],t.prototype,"headerNavigationService",void 0),HS([be("focusService")],t.prototype,"focusService",void 0),HS([be("columnModel")],t.prototype,"columnModel",void 0),HS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),HS([be("filterManager")],t.prototype,"filterManager",void 0),t}(Pt),oce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ace=function(r){function t(){return r.call(this,t.TEMPLATE)||this}return oce(t,r),t.prototype.postConstruct=function(){var e=this,n={addOrRemoveCssClass:function(s,l){return e.addOrRemoveCssClass(s,l)},setHeightAndMinHeight:function(s){e.getGui().style.height=s,e.getGui().style.minHeight=s}};this.createManagedBean(new ice).setComp(n,this.getGui(),this.getFocusableElement());var o=function(s){e.createManagedBean(s),e.appendChild(s)};o(new z6("left")),o(new z6(null)),o(new z6("right"))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(Kn),lce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),W6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},uce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lce(t,r),t.prototype.addResizeBar=function(e){var n=this,i={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(i),function(){return n.dragService.removeDragSource(i)}},t.prototype.onDragStart=function(e,n){this.dragStartX=n.clientX,this.setResizeIcons();var i=n instanceof MouseEvent&&!0===n.shiftKey;e.onResizeStart(i)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,n){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,n){this.resizeAmount=n.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},W6([be("dragService")],t.prototype,"dragService",void 0),W6([be("ctrlsService")],t.prototype,"ctrlsService",void 0),W6([Jt("horizontalResizeService")],t)}(Pt),cce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),US=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cce(t,r),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,n){var i=this;this.showPopup(e,function(o){i.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:n,ePopup:o})},"columnMenu",n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,i){var o=this;this.showPopup(e,function(s){o.popupService.positionPopupByComponent({type:i,eventSource:n,ePopup:s,keepWithinBounds:!0,position:"under",column:e})},i,n)},t.prototype.showPopup=function(e,n,i,o){var s=this,l=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!l)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var v=document.createElement("div");to(v,"presentation"),v.classList.add("ag-menu"),this.tabListener=this.addManagedListener(v,"keydown",function(ge){return s.trapFocusWithin(ge,v)}),l.guiPromise.then(function(ge){return v.appendChild(ge)});var D,z=o||this.ctrlsService.getGridBodyCtrl().getGui(),ae=this.localeService.getLocaleTextFunc(),fe=this.popupService.addPopup({modal:!0,eChild:v,closeOnEsc:!0,closedCallback:function(ge){e.setMenuVisible(!1,"contextMenu");var we=ge instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),we&&o&&As(o)){var Te=s.focusService.findTabbableParent(o);Te&&Te.focus()}!function(){var ge;null===(ge=l.filterPromise)||void 0===ge||ge.then(function(we){var Te;return null===(Te=we?.afterGuiDetached)||void 0===Te?void 0:Te.call(we)})}()},positionCallback:function(){return n(v)},anchorToElement:z,ariaLabel:ae("ariaLabelColumnMenu","Column Menu")});fe&&(this.hidePopup=D=fe.hideFunc),l.filterPromise.then(function(ge){n(v),ge.afterGuiAttached&&ge.afterGuiAttached({container:i,hidePopup:D})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,n){e.key!==it.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(n,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(n,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()&&e.getMenuTabs(["filterMenuTab"]).includes("filterMenuTab")},US([be("filterManager")],t.prototype,"filterManager",void 0),US([be("popupService")],t.prototype,"popupService",void 0),US([be("focusService")],t.prototype,"focusService",void 0),US([be("ctrlsService")],t.prototype,"ctrlsService",void 0),US([Jt("menuFactory")],t)}(Pt),hce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fce=(function(r){function t(e){var n=r.call(this,t.getTemplate(e.cssClass))||this;return n.items=[],n.tabbedItemScrollMap=new Map,n.params=e,e.items&&e.items.forEach(function(i){return n.addItem(i)}),n}hce(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new jh(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)})),this.addDestroyFunc(function(){var n,i,o;return null===(o=null===(i=null===(n=e.activeItem)||void 0===n?void 0:n.tabbedItem)||void 0===i?void 0:i.afterDetachedCallback)||void 0===o?void 0:o.call(i)})},t.getTemplate=function(e){return'<div class="ag-tabs '.concat(e,'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header ').concat(e?"".concat(e,"-header"):"",'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ').concat(e?"".concat(e,"-body"):"",'"></div>\n        </div>')},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsService.getDocument();switch(e.key){case it.RIGHT:case it.LEFT:if(!this.eHeader.contains(n.activeElement))return;var i=e.key===it.RIGHT,o=this.gridOptionsService.get("enableRtl"),s=this.items.indexOf(this.activeItem),l=i!==o?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===l)return;e.preventDefault();var v=this.items[l];this.showItemWrapper(v),v.eHeaderButton.focus();break;case it.UP:case it.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var n=this,i=n.focusService,o=n.eHeader,s=n.eBody,l=n.activeItem,D=this.gridOptionsService.getDocument().activeElement,F=e.target;if(e.preventDefault(),o.contains(D))return void i.focusInto(s,e.shiftKey);var z=null;i.isTargetUnderManagedComponent(s,F)&&(e.shiftKey&&(z=this.focusService.findFocusableElementBeforeTabGuard(s,F)),z||(z=l.eHeaderButton)),!z&&s.contains(D)&&((z=i.findNextFocusableElement(s,!1,e.shiftKey))||(z=l.eHeaderButton)),z&&z.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var n=document.createElement("span");to(n,"tab"),n.setAttribute("tabindex","-1"),n.appendChild(e.title),n.classList.add("ag-tab"),this.eHeader.appendChild(n),qc(n,e.titleLabel);var i={tabbedItem:e,eHeaderButton:n};this.items.push(i),n.addEventListener("click",this.showItemWrapper.bind(this,i))},t.prototype.showItem=function(e){var n=this.items.find(function(i){return i.tabbedItem===e});n&&this.showItemWrapper(n)},t.prototype.showItemWrapper=function(e){var i,o,n=this,s=e.tabbedItem,l=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:s}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),uo(this.eBody),s.bodyPromise.then(function(v){n.eBody.appendChild(v);var D=!n.focusService.isKeyboardMode();if(n.focusService.focusInto(n.eBody,!1,D),s.afterAttachedCallback&&s.afterAttachedCallback(n.afterAttachedParams),n.params.keepScrollPosition){var F=s.getScrollableContainer&&s.getScrollableContainer()||v;n.lastScrollListener=n.addManagedListener(F,"scroll",function(){n.tabbedItemScrollMap.set(s.name,F.scrollTop)});var z=n.tabbedItemScrollMap.get(s.name);void 0!==z&&setTimeout(function(){F.scrollTop=z},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null===(o=(i=this.activeItem.tabbedItem).afterDetachedCallback)||void 0===o||o.call(i)),l.classList.add("ag-tab-selected"),this.activeItem=e):VH(this.params.onActiveItemClicked)},sO([be("focusService")],t.prototype,"focusService",void 0),sO([zt("eHeader")],t.prototype,"eHeader",void 0),sO([zt("eBody")],t.prototype,"eBody",void 0),sO([Gt],t.prototype,"postConstruct",null)}(Kn),function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}()),gce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return fce(t,r),t.prototype.observeResize=function(e,n){var F,i=this,o=this.gridOptionsService.getWindow(),v=this.gridOptionsService.get("suppressBrowserResizeObserver");return o.ResizeObserver&&!v?((F=new o.ResizeObserver(n)).observe(e),function(){return F.disconnect()}):function(){var F=X3(e),z=Q3(e),re=!0,ae=function(){if(re){var fe=X3(e),ge=Q3(e);(fe!==F||ge!==z)&&(F=fe,z=ge,n()),i.doNextPolyfillTurn(ae)}};return ae(),function(){return re=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var i=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],i.forEach(function(o){return o()})},50))},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("resizeObserverService")],t),t}(Pt),vce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},yce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastPage=0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return vce(t,r),t.prototype.setScrollTop=function(e){var n=this.gridOptionsService.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,n&&0===e){var i=this.paginationProxy.getCurrentPage();i!==this.lastPage&&(this.lastPage=i,this.scrollGoingDown=!0)}this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsService.get("suppressAnimationFrame")},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService.".concat(e," called but animation frames are off"))},t.prototype.createTask=function(e,n,i){this.verifyAnimationFrameOn(i);var o={task:e,index:n,createOrder:++this.taskCount};this.addTaskToList(this[i],o),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,n){e.list.push(n),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var n=this.scrollGoingDown?1:-1;e.list.sort(function(i,o){return i.index!==o.index?n*(o.index-i.index):o.createOrder-i.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var n=this.createTasksP1,i=n.list,o=this.createTasksP2,s=o.list,l=this.destroyTasks,v=(new Date).getTime(),D=(new Date).getTime()-v,F=e<=0,z=this.ctrlsService.getGridBodyCtrl();F||D<e;){if(!z.getScrollFeature().scrollGridIfNeeded()){var ae=void 0;if(i.length)this.sortTaskList(n),ae=i.pop().task;else if(s.length)this.sortTaskList(o),ae=s.pop().task;else{if(!l.length){this.cancelledTasks.clear();break}ae=l.pop()}this.cancelledTasks.has(ae)||ae()}D=(new Date).getTime()-v}i.length||s.length||l.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},t.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)},t.prototype.requestAnimationFrame=function(e){var n=this.gridOptionsService.getWindow();n.requestAnimationFrame?n.requestAnimationFrame(e):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(e):n.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var n=this,i=!1;return function(){n.isOn()?i||(i=!0,n.addDestroyTask(function(){i=!1,e()})):n.getFrameworkOverrides().setTimeout(e,0)}},aO([be("ctrlsService")],t.prototype,"ctrlsService",void 0),aO([be("paginationProxy")],t.prototype,"paginationProxy",void 0),aO([Gt],t.prototype,"init",null),aO([Jt("animationFrameService")],t)}(Pt),ar=(()=>(function(r){r.EVERYTHING="group",r.FILTER="filter",r.SORT="sort",r.MAP="map",r.AGGREGATE="aggregate",r.FILTER_AGGREGATES="filter_aggregates",r.PIVOT="pivot",r.NOTHING="nothing"}(ar||(ar={})),ar))(),_ce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return _ce(t,r),t.prototype.postConstruct=function(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()},t.prototype.expandRows=function(e){if(this.isClientSideRowModel){var n=new Set(e);this.rowModel.forEachNode(function(i){i.id&&n.has(i.id)&&(i.expanded=!0)}),this.onGroupExpandedOrCollapsed()}},t.prototype.getExpandedRows=function(){var e=[];return this.rowModel.forEachNode(function(n){var o=n.id;n.expanded&&o&&e.push(o)}),e},t.prototype.expandAll=function(e){!this.isClientSideRowModel||this.rowModel.expandOrCollapseAll(e)},t.prototype.setRowNodeExpanded=function(e,n,i){e&&(i&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,n,i),e.setExpanded(n))},t.prototype.onGroupExpandedOrCollapsed=function(){!this.isClientSideRowModel||this.rowModel.refreshModel({step:ar.MAP})},$6([be("rowModel")],t.prototype,"rowModel",void 0),$6([Gt],t.prototype,"postConstruct",null),$6([Jt("expansionService")],t)}(Pt),wce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return wce(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCtrl=n.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,n){var i=this.getHeaderCellForColumn(e);if(!i)return-1;var o=this.rowRenderer.getAllCellsForColumn(e);return n||o.push(i),this.addElementsToContainerAndGetWidth(o)},t.prototype.getPreferredWidthForColumnGroup=function(e){var n=this.getHeaderCellForColumn(e);return n?this.addElementsToContainerAndGetWidth([n]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var n=this,i=document.createElement("form");i.style.position="fixed";var o=this.centerRowContainerCtrl.getContainerElement();e.forEach(function(v){return n.cloneItemIntoDummy(v,i)}),o.appendChild(i);var s=i.offsetWidth;return o.removeChild(i),s+this.getAutoSizePadding()},t.prototype.getAutoSizePadding=function(){return this.gridOptionsService.get("autoSizePadding")},t.prototype.getHeaderCellForColumn=function(e){var n=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){var o=i.getHtmlElementForColumnHeader(e);null!=o&&(n=o)}),n},t.prototype.cloneItemIntoDummy=function(e,n){var i=e.cloneNode(!0);i.style.width="",i.style.position="static",i.style.left="";var o=document.createElement("div"),s=o.classList;["ag-header-cell","ag-header-group-cell"].some(function(re){return i.classList.contains(re)})?(s.add("ag-header","ag-header-row"),o.style.position="static"):s.add("ag-row");for(var v=e.parentElement;v;){if(["ag-header-row","ag-row"].some(function(re){return v.classList.contains(re)})){for(var F=0;F<v.classList.length;F++){var z=v.classList[F];"ag-row-position-absolute"!=z&&s.add(z)}break}v=v.parentElement}o.appendChild(i),n.appendChild(o)},zS([be("rowRenderer")],t.prototype,"rowRenderer",void 0),zS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),zS([be("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),zS([Gt],t.prototype,"postConstruct",null),zS([Jt("autoWidthCalculator")],t)}(Pt),Sce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xce=function(r){function t(e,n){var i=r.call(this)||this;return i.createRowCon=e,i.destroyRowCtrls=n,i.stickyRowCtrls=[],i.containerHeight=0,i}return Sce(t,r),t.prototype.postConstruct=function(){var e=this;this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(function(n){e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.getStickyRowCtrls=function(){return this.stickyRowCtrls},t.prototype.checkStickyRows=function(){var e=this,n=0;if(!this.gridOptionsService.isGroupRowsSticky())return this.refreshNodesAndContainerHeight([],n);for(var i=[],o=this.rowRenderer.getFirstVisibleVerticalPixel(),s=function(ae){var fe,ge,we,Te;if(i.push(ae),e.isClientSide){for(var Ie=ae;Ie.isExpandable()&&Ie.expanded;)if(Ie.master)Ie=Ie.detailNode;else if(Ie.childrenAfterSort){if(0===Ie.childrenAfterSort.length)break;Ie=Sr(Ie.childrenAfterSort)}Te=Ie.rowTop+Ie.rowHeight}else if(ae.master)Te=ae.detailNode.rowTop+ae.detailNode.rowHeight;else{var Ve=null===(fe=ae.childStore)||void 0===fe?void 0:fe.getStoreBounds();Te=(null!==(ge=Ve?.heightPx)&&void 0!==ge?ge:0)+(null!==(we=Ve?.topPx)&&void 0!==we?we:0)}var et=o+n+ae.rowHeight;ae.stickyRowTop=Te<et?n+(Te-et):n,n=0,i.forEach(function(gt){var Dt=gt.stickyRowTop+gt.rowHeight;n<Dt&&(n=Dt)})};;){var l=o+n,v=this.rowModel.getRowIndexAtPixel(l),D=this.rowModel.getRow(v);if(null==D||D.level<0)break;for(var F=[],z=D.parent;z.level>=0;)F.push(z),z=z.parent;var re=F.reverse().find(function(ae){return i.indexOf(ae)<0&&ae.displayed});if(re)s(re);else{if(!(D.isExpandable()&&D.expanded&&D.rowTop<l))break;s(D)}}return this.refreshNodesAndContainerHeight(i,n)},t.prototype.refreshStickyNode=function(e){for(var n=[],i=0;i<this.stickyRowCtrls.length;i++){var o=this.stickyRowCtrls[i].getRowNode();o!==e&&n.push(o)}this.refreshNodesAndContainerHeight(n,this.containerHeight)&&this.checkStickyRows()},t.prototype.refreshNodesAndContainerHeight=function(e,n){var i,o,s,l=this,v=!1,D=this.stickyRowCtrls.filter(function(we){return-1===e.indexOf(we.getRowNode())}),F=e.filter(function(we){return-1===l.stickyRowCtrls.findIndex(function(Te){return Te.getRowNode()===we})});(D.length||F.length)&&(v=!0);var z={};D.forEach(function(we){z[we.getRowNode().id]=we,l.stickyRowCtrls=l.stickyRowCtrls.filter(function(Te){return Te!==we})});try{for(var re=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(z)),ae=re.next();!ae.done;ae=re.next())ae.value.getRowNode().sticky=!1}catch(we){i={error:we}}finally{try{ae&&!ae.done&&(o=re.return)&&o.call(re)}finally{if(i)throw i.error}}this.destroyRowCtrls(z,!1);var ge=F.map(function(we){return we.sticky=!0,l.createRowCon(we,!1,!1)});return(s=this.stickyRowCtrls).push.apply(s,function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(ge),!1)),this.stickyRowCtrls.forEach(function(we){return we.setRowTop(we.getRowNode().stickyRowTop)}),this.stickyRowCtrls.sort(function(we,Te){return Te.getRowNode().rowIndex-we.getRowNode().rowIndex}),this.containerHeight!==n&&(this.containerHeight=n,this.gridBodyCtrl.setStickyTopHeight(n),v=!0),v},lO([be("rowModel")],t.prototype,"rowModel",void 0),lO([be("rowRenderer")],t.prototype,"rowRenderer",void 0),lO([be("ctrlsService")],t.prototype,"ctrlsService",void 0),lO([Gt],t.prototype,"postConstruct",null),t}(Pt),Rce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kl=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Wh=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},$h=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Oce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e.dataFirstRenderedFired=!1,e.setupRangeSelectionListeners=function(){var n=function(){e.getAllCellCtrls().forEach(function(v){return v.onRangeSelectionChanged()})},i=function(){e.getAllCellCtrls().forEach(function(v){return v.updateRangeBordersIfRangeCount()})},o=function(){e.eventService.addEventListener(Ce.EVENT_RANGE_SELECTION_CHANGED,n),e.eventService.addEventListener(Ce.EVENT_COLUMN_MOVED,i),e.eventService.addEventListener(Ce.EVENT_COLUMN_PINNED,i),e.eventService.addEventListener(Ce.EVENT_COLUMN_VISIBLE,i)},s=function(){e.eventService.removeEventListener(Ce.EVENT_RANGE_SELECTION_CHANGED,n),e.eventService.removeEventListener(Ce.EVENT_COLUMN_MOVED,i),e.eventService.removeEventListener(Ce.EVENT_COLUMN_PINNED,i),e.eventService.removeEventListener(Ce.EVENT_COLUMN_VISIBLE,i)};e.addDestroyFunc(function(){return s()}),e.addManagedPropertyListener("enableRangeSelection",function(v){v.currentValue?o():s()}),e.gridOptionsService.get("enableRangeSelection")&&o()},e}return Rce(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){var e=this;if(this.addManagedListener(this.eventService,Ce.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],function(){return e.onDomLayoutChanged()}),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],function(){return e.redraw()}),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],function(){return e.redrawRows()}),this.gridOptionsService.isGroupRowsSticky()){var n=this.rowModel.getType();("clientSide"===n||"serverSide"===n)&&(this.stickyRowFeature=this.createManagedBean(new xce(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsService.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gridOptionsService.get("embedFullWidthRows"),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsService.get("keepDetailRows")){var e=this.getKeepDetailRowsCount();this.cachedRowCtrls=new Mce(e??3)}},t.prototype.getKeepDetailRowsCount=function(){return this.gridOptionsService.get("keepDetailRowsCount")},t.prototype.getStickyTopRowCtrls=function(){return this.stickyRowFeature?this.stickyRowFeature.getStickyRowCtrls():[]},t.prototype.updateAllRowCtrls=function(){var e=kh(this.rowCtrlsByRowIndex),n=this.gridOptionsService.get("ensureDomOrder"),i=this.gridOptionsService.isDomLayout("print");(n||i)&&e.sort(function(l,v){return l.getRowNode().rowIndex-v.getRowNode.rowIndex});var o=kh(this.zombieRowCtrls),s=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=o.length>0||s.length>0?$h($h($h([],Wh(e),!1),Wh(o),!1),Wh(s),!1):e},t.prototype.onCellFocusChanged=function(e){this.getAllCellCtrls().forEach(function(n){return n.onCellFocused(e)}),this.getFullWidthRowCtrls().forEach(function(n){return n.onFullWidthRowFocused(e)})},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_CELL_FOCUSED,function(n){e.onCellFocusChanged(n)}),this.addManagedListener(this.eventService,Ce.EVENT_CELL_FOCUS_CLEARED,function(){e.onCellFocusChanged()}),this.addManagedListener(this.eventService,Ce.EVENT_FLASH_CELLS,function(n){e.getAllCellCtrls().forEach(function(i){return i.onFlashCells(n)})}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,Ce.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(function(i){var o=function(z){e.getAllCellCtrls().forEach(function(re){re.getColumn()===i&&z(re)})},s=function(){o(function(z){return z.onLeftChanged()})},l=function(){o(function(z){return z.onWidthChanged()})},v=function(){o(function(z){return z.onFirstRightPinnedChanged()})},D=function(){o(function(z){return z.onLastLeftPinnedChanged()})},F=function(){o(function(z){return z.onColDefChanged()})};i.addEventListener("leftChanged",s),i.addEventListener("widthChanged",l),i.addEventListener("firstRightPinnedChanged",v),i.addEventListener("lastLeftPinnedChanged",D),i.addEventListener("colDefChanged",F),e.destroyFuncsForColumnListeners.push(function(){i.removeEventListener("leftChanged",s),i.removeEventListener("widthChanged",l),i.removeEventListener("firstRightPinnedChanged",v),i.removeEventListener("lastLeftPinnedChanged",D),i.removeEventListener("colDefChanged",F)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e||this.gridOptionsService.get("embedFullWidthRows"),i=n!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=n,i&&this.redrawAfterModelUpdate({domLayoutChanged:!0})},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var n=[];return this.getAllRowCtrls().forEach(function(i){var o=i.getCellElement(e);o&&n.push(o)}),n},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getCentreRowCtrls=function(){return this.allRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,n){var i=this;e.forEach(function(o){o.destroyFirstPass(),o.destroySecondPass()}),e.length=0,n&&n.forEach(function(o){var s=new Xm(o,i.beans,!1,!1,i.printLayout);e.push(s)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.redrawRow=function(e,n){var i=this;if(void 0===n&&(n=!1),e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{var o=function(s){var l=s[e.rowIndex];!l||l.getRowNode()===e&&(l.destroyFirstPass(),l.destroySecondPass(),s[e.rowIndex]=i.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":o(this.topRowCtrls);case"bottom":o(this.bottomRowCtrls);default:o(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}n||this.dispatchDisplayedRowsChanged(!1)},t.prototype.redrawRows=function(e){var n=this;if(null!=e)return e?.forEach(function(o){return n.redrawRow(o,!0)}),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var n=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==n)return null;var o=this.gridOptionsService.getDocument().activeElement,s=this.gridOptionsService.getDomData(o,Qm.DOM_DATA_KEY_CELL_CTRL),l=this.gridOptionsService.getDomData(o,Xm.DOM_DATA_KEY_ROW_CTRL);return s||l?n:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var n=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var i=!e.domLayoutChanged&&!!e.recycleRows,o=e.animate&&this.gridOptionsService.isAnimateRows(),s=i?this.getRowsToRecycle():null;i||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,o),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=n&&this.restoreFocusedCell(n),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var n=e.newData||e.newPage,i=this.gridOptionsService.get("suppressScrollOnNewData");n&&!i&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.isRefreshInProgress=function(){return this.refreshInProgress},t.prototype.restoreFocusedCell=function(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,api:this.beans.gridApi,columnApi:this.beans.columnApi,context:this.beans.gridOptionsService.context,type:"mock"}))},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(n){n.stopEditing(e)})},t.prototype.getAllCellCtrls=function(){for(var e=[],n=this.getAllRowCtrls(),i=n.length,o=0;o<i;o++)for(var s=n[o].getAllCellCtrls(),l=s.length,v=0;v<l;v++)e.push(s[v]);return e},t.prototype.getAllRowCtrls=function(){var e,n,i=this.stickyRowFeature&&this.stickyRowFeature.getStickyRowCtrls()||[],o=$h($h($h([],Wh(this.topRowCtrls),!1),Wh(this.bottomRowCtrls),!1),Wh(i),!1);try{for(var s=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(this.rowCtrlsByRowIndex)),l=s.next();!l.done;l=s.next())o.push(this.rowCtrlsByRowIndex[l.value])}catch(D){e={error:D}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.addRenderedRowListener=function(e,n,i){var o=this.rowCtrlsByRowIndex[n];o&&o.addEventListener(e,i)},t.prototype.flashCells=function(e){void 0===e&&(e={});var n=e.flashDelay,i=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.flashCell({flashDelay:n,fadeDelay:i})})},t.prototype.refreshCells=function(e){var n=this;void 0===e&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(o){return o.refreshOrDestroyCell(i)}),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(function(o){o.isFullWidth()&&(o.refreshFullWidth()||n.redrawRow(o.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))},t.prototype.getCellRendererInstances=function(e){var i,n=this,o=this.getCellCtrls(e.rowNodes,e.columns).map(function(v){return v.getCellRenderer()}).filter(function(v){return null!=v});if(null!==(i=e.columns)&&void 0!==i&&i.length)return o;var s=[],l=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(function(v){if((!l||n.isRowInMap(v.getRowNode(),l))&&v.isFullWidth()){var D=v.getFullWidthCellRenderer();D&&s.push(D)}}),$h($h([],Wh(s),!1),Wh(o),!1)},t.prototype.getCellEditorInstances=function(e){var n=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(i){var o=i.getCellEditor();o&&n.push(o)}),n},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(n){if(n.isEditing()){var i=n.getCellPosition();e.push(i)}}),e},t.prototype.mapRowNodes=function(e){if(e){var n={top:{},bottom:{},normal:{}};return e.forEach(function(i){var o=i.id;"top"===i.rowPinned?n.top[o]=i:"bottom"===i.rowPinned?n.bottom[o]=i:n.normal[o]=i}),n}},t.prototype.isRowInMap=function(e,n){var i=e.id,o=e.rowPinned;return"bottom"===o?null!=n.bottom[i]:"top"===o?null!=n.top[i]:null!=n.normal[i]},t.prototype.getRowCtrls=function(e){var n=this,i=this.mapRowNodes(e),o=this.getAllRowCtrls();return e&&i?o.filter(function(s){var l=s.getRowNode();return n.isRowInMap(l,i)}):o},t.prototype.getCellCtrls=function(e,n){var o,i=this;Tt(n)&&(o={},n.forEach(function(l){var v=i.columnModel.getGridColumn(l);Tt(v)&&(o[v.getId()]=!0)}));var s=[];return this.getRowCtrls(e).forEach(function(l){l.getAllCellCtrls().forEach(function(v){var D=v.getColumn().getId();o&&!o[D]||s.push(v)})}),s},t.prototype.destroy=function(){this.removeAllRowComps(),r.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.getRowsToRecycle=function(){var e=[];Uo(this.rowCtrlsByRowIndex,function(i,o){null==o.getRowNode().id&&e.push(i)}),this.removeRowCtrls(e);var n={};return Uo(this.rowCtrlsByRowIndex,function(i,o){var s=o.getRowNode();n[s.id]=o}),this.rowCtrlsByRowIndex={},n},t.prototype.removeRowCtrls=function(e){var n=this;e.forEach(function(i){var o=n.rowCtrlsByRowIndex[i];o&&(o.destroyFirstPass(),o.destroySecondPass()),delete n.rowCtrlsByRowIndex[i]})},t.prototype.onBodyScroll=function(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})},t.prototype.redraw=function(e){void 0===e&&(e={});var i,n=e.afterScroll;this.stickyRowFeature&&PA()&&(i=this.getCellToRestoreFocusToAfterRefresh()||void 0);var o=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();var l=!1;if(this.stickyRowFeature&&(l=this.stickyRowFeature.checkStickyRows()),(!n||l||this.firstRenderedRow!==o||this.lastRenderedRow!==s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,n),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(n),null!=i)){var D=this.getCellToRestoreFocusToAfterRefresh();null!=i&&null==D&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(i))}},t.prototype.removeRowCompsNotToDraw=function(e){var n={};e.forEach(function(s){return n[s]=!0});var o=Object.keys(this.rowCtrlsByRowIndex).filter(function(s){return!n[s]});this.removeRowCtrls(o)},t.prototype.calculateIndexesToDraw=function(e){var n=this,i=E9(this.firstRenderedRow,this.lastRenderedRow),o=function(F,z){var re=z.getRowNode().rowIndex;null!=re&&(re<n.firstRenderedRow||re>n.lastRenderedRow)&&n.doNotUnVirtualiseRow(z)&&i.push(re)};Uo(this.rowCtrlsByRowIndex,o),Uo(e,o),i.sort(function(F,z){return F-z});for(var s=[],l=0;l<i.length;l++){var v=i[l],D=this.paginationProxy.getRow(v);D&&!D.sticky&&s.push(v)}return s},t.prototype.recycleRows=function(e,n,i){var o=this;void 0===n&&(n=!1),void 0===i&&(i=!1);var s=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(s),this.printLayout&&(n=!1),s.forEach(function(v){Tt(o.createOrUpdateRowCtrl(v,e,n,i))}),e&&(!i||this.gridOptionsService.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(e,n):this.beans.animationFrameService.addDestroyTask(function(){o.destroyRowCtrls(e,n),o.updateAllRowCtrls(),o.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()},t.prototype.dispatchDisplayedRowsChanged=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:Ce.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),n=this.columnModel.isPinningRight();(this.pinningLeft!==e||n!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(n){var i=n.getRowNode().rowIndex;e.push(i.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})},t.prototype.getFullWidthRowCtrls=function(e){var n=this,i=this.mapRowNodes(e);return this.getAllRowCtrls().filter(function(o){if(!o.isFullWidth())return!1;var s=o.getRowNode();return!(null!=i&&!n.isRowInMap(s,i))})},t.prototype.createOrUpdateRowCtrl=function(e,n,i,o){var s,l=this.rowCtrlsByRowIndex[e];if(l||Tt(s=this.paginationProxy.getRow(e))&&Tt(n)&&n[s.id]&&s.alreadyRendered&&(l=n[s.id],n[s.id]=null),!l){if(s||(s=this.paginationProxy.getRow(e)),!Tt(s))return;l=this.createRowCon(s,i,o)}return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=l,l},t.prototype.destroyRowCtrls=function(e,n){var i=this,o=[];Uo(e,function(s,l){if(l){if(i.cachedRowCtrls&&l.isCacheable())return void i.cachedRowCtrls.addRow(l);l.destroyFirstPass(),n?(i.zombieRowCtrls[l.getInstanceId()]=l,o.push(function(){l.destroySecondPass(),delete i.zombieRowCtrls[l.getInstanceId()]})):l.destroySecondPass()}}),n&&(o.push(function(){i.updateAllRowCtrls(),i.dispatchDisplayedRowsChanged()}),NH(o))},t.prototype.getRowBuffer=function(){return this.gridOptionsService.get("rowBuffer")},t.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.gridOptionsService.getRowHeightAsNumber()},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,n;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var i=this.getRowBufferInPixels(),o=this.ctrlsService.getGridBodyCtrl(),s=this.gridOptionsService.get("suppressRowVirtualisation"),l=!1,v=void 0,D=void 0;do{var F=this.paginationProxy.getPixelOffset(),z=this.paginationProxy.getCurrentPagePixelRange(),re=z.pageFirstPixel,ae=z.pageLastPixel,fe=this.rowContainerHeightService.getDivStretchOffset(),ge=o.getScrollFeature().getVScrollPosition(),we=ge.top,Te=ge.bottom;s?(v=re+fe,D=ae+fe):(v=Math.max(we+F-i,re)+fe,D=Math.min(Te+F+i,ae)+fe),this.firstVisibleVPixel=Math.max(we+F,re)+fe,l=this.ensureAllRowsInRangeHaveHeightsCalculated(v,D)}while(l);var Ie=this.paginationProxy.getRowIndexAtPixel(v),Ve=this.paginationProxy.getRowIndexAtPixel(D),et=this.paginationProxy.getPageFirstRow(),gt=this.paginationProxy.getPageLastRow();Ie<et&&(Ie=et),Ve>gt&&(Ve=gt),e=Ie,n=Ve}else e=0,n=-1;var Dt=this.gridOptionsService.isDomLayout("normal"),Bt=this.gridOptionsService.get("suppressMaxRenderedRowRestriction"),Mt=Math.max(this.getRowBuffer(),500);Dt&&!Bt&&n-e>Mt&&(n=e+Mt),(e!==this.firstRenderedRow||n!==this.lastRenderedRow)&&(this.firstRenderedRow=e,this.lastRenderedRow=n,this.eventService.dispatchEvent({type:Ce.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:n}))},t.prototype.dispatchFirstDataRenderedEvent=function(){var e=this;if(!this.dataFirstRenderedFired){this.dataFirstRenderedFired=!0;var n={type:Ce.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(function(){e.beans.eventService.dispatchEvent(n)})}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,n){var i=this.paginationProxy.ensureRowHeightsValid(e,n,-1,-1);return i&&this.updateContainerHeights(),i},t.prototype.getFirstVisibleVerticalPixel=function(){return this.firstVisibleVPixel},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var o=e.getRowNode(),s=this.focusService.isRowNodeFocused(o),l=e.isEditing();return!!(s||l||o.detail)&&!!this.paginationProxy.isRowPresent(o)},t.prototype.createRowCon=function(e,n,i){var o=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(o)return o;var s=this.gridOptionsService.get("suppressAnimationFrame");return new Xm(e,this.beans,n,i&&!s&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(n){return e[n].getRowNode()})},t.prototype.getRowByPosition=function(e){var n,i=e.rowIndex;switch(e.rowPinned){case"top":n=this.topRowCtrls[i];break;case"bottom":n=this.bottomRowCtrls[i];break;default:(n=this.rowCtrlsByRowIndex[i])||(n=this.getStickyTopRowCtrls().find(function(o){return o.getRowNode().rowIndex===i})||null)}return n},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,n){return!(null==e||null==n||n<this.firstRenderedRow||e>this.lastRenderedRow)},kl([be("animationFrameService")],t.prototype,"animationFrameService",void 0),kl([be("paginationProxy")],t.prototype,"paginationProxy",void 0),kl([be("columnModel")],t.prototype,"columnModel",void 0),kl([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),kl([be("rowModel")],t.prototype,"rowModel",void 0),kl([be("focusService")],t.prototype,"focusService",void 0),kl([be("beans")],t.prototype,"beans",void 0),kl([be("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),kl([be("ctrlsService")],t.prototype,"ctrlsService",void 0),kl([Gt],t.prototype,"postConstruct",null),kl([Jt("rowRenderer")],t)}(Pt),Mce=function(){function r(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return r.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},r.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},r.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],la(this.entriesList,t)},r.prototype.getEntries=function(){return this.entriesList},r}(),Ice=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),j7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ice(t,r),t.prototype.formatValue=function(e,n,i,o,s){void 0===s&&(s=!0);var v,l=null,D=e.getColDef();if(o?v=o:s&&(v=D.valueFormatter),v){var F={value:i,node:n,data:n?n.data:null,colDef:D,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};l="function"==typeof v?v(F):this.expressionService.evaluate(v,F)}else if(D.refData)return D.refData[i]||"";return null==l&&Array.isArray(i)&&(l=i.join(", ")),l},j7([be("expressionService")],t.prototype,"expressionService",void 0),j7([Jt("valueFormatterService")],t)}(Pt),kce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),q6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Fce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kce(t,r),t.prototype.init=function(){var e=this;this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",function(){return e.setPinnedTopRowData()}),this.addManagedPropertyListener("pinnedBottomRowData",function(){return e.setPinnedBottomRowData()})},t.prototype.isEmpty=function(e){return Ts("top"===e?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,n){var i="top"===n?this.pinnedTopRows:this.pinnedBottomRows;if(Ts(i))return 0;for(var o=0;o<i.length;o++){var s=i[o];if(s.rowTop+s.rowHeight-1>=e)return o}return i.length-1},t.prototype.setPinnedTopRowData=function(){var e=this.gridOptionsService.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:Ce.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.setPinnedBottomRowData=function(){var e=this.gridOptionsService.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:Ce.EVENT_PINNED_ROW_DATA_CHANGED})},t.prototype.createNodesFromData=function(e,n){var i=this,o=[];if(e){var s=0;e.forEach(function(l,v){var D=new nr(i.beans);D.data=l,D.id=(n?nr.ID_PREFIX_TOP_PINNED:nr.ID_PREFIX_BOTTOM_PINNED)+v,D.rowPinned=n?"top":"bottom",D.setRowTop(s),D.setRowHeight(i.gridOptionsService.getRowHeightForNode(D).height),D.setRowIndex(v),s+=D.rowHeight,o.push(D)})}return o},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){Ts(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){Ts(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var n=Sr(e);return n.rowTop+n.rowHeight},q6([be("beans")],t.prototype,"beans",void 0),q6([Gt],t.prototype,"init",null),q6([Jt("pinnedRowModel")],t)}(Pt),uO=function(){function r(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return r.prototype.setInactive=function(){this.active=!1},r.prototype.isActive=function(){return this.active},r.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var n=0;n<t.children.length;n++)this.depthFirstSearchChangedPath(t.children[n],e);e(t.rowNode)},r.prototype.depthFirstSearchEverything=function(t,e,n){if(t.childrenAfterGroup)for(var i=0;i<t.childrenAfterGroup.length;i++){var o=t.childrenAfterGroup[i];o.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[i],e,n):n&&e(o)}e(t)},r.prototype.forEachChangedNodeDepthFirst=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},r.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},r.prototype.createPathItems=function(t){for(var e=t,n=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},n++,e=e.parent;return n},r.prototype.populateColumnsMap=function(t,e){var n=this;if(this.keepingColumns&&e)for(var i=t;i;)this.nodeIdsToColumns[i.id]||(this.nodeIdsToColumns[i.id]={}),e.forEach(function(o){return n.nodeIdsToColumns[i.id][o.getId()]=!0}),i=i.parent},r.prototype.linkPathItems=function(t,e){for(var n=t,i=0;i<e;i++){var o=this.mapToItems[n.id],s=this.mapToItems[n.parent.id];s.children||(s.children=[]),s.children.push(o),n=n.parent}},r.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var n=this.createPathItems(t);this.linkPathItems(t,n),this.populateColumnsMap(t,e)}},r.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},r.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var n=this.nodeIdsToColumns[t.id];return e.filter(function(o){return n[o.getId()]})},r.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var n=this.nodeIdsToColumns[t.id];return e.filter(function(o){return!n[o.getId()]})},r}(),Nce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y6=function(r){function t(e){var n=r.call(this)||this;return n.state=t.STATE_WAITING_TO_LOAD,n.version=0,n.id=e,n}return Nce(t,r),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,n){this.successCommon(e,n)},t.prototype.pageLoaded=function(e,n,i){this.successCommon(e,{rowData:n,rowCount:i})},t.prototype.isRequestMostRecentAndLive=function(e){var n=e===this.version,i=this.isAlive();return n&&i},t.prototype.successCommon=function(e,n){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(n))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Pt),Lce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Vce=function(r,t){return function(e,n){t(e,n,r)}},Bce=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n}var e;return Lce(t,r),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();var n=this.gridOptionsService.get("blockLoadDebounceMillis");n&&n>0&&(this.checkBlockToLoadDebounce=Qn.debounce(this.performCheckBlocksToLoad.bind(this),n))},t.prototype.setBeans=function(n){this.logger=n.create("RowNodeBlockLoader")},t.prototype.getMaxConcurrentDatasourceRequests=function(){var n=this.gridOptionsService.get("maxConcurrentDatasourceRequests");return null==n?2:n<=0?void 0:n},t.prototype.addBlock=function(n){this.blocks.push(n),n.addEventListener(Y6.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(n){Qn.removeFromArray(this.blocks,n)},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:e.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var n=this.getAvailableLoadingCount(),i=this.blocks.filter(function(o){return o.getState()===Y6.STATE_WAITING_TO_LOAD}).slice(0,n);this.registerLoads(i.length),i.forEach(function(o){return o.load()}),this.printCacheStatus()}},t.prototype.getBlockState=function(){if(this.gridOptionsService.isRowModelType("serverSide"))return this.rowModel.getBlockStates();var i={};return this.blocks.forEach(function(o){var s=o.getBlockStateJson();i[s.id]=s.state}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = ".concat(this.activeBlockLoadsCount,",")+" blocks = ".concat(JSON.stringify(this.getBlockState())))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.prototype.registerLoads=function(n){this.activeBlockLoadsCount+=n},t.prototype.getAvailableLoadingCount=function(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0},t.BLOCK_LOADED_EVENT="blockLoaded",t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",cO([be("rowModel")],t.prototype,"rowModel",void 0),cO([Gt],t.prototype,"postConstruct",null),cO([Vce(0,xs("loggerFactory"))],t.prototype,"setBeans",null),e=cO([Jt("rowNodeBlockLoader")],t)}(Pt),Gce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),K6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jce=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Gce(t,r),t.prototype.postConstruct=function(){this.active=this.gridOptionsService.get("pagination"),this.pageSizeFromGridOptions=this.gridOptionsService.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,Ce.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,n,i,o){var s=this.rowModel.ensureRowHeightsValid(e,n,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s},t.prototype.isPaginateChildRows=function(){return!(!this.gridOptionsService.get("groupRemoveSingleChildren")&&!this.gridOptionsService.get("groupRemoveLowestSingleChildren"))||this.gridOptionsService.get("paginateChildRows")},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:Ce.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,newPageSize:!!e&&e.newPageSize,keepRenderedRows:!!e&&e.keepRenderedRows})},t.prototype.onPaginationGridOptionChanged=function(){this.active=this.gridOptionsService.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:Ce.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})},t.prototype.onPageSizeGridOptionChanged=function(){this.setPageSize(this.gridOptionsService.get("paginationPageSize"),"gridOptions")},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&"number"==typeof this.currentPage&&(this.currentPage=e,this.onModelUpdated({type:Ce.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,newPageSize:!1}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return An(this.topRowBounds)||An(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.forEachNodeOnPage=function(e){for(var n=this.getPageFirstRow(),i=this.getPageLastRow(),o=n;o<=i;o++){var s=this.getRow(o);s&&e(s)}},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var n=this.rowModel.getRowBounds(e);return n.rowIndex=e,n},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var n=this.getPageForIndex(e);this.goToPage(n)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),n=Math.floor(e/this.pageSize);this.goToPage(n)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPage=function(e){this.currentPage=e},Object.defineProperty(t.prototype,"pageSize",{get:function(){return Tt(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:Tt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Tt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Tt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize},enumerable:!1,configurable:!0}),t.prototype.unsetAutoCalculatedPageSize=function(){if(void 0!==this.pageSizeAutoCalculated){var e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&this.onModelUpdated({type:Ce.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})}},t.prototype.setPageSize=function(e,n){var i=this.pageSize;switch(n){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}i!==this.pageSize&&this.onModelUpdated({type:Ce.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1,newPageSize:!0})},t.prototype.calculatePages=function(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(Tt(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:Ce.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.adjustCurrentPageIfInvalid=function(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();var i=this.pageSize*(this.currentPage+1)-1;if(i>e&&(i=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),i===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var o=this.rowModel.getTopLevelRowDisplayedIndex(i+1);this.bottomDisplayedRowIndex=o-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.setPageSize(this.masterRowCount,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},K6([be("rowModel")],t.prototype,"rowModel",void 0),K6([Gt],t.prototype,"postConstruct",null),K6([Jt("paginationProxy")],t)}(Pt),Hce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),H7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uce=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Hce(t,r),t.prototype.processAllCellClasses=function(e,n,i,o){this.processClassRules(void 0,e.cellClassRules,n,i,o),this.processStaticCellClasses(e,n,i)},t.prototype.processClassRules=function(e,n,i,o,s){if(null!=n||null!=e){var l={},v={},D=function(fe,ge){fe.split(" ").forEach(function(we){""!=we.trim()&&ge(we)})};if(n)for(var F=Object.keys(n),z=function(fe){var Te,ge=F[fe],we=n[ge];"string"==typeof we?Te=re.expressionService.evaluate(we,i):"function"==typeof we&&(Te=we(i)),D(ge,function(Ie){Te?l[Ie]=!0:v[Ie]=!0})},re=this,ae=0;ae<F.length;ae++)z(ae);e&&s&&Object.keys(e).forEach(function(fe){return D(fe,function(ge){l[ge]||(v[ge]=!0)})}),s&&Object.keys(v).forEach(s),Object.keys(l).forEach(o)}},t.prototype.getStaticCellClasses=function(e,n){var o,i=e.cellClass;return i?("string"==typeof(o="function"==typeof i?i(n):i)&&(o=[o]),o||[]):[]},t.prototype.processStaticCellClasses=function(e,n,i){this.getStaticCellClasses(e,n).forEach(function(s){i(s)})},H7([be("expressionService")],t.prototype,"expressionService",void 0),H7([Jt("stylingService")],t)}(Pt),zce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wce=function(r){function t(e){return r.call(this,e,"ag-toggle-button")||this}return zce(t,r),t.prototype.setValue=function(e,n){return r.prototype.setValue.call(this,e,n),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(jA),$ce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qce=function(r){function t(e){return r.call(this,e,"ag-text-area",null,"textarea")||this}return $ce(t,r),t.prototype.setValue=function(e,n){var i=r.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Hh),Yce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kce=function(r){function t(e){return r.call(this,e,"ag-date-field","date")||this}return Yce(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));var n=Ml();this.addManagedListener(this.eInput,"mousedown",function(){e.isDisabled()||n||e.eInput.focus()}),this.eInput.step="any"},t.prototype.onWheel=function(e){document.activeElement===this.eInput&&e.preventDefault()},t.prototype.setMin=function(e){var n,i=e instanceof Date?null!==(n=Ua(e??null,!1))&&void 0!==n?n:void 0:e;return this.min===i||(this.min=i,wu(this.eInput,"min",i)),this},t.prototype.setMax=function(e){var n,i=e instanceof Date?null!==(n=Ua(e??null,!1))&&void 0!==n?n:void 0:e;return this.max===i||(this.max=i,wu(this.eInput,"max",i)),this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,wu(this.eInput,"step",e)),this},t.prototype.getDate=function(){var e;if(this.eInput.validity.valid)return null!==(e=Rs(this.getValue()))&&void 0!==e?e:void 0},t.prototype.setDate=function(e,n){this.setValue(Ua(e??null,!1),n)},t}(Hm),Zce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qce=function(r){function t(e){return r.call(this,e,"ag-range-field","range")||this}return Zce(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this);var e=this.config,n=e.min,i=e.max,o=e.step;null!=n&&this.setMinValue(n),null!=i&&this.setMaxValue(i),this.setStep(o||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(n){e.setValue(n.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,n){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var i=r.prototype.setValue.call(this,e,n);return this.eInput.value=e,i},t}(Hh),Xce=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),U7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jce=function(r){function t(e,n){var i=r.call(this,'<div class="ag-rich-select-row" role="presentation"></div>')||this;return i.params=e,i.wrapperEl=n,i}return Xce(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.getGui(),"mouseup",this.onMouseUp.bind(this))},t.prototype.setState=function(e){var n="";this.params.valueFormatter&&(n=this.params.valueFormatter(e)),this.populateWithRenderer(e,n)||this.populateWithoutRenderer(e,n),this.value=e},t.prototype.highlightString=function(e){var n=this.parsedValue;if(!this.params.cellRenderer&&Tt(n)){var i=Tt(e);if(i){var o=n?.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){var s=o+e.length,l=zi(n.slice(0,o),!0),v=zi(n.slice(o,s),!0),D=zi(n.slice(s));this.renderValueWithoutRenderer("".concat(l,'<span class="ag-rich-select-row-text-highlight">').concat(v,"</span>").concat(D))}else i=!1}i||this.renderValueWithoutRenderer(n)}},t.prototype.updateHighlighted=function(e){var n,i=this.getGui(),o="ag-rich-select-row-".concat(this.getCompId());null===(n=i.parentElement)||void 0===n||n.setAttribute("id",o),e&&(T3(this.getParentComponent().getAriaElement(),o),this.wrapperEl.setAttribute("data-active-option",o)),T_(i.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)},t.prototype.populateWithoutRenderer=function(e,n){var i=this.gridOptionsService.getDocument(),o=this.getGui(),s=i.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";var l=zi(Tt(n)?n:e,!0);this.parsedValue=Tt(l)?l:null,o.appendChild(s),this.renderValueWithoutRenderer(l)},t.prototype.renderValueWithoutRenderer=function(e){var n=this.getGui().querySelector("span");!n||(n.innerHTML=Tt(e)?e:"&nbsp;")},t.prototype.populateWithRenderer=function(e,n){var o,s,i=this;return this.params.cellRenderer&&(s=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:n,api:this.gridOptionsService.api})),s&&(o=s.newAgStackInstance()),o&&r6(o,this.getGui()),!!o&&(o.then(function(l){i.addDestroyFunc(function(){i.getContext().destroyBean(l)})}),!0)},t.prototype.onMouseUp=function(){this.getParentComponent()?.dispatchEvent({type:Ce.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value})},U7([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),U7([Gt],t.prototype,"postConstruct",null),t}(Kn),ede=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),z7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},tg=(()=>(function(r){r.TAB_GUARD="ag-tab-guard",r.TAB_GUARD_TOP="ag-tab-guard-top",r.TAB_GUARD_BOTTOM="ag-tab-guard-bottom"}(tg||(tg={})),tg))(),tde=function(r){function t(e){var n=r.call(this)||this;n.skipTabGuardFocus=!1;var o=e.eTopGuard,s=e.eBottomGuard,l=e.focusInnerElement,v=e.onFocusIn,D=e.onFocusOut,F=e.shouldStopEventPropagation,z=e.onTabKeyDown,re=e.handleKeyDown,ae=e.eFocusableElement;return n.comp=e.comp,n.eTopGuard=o,n.eBottomGuard=s,n.providedFocusInnerElement=l,n.eFocusableElement=ae,n.providedFocusIn=v,n.providedFocusOut=D,n.providedShouldStopEventPropagation=F,n.providedOnTabKeyDown=z,n.providedHandleKeyDown=re,n}return ede(t,r),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new jh(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)},onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(n){return e.addManagedListener(n,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){var e=this.gridOptionsService.get("tabIndex");this.comp.setTabIndex(e.toString())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var n=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(n):this.focusInnerElement(n)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var n=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var i=this.tabGuardsAreActive();i&&this.deactivateTabGuards();var o=this.getNextFocusableElement(e.shiftKey);i&&setTimeout(function(){return n.activateTabGuards()},0),o&&(o.focus(),e.preventDefault())}},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var n=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(n.splice(0,1),n.splice(n.length-1,1)),n.length&&n[e?n.length-1:0].focus({preventScroll:!0})},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var n=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,n.focus()},z7([be("focusService")],t.prototype,"focusService",void 0),z7([Gt],t.prototype,"postConstruct",null),t}(Pt),nde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dO=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return nde(t,r),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var n=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:function(o){n.forEach(function(s){return null!=o?s.setAttribute("tabindex",o):s.removeAttribute("tabindex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new tde({comp:i,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var n=document.createElement("div");return n.classList.add(tg.TAB_GUARD,"top"===e?tg.TAB_GUARD_TOP:tg.TAB_GUARD_BOTTOM),to(n,"presentation"),n},t.prototype.addTabGuards=function(e,n){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",n)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];uo(this.getFocusableElement()),this.addTabGuards.apply(this,function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(e),!1))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,n){ES(e)||(e=e.getGui());var i=this.eBottomGuard;i?i.insertAdjacentElement("beforebegin",e):r.prototype.appendChild.call(this,e,n)},t}(Kn),ode=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},W7=function(r){function t(e){var n=r.call(this,t.getTemplate(e?.cssIdentifier||"default"))||this;n.renderedRows=new Map,n.rowHeight=20;var i=e||{},o=i.cssIdentifier,l=i.ariaRole,v=void 0===l?"listbox":l,D=i.listName;return n.cssIdentifier=void 0===o?"default":o,n.ariaRole=v,n.listName=D,n}return ode(t,r),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)},onFocusOut:function(n){return e.onFocusOut(n)},focusInnerElement:function(n){return e.focusInnerElement(n)},onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}}),this.setAriaProperties(),this.addManagedListener(this.eventService,Ce.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))},t.prototype.onGridStylesChanged=function(){this.rowHeight=this.getItemHeight(),this.refresh()},t.prototype.setAriaProperties=function(){var n=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;to(i,this.ariaRole),qc(i,n)},t.prototype.addResizeObserver=function(){var e=this,i=this.resizeObserverService.observeResize(this.getGui(),function(){return e.animationFrameService.requestAnimationFrame(function(){return e.drawVirtualRows()})});this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var n=e.target;return n.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=l9(n)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case it.UP:case it.DOWN:this.navigate(e.key===it.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():(_u(e),this.forceFocusOutOfContainer(e.shiftKey))},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var n=this.lastFocusedRowIndex+(e?-1:1);return!(n<0||n>=this.model.getRowCount()||(this.focusRow(n),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var n=this;this.ensureIndexVisible(e),window.setTimeout(function(){if(n.isAlive()){var i=n.renderedRows.get(e);i&&i.eDiv.focus()}},10)},t.prototype.getComponentAt=function(e){var n=this.renderedRows.get(e);return n&&n.rowComponent},t.prototype.forEachRenderedRow=function(e){this.renderedRows.forEach(function(n,i){return e(n.rowComponent,i)})},t.getTemplate=function(e){return'<div class="ag-virtual-list-viewport ag-'.concat(e,'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-').concat(e,'-virtual-list-container" ref="eContainer"></div>\n            </div>')},t.prototype.getItemHeight=function(){return this.environment.getListItemHeight()},t.prototype.ensureIndexVisible=function(e,n){void 0===n&&(n=!0);var i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e),!1;var o=e*this.rowHeight,s=o+this.rowHeight,l=this.getGui(),v=l.scrollTop,D=l.offsetHeight,z=n?0:this.rowHeight,ae=v+D<s-z;return v>o+z?(l.scrollTop=o,!0):!!ae&&(l.scrollTop=s-D,!0)},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.setComponentUpdater=function(e){this.componentUpdater=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(e){var n=this;if(null!=this.model&&this.isAlive()){var i=this.model.getRowCount();this.eContainer.style.height="".concat(i*this.rowHeight,"px"),m3(function(){return n.eContainer.clientHeight>=i*n.rowHeight},function(){!n.isAlive()||(n.canSoftRefresh(e)?n.drawVirtualRows(!0):(n.clearVirtualRows(),n.drawVirtualRows()))})}},t.prototype.canSoftRefresh=function(e){return!!(e&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(n,i){return e.removeRow(i)})},t.prototype.drawVirtualRows=function(e){if(this.isAlive()&&this.model){var n=this.getGui(),i=n.scrollTop,o=i+n.offsetHeight,s=Math.floor(i/this.rowHeight),l=Math.floor(o/this.rowHeight);this.ensureRowsRendered(s,l,e)}},t.prototype.ensureRowsRendered=function(e,n,i){var o=this;this.renderedRows.forEach(function(l,v){(v<e||v>n)&&v!==o.lastFocusedRowIndex&&o.removeRow(v)}),i&&this.refreshRows();for(var s=e;s<=n;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},t.prototype.insertRow=function(e){var n=this,i=this.model.getRow(e),o=document.createElement("div");o.classList.add("ag-virtual-list-item","ag-".concat(this.cssIdentifier,"-virtual-list-item")),to(o,"tree"===this.ariaRole?"treeitem":"option"),x3(o,this.model.getRowCount()),R3(o,e+1),o.setAttribute("tabindex","-1"),o.style.height="".concat(this.rowHeight,"px"),o.style.top="".concat(this.rowHeight*e,"px");var s=this.componentCreator(i,o);s.addGuiEventListener("focusin",function(){return n.lastFocusedRowIndex=e}),o.appendChild(s.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",o):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",o):this.eContainer.appendChild(o),this.renderedRows.set(e,{rowComponent:s,eDiv:o,value:i})},t.prototype.removeRow=function(e){var n=this.renderedRows.get(e);this.eContainer.removeChild(n.eDiv),this.destroyBean(n.rowComponent),this.renderedRows.delete(e)},t.prototype.refreshRows=function(){var e=this,n=this.model.getRowCount();this.renderedRows.forEach(function(i,o){var s,l;if(o>=n)e.removeRow(o);else{var v=e.model.getRow(o);null!==(l=(s=e.model).areRowsEqual)&&void 0!==l&&l.call(s,i.value,v)?e.componentUpdater(v,i.rowComponent):e.removeRow(o)}})},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()},{passive:!0})},t.prototype.setModel=function(e){this.model=e},t.prototype.getAriaElement=function(){return this.eContainer},t.prototype.destroy=function(){!this.isAlive()||(this.clearVirtualRows(),r.prototype.destroy.call(this))},hO([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),hO([be("animationFrameService")],t.prototype,"animationFrameService",void 0),hO([zt("eContainer")],t.prototype,"eContainer",void 0),hO([Gt],t.prototype,"postConstruct",null),t}(dO),sde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fO=function(){return fO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},fO.apply(this,arguments)},$7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lde=function(r){function t(e){var i,o,n=this;(n=r.call(this,fO(fO({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!==(i=e?.template)&&void 0!==i?i:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},e),{maxPickerHeight:null!==(o=e?.maxPickerHeight)&&void 0!==o?o:"calc(var(--ag-row-height) * 6.5)"}))||this).searchString="",n.highlightedItem=-1,n.lastRowHovered=-1,n.searchStringCreator=null;var s=e||{},l=s.cellRowHeight,v=s.value,D=s.valueList,F=s.searchStringCreator;return null!=l&&(n.cellRowHeight=l),void 0!==v&&(n.value=v),null!=D&&(n.values=D),F&&(n.searchStringCreator=F),n}return sde(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this),this.createLoadingElement(),this.createListComponent();var n=this.config,i=n.allowTyping,o=n.placeholder;i?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gridOptionsService.get("tabIndex");var s=this.config.searchDebounceDelay;this.clearSearchString=Ga(this.clearSearchString,void 0===s?300:s),this.renderSelectedValue(),i&&(this.eInput.onValueChange(function(v){return e.searchTextFromString(v)}),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))},t.prototype.createLoadingElement=function(){var e=this.gridOptionsService.getDocument(),n=this.localeService.getLocaleTextFunc(),i=e.createElement("div");i.classList.add("ag-loading-text"),i.innerText=n("loadingOoo","Loading..."),this.eLoading=i},t.prototype.createListComponent=function(){var e=this;this.listComponent=this.createBean(new W7({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,Ce.EVENT_FIELD_PICKER_VALUE_SELECTED,function(D){e.onListValueSelected(D.value,D.fromEnterKey)});var n=this.cellRowHeight;n&&this.listComponent.setRowHeight(n);var i=this.listComponent.getGui(),o=this.listComponent.getAriaElement();this.addManagedListener(i,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(i,"mousedown",function(D){return D.preventDefault()}),i.classList.add("ag-rich-select-list");var s="ag-rich-select-list-".concat(this.listComponent.getCompId());o.setAttribute("id",s),qc(o,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),M3(this.eWrapper,o)},t.prototype.renderSelectedValue=function(){var z,re,e=this,n=this,i=n.value,o=n.eDisplayField,s=n.config,l=this.config,v=l.allowTyping,D=l.initialInputValue,F=this.config.valueFormatter?this.config.valueFormatter(i):i;if(v)this.eInput.setValue(D??F);else if(s.cellRenderer&&(z=this.userComponentFactory.getCellRendererDetails(this.config,{value:i,valueFormatted:F,api:this.gridOptionsService.api})),z&&(re=z.newAgStackInstance()),re)uo(o),r6(re,o),re.then(function(fe){e.addDestroyFunc(function(){return e.getContext().destroyBean(fe)})});else if(Tt(this.value))o.innerText=F,o.classList.remove("ag-display-as-placeholder");else{var ae=s.placeholder;Tt(ae)?(o.innerHTML="".concat(zi(ae)),o.classList.add("ag-display-as-placeholder")):uo(o)}},t.prototype.getCurrentValueIndex=function(){var n=this.currentList,i=this.value;if(null==i||!n)return-1;for(var o=0;o<n.length;o++)if(n[o]===i)return o;return-1},t.prototype.highlightFilterMatch=function(){var n,e=this;null===(n=this.listComponent)||void 0===n||n.forEachRenderedRow(function(i,o){i.highlightString(e.searchString)})},t.prototype.highlightSelectedValue=function(e){var i,n=this;null==e&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,null===(i=this.listComponent)||void 0===i||i.forEachRenderedRow(function(o,s){o.updateHighlighted(-1!==e&&n.highlightedItem===s)})},t.prototype.setRowHeight=function(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)},t.prototype.createPickerComponent=function(){var e=this.values;return e&&this.setValueList({valueList:e}),this.listComponent},t.prototype.setSearchStringCreator=function(e){this.searchStringCreator=e},t.prototype.setValueList=function(e){var n=e.valueList,i=e.refresh;!this.listComponent||this.currentList!==n&&(this.currentList=n,this.listComponent.setModel({getRowCount:function(){return n.length},getRow:function(o){return n[o]}}),i&&(this.values?this.listComponent.refresh():(this.values=n,this.isPickerDisplayed&&this.showCurrentValueInPicker())))},t.prototype.showPicker=function(){r.prototype.showPicker.call(this),this.showCurrentValueInPicker(),this.displayOrHidePicker()},t.prototype.showCurrentValueInPicker=function(){var e,n;if(this.listComponent){if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!==(e=this.eLoading)&&void 0!==e&&e.offsetParent&&(null===(n=this.eLoading.parentElement)||void 0===n||n.removeChild(this.eLoading));var i=this.getCurrentValueIndex();-1!==i?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(i),this.listComponent.refresh(!0),this.highlightSelectedValue(i)):this.listComponent.refresh()}},t.prototype.beforeHidePicker=function(){this.highlightedItem=-1,r.prototype.beforeHidePicker.call(this)},t.prototype.onWrapperFocus=function(){if(this.eInput){var e=this.eInput.getFocusableElement();e.focus(),e.select()}},t.prototype.onWrapperFocusOut=function(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()},t.prototype.buildSearchStringFromKeyboardEvent=function(e){var n=e.key;if(n===it.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!LA(e))return;e.preventDefault(),this.searchTextFromCharacter(n)},t.prototype.searchTextFromCharacter=function(e){this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.searchTextFromString=function(e){null==e&&(e=""),this.searchString=e,this.runSearch()},t.prototype.buildSearchStrings=function(e){var o,n=this.config.valueFormatter,i=void 0===n?function(s){return s}:n;return"number"==typeof e[0]||"string"==typeof e[0]?o=e.map(function(s){return i(s)}):"object"==typeof e[0]&&this.searchStringCreator&&(o=this.searchStringCreator(e)),o},t.prototype.getSuggestionsAndFilteredValues=function(e,n){var i=this,o=[],s=[];if(!e.length)return{suggestions:o,filteredValues:s};var l=this.config,v=l.searchType,D=void 0===v?"fuzzy":v,F=l.filterList;if("fuzzy"===D){var z=DS(this.searchString,n,!0);o=z.values;var re=z.indices;if(F&&re.length)for(var ae=0;ae<re.length;ae++)s.push(this.values[re[ae]])}else o=n.filter(function(fe,ge){var we=fe.toLocaleLowerCase(),Te=i.searchString.toLocaleLowerCase(),Ie="match"===D?we.startsWith(Te):-1!==we.indexOf(Te);return F&&Ie&&s.push(i.values[ge]),Ie});return{suggestions:o,filteredValues:s}},t.prototype.filterListModel=function(e){!this.config.filterList||(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())},t.prototype.runSearch=function(){var e,n,i=this.values,o=this.buildSearchStrings(i);if(o){var s=this.getSuggestionsAndFilteredValues(this.searchString,o),l=s.suggestions,v=s.filteredValues,D=this.config,z=D.highlightMatch,re=D.searchType,ae=void 0===re?"fuzzy":re,fe=v.length,ge=!(!D.filterList||""===this.searchString);if(this.filterListModel(ge?v:i),l.length){var we=ge?0:o.indexOf(l[0]);this.selectListItem(we)}else if(this.highlightSelectedValue(-1),!ge||fe)null===(e=this.listComponent)||void 0===e||e.ensureIndexVisible(0);else if(ge){this.getAriaElement().removeAttribute("data-active-option");var Te=null===(n=this.listComponent)||void 0===n?void 0:n.getAriaElement();Te&&T3(Te,null)}z&&"fuzzy"!==ae&&this.highlightFilterMatch(),this.displayOrHidePicker()}else this.highlightSelectedValue(-1)},t.prototype.displayOrHidePicker=function(){var e;(null===(e=this.listComponent)||void 0===e?void 0:e.getGui())?.classList.toggle("ag-hidden",!!this.currentList&&0===this.currentList.length)},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.selectListItem=function(e,n){!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length||(this.listComponent.ensureIndexVisible(e,!n)&&!n&&this.listComponent.refresh(!0),this.highlightSelectedValue(e))},t.prototype.setValue=function(e,n,i){var o=this.currentList?this.currentList.indexOf(e):-1;return-1===o?this:(this.value=e,i||this.selectListItem(o),this.renderSelectedValue(),r.prototype.setValue.call(this,e,n))},t.prototype.createRowComponent=function(e){var n=new Jce(this.config,this.eWrapper);n.setParentComponent(this.listComponent),this.getContext().createBean(n),n.setState(e);var i=this.config,s=i.searchType;return i.highlightMatch&&"fuzzy"!==(void 0===s?"fuzzy":s)&&n.highlightString(this.searchString),n},t.prototype.getRowForMouseEvent=function(e){var n=this.listComponent;if(!n)return-1;var i=n?.getGui(),o=i.getBoundingClientRect(),s=n.getScrollTop();return Math.floor((e.clientY-o.top+s)/n.getRowHeight())},t.prototype.onPickerMouseMove=function(e){if(this.listComponent){var n=this.getRowForMouseEvent(e);-1!==n&&n!=this.lastRowHovered&&(this.lastRowHovered=n,this.selectListItem(n,!0))}},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var i=n===it.DOWN;if(this.isPickerDisplayed||!i){var o=this.highlightedItem;this.selectListItem(-1===o?0:o+(i?1:-1))}else this.showPicker()},t.prototype.onEnterKeyDown=function(e){!this.isPickerDisplayed||(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))},t.prototype.onTabKeyDown=function(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)},t.prototype.onListValueSelected=function(e,n){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,n),this.hidePicker()},t.prototype.dispatchPickerEvent=function(e,n){this.dispatchEvent({type:Ce.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:n,value:e})},t.prototype.getFocusableElement=function(){return this.config.allowTyping?this.eInput.getFocusableElement():r.prototype.getFocusableElement.call(this)},t.prototype.onKeyDown=function(e){var n=e.key,i=this.config.allowTyping;switch(n){case it.LEFT:case it.RIGHT:case it.PAGE_HOME:case it.PAGE_END:i||e.preventDefault();break;case it.PAGE_UP:case it.PAGE_DOWN:e.preventDefault();break;case it.DOWN:case it.UP:this.onNavigationKeyDown(e,n);break;case it.ESCAPE:this.isPickerDisplayed&&(As(this.listComponent.getGui())&&(e.preventDefault(),_u(e)),this.hidePicker());break;case it.ENTER:this.onEnterKeyDown(e);break;case it.TAB:this.onTabKeyDown();break;default:i||this.buildSearchStringFromKeyboardEvent(e)}},t.prototype.destroy=function(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,r.prototype.destroy.call(this)},$7([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),$7([zt("eInput")],t.prototype,"eInput",void 0),t}(q9),ude=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},cde=function(r){function t(e){var n=r.call(this,e,t.TEMPLATE)||this;return n.labelAlignment="top",n}return ude(t,r),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var n=this,i=Ce.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,i,function(){var o=parseFloat(n.eText.getValue());n.eSlider.setValue(o.toString(),!0),e(o||0)}),this.addManagedListener(this.eSlider,i,function(){var o=n.eSlider.getValue();n.eText.setValue(o,!0),e(parseFloat(o))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Ce.EVENT_FIELD_VALUE_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',pO([zt("eLabel")],t.prototype,"eLabel",void 0),pO([zt("eSlider")],t.prototype,"eSlider",void 0),pO([zt("eText")],t.prototype,"eText",void 0),pO([Gt],t.prototype,"init",null),t}(W9),dde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},hde=function(r){function t(e){void 0===e&&(e={});var n=r.call(this,t.getTemplate(e))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var o=e.enabled,s=e.items,l=e.suppressEnabledCheckbox,v=e.suppressOpenCloseIcons;return n.title=e.title,n.cssIdentifier=e.cssIdentifier||"default",n.enabled=o??!0,n.items=s||[],n.alignItems=e.alignItems||"center",null!=l&&(n.suppressEnabledCheckbox=l),null!=v&&(n.suppressOpenCloseIcons=v),n}return dde(t,r),t.getTemplate=function(e){var n=e.cssIdentifier||"default",i=e.direction||"vertical";return'<div class="ag-group ag-'.concat(n,'-group" role="presentation">\n            <div class="ag-group-title-bar ag-').concat(n,'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-').concat(n,'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-').concat(n,'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-').concat(n,'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-').concat(n,'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-').concat(i," ag-").concat(n,'-group-container"></div>\n        </div>')},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var n=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(n("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(Wa("columnSelectClosed",this.gridOptionsService,null)),this.eGroupOpenedIcon.appendChild(Wa("columnSelectOpen",this.gridOptionsService,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(n){switch(n.key){case it.ENTER:case it.SPACE:n.preventDefault(),e.toggleGroupExpand();break;case it.RIGHT:case it.LEFT:n.preventDefault(),e.toggleGroupExpand(n.key===it.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Ol(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;mr(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),mr(this.eGroupOpenedIcon,e&&this.expanded),mr(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-".concat(this.alignItems)),this.alignItems=e;var n="ag-group-item-alignment-".concat(this.alignItems);return this.addCssClass(n),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),mr(this.eContainer,!0),this):(this.expanded===(e=e??!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),mr(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var n=this;e.forEach(function(i){return n.addItem(i)})},t.prototype.addItem=function(e){var n=this.eContainer,i=e instanceof Kn?e.getGui():e;i.classList.add("ag-group-item","ag-".concat(this.cssIdentifier,"-group-item")),n.appendChild(i),this.items.push(i)},t.prototype.hideItem=function(e,n){mr(this.items[n],!e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,n){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),n||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var n=this;return this.cbGroupEnabled.onValueChange(function(i){n.setEnabled(i,!0),e(i)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",qh([zt("eTitleBar")],t.prototype,"eTitleBar",void 0),qh([zt("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),qh([zt("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),qh([zt("eToolbar")],t.prototype,"eToolbar",void 0),qh([zt("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),qh([zt("eTitle")],t.prototype,"eTitle",void 0),qh([zt("eContainer")],t.prototype,"eContainer",void 0),qh([Gt],t.prototype,"postConstruct",null),t}(Kn),fde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mO=function(){return mO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},mO.apply(this,arguments)},q7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},pde=function(r){function t(e){void 0===e&&(e=1);var n=r.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return n.level=e,n.menuItems=[],n}return fde(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.onTabKeyDown=function(e){var n=this.getParentComponent(),i=n&&n.getGui();i&&i.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case it.UP:case it.RIGHT:case it.DOWN:case it.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case it.ESCAPE:var n=this.findTopMenu();n&&this.focusService.focusInto(n.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var n=this;e?.forEach(function(i){"separator"===i?n.addSeparator():"string"==typeof i?console.warn("AG Grid: unrecognised menu item ".concat(i)):n.addItem(i)})},t.prototype.addItem=function(e){var n=this,i=this.createManagedBean(new WS(mO(mO({},e),{isAnotherSubMenuOpen:function(){return n.menuItems.some(function(o){return o.isSubMenuOpen()})}})));i.setParentComponent(this),d9(i.getGui(),this.level),this.menuItems.push(i),this.appendChild(i.getGui()),this.addManagedListener(i,WS.EVENT_MENU_ITEM_SELECTED,function(o){n.dispatchEvent(o)}),this.addManagedListener(i,WS.EVENT_MENU_ITEM_ACTIVATED,function(o){n.activeMenuItem&&n.activeMenuItem!==o.menuItem&&n.activeMenuItem.deactivate(),n.activeMenuItem=o.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(n){return!n.isDisabled()})[0];!e||e.activate()},t.prototype.addSeparator=function(){this.appendChild(Do('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var n=e&&e.getParentComponent&&e.getParentComponent();if(!n||!(n instanceof t||n instanceof WS))break;e=n}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case it.UP:case it.DOWN:var n=this.findNextItem(e===it.UP);return void(n&&n!==this.activeMenuItem&&n.activate())}e===(this.gridOptionsService.get("enableRtl")?it.RIGHT:it.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var n=this.getParentComponent();n&&n instanceof WS&&(e&&e.preventDefault(),n.closeSubMenu(),n.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var n=this.menuItems.filter(function(v){return!v.isDisabled()});if(n.length){if(!this.activeMenuItem)return e?Sr(n):n[0];e&&n.reverse();for(var i,o=!1,s=0;s<n.length;s++){var l=n[s];if(o){i=l;break}l===this.activeMenuItem&&(o=!0)}return i||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),r.prototype.destroy.call(this)},q7([be("focusService")],t.prototype,"focusService",void 0),q7([Gt],t.prototype,"postConstruct",null),t}(dO),mde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vde=function(r){function t(e){var n=r.call(this)||this;return n.wrappedComponent=e,n.setTemplateFromElement(e.getGui()),n}return mde(t,r),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(n){return e.onTabKeyDown(n)},handleKeyDown:function(n){return e.handleKeyDown(n)}})},t.prototype.handleKeyDown=function(e){e.key===it.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(dO),yde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Y7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},WS=function(r){function t(e){var n=r.call(this)||this;return n.params=e,n.isActive=!1,n.subMenuIsOpen=!1,n.setTemplate('<div class="'.concat(n.getClassName(),'" tabindex="-1" role="treeitem"></div>')),n}return yde(t,r),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var n=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),D3(n,!0)):(this.addGuiEventListener("click",function(i){return e.onItemSelected(i)}),this.addGuiEventListener("keydown",function(i){(i.key===it.ENTER||i.key===it.SPACE)&&(i.preventDefault(),e.onItemSelected(i))}),this.addGuiEventListener("mousedown",function(i){i.stopPropagation(),i.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(i){return e.addCssClass(i)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var n=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var o,i=Do('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var s=a9(this.getGui()),l=isNaN(s)?1:s+1,v=this.createBean(new pde(l));v.setParentComponent(this),v.addMenuItems(this.params.subMenu),i.appendChild(v.getGui()),this.addManagedListener(v,t.EVENT_MENU_ITEM_SELECTED,function(Ie){return n.dispatchEvent(Ie)}),v.addGuiEventListener("mouseenter",function(){return n.cancelDeactivate()}),o=function(){return n.destroyBean(v)},e&&setTimeout(function(){return v.activateFirstItem()},0)}else{var D=this.params.subMenu,F=this.createBean(new vde(D));F.setParentComponent(this);var z=F.getGui(),re="mouseenter",ae=function(){return n.cancelDeactivate()};z.addEventListener(re,ae),o=function(){return z.removeEventListener(re,ae)},i.appendChild(z),D.afterGuiAttached&&setTimeout(function(){return D.afterGuiAttached()},0)}var fe=this.getGui(),ge=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:fe,ePopup:i}),we=this.localeService.getLocaleTextFunc(),Te=this.popupService.addPopup({modal:!0,eChild:i,positionCallback:ge,anchorToElement:fe,ariaLabel:we("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Ol(fe,!0),this.hideSubMenu=function(){Te&&Te.hideFunc(),n.subMenuIsOpen=!1,Ol(fe,!1),o()}}},t.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Ol(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var n=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){n.isAlive()&&n.isActive&&n.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=Do('<span ref="eIcon" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("icon"),'" role="presentation"></span>'));this.params.checked?e.appendChild(Mi("check",this.gridOptionsService)):this.params.icon&&(ES(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=Do('<span ref="eName" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("text"),'">').concat(this.params.name||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsService.get("enableBrowserTooltips")?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new a6(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=Do('<span ref="eShortcut" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("shortcut"),'">').concat(this.params.shortcut||"","</span>"));this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=Do('<span ref="ePopupPointer" class="'.concat(this.getClassName("part")," ").concat(this.getClassName("popup-pointer"),'"></span>')),n=this.getGui();if(this.params.subMenu){var i=this.gridOptionsService.get("enableRtl")?"smallLeft":"smallRight";Ol(n,!1),e.appendChild(Mi(i,this.gridOptionsService))}n.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var n=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?"".concat(n,"-").concat(e):n},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,Y7([be("popupService")],t.prototype,"popupService",void 0),Y7([Gt],t.prototype,"init",null),t}(Kn),_de=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$S=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},K7=function(r){function t(e){var n=r.call(this,t.getTemplate(e))||this;return n.closable=!0,n.config=e,n}return _de(t,r),t.getTemplate=function(e){var n=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'.concat(n,'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-').concat(n,'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-').concat(n,'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-').concat(n,'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-').concat(n,'-panel-content-wrapper"></div>\n        </div>')},t.prototype.postConstruct=function(){var e=this,n=this.config,i=n.component,o=n.closable,s=n.hideTitleBar,l=n.title,v=n.minWidth,D=void 0===v?250:v,F=n.width,z=n.minHeight,re=void 0===z?250:z,ae=n.height,fe=n.centered,ge=n.popup,we=n.x,Te=n.y;this.positionableFeature=new z9(this.getGui(),{minWidth:D,width:F,minHeight:re,height:ae,centered:fe,x:we,y:Te,popup:ge,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Ie=this.getGui();i&&this.setBodyComponent(i),s?mr(this.eTitleBar,!1):(l&&this.setTitle(l),this.setClosable(o??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ve){var et=e.gridOptionsService.getDocument();if(Ie.contains(Ve.relatedTarget)||Ie.contains(et.activeElement)||e.eTitleBarButtons.contains(Ve.target))Ve.preventDefault();else{var gt=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");gt&&gt.focus()}}),(!ge||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,n=this.getGui();n.focus(),this.close=function(){n.parentElement.removeChild(n),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var n=this.closeButtonComp=new Kn(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui(),o=Mi("close",this.gridOptionsService);o.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(o),this.addTitleBarButton(n),n.addManagedListener(i,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((i=this.closeButtonComp.getGui()).parentElement.removeChild(i),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,n){var i=this.eTitleBarButtons,o=i.children,s=o.length;null==n&&(n=s),n=Math.max(0,Math.min(n,s)),e.addCssClass("ag-panel-title-bar-button");var l=e.getGui();0===n?i.insertAdjacentElement("afterbegin",l):n===s?i.insertAdjacentElement("beforeend",l):o[n-1].insertAdjacentElement("afterend",l),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return yS(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return Vm(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&As(e)&&this.close(),r.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',$S([zt("eContentWrapper")],t.prototype,"eContentWrapper",void 0),$S([zt("eTitleBar")],t.prototype,"eTitleBar",void 0),$S([zt("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),$S([zt("eTitle")],t.prototype,"eTitle",void 0),$S([Gt],t.prototype,"postConstruct",null),t}(Kn),bde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gO=function(){return gO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},gO.apply(this,arguments)},Cde=function(r){function t(e){var n=r.call(this,gO(gO({},e),{popup:!0}))||this;return n.isMaximizable=!1,n.isMaximized=!1,n.maximizeListeners=[],n.resizeListenerDestroy=null,n.lastPosition={x:0,y:0,width:0,height:0},n}return bde(t,r),t.prototype.postConstruct=function(){var e=this,n=this.getGui(),i=this.config,o=i.movable,s=i.resizable,l=i.maximizable;this.addCssClass("ag-dialog"),r.prototype.postConstruct.call(this),this.addManagedListener(n,"focusin",function(v){n.contains(v.relatedTarget)||e.popupService.bringPopupToFront(n)}),o&&this.setMovable(o),l&&this.setMaximizable(l),s&&this.setResizable(s)},t.prototype.renderComponent=function(){var e=this.getGui(),n=this.config,i=n.alwaysOnTop,o=n.modal,s=n.title,l=n.afterGuiAttached,v=this.localeService.getLocaleTextFunc(),D=this.popupService.addPopup({modal:o,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:i,ariaLabel:s||v("ariaLabelDialog","Dialog"),afterGuiAttached:l});D&&(this.close=D.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var n=this.lastPosition,i=n.x,o=n.y,l=n.height;this.setWidth(n.width),this.setHeight(l),this.positionableFeature.offsetElement(i,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){mr(this.maximizeIcon,!this.isMaximized),mr(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),r.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var n=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var i=this.eTitleBar;if(i&&e!==this.isMaximizable){var o=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),o.addManagedListener(o.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(o,0),this.maximizeListeners.push(this.addManagedListener(i,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){n.isMaximized=!1,n.refreshMaximizeIcon()})}},t.prototype.buildMaximizeAndMinimizeElements=function(){var e=this.maximizeButtonComp=this.createBean(new Kn('<div class="ag-dialog-button"></span>')),n=e.getGui();return this.maximizeIcon=Mi("maximize",this.gridOptionsService),n.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=Mi("minimize",this.gridOptionsService),n.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e},function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([be("popupService")],t.prototype,"popupService",void 0),t}(K7),Sde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vO=function(){return vO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},vO.apply(this,arguments)},qS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Z7=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Q7=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},X7=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Zc=(()=>(function(r){r[r.vertical=0]="vertical",r[r.horizontal=1]="horizontal"}(Zc||(Zc={})),Zc))(),Ede=0,Dde=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.popupList=[],n}var e;return Sde(t,r),e=t,t.prototype.postConstruct=function(){var n=this;this.ctrlsService.whenReady(function(i){n.gridCtrl=i.gridCtrl}),this.addManagedListener(this.eventService,Ce.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))},t.prototype.getPopupParent=function(){return this.gridOptionsService.get("popupParent")||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(n){var i=n.eventSource,o=n.ePopup,s=this.getPopupIndex(o);-1!==s&&(this.popupList[s].alignedToElement=i);var v=i.getBoundingClientRect(),D=this.getParentRect(),F=this.keepXYWithinBounds(o,v.top-D.top,Zc.vertical),z=o.clientWidth>0?o.clientWidth:200;o.style.minWidth="".concat(z,"px");var fe,ae=D.right-D.left-z;function ge(){return v.right-D.left-2}function we(){return v.left-D.left-z}this.gridOptionsService.get("enableRtl")?((fe=we())<0&&(fe=ge(),this.setAlignedStyles(o,"left")),fe>ae&&(fe=0,this.setAlignedStyles(o,"right"))):((fe=ge())>ae&&(fe=we(),this.setAlignedStyles(o,"right")),fe<0&&(fe=0,this.setAlignedStyles(o,"left"))),o.style.left="".concat(fe,"px"),o.style.top="".concat(F,"px")},t.prototype.positionPopupUnderMouseEvent=function(n){var i=this;this.positionPopup({ePopup:n.ePopup,nudgeX:n.nudgeX,nudgeY:n.nudgeY,keepWithinBounds:!0,skipObserver:n.skipObserver,updatePosition:function(){return i.calculatePointerAlign(n.mouseEvent)},postProcessCallback:function(){return i.callPostProcessPopup(n.type,n.ePopup,null,n.mouseEvent,n.column,n.rowNode)}})},t.prototype.calculatePointerAlign=function(n){var i=this.getParentRect();return{x:n.clientX-i.left,y:n.clientY-i.top}},t.prototype.positionPopupByComponent=function(n){var i=this,o=n.ePopup,s=n.nudgeX,l=n.nudgeY,v=n.keepWithinBounds,D=n.eventSource,F=n.alignSide,z=void 0===F?"left":F,re=n.position,ae=void 0===re?"over":re,fe=n.column,ge=n.rowNode,we=n.type,Te=D.getBoundingClientRect(),Ie=this.getParentRect(),Ve=this.getPopupIndex(o);-1!==Ve&&(this.popupList[Ve].alignedToElement=D),this.positionPopup({ePopup:o,nudgeX:s,nudgeY:l,keepWithinBounds:v,updatePosition:function(){var Bt,Dt=Te.left-Ie.left;return"right"===z&&(Dt-=o.offsetWidth-Te.width),"over"===ae?(Bt=Te.top-Ie.top,i.setAlignedStyles(o,"over")):(i.setAlignedStyles(o,"under"),Bt="under"===i.shouldRenderUnderOrAbove(o,Te,Ie,n.nudgeY||0)?Te.top-Ie.top+Te.height:Te.top-o.offsetHeight-2*(l||0)-Ie.top),{x:Dt,y:Bt}},postProcessCallback:function(){return i.callPostProcessPopup(we,o,D,null,fe,ge)}})},t.prototype.shouldRenderUnderOrAbove=function(n,i,o,s){var l=o.bottom-i.bottom,v=i.top-o.top,D=n.offsetHeight+s;return l>D?"under":v>D||v>l?"above":"under"},t.prototype.setAlignedStyles=function(n,i){var o=this.getPopupIndex(n);if(-1!==o){var l=this.popupList[o].alignedToElement;l&&(["right","left","over","above","under"].forEach(function(D){l.classList.remove("ag-has-popup-positioned-".concat(D)),n.classList.remove("ag-popup-positioned-".concat(D))}),i&&(l.classList.add("ag-has-popup-positioned-".concat(i)),n.classList.add("ag-popup-positioned-".concat(i))))}},t.prototype.callPostProcessPopup=function(n,i,o,s,l,v){var D=this.gridOptionsService.getCallback("postProcessPopup");D&&D({column:l,rowNode:v,ePopup:i,type:n,eventSource:o,mouseEvent:s})},t.prototype.positionPopup=function(n){var i=this,o=n.ePopup,s=n.keepWithinBounds,l=n.nudgeX,v=n.nudgeY,D=n.skipObserver,F=n.updatePosition,z={width:0,height:0},re=function(fe){void 0===fe&&(fe=!1);var ge=F(),we=ge.x,Te=ge.y;fe&&o.clientWidth===z.width&&o.clientHeight===z.height||(z.width=o.clientWidth,z.height=o.clientHeight,l&&(we+=l),v&&(Te+=v),s&&(we=i.keepXYWithinBounds(o,we,Zc.horizontal),Te=i.keepXYWithinBounds(o,Te,Zc.vertical)),o.style.left="".concat(we,"px"),o.style.top="".concat(Te,"px"),n.postProcessCallback&&n.postProcessCallback())};if(re(),!D){var ae=this.resizeObserverService.observeResize(o,function(){return re(!0)});setTimeout(function(){return ae()},e.WAIT_FOR_POPUP_CONTENT_RESIZE)}},t.prototype.getActivePopups=function(){return this.popupList.map(function(n){return n.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var n=this.gridOptionsService.getDocument(),i=this.getPopupParent();return i===n.body?i=n.documentElement:"static"===getComputedStyle(i).position&&(i=i.offsetParent),Z3(i)},t.prototype.keepXYWithinBounds=function(n,i,o){var s=o===Zc.vertical,l=s?"clientHeight":"clientWidth",v=s?"top":"left",D=s?"offsetHeight":"offsetWidth",F=s?"scrollTop":"scrollLeft",z=this.gridOptionsService.getDocument(),re=z.documentElement,ae=this.getPopupParent(),fe=ae.getBoundingClientRect(),ge=z.documentElement.getBoundingClientRect(),we=ae===z.body,Te=n[D],Ve=we?(s?K3:_S)(re)+re[F]:ae[l];we&&(Ve-=Math.abs(ge[v]-fe[v]));var et=Ve-Te;return Math.min(Math.max(i,0),Math.abs(et))},t.prototype.addPopup=function(n){var i=this.gridOptionsService.getDocument(),o=n.eChild,s=n.ariaLabel,l=n.alwaysOnTop,v=n.positionCallback,D=n.anchorToElement;if(!i)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:function(){}};var F=this.getPopupIndex(o);if(-1!==F)return{hideFunc:this.popupList[F].hideFunc};this.initialisePopupPosition(o);var re=this.createPopupWrapper(o,s,!!l),ae=this.addEventListenersToPopup(vO(vO({},n),{wrapperEl:re}));return v&&v(),this.addPopupToPopupList(o,re,ae,D),{hideFunc:ae}},t.prototype.initialisePopupPosition=function(n){var o=this.getPopupParent().getBoundingClientRect();Tt(n.style.top)||(n.style.top="".concat(-1*o.top,"px")),Tt(n.style.left)||(n.style.left="".concat(-1*o.left,"px"))},t.prototype.createPopupWrapper=function(n,i,o){var s,l=this.getPopupParent(),v=document.createElement("div"),D=this.environment.getTheme().allThemes;return D.length&&(s=v.classList).add.apply(s,Q7([],Z7(D),!1)),v.classList.add("ag-popup"),n.classList.add(this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),n.hasAttribute("role")||to(n,"dialog"),qc(n,i),v.appendChild(n),l.appendChild(v),o?this.setAlwaysOnTop(n,!0):this.bringPopupToFront(n),v},t.prototype.handleThemeChange=function(){var n,i,o,s,l,v=this.environment.getTheme().allThemes;try{for(var D=X7(this.popupList),F=D.next();!F.done;F=D.next()){var z=F.value;try{for(var re=(o=void 0,X7(Array.from(z.wrapper.classList))),ae=re.next();!ae.done;ae=re.next()){var fe=ae.value;fe.startsWith("ag-theme-")&&z.wrapper.classList.remove(fe)}}catch(ge){o={error:ge}}finally{try{ae&&!ae.done&&(s=re.return)&&s.call(re)}finally{if(o)throw o.error}}v.length&&(l=z.wrapper.classList).add.apply(l,Q7([],Z7(v),!1))}}catch(ge){n={error:ge}}finally{try{F&&!F.done&&(i=D.return)&&i.call(D)}finally{if(n)throw n.error}}},t.prototype.addEventListenersToPopup=function(n){var i=this,o=this.gridOptionsService.getDocument(),s=this.getPopupParent(),l=n.wrapperEl,v=n.eChild,D=n.closedCallback,F=n.afterGuiAttached,z=n.closeOnEsc,re=n.modal,ae=!1,fe=function(Ie){l.contains(o.activeElement)&&Ie.key===it.ESCAPE&&!xl(Ie)&&Te({keyboardEvent:Ie})},ge=function(Ie){return Te({mouseEvent:Ie})},we=function(Ie){return Te({touchEvent:Ie})},Te=function(Ie){void 0===Ie&&(Ie={});var Ve=Ie.mouseEvent,et=Ie.touchEvent,gt=Ie.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:Ve,touchEvent:et},v)||ae||(ae=!0,s.removeChild(l),o.removeEventListener("keydown",fe),o.removeEventListener("mousedown",ge),o.removeEventListener("touchstart",we),o.removeEventListener("contextmenu",ge),i.eventService.removeEventListener(Ce.EVENT_DRAG_STARTED,ge),D&&D(Ve||et||gt),i.removePopupFromPopupList(v))};return F&&F({hidePopup:Te}),window.setTimeout(function(){z&&o.addEventListener("keydown",fe),re&&(o.addEventListener("mousedown",ge),i.eventService.addEventListener(Ce.EVENT_DRAG_STARTED,ge),o.addEventListener("touchstart",we),o.addEventListener("contextmenu",ge))},0),Te},t.prototype.addPopupToPopupList=function(n,i,o,s){this.popupList.push({element:n,wrapper:i,hideFunc:o,instanceId:Ede++,isAnchored:!!s}),s&&this.setPopupPositionRelatedToElement(n,s)},t.prototype.getPopupIndex=function(n){return this.popupList.findIndex(function(i){return i.element===n})},t.prototype.setPopupPositionRelatedToElement=function(n,i){var o=this.getPopupIndex(n);if(-1!==o){var s=this.popupList[o];if(s.stopAnchoringPromise&&s.stopAnchoringPromise.then(function(v){return v&&v()}),s.stopAnchoringPromise=void 0,s.isAnchored=!1,i){var l=this.keepPopupPositionedRelativeTo({element:i,ePopup:n,hidePopup:s.hideFunc});return s.stopAnchoringPromise=l,s.isAnchored=!0,l}}},t.prototype.removePopupFromPopupList=function(n){this.setAlignedStyles(n,null),this.setPopupPositionRelatedToElement(n,null),this.popupList=this.popupList.filter(function(i){return i.element!==n})},t.prototype.keepPopupPositionedRelativeTo=function(n){var i=this,o=this.getPopupParent(),s=o.getBoundingClientRect(),l=n.element,v=n.ePopup,D=l.getBoundingClientRect(),F=s.top-D.top,z=s.left-D.left,re=F,ae=z,fe=v.style.top,ge=parseInt(fe.substring(0,fe.length-1),10),we=v.style.left,Te=parseInt(we.substring(0,we.length-1),10);return new $a(function(Ie){i.getFrameworkOverrides().setInterval(function(){var Ve=o.getBoundingClientRect(),et=l.getBoundingClientRect();if(0==et.top&&0==et.left&&0==et.height&&0==et.width)n.hidePopup();else{var Dt=Ve.top-et.top;if(Dt!=re){var Bt=i.keepXYWithinBounds(v,ge+F-Dt,Zc.vertical);v.style.top="".concat(Bt,"px")}re=Dt;var Mt=Ve.left-et.left;if(Mt!=ae){var qt=i.keepXYWithinBounds(v,Te+z-Mt,Zc.horizontal);v.style.left="".concat(qt,"px")}ae=Mt}},200).then(function(Ve){Ie(function(){null!=Ve&&window.clearInterval(Ve)})})})},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(n){return n.isAnchored})},t.prototype.isEventFromCurrentPopup=function(n,i){var l=n.mouseEvent||n.touchEvent;if(!l)return!1;var v=this.getPopupIndex(i);if(-1===v)return!1;for(var D=v;D<this.popupList.length;D++)if(DA(this.popupList[D].element,l))return!0;return this.isElementWithinCustomPopup(l.target)},t.prototype.isElementWithinCustomPopup=function(n){for(var i=this.gridOptionsService.getDocument();n&&n!==i.body;){if(n.classList.contains("ag-custom-component-popup")||null===n.parentElement)return!0;n=n.parentElement}return!1},t.prototype.getWrapper=function(n){for(;!n.classList.contains("ag-popup")&&n.parentElement;)n=n.parentElement;return n.classList.contains("ag-popup")?n:null},t.prototype.setAlwaysOnTop=function(n,i){var o=this.getWrapper(n);!o||(o.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(n){var i=this.getPopupParent(),o=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),s=o.length,l=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),v=l.length,D=this.getWrapper(n);if(D&&!(s<=1)&&i.contains(n)){var F=o.indexOf(D),z=D.querySelectorAll("div"),re=[];for(z.forEach(function(we){0!==we.scrollTop&&re.push([we,we.scrollTop])}),v?D.classList.contains("ag-always-on-top")?F!==s-1&&Sr(l).insertAdjacentElement("afterend",D):F!==s-v-1&&l[0].insertAdjacentElement("beforebegin",D):F!==s-1&&Sr(o).insertAdjacentElement("afterend",D);re.length;){var fe=re.pop();fe[0].scrollTop=fe[1]}this.eventService.dispatchEvent({type:"popupToFront",api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,eWrapper:D})}},t.WAIT_FOR_POPUP_CONTENT_RESIZE=200,qS([be("focusService")],t.prototype,"focusService",void 0),qS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),qS([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),qS([Gt],t.prototype,"postConstruct",null),e=qS([Jt("popupService")],t)}(Pt),Tde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xde=function(r){function t(){var e=r.call(this,'\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>')||this;return e.hasHighlighting=!1,e}return Tde(t,r),t.prototype.setState=function(e,n){this.value=e,this.render(),this.updateSelected(n)},t.prototype.updateSelected=function(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)},t.prototype.setSearchString=function(e){var n,i=!1;if(Tt(e)){var o=null===(n=this.value)||void 0===n?void 0:n.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(o>=0){i=!0,this.hasHighlighting=!0;var s=o+e.length,l=zi(this.value.slice(0,o)),v=zi(this.value.slice(o,s)),D=zi(this.value.slice(s));this.getGui().lastElementChild.innerHTML="".concat(l,"<b>").concat(v,"</b>").concat(D)}}!i&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())},t.prototype.render=function(){var e;this.getGui().lastElementChild.innerHTML=null!==(e=zi(this.value))&&void 0!==e?e:"&nbsp;"},t}(Kn),Rde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),J7=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ade=function(r){function t(e){var n=r.call(this,t.TEMPLATE)||this;return n.params=e,n.searchString="",n}return Rde(t,r),t.prototype.destroy=function(){r.prototype.destroy.call(this)},t.prototype.init=function(){var e=this;this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new W7({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:function(){return e.autocompleteEntries.length},getRow:function(i){return e.autocompleteEntries[i]}});var n=this.virtualList.getGui();this.addManagedListener(n,"click",function(){return e.params.onConfirmed()}),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(n,"mousedown",function(i){return i.preventDefault()}),this.setSelectedValue(0)},t.prototype.onNavigationKeyDown=function(e,n){e.preventDefault();var i=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(n===it.UP?i-1:i+1)},t.prototype.setSearch=function(e){this.searchString=e,Tt(e)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()},t.prototype.runContainsSearch=function(e,n){var i,o=!1,s=e.toLocaleLowerCase(),l=n.filter(function(v){var F=v.toLocaleLowerCase().indexOf(s),z=0===F,re=F>=0;return re&&(!i||!o&&z||o===z&&v.length<i.length)&&(i=v,o=z),re});return!i&&l.length&&(i=l[0]),{topMatch:i,allMatches:l}},t.prototype.runSearch=function(){var e,n,s,l,i=this.params.autocompleteEntries,o=i.map(function(z){var re;return null!==(re=z.displayValue)&&void 0!==re?re:z.key});if(this.params.useFuzzySearch)l=(s=DS(this.searchString,o,!0).values).length?s[0]:void 0;else{var v=this.runContainsSearch(this.searchString,o);s=v.allMatches,l=v.topMatch}var D=i.filter(function(z){return s.includes(z.displayValue??z.key)});if(!D.length&&this.selectedValue&&(null===(n=null===(e=this.params)||void 0===e?void 0:e.forceLastSelection)||void 0===n?void 0:n.call(e,this.selectedValue,this.searchString))&&(D=[this.selectedValue]),this.autocompleteEntries=D,this.virtualList.refresh(),l){var F=s.indexOf(l);this.checkSetSelectedValue(F)}},t.prototype.updateSearchInList=function(){var e=this;this.virtualList.forEachRenderedRow(function(n){return n.setSearchString(e.searchString)})},t.prototype.checkSetSelectedValue=function(e){e>=0&&e<this.autocompleteEntries.length&&this.setSelectedValue(e)},t.prototype.setSelectedValue=function(e){var n=this.autocompleteEntries[e];this.selectedValue!==n&&(this.selectedValue=n,this.virtualList.ensureIndexVisible(e),this.virtualList.forEachRenderedRow(function(i,o){i.updateSelected(e===o)}))},t.prototype.createRowComponent=function(e){var n,i=new xde;return this.getContext().createBean(i),i.setState(null!==(n=e.displayValue)&&void 0!==n?n:e.key,e===this.selectedValue),i},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),s=Math.floor((e.clientY-n.top+i)/this.virtualList.getRowHeight());this.checkSetSelectedValue(s)},t.prototype.afterGuiAttached=function(){this.virtualList.refresh()},t.prototype.getSelectedValue=function(){var e;return this.autocompleteEntries.length&&null!==(e=this.selectedValue)&&void 0!==e?e:null},t.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',J7([zt("eList")],t.prototype,"eList",void 0),J7([Gt],t.prototype,"init",null),t}(zm),Ode=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Z6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mde=function(r){function t(){var e=r.call(this,'\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>')||this;return e.isListOpen=!1,e.lastPosition=0,e.valid=!0,e}return Ode(t,r),t.prototype.postConstruct=function(){var e=this;this.eAutocompleteInput.onValueChange(function(n){return e.onValueChanged(n)}),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(function(){e.destroyBean(e.autocompleteList)}),this.addGuiEventListener("focusout",function(){return e.onFocusOut()})},t.prototype.onValueChanged=function(e){var n=yu(e);this.updateValue(n),this.updateAutocompleteList(n)},t.prototype.updateValue=function(e){this.updateLastPosition(),this.dispatchEvent({type:t.EVENT_VALUE_CHANGED,value:e}),this.validate(e)},t.prototype.updateAutocompleteList=function(e){var n,i,o,s,l=null!==(i=null===(n=this.listGenerator)||void 0===n?void 0:n.call(this,e,this.lastPosition))&&void 0!==i?i:{enabled:!1};(!l.type||l.type!==(null===(o=this.autocompleteListParams)||void 0===o?void 0:o.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=l,null!==(s=this.autocompleteListParams)&&void 0!==s&&s.enabled?(this.isListOpen||this.openList(),this.autocompleteList.setSearch(this.autocompleteListParams.searchString??"")):this.isListOpen&&this.closeList()},t.prototype.onKeyDown=function(e){var n=this,i=e.key;switch(this.updateLastPosition(),i){case it.ENTER:this.onEnterKeyDown(e);break;case it.TAB:this.onTabKeyDown(e);break;case it.DOWN:case it.UP:this.onUpDownKeyDown(e,i);break;case it.LEFT:case it.RIGHT:case it.PAGE_HOME:case it.PAGE_END:setTimeout(function(){n.updatePositionAndList()});break;case it.ESCAPE:this.onEscapeKeyDown(e);break;case it.SPACE:e.ctrlKey&&!this.isListOpen&&(e.preventDefault(),this.forceOpenList())}},t.prototype.confirmSelection=function(){var e,n=null===(e=this.autocompleteList)||void 0===e?void 0:e.getSelectedValue();n&&(this.closeList(),this.dispatchEvent({type:t.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:n,autocompleteType:this.autocompleteListParams.type}))},t.prototype.onTabKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.confirmSelection())},t.prototype.onEnterKeyDown=function(e){e.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()},t.prototype.onUpDownKeyDown=function(e,n){var i;e.preventDefault(),this.isListOpen?null===(i=this.autocompleteList)||void 0===i||i.onNavigationKeyDown(e,n):this.forceOpenList()},t.prototype.onEscapeKeyDown=function(e){this.isListOpen&&(e.preventDefault(),e.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))},t.prototype.onFocusOut=function(){this.isListOpen&&this.closeList()},t.prototype.updatePositionAndList=function(){var e;this.updateLastPosition(),this.updateAutocompleteList(null!==(e=this.eAutocompleteInput.getValue())&&void 0!==e?e:null)},t.prototype.setCaret=function(e,n){var i=this.gridOptionsService.getDocument();n&&i.activeElement===i.body&&this.eAutocompleteInput.getFocusableElement().focus();var o=this.eAutocompleteInput.getInputElement();o.setSelectionRange(e,e),e===o.value.length&&(o.scrollLeft=o.scrollWidth)},t.prototype.forceOpenList=function(){this.onValueChanged(this.eAutocompleteInput.getValue())},t.prototype.updateLastPosition=function(){var e;this.lastPosition=null!==(e=this.eAutocompleteInput.getInputElement().selectionStart)&&void 0!==e?e:0},t.prototype.validate=function(e){var n;!this.validator||(this.validationMessage=this.validator(e),this.eAutocompleteInput.getInputElement().setCustomValidity(null!==(n=this.validationMessage)&&void 0!==n?n:""),this.valid=!this.validationMessage,this.dispatchEvent({type:t.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))},t.prototype.openList=function(){var e=this;this.isListOpen=!0,this.autocompleteList=this.createBean(new Ade({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:function(){return e.confirmSelection()},forceLastSelection:this.forceLastSelection}));var n=this.autocompleteList.getGui(),i={ePopup:n,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gridOptionsService.get("enableRtl")?"right":"left",keepWithinBounds:!0},o=this.popupService.addPopup({eChild:n,anchorToElement:this.getGui(),positionCallback:function(){return e.popupService.positionPopupByComponent(i)},ariaLabel:this.listAriaLabel});this.hidePopup=o.hideFunc,this.autocompleteList.afterGuiAttached()},t.prototype.closeList=function(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null},t.prototype.onCompleted=function(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:t.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})},t.prototype.getValue=function(){return yu(this.eAutocompleteInput.getValue())},t.prototype.setInputPlaceholder=function(e){return this.eAutocompleteInput.setInputPlaceholder(e),this},t.prototype.setInputAriaLabel=function(e){return this.eAutocompleteInput.setInputAriaLabel(e),this},t.prototype.setListAriaLabel=function(e){return this.listAriaLabel=e,this},t.prototype.setListGenerator=function(e){return this.listGenerator=e,this},t.prototype.setValidator=function(e){return this.validator=e,this},t.prototype.isValid=function(){return this.valid},t.prototype.setValue=function(e){var n=e.value,i=e.position,o=e.silent,s=e.updateListOnlyIfOpen,l=e.restoreFocus;this.eAutocompleteInput.setValue(n,!0),this.setCaret(i??this.lastPosition,l),o||this.updateValue(n),(!s||this.isListOpen)&&this.updateAutocompleteList(n)},t.prototype.setForceLastSelection=function(e){return this.forceLastSelection=e,this},t.prototype.setInputDisabled=function(e){return this.eAutocompleteInput.setDisabled(e),this},t.EVENT_VALUE_CHANGED="eventValueChanged",t.EVENT_VALUE_CONFIRMED="eventValueConfirmed",t.EVENT_OPTION_SELECTED="eventOptionSelected",t.EVENT_VALID_CHANGED="eventValidChanged",Z6([be("popupService")],t.prototype,"popupService",void 0),Z6([zt("eAutocompleteInput")],t.prototype,"eAutocompleteInput",void 0),Z6([Gt],t.prototype,"postConstruct",null),t}(Kn),Ide=["mouseover","mouseout","mouseenter","mouseleave","mousemove"],Pde=["touchstart","touchend","touchmove","touchcancel"],eU=function(){function r(t){void 0===t&&(t="javascript"),this.frameworkName=t,this.renderingEngine="vanilla",this.isOutsideAngular=function(e){return ja(Ide,e)}}return r.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},r.prototype.setInterval=function(t,e){return new $a(function(n){n(window.setInterval(t,e))})},r.prototype.addEventListener=function(t,e,n,i){var o=ja(Pde,e);t.addEventListener(e,n,{capture:!!i,passive:o})},r.prototype.dispatchEvent=function(t,e,n){e()},r.prototype.frameworkComponent=function(t){return null},r.prototype.isFrameworkComponent=function(t){return!1},r.prototype.getDocLink=function(t){return"https://www.ag-grid.com/".concat("solid"===this.frameworkName?"react":this.frameworkName,"-data-grid").concat(t?"/".concat(t):"")},r}(),kde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),k_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lde=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return kde(t,r),t.prototype.getNextCellToFocus=function(e,n,i){return void 0===i&&(i=!1),i?this.getNextCellToFocusWithCtrlPressed(e,n):this.getNextCellToFocusWithoutCtrlPressed(e,n)},t.prototype.getNextCellToFocusWithCtrlPressed=function(e,n){var l,v,i=e===it.UP,s=e===it.LEFT;if(i||e===it.DOWN)v=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),l=n.column;else{var D=this.columnModel.getAllDisplayedColumns(),F=this.gridOptionsService.get("enableRtl");v=n.rowIndex,l=s!==F?D[0]:Sr(D)}return{rowIndex:v,rowPinned:null,column:l}},t.prototype.getNextCellToFocusWithoutCtrlPressed=function(e,n){for(var i=n,o=!1;!o;){switch(e){case it.UP:i=this.getCellAbove(i);break;case it.DOWN:i=this.getCellBelow(i);break;case it.RIGHT:i=this.gridOptionsService.get("enableRtl")?this.getCellToLeft(i):this.getCellToRight(i);break;case it.LEFT:i=this.gridOptionsService.get("enableRtl")?this.getCellToRight(i):this.getCellToLeft(i);break;default:i=null,console.warn("AG Grid: unknown key for navigation "+e)}o=!i||this.isCellGoodToFocusOn(i)}return i},t.prototype.isCellGoodToFocusOn=function(e){var i,n=e.column;switch(e.rowPinned){case"top":i=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":i=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:i=this.rowModel.getRow(e.rowIndex)}return!!i&&!n.isSuppressNavigable(i)},t.prototype.getCellToLeft=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColBefore(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var n=this.columnModel.getDisplayedColAfter(e.column);return n?{rowIndex:e.rowIndex,column:n,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var n=e.rowIndex,i=e.rowPinned;if(this.isLastRowInContainer(e))switch(i){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}var o=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(o)||{rowIndex:n+1,rowPinned:i}},t.prototype.getNextStickyPosition=function(e,n){if(this.gridOptionsService.isGroupRowsSticky()&&e&&e.sticky){var i=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(this.rowRenderer.getStickyTopRowCtrls()),!1).sort(function(v,D){return v.getRowNode().rowIndex-D.getRowNode().rowIndex}),o=n?-1:1,s=i.findIndex(function(v){return v.getRowNode().rowIndex===e.rowIndex}),l=i[s+o];if(l)return{rowIndex:l.getRowNode().rowIndex,rowPinned:null}}},t.prototype.getCellBelow=function(e){if(!e)return null;var n=this.getRowBelow(e);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var n=e.rowPinned,i=e.rowIndex;return"top"===n?this.pinnedRowModel.getPinnedTopRowData().length-1<=i:"bottom"===n?this.pinnedRowModel.getPinnedBottomRowData().length-1<=i:this.paginationProxy.getPageLastRow()<=i},t.prototype.getRowAbove=function(e){var n=e.rowIndex,i=e.rowPinned;if(i?0===n:n===this.paginationProxy.getPageFirstRow())return"top"===i?null:i&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;var s=this.rowModel.getRow(e.rowIndex);return this.getNextStickyPosition(s,!0)||{rowIndex:n-1,rowPinned:i}},t.prototype.getCellAbove=function(e){if(!e)return null;var n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}},t.prototype.getNextTabbedCell=function(e,n){return n?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=n[0];var l=this.getRowBelow(e);if(An(l)||!l.rowPinned&&!this.paginationProxy.isRowInPage(l))return null;i=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},t.prototype.getNextTabbedCellBackwards=function(e){var n=this.columnModel.getAllDisplayedColumns(),i=e.rowIndex,o=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=Sr(n);var l=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(An(l)||!l.rowPinned&&!this.paginationProxy.isRowInPage(l))return null;i=l?l.rowIndex:null,o=l?l.rowPinned:null}return{rowIndex:i,column:s,rowPinned:o}},k_([be("columnModel")],t.prototype,"columnModel",void 0),k_([be("rowModel")],t.prototype,"rowModel",void 0),k_([be("rowRenderer")],t.prototype,"rowRenderer",void 0),k_([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),k_([be("paginationProxy")],t.prototype,"paginationProxy",void 0),k_([Jt("cellNavigationService")],t)}(Pt),Vde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),YS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bde=function(r,t){return function(e,n){t(e,n,r)}},Gde=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.consuming=!1,e}return Vde(t,r),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.getAlignedGridApis=function(){var n,e=this,i=null!==(n=this.gridOptionsService.get("alignedGrids"))&&void 0!==n?n:[],o="function"==typeof i;"function"==typeof i&&(i=i());var s=function(){return"See ".concat(e.getFrameworkOverrides().getDocLink("aligned-grids"))};return i.map(function(v){var D;if(!v)return Tl("alignedGrids contains an undefined option."),o||Tl('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Tl(s());if(v instanceof E7)return v;var F=v;return"current"in F?null===(D=F.current)||void 0===D?void 0:D.api:(F.api||Tl("alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ".concat(s())),F.api)}).filter(function(v){return!!v&&!v.isDestroyed()})},t.prototype.init=function(){this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){this.consuming||this.getAlignedGridApis().forEach(function(n){var i=n.__getAlignedGridService();e(i)})},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(n){n.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(n){n.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var n=this;this.onEvent(function(){n.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})},t.prototype.getMasterColumns=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i)}):e.column&&n.push(e.column),n},t.prototype.getColumnIds=function(e){var n=[];return e.columns?e.columns.forEach(function(i){n.push(i.getColId())}):e.column&&n.push(e.column.getColId()),n},t.prototype.onColumnEvent=function(e){var n=this;this.onEvent(function(){switch(e.type){case Ce.EVENT_COLUMN_MOVED:case Ce.EVENT_COLUMN_VISIBLE:case Ce.EVENT_COLUMN_PINNED:case Ce.EVENT_COLUMN_RESIZED:n.processColumnEvent(e);break;case Ce.EVENT_COLUMN_GROUP_OPENED:n.processGroupOpenedEvent(e);break;case Ce.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var n=this;e.columnGroups.forEach(function(i){var o=null;if(i){var s=i.getGroupId();o=n.columnModel.getProvidedColumnGroup(s)}i&&!o||(n.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),n.columnModel.setColumnGroupOpened(o,i.isExpanded(),"alignedGridChanged"))})},t.prototype.processColumnEvent=function(e){var i,n=this,o=e.column,s=null;if(o&&(s=this.columnModel.getPrimaryColumn(o.getColId())),!o||s){var l=this.getMasterColumns(e);switch(e.type){case Ce.EVENT_COLUMN_MOVED:var v=e,F=e.api.getColumnState().map(function(Te){return{colId:Te.colId}});this.columnModel.applyColumnState({state:F,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," toIndex = ").concat(v.toIndex));break;case Ce.EVENT_COLUMN_VISIBLE:var z=e;F=e.api.getColumnState().map(function(Ve){return{colId:Ve.colId,hide:Ve.hide}}),this.columnModel.applyColumnState({state:F},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," visible = ").concat(z.visible));break;case Ce.EVENT_COLUMN_PINNED:var re=e;F=e.api.getColumnState().map(function(Ve){return{colId:Ve.colId,pinned:Ve.pinned}}),this.columnModel.applyColumnState({state:F},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing ".concat(e.type," pinned = ").concat(re.pinned));break;case Ce.EVENT_COLUMN_RESIZED:var ae=e,fe={};l.forEach(function(Te){n.logger.log("onColumnEvent-> processing ".concat(e.type," actualWidth = ").concat(Te.getActualWidth())),fe[Te.getId()]={key:Te.getColId(),newWidth:Te.getActualWidth()}}),null===(i=ae.flexColumns)||void 0===i||i.forEach(function(Te){fe[Te.getId()]&&delete fe[Te.getId()]}),this.columnModel.setColumnWidths(Object.values(fe),!1,ae.finished,"alignedGridChanged")}var we=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(function(Te){Te.setGridOption("alwaysShowVerticalScroll",we)})}},YS([be("columnModel")],t.prototype,"columnModel",void 0),YS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),YS([Bde(0,xs("loggerFactory"))],t.prototype,"setBeans",null),YS([Gt],t.prototype,"init",null),YS([Jt("alignedGridsService")],t)}(Pt),jde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),KS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Hde=function(r,t){return function(e,n){t(e,n,r)}},tU=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.selectedNodes=new Map,e}return jde(t,r),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.resetNodes()},t.prototype.init=function(){var e=this;this.rowSelection=this.gridOptionsService.get("rowSelection"),this.groupSelectsChildren=this.gridOptionsService.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],function(){e.groupSelectsChildren=e.gridOptionsService.get("groupSelectsChildren"),e.rowSelection=e.gridOptionsService.get("rowSelection"),e.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,Ce.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.isMultiselect=function(){return"multiple"===this.rowSelection},t.prototype.setNodesSelected=function(e){var n;if(0===e.nodes.length)return 0;var i=e.newValue,o=e.clearSelection,s=e.suppressFinishActions,l=e.rangeSelect,v=e.source,D=void 0===v?"api":v;if(e.nodes.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;var F=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,z=e.nodes.map(function(gt){return gt.footer?gt.sibling:gt});if(l){if(e.nodes.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;var re=this.getLastSelectedNode();if(re&&re!==(ae=z[0])&&this.isMultiselect())return this.selectRange(ae,re,e.newValue,D)}for(var ge=0,we=0;we<z.length;we++){var ae=z[we];F&&ae.group||ae.selectThisNode(i,e.event,D)&&ge++,this.groupSelectsChildren&&(null===(n=ae.childrenAfterGroup)||void 0===n?void 0:n.length)&&(ge+=this.selectChildren(ae,i,F,D))}return s||(i&&(o||!this.isMultiselect())&&(ge+=this.clearOtherNodes(z[0],D)),ge>0&&(this.updateGroupsFromChildrenSelections(D),this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:D}))),ge},t.prototype.selectRange=function(e,n,i,o){var s=this;void 0===i&&(i=!0);var l=this.rowModel.getNodesInRangeForSelection(e,n),v=0;return l.forEach(function(F){F.group&&s.groupSelectsChildren||!1===i&&e===F||F.selectThisNode(i,void 0,o)&&v++}),this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:o}),v},t.prototype.selectChildren=function(e,n,i,o){var s=i?e.childrenAfterAggFilter:e.childrenAfterGroup;return An(s)?0:this.setNodesSelected({newValue:n,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:i,source:o,nodes:s})},t.prototype.getLastSelectedNode=function(){var e=Array.from(this.selectedNodes.keys());return 0==e.length?null:this.selectedNodes.get(Sr(e))||null},t.prototype.getSelectedNodes=function(){var e=[];return this.selectedNodes.forEach(function(n){n&&e.push(n)}),e},t.prototype.getSelectedRows=function(){var e=[];return this.selectedNodes.forEach(function(n){n&&n.data&&e.push(n.data)}),e},t.prototype.getSelectionCount=function(){return this.selectedNodes.size},t.prototype.filterFromSelection=function(e){var n=new Map;this.selectedNodes.forEach(function(i,o){i&&e(i)&&n.set(o,i)}),this.selectedNodes=n},t.prototype.updateGroupsFromChildrenSelections=function(e,n){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;var o=this.rowModel.getRootNode();n||(n=new uO(!0,o)).setInactive();var s=!1;return n.forEachChangedNodeDepthFirst(function(l){if(l!==o){var v=l.calculateSelectedFromChildren();s=l.selectThisNode(null!==v&&v,void 0,e)||s}}),s},t.prototype.clearOtherNodes=function(e,n){var i=this,o=new Map,s=0;return this.selectedNodes.forEach(function(l){if(l&&l.id!==e.id){var v=i.selectedNodes.get(l.id);s+=v.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:n}),i.groupSelectsChildren&&l.parent&&o.set(l.parent.id,l.parent)}}),o.forEach(function(l){var v=l.calculateSelectedFromChildren();l.selectThisNode(null!==v&&v,void 0,n)}),s},t.prototype.onRowSelected=function(e){var n=e.node;this.groupSelectsChildren&&n.group||(n.isSelected()?this.selectedNodes.set(n.id,n):this.selectedNodes.delete(n.id))},t.prototype.syncInRowNode=function(e,n){this.syncInOldRowNode(e,n),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,n){Tt(n)&&e.id!==n.id&&n&&this.selectedNodes.get(n.id)==e&&this.selectedNodes.set(n.id,n)},t.prototype.syncInNewRowNode=function(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)},t.prototype.reset=function(e){var n=this.getSelectionCount();this.resetNodes(),n&&this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:e})},t.prototype.resetNodes=function(){var e;this.logger.log("reset"),null===(e=this.selectedNodes)||void 0===e||e.clear()},t.prototype.getBestCostNodeSelection=function(){if("clientSide"===this.rowModel.getType()){var n=this.rowModel.getTopLevelNodes();if(null!==n){var i=[];return function o(s){for(var l=0,v=s.length;l<v;l++){var D=s[l];D.isSelected()?i.push(D):D.group&&D.children&&o(D.children)}}(n),i}}},t.prototype.isEmpty=function(){var e=0;return this.selectedNodes.forEach(function(n){n&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){var n=function(D){return D.selectThisNode(!1,void 0,o)},i="clientSide"===this.rowModel.getType(),o=e.source,s=e.justFiltered,l=e.justCurrentPage;if(l||s){if(!i)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(s,l).forEach(n)}else this.selectedNodes.forEach(function(D){D&&n(D)}),this.reset(o);i&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:o})},t.prototype.getSelectedCounts=function(e,n){var i=this,o=0,s=0;return this.getNodesToSelect(e,n).forEach(function(v){i.groupSelectsChildren&&v.group||(v.isSelected()?o++:v.selectable&&s++)}),{selectedCount:o,notSelectedCount:s}},t.prototype.getSelectAllState=function(e,n){var i=this.getSelectedCounts(e,n),o=i.selectedCount,s=i.notSelectedCount;return(0!==o||0!==s)&&(o>0&&s>0?null:o>0)},t.prototype.getNodesToSelect=function(e,n){var i=this;if(void 0===e&&(e=!1),void 0===n&&(n=!1),"clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var o=[];if(n)return this.paginationProxy.forEachNodeOnPage(function(l){if(l.group)if(l.expanded)i.groupSelectsChildren||o.push(l);else{var v=function(D){var F;o.push(D),null!==(F=D.childrenAfterFilter)&&void 0!==F&&F.length&&D.childrenAfterFilter.forEach(v)};v(l)}else o.push(l)}),o;var s=this.rowModel;return e?(s.forEachNodeAfterFilter(function(l){o.push(l)}),o):(s.forEachNode(function(l){o.push(l)}),o)},t.prototype.selectAllRowNodes=function(e){if("clientSide"!==this.rowModel.getType())throw new Error("selectAll only available when rowModelType='clientSide', ie not ".concat(this.rowModel.getType()));var n=e.source;this.getNodesToSelect(e.justFiltered,e.justCurrentPage).forEach(function(v){return v.selectThisNode(!0,void 0,n)}),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:n})},t.prototype.getSelectionState=function(){var e=[];return this.selectedNodes.forEach(function(n){n?.id&&e.push(n.id)}),e.length?e:null},t.prototype.setSelectionState=function(e,n){if(Array.isArray(e)){var i=new Set(e),o=[];this.rowModel.forEachNode(function(s){i.has(s.id)&&o.push(s)}),this.setNodesSelected({newValue:!0,nodes:o,source:n})}},KS([be("rowModel")],t.prototype,"rowModel",void 0),KS([be("paginationProxy")],t.prototype,"paginationProxy",void 0),KS([Hde(0,xs("loggerFactory"))],t.prototype,"setBeans",null),KS([Gt],t.prototype,"init",null),KS([Jt("selectionService")],t)}(Pt),nU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ude=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},zde=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},yO=function(){function r(t){var e=this;this.viaApi=function(n){for(var i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return $n("Since v31, 'columnApi.".concat(n,"' is deprecated and moved to 'api.").concat(n,"'.")),(i=e.api)[n].apply(i,zde([],Ude(o),!1))},this.api=t}return r.prototype.sizeColumnsToFit=function(t){this.viaApi("sizeColumnsToFit",t)},r.prototype.setColumnGroupOpened=function(t,e){this.viaApi("setColumnGroupOpened",t,e)},r.prototype.getColumnGroup=function(t,e){return this.viaApi("getColumnGroup",t,e)},r.prototype.getProvidedColumnGroup=function(t){return this.viaApi("getProvidedColumnGroup",t)},r.prototype.getDisplayNameForColumn=function(t,e){return this.viaApi("getDisplayNameForColumn",t,e)},r.prototype.getDisplayNameForColumnGroup=function(t,e){return this.viaApi("getDisplayNameForColumnGroup",t,e)},r.prototype.getColumn=function(t){return this.viaApi("getColumn",t)},r.prototype.getColumns=function(){return this.viaApi("getColumns")},r.prototype.applyColumnState=function(t){return this.viaApi("applyColumnState",t)},r.prototype.getColumnState=function(){return this.viaApi("getColumnState")},r.prototype.resetColumnState=function(){this.viaApi("resetColumnState")},r.prototype.getColumnGroupState=function(){return this.viaApi("getColumnGroupState")},r.prototype.setColumnGroupState=function(t){this.viaApi("setColumnGroupState",t)},r.prototype.resetColumnGroupState=function(){this.viaApi("resetColumnGroupState")},r.prototype.isPinning=function(){return this.viaApi("isPinning")},r.prototype.isPinningLeft=function(){return this.viaApi("isPinningLeft")},r.prototype.isPinningRight=function(){return this.viaApi("isPinningRight")},r.prototype.getDisplayedColAfter=function(t){return this.viaApi("getDisplayedColAfter",t)},r.prototype.getDisplayedColBefore=function(t){return this.viaApi("getDisplayedColBefore",t)},r.prototype.setColumnVisible=function(t,e){this.viaApi("setColumnVisible",t,e)},r.prototype.setColumnsVisible=function(t,e){this.viaApi("setColumnsVisible",t,e)},r.prototype.setColumnPinned=function(t,e){this.viaApi("setColumnPinned",t,e)},r.prototype.setColumnsPinned=function(t,e){this.viaApi("setColumnsPinned",t,e)},r.prototype.getAllGridColumns=function(){return this.viaApi("getAllGridColumns")},r.prototype.getDisplayedLeftColumns=function(){return this.viaApi("getDisplayedLeftColumns")},r.prototype.getDisplayedCenterColumns=function(){return this.viaApi("getDisplayedCenterColumns")},r.prototype.getDisplayedRightColumns=function(){return this.viaApi("getDisplayedRightColumns")},r.prototype.getAllDisplayedColumns=function(){return this.viaApi("getAllDisplayedColumns")},r.prototype.getAllDisplayedVirtualColumns=function(){return this.viaApi("getAllDisplayedVirtualColumns")},r.prototype.moveColumn=function(t,e){this.viaApi("moveColumn",t,e)},r.prototype.moveColumnByIndex=function(t,e){this.viaApi("moveColumnByIndex",t,e)},r.prototype.moveColumns=function(t,e){this.viaApi("moveColumns",t,e)},r.prototype.moveRowGroupColumn=function(t,e){this.viaApi("moveRowGroupColumn",t,e)},r.prototype.setColumnAggFunc=function(t,e){this.viaApi("setColumnAggFunc",t,e)},r.prototype.setColumnWidth=function(t,e,n,i){void 0===n&&(n=!0),this.viaApi("setColumnWidth",t,e,n,i)},r.prototype.setColumnWidths=function(t,e,n){void 0===e&&(e=!0),this.viaApi("setColumnWidths",t,e,n)},r.prototype.setPivotMode=function(t){this.viaApi("setPivotMode",t)},r.prototype.isPivotMode=function(){return this.viaApi("isPivotMode")},r.prototype.getPivotResultColumn=function(t,e){return this.viaApi("getPivotResultColumn",t,e)},r.prototype.setValueColumns=function(t){this.viaApi("setValueColumns",t)},r.prototype.getValueColumns=function(){return this.viaApi("getValueColumns")},r.prototype.removeValueColumn=function(t){this.viaApi("removeValueColumn",t)},r.prototype.removeValueColumns=function(t){this.viaApi("removeValueColumns",t)},r.prototype.addValueColumn=function(t){this.viaApi("addValueColumn",t)},r.prototype.addValueColumns=function(t){this.viaApi("addValueColumns",t)},r.prototype.setRowGroupColumns=function(t){this.viaApi("setRowGroupColumns",t)},r.prototype.removeRowGroupColumn=function(t){this.viaApi("removeRowGroupColumn",t)},r.prototype.removeRowGroupColumns=function(t){this.viaApi("removeRowGroupColumns",t)},r.prototype.addRowGroupColumn=function(t){this.viaApi("addRowGroupColumn",t)},r.prototype.addRowGroupColumns=function(t){this.viaApi("addRowGroupColumns",t)},r.prototype.getRowGroupColumns=function(){return this.viaApi("getRowGroupColumns")},r.prototype.setPivotColumns=function(t){this.viaApi("setPivotColumns",t)},r.prototype.removePivotColumn=function(t){this.viaApi("removePivotColumn",t)},r.prototype.removePivotColumns=function(t){this.viaApi("removePivotColumns",t)},r.prototype.addPivotColumn=function(t){this.viaApi("addPivotColumn",t)},r.prototype.addPivotColumns=function(t){this.viaApi("addPivotColumns",t)},r.prototype.getPivotColumns=function(){return this.viaApi("getPivotColumns")},r.prototype.getLeftDisplayedColumnGroups=function(){return this.viaApi("getLeftDisplayedColumnGroups")},r.prototype.getCenterDisplayedColumnGroups=function(){return this.viaApi("getCenterDisplayedColumnGroups")},r.prototype.getRightDisplayedColumnGroups=function(){return this.viaApi("getRightDisplayedColumnGroups")},r.prototype.getAllDisplayedColumnGroups=function(){return this.viaApi("getAllDisplayedColumnGroups")},r.prototype.autoSizeColumn=function(t,e){return this.viaApi("autoSizeColumn",t,e)},r.prototype.autoSizeColumns=function(t,e){this.viaApi("autoSizeColumns",t,e)},r.prototype.autoSizeAllColumns=function(t){this.viaApi("autoSizeAllColumns",t)},r.prototype.setPivotResultColumns=function(t){this.viaApi("setPivotResultColumns",t)},r.prototype.getPivotResultColumns=function(){return this.viaApi("getPivotResultColumns")},nU([be("gridApi")],r.prototype,"api",void 0),nU([Jt("columnApi")],r)}(),Wde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),F_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},$de=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.initialised=!1,e.isSsrm=!1,e}return Wde(t,r),t.prototype.init=function(){var e=this;this.isSsrm=this.gridOptionsService.isRowModelType("serverSide"),this.cellExpressions=this.gridOptionsService.get("enableCellExpressions"),this.isTreeData=this.gridOptionsService.get("treeData"),this.initialised=!0;var n=function(o){return e.callColumnCellValueChangedHandler(o)},i=this.gridOptionsService.useAsyncEvents();this.eventService.addEventListener(Ce.EVENT_CELL_VALUE_CHANGED,n,i),this.addDestroyFunc(function(){return e.eventService.removeEventListener(Ce.EVENT_CELL_VALUE_CHANGED,n,i)}),this.addManagedPropertyListener("treeData",function(o){return e.isTreeData=o.currentValue})},t.prototype.getValue=function(e,n,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),this.initialised||this.init(),n){var F,s=e.getColDef(),l=s.field,v=e.getColId(),D=n.data,z=n.groupData&&void 0!==n.groupData[v],re=!o&&n.aggData&&void 0!==n.aggData[v],ae=this.isSsrm&&o&&!!e.getColDef().aggFunc,fe=this.isSsrm&&n.footer&&n.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===n.field);if(i&&s.filterValueGetter?F=this.executeFilterValueGetter(s.filterValueGetter,D,e,n):this.isTreeData&&re?F=n.aggData[v]:this.isTreeData&&s.valueGetter?F=this.executeValueGetter(s.valueGetter,D,e,n):this.isTreeData&&l&&D?F=E_(D,l,e.isFieldContainsDots()):z?F=n.groupData[v]:re?F=n.aggData[v]:s.valueGetter?F=this.executeValueGetter(s.valueGetter,D,e,n):fe?F=E_(D,n.field,e.isFieldContainsDots()):l&&D&&!ae&&(F=E_(D,l,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof F&&0===F.indexOf("=")){var ge=F.substring(1);F=this.executeValueGetter(ge,D,e,n)}if(null==F){var we=this.getOpenedGroup(n,e);if(null!=we)return we}return F}},t.prototype.getOpenedGroup=function(e,n){if(this.gridOptionsService.get("showOpenedGroup")&&n.getColDef().showRowGroup)for(var o=n.getColDef().showRowGroup,s=e.parent;null!=s;){if(s.rowGroupColumn&&(!0===o||o===s.rowGroupColumn.getColId()))return s.key;s=s.parent}},t.prototype.setValue=function(e,n,i,o){var s=this.columnModel.getPrimaryColumn(n);if(!e||!s)return!1;An(e.data)&&(e.data={});var l=s.getColDef(),v=l.field,D=l.valueSetter;if(An(v)&&An(D))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,i))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;var z,F={node:e,data:e.data,oldValue:this.getValue(s,e),newValue:i,colDef:s.getColDef(),column:s,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};return F.newValue=i,void 0===(z=Tt(D)?"function"==typeof D?D(F):this.expressionService.evaluate(D,F):this.setValueUsingField(e.data,v,i,s.isFieldContainsDots()))&&(z=!0),!!z&&(e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),F.newValue=this.getValue(s,e),this.eventService.dispatchEvent({type:Ce.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:F.column,api:F.api,columnApi:F.columnApi,colDef:F.colDef,context:F.context,data:e.data,node:e,oldValue:F.oldValue,newValue:F.newValue,value:F.newValue,source:o}),!0)},t.prototype.callColumnCellValueChangedHandler=function(e){var n=e.colDef.onCellValueChanged;"function"==typeof n&&n({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})},t.prototype.setValueUsingField=function(e,n,i,o){if(!n)return!1;var s=!1;if(o)for(var l=n.split("."),v=e;l.length>0&&v;){var D=l.shift();0===l.length?(s=v[D]===i)||(v[D]=i):v=v[D]}else(s=e[n]===i)||(e[n]=i);return!s},t.prototype.executeFilterValueGetter=function(e,n,i,o){var s={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return"function"==typeof e?e(s):this.expressionService.evaluate(e,s)},t.prototype.executeValueGetter=function(e,n,i,o){var s=i.getColId(),l=this.valueCache.getValue(o,s);if(void 0!==l)return l;var D,v={data:n,node:o,column:i,colDef:i.getColDef(),api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,getValue:this.getValueCallback.bind(this,o)};return D="function"==typeof e?e(v):this.expressionService.evaluate(e,v),this.valueCache.setValue(o,s,D),D},t.prototype.getValueCallback=function(e,n){var i=this.columnModel.getPrimaryColumn(n);return i?this.getValue(i,e):null},t.prototype.getKeyForNode=function(e,n){var i=this.getValue(e,n),o=e.getColDef().keyCreator,s=i;return o&&(s=o({value:i,colDef:e.getColDef(),column:e,node:n,data:n.data,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context})),"string"==typeof s||null==s||"[object Object]"===(s=String(s))&&$n("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key"),s},F_([be("expressionService")],t.prototype,"expressionService",void 0),F_([be("columnModel")],t.prototype,"columnModel",void 0),F_([be("valueCache")],t.prototype,"valueCache",void 0),F_([be("dataTypeService")],t.prototype,"dataTypeService",void 0),F_([Gt],t.prototype,"init",null),F_([Jt("valueService")],t)}(Pt),qde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yde=function(r,t){return function(e,n){t(e,n,r)}},Kde=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return qde(t,r),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,n){if("string"==typeof e)return this.evaluateExpression(e,n);console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,n){try{return this.createExpressionFunction(e)(n.value,n.context,n.oldValue,n.newValue,n.value,n.node,n.data,n.colDef,n.rowIndex,n.api,n.columnApi,n.getValue,n.column,n.columnGroup)}catch(s){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",n),console.log("Exception = "+s),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",n);return this.expressionToFunctionCache[e]=i,i},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},rU([Yde(0,xs("loggerFactory"))],t.prototype,"setBeans",null),rU([Jt("expressionService")],t)}(Pt),Zde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xde=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Zde(t,r),t.prototype.getTemplate=function(e,n){var i=this.templateCache[e];if(i)return i;var o=this.waitingCallbacks[e],s=this;if(!o){this.waitingCallbacks[e]=o=[];var l=new XMLHttpRequest;l.onload=function(){s.handleHttpResult(this,e)},l.open("GET",e),l.send()}return n&&o.push(n),null},t.prototype.handleHttpResult=function(e,n){if(200===e.status&&null!==e.response){this.templateCache[n]=e.response||e.responseText;for(var i=this.waitingCallbacks[n],o=0;o<i.length;o++)(0,i[o])()}else console.warn("AG Grid: Unable to get template error ".concat(e.status," - ").concat(n))},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("templateService")],t),t}(Pt),Jde=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ehe=function(r,t){return function(e,n){t(e,n,r)}},the=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Jde(t,r),t.prototype.setBeans=function(e){this.logging=e.get("debug")},t.prototype.create=function(e){return new Q6(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},iU([ehe(0,xs("gridOptionsService"))],t.prototype,"setBeans",null),iU([Jt("loggerFactory")],t)}(Pt),Q6=function(){function r(t,e){this.name=t,this.isLoggingFunc=e}return r.prototype.isLogging=function(){return this.isLoggingFunc()},r.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},r}(),nhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N_=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return nhe(t,r),t.prototype.setComp=function(e,n,i){var o=this;this.view=e,this.eGridHostDiv=n,this.eGui=i,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:function(){return o.eGui},isInterestedIn:function(l){return l===us.HeaderCell||l===us.ToolPanel},getIconName:function(){return co.ICON_NOT_ALLOWED}}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(n),this.createManagedBean(new R6(this.view)),this.addRtlSupport();var s=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return s()}),this.ctrlsService.registerGridCtrl(this)},t.prototype.isDetailGrid=function(){var e;return(null===(e=this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id"))||void 0===e?void 0:e.startsWith("detail"))||!1},t.prototype.showDropZones=function(){return Yn.__isRegistered(rn.RowGroupingModule,this.context.getGridId())},t.prototype.showSideBar=function(){return Yn.__isRegistered(rn.SideBarModule,this.context.getGridId())},t.prototype.showStatusBar=function(){return Yn.__isRegistered(rn.StatusBarModule,this.context.getGridId())},t.prototype.showWatermark=function(){return Yn.__isRegistered(rn.EnterpriseCoreModule,this.context.getGridId())},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:Ce.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsService.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var n=this.gridOptionsService.getDocument(),i=this.view.getFocusableContainers(),s=i.findIndex(function(l){return l.contains(n.activeElement)})+(e?-1:1);return!(s<=0||s>=i.length)&&this.focusService.focusInto(i[s])},t.prototype.focusInnerElement=function(e){var n=this.view.getFocusableContainers(),i=this.columnModel.getAllDisplayedColumns();if(e){if(n.length>1)return this.focusService.focusInto(Sr(n),!0);var o=Sr(i);if(this.focusService.focusGridView(o,!0))return!0}return 0===this.gridOptionsService.get("headerHeight")?this.focusService.focusGridView(i[0]):this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},N_([be("focusService")],t.prototype,"focusService",void 0),N_([be("resizeObserverService")],t.prototype,"resizeObserverService",void 0),N_([be("columnModel")],t.prototype,"columnModel",void 0),N_([be("ctrlsService")],t.prototype,"ctrlsService",void 0),N_([be("mouseEventService")],t.prototype,"mouseEventService",void 0),N_([be("dragAndDropService")],t.prototype,"dragAndDropService",void 0),t}(Pt),ihe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},oU=function(r){function t(e){var n=r.call(this)||this;return n.eGridDiv=e,n}return ihe(t,r),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var n={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(o){return e.addCssClass(o)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(o){e.getGui().style.userSelect=o??"",e.getGui().style.webkitUserSelect=o??""},setCursor:function(o){e.getGui().style.cursor=o??""}};this.ctrl=this.createManagedBean(new rhe);var i=this.createTemplate();this.setTemplate(i),this.ctrl.setComp(n,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(o){return e.ctrl.focusInnerElement(o)}})},t.prototype.insertGridIntoDom=function(){var e=this,n=this.getGui();this.eGridDiv.appendChild(n),this.addDestroyFunc(function(){e.eGridDiv.removeChild(n),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,n){var i=this.eRootWrapperBody.classList;i.toggle(Ii.AUTO_HEIGHT,n.autoHeight),i.toggle(Ii.NORMAL,n.normal),i.toggle(Ii.PRINT,n.print),this.addOrRemoveCssClass(Ii.AUTO_HEIGHT,n.autoHeight),this.addOrRemoveCssClass(Ii.NORMAL,n.normal),this.addOrRemoveCssClass(Ii.PRINT,n.print)},t.prototype.createTemplate=function(){var e=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",n=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",o=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return'<div class="ag-root-wrapper" role="presentation">\n                '.concat(e,'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ').concat(n,"\n                </div>\n                ").concat(i,"\n                <ag-pagination></ag-pagination>\n                ").concat(o,"\n            </div>")},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(n){return As(n)})},ZS([be("loggerFactory")],t.prototype,"loggerFactory",void 0),ZS([zt("gridBody")],t.prototype,"gridBodyComp",void 0),ZS([zt("sideBar")],t.prototype,"sideBarComp",void 0),ZS([zt("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),ZS([Gt],t.prototype,"postConstruct",null),t}(dO),ohe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Yh=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},L_=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},she=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return ohe(t,r),e=t,t.prototype.progressSort=function(n,i,o){var s=this.getNextSortDirection(n);this.setSortForColumn(n,s,i,o)},t.prototype.setSortForColumn=function(n,i,o,s){"asc"!==i&&"desc"!==i&&(i=null);var v=[n];if(this.gridOptionsService.isColumnsSortingCoupledToGroup()&&n.getColDef().showRowGroup){var F=this.columnModel.getSourceColumnsForGroupColumn(n)?.filter(function(re){return re.isSortable()});F&&(v=L_([n],Yh(F),!1))}v.forEach(function(re){return re.setSort(i,s)}),(o||this.gridOptionsService.get("alwaysMultiSort"))&&!this.gridOptionsService.get("suppressMultiSort")||this.clearSortBarTheseColumns(v,s),this.updateSortIndex(n),this.dispatchSortChangedEvents(s)},t.prototype.updateSortIndex=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()),s=i&&o||n,l=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(F){return F.setSortIndex(null)});var v=l.filter(function(F){return F!==s});(s.getSort()?L_(L_([],Yh(v),!1),[s],!1):v).forEach(function(F,z){return F.setSortIndex(z)})},t.prototype.onSortChanged=function(n){this.dispatchSortChangedEvents(n)},t.prototype.isSortActive=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(o){return!!o.getSort()});return i&&i.length>0},t.prototype.dispatchSortChangedEvents=function(n){this.eventService.dispatchEvent({type:Ce.EVENT_SORT_CHANGED,source:n})},t.prototype.clearSortBarTheseColumns=function(n,i){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(o){n.includes(o)||o.setSort(void 0,i)})},t.prototype.getNextSortDirection=function(n){var i;if(i=n.getColDef().sortingOrder?n.getColDef().sortingOrder:this.gridOptionsService.get("sortingOrder")?this.gridOptionsService.get("sortingOrder"):e.DEFAULT_SORTING_ORDER,!Array.isArray(i)||i.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's ".concat(i)),null;var v,o=i.indexOf(n.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(v=o<0||o==i.length-1?i[0]:i[o+1])<0?(console.warn("AG Grid: invalid sort type "+v),null):v},t.prototype.getIndexedSortMap=function(){var n=this,i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(F){return!!F.getSort()});if(this.columnModel.isPivotMode()){var o=this.gridOptionsService.isColumnsSortingCoupledToGroup();i=i.filter(function(F){var z=!!F.getAggFunc(),re=!F.isPrimary(),ae=o?n.columnModel.getGroupDisplayColumnForGroup(F.getId()):F.getColDef().showRowGroup;return z||re||ae})}var s=this.columnModel.getRowGroupColumns().filter(function(F){return!!F.getSort()}),l=this.gridOptionsService.isColumnsSortingCoupledToGroup()&&!!s.length;l&&(i=L_([],Yh(new Set(i.map(function(F){var z;return null!==(z=n.columnModel.getGroupDisplayColumnForGroup(F.getId()))&&void 0!==z?z:F}))),!1));var v={};i.forEach(function(F,z){return v[F.getId()]=z}),i.sort(function(F,z){var re=F.getSortIndex(),ae=z.getSortIndex();return null!=re&&null!=ae?re-ae:null==re&&null==ae?v[F.getId()]>v[z.getId()]?1:-1:null==ae?-1:1});var D=new Map;return i.forEach(function(F,z){return D.set(F,z)}),l&&s.forEach(function(F){var z=n.columnModel.getGroupDisplayColumnForGroup(F.getId());D.set(F,D.get(z))}),D},t.prototype.getColumnsWithSortingOrdered=function(){return L_([],Yh(this.getIndexedSortMap().entries()),!1).sort(function(n,i){return Yh(n,2)[1]-Yh(i,2)[1]}).map(function(n){return Yh(n,1)[0]})},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),colId:n.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().filter(function(n){return n.getSort()}).map(function(n){return{sort:n.getSort(),column:n}})},t.prototype.canColumnDisplayMixedSort=function(n){var i=this.gridOptionsService.isColumnsSortingCoupledToGroup(),o=!!n.getColDef().showRowGroup;return i&&o},t.prototype.getDisplaySortForColumn=function(n){var i=this.columnModel.getSourceColumnsForGroupColumn(n);if(!this.canColumnDisplayMixedSort(n)||!i?.length)return n.getSort();var s=null!=n.getColDef().field||n.getColDef().valueGetter?L_([n],Yh(i),!1):i,l=s[0].getSort();return s.every(function(D){return D.getSort()==l})?l:"mixed"},t.prototype.getDisplaySortIndexForColumn=function(n){return this.getIndexedSortMap().get(n)},t.DEFAULT_SORTING_ORDER=["asc","desc",null],sU([be("columnModel")],t.prototype,"columnModel",void 0),e=sU([Jt("sortController")],t)}(Pt),ahe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),QS=function(){return QS=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},QS.apply(this,arguments)},fa=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},lhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}var e;return ahe(t,r),e=t,t.addKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(n){this.instanceCount>0||(n.addEventListener("keydown",e.toggleKeyboardMode),n.addEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(n){var o="keydown"===n.type;o&&(n.ctrlKey||n.metaKey||n.altKey)||e.keyboardModeActive!==o&&(e.keyboardModeActive=o)},t.unregisterGridCompController=function(n){e.removeKeyboardModeEvents(n)},t.prototype.init=function(){var n=this,i=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,i),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_GROUP_OPENED,i),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,i),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(function(o){n.gridCtrl=o.gridCtrl})},t.prototype.registerKeyboardFocusEvents=function(){var n=this.gridOptionsService.getDocument();e.addKeyboardModeEvents(n),e.instanceCount++,this.addDestroyFunc(function(){e.instanceCount--,e.unregisterGridCompController(n)})},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var n=this.focusedCellPosition.column,i=this.columnModel.getGridColumn(n.getId());n!==i&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(n.activeElement,Xm.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var n=this.gridOptionsService.getDocument();return this.gridOptionsService.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(n.activeElement,nO.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(n,i){for(var o=n;o;){if(this.gridOptionsService.getDomData(o,i))return!1;o=o.parentNode}return!0},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.shouldRestoreFocus=function(n){var i=this;return!!this.isCellRestoreFocused(n)&&(setTimeout(function(){i.restoredFocusedCellPosition=null},0),!0)},t.prototype.isCellRestoreFocused=function(n){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(n,this.restoredFocusedCellPosition)},t.prototype.setRestoreFocusedCell=function(n){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=n)},t.prototype.getFocusEventParams=function(){var n=this.focusedCellPosition,i=n.rowIndex,o=n.rowPinned,l={rowIndex:i,rowPinned:o,column:n.column,isFullWidthCell:!1},v=this.rowRenderer.getRowByPosition({rowIndex:i,rowPinned:o});return v&&(l.isFullWidthCell=v.isFullWidth()),l},t.prototype.clearFocusedCell=function(){if(this.restoredFocusedCellPosition=null,null!=this.focusedCellPosition){var n=QS({type:Ce.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(n)}},t.prototype.setFocusedCell=function(n){var o=n.rowIndex,s=n.rowPinned,l=n.forceBrowserFocus,v=void 0!==l&&l,D=n.preventScrollOnBrowserFocus,F=void 0!==D&&D,z=this.columnModel.getGridColumn(n.column);if(z){this.focusedCellPosition=z?{rowIndex:o,rowPinned:yu(s),column:z}:null;var re=QS(QS({type:Ce.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:v,preventScrollOnBrowserFocus:F,floating:null});this.eventService.dispatchEvent(re)}else this.focusedCellPosition=null},t.prototype.isCellFocused=function(n){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(n,this.focusedCellPosition)},t.prototype.isRowNodeFocused=function(n){return this.isRowFocused(n.rowIndex,n.rowPinned)},t.prototype.isHeaderWrapperFocused=function(n){if(null==this.focusedHeaderPosition)return!1;var i=n.getColumnGroupChild(),o=n.getRowIndex(),s=n.getPinned(),l=this.focusedHeaderPosition,v=l.column;return i===v&&o===l.headerRowIndex&&s==v.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(n,i){this.focusedHeaderPosition={headerRowIndex:n,column:i}},t.prototype.focusHeaderPosition=function(n){var i=n.direction,o=n.fromTab,s=n.allowUserOverride,l=n.event,D=n.headerPosition;if(n.fromCell&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(D);if(s){var re,F=this.getFocusedHeader(),z=this.headerNavigationService.getHeaderRowCount();o?(re=this.gridOptionsService.getCallback("tabToNextHeader"))&&(D=re({backwards:"Before"===i,previousHeaderPosition:F,nextHeaderPosition:D,headerRowCount:z})):(re=this.gridOptionsService.getCallback("navigateToNextHeader"))&&l&&(D=re({key:l.key,previousHeaderPosition:F,nextHeaderPosition:D,headerRowCount:z,event:l}))}return!!D&&(-1===D.headerRowIndex?this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(D):this.focusGridView(D.column):(this.headerNavigationService.scrollToColumn(D.column,i),this.ctrlsService.getHeaderRowContainerCtrl(D.column.getPinned()).focusHeader(D.headerRowIndex,D.column,l)))},t.prototype.focusFirstHeader=function(){var n=this.columnModel.getAllDisplayedColumns()[0];return!!n&&(n.getParent()&&(n=this.columnModel.getColumnGroupAtLevel(n,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:n}}))},t.prototype.focusLastHeader=function(n){var i=this.headerNavigationService.getHeaderRowCount()-1,o=Sr(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:i,column:o},event:n})},t.prototype.focusPreviousFromFirstCell=function(n){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(n)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(n,i){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===n&&this.focusedCellPosition.rowPinned===yu(i)},t.prototype.findFocusableElements=function(n,i,o){void 0===o&&(o=!1);var l=q3;i&&(l+=", "+i),o&&(l+=', [tabindex="-1"]');var re,v=Array.prototype.slice.apply(n.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter(function(z){return As(z)}),D=Array.prototype.slice.apply(n.querySelectorAll(l));return D.length?(re=D,v.filter(function(ae){return-1===re.indexOf(ae)})):v},t.prototype.focusInto=function(n,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var s=this.findFocusableElements(n,null,o),l=i?Sr(s):s[0];return!!l&&(l.focus({preventScroll:!0}),!0)},t.prototype.findFocusableElementBeforeTabGuard=function(n,i){if(!i)return null;var o=this.findFocusableElements(n),s=o.indexOf(i);if(-1===s)return null;for(var l=-1,v=s-1;v>=0;v--)if(o[v].classList.contains(tg.TAB_GUARD_TOP)){l=v;break}return l<=0?null:o[l-1]},t.prototype.findNextFocusableElement=function(n,i,o){void 0===n&&(n=this.eGridDiv);var s=this.findFocusableElements(n,i?':not([tabindex="-1"])':null),v=this.gridOptionsService.getDocument().activeElement,F=(i?s.findIndex(function(z){return z.contains(v)}):s.indexOf(v))+(o?-1:1);return F<0||F>=s.length?null:s[F]},t.prototype.isTargetUnderManagedComponent=function(n,i){if(!i)return!1;var o=n.querySelectorAll(".".concat(jh.FOCUS_MANAGED_CLASS));if(!o.length)return!1;for(var s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1},t.prototype.findTabbableParent=function(n,i){void 0===i&&(i=5);for(var o=0;n&&null===kA(n)&&++o<=i;)n=n.parentElement;return null===kA(n)?null:n},t.prototype.focusGridView=function(n,i){if(this.gridOptionsService.get("suppressCellFocus"))return i?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var o=i?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!o)return!1;var s=o.rowIndex,l=o.rowPinned,v=this.getFocusedHeader();return!n&&v&&(n=v.column),!(null==s||!n)&&(this.navigationService.ensureCellVisible({rowIndex:s,column:n,rowPinned:l}),this.setFocusedCell({rowIndex:s,column:n,rowPinned:yu(l),forceBrowserFocus:!0}),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:s,rowPinned:l,column:n}),!0)},t.prototype.focusNextGridCoreContainer=function(n,i){return void 0===i&&(i=!1),!(i||!this.gridCtrl.focusNextInnerContainer(n))||((i||!n&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(n),!1)},t.prototype.focusAdvancedFilter=function(n){return this.advancedFilterFocusColumn=n?.column,this.advancedFilterService.getCtrl().focusHeaderComp()},t.prototype.focusNextFromAdvancedFilter=function(n,i){var o,s,l=null!==(o=i?void 0:this.advancedFilterFocusColumn)&&void 0!==o?o:null===(s=this.columnModel.getAllDisplayedColumns())||void 0===s?void 0:s[0];return n?this.focusHeaderPosition({headerPosition:{column:l,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(l)},t.prototype.clearAdvancedFilterColumn=function(){this.advancedFilterFocusColumn=void 0},t.keyboardModeActive=!1,t.instanceCount=0,fa([be("eGridDiv")],t.prototype,"eGridDiv",void 0),fa([be("columnModel")],t.prototype,"columnModel",void 0),fa([be("headerNavigationService")],t.prototype,"headerNavigationService",void 0),fa([be("rowRenderer")],t.prototype,"rowRenderer",void 0),fa([be("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),fa([be("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),fa([pr("rangeService")],t.prototype,"rangeService",void 0),fa([be("navigationService")],t.prototype,"navigationService",void 0),fa([be("ctrlsService")],t.prototype,"ctrlsService",void 0),fa([be("filterManager")],t.prototype,"filterManager",void 0),fa([pr("advancedFilterService")],t.prototype,"advancedFilterService",void 0),fa([Gt],t.prototype,"init",null),e=fa([Jt("focusService")],t)}(Pt),uhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return uhe(t,r),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:Ce.EVENT_COLUMN_HOVER_CHANGED})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("columnHoverService")],t),t}(Pt),hhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),X6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fhe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return hhe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){return e.gridBodyCtrl=n.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsService.get("suppressColumnMoveAnimation")||this.gridOptionsService.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var n=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===n&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var n=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==n.length)&&(window.setTimeout(function(){return e.forEach(function(i){return i()})},0),window.setTimeout(function(){return n.forEach(function(i){return i()})},300))},X6([be("ctrlsService")],t.prototype,"ctrlsService",void 0),X6([Gt],t.prototype,"postConstruct",null),X6([Jt("columnAnimationService")],t)}(Pt),phe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_O=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return phe(t,r),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(n){e.centerRowContainerCon=n.centerRowContainerCtrl,e.addManagedListener(e.eventService,Ce.EVENT_BODY_HEIGHT_CHANGED,e.checkPageSize.bind(e)),e.addManagedListener(e.eventService,Ce.EVENT_SCROLL_VISIBILITY_CHANGED,e.checkPageSize.bind(e)),e.addManagedPropertyListener("paginationAutoPageSize",e.onPaginationAutoSizeChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsService.get("paginationAutoPageSize")||null==this.centerRowContainerCon},t.prototype.onPaginationAutoSizeChanged=function(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()},t.prototype.checkPageSize=function(){var e=this;if(!this.notActive()){var n=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(n>0){var i=function(){var o=e.gridOptionsService.getRowHeightAsNumber(),s=Math.floor(n/o);e.paginationProxy.setPageSize(s,"autoCalculated")};this.isBodyRendered?Ga(function(){return i()},50)():(i(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},_O([be("ctrlsService")],t.prototype,"ctrlsService",void 0),_O([be("paginationProxy")],t.prototype,"paginationProxy",void 0),_O([Gt],t.prototype,"postConstruct",null),_O([Jt("paginationAutoPageSizeService")],t)}(Pt),ghe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),aU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vhe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cacheVersion=0,e}return ghe(t,r),t.prototype.init=function(){this.active=this.gridOptionsService.get("valueCache"),this.neverExpires=this.gridOptionsService.get("valueCacheNeverExpires")},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,n,i){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[n]=i)},t.prototype.getValue=function(e,n){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[n]},aU([Gt],t.prototype,"init",null),aU([Jt("valueCache")],t)}(Pt),yhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},bhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return yhe(t,r),t.prototype.init=function(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,Ce.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,n){if(!this.gridOptionsService.get("suppressChangeDetection")){var i=[e];if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsService.get("aggregateOnlyChangedColumns"),s=new uO(o,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[n]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(function(l){i.push(l)})}this.rowRenderer.refreshCells({rowNodes:i})}},bO([be("rowModel")],t.prototype,"rowModel",void 0),bO([be("rowRenderer")],t.prototype,"rowRenderer",void 0),bO([Gt],t.prototype,"init",null),bO([Jt("changeDetectionService")],t)}(Pt),whe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Che=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return whe(t,r),t.prototype.adaptFunction=function(e,n){var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?i.functionAdapter(n):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function i(){}return i.prototype.refresh=function(o){return!1},i.prototype.getGui=function(){return this.eGui},i.prototype.init=function(o){var s=e(o),l=typeof s;this.eGui="string"!==l&&"number"!==l&&"boolean"!==l?null!=s?s:Do("<span></span>"):Do("<span>"+s+"</span>")},i}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},lU([be("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),lU([Jt("agComponentUtils")],t)}(Pt),She=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),J6=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ehe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return She(t,r),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},J6([be("agComponentUtils")],t.prototype,"agComponentUtils",void 0),J6([Gt],t.prototype,"postConstruct",null),J6([Jt("componentMetadataProvider")],t)}(Pt),Dhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),e4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mhe={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},dU={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ihe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.calculatedSizes={},e}return Dhe(t,r),t.prototype.postConstruct=function(){var n,e=this,i=null!==(n=this.getTheme().el)&&void 0!==n?n:this.eGridDiv;this.addManagedPropertyListener("rowHeight",function(){return e.refreshRowHeightVariable()}),this.mutationObserver=new MutationObserver(function(){e.calculatedSizes={},e.fireGridStylesChangedEvent()}),this.mutationObserver.observe(i||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})},t.prototype.fireGridStylesChangedEvent=function(){this.eventService.dispatchEvent({type:Ce.EVENT_GRID_STYLES_CHANGED})},t.prototype.getSassVariable=function(e){var n=this.getTheme(),i=n.themeFamily,o=n.el;if(i&&0===i.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[i]||(this.calculatedSizes[i]={}),this.calculatedSizes[i][e]??(this.calculatedSizes[i][e]=this.calculateValueForSassProperty(e,i,o),this.calculatedSizes[i][e])},t.prototype.calculateValueForSassProperty=function(e,n,i){var o,s="ag-theme-"+(n.match("material")?"material":n.match("balham")?"balham":n.match("alpine")?"alpine":"custom"),l=Mhe[s][e],v=this.gridOptionsService.getDocument();if(i||(i=this.eGridDiv),!dU[e])return l;var D=dU[e],F=v.createElement("div"),z=Array.from(i.classList);(o=F.classList).add.apply(o,function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([n],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(z),!1)),F.style.position="absolute";var re=D.reduce(function(ge,we){var Te=v.createElement("div");return Te.style.position="static",Te.classList.add(we),ge.appendChild(Te),Te},F),ae=0;if(v.body){v.body.appendChild(F);var fe=-1!==e.toLowerCase().indexOf("height")?"height":"width";ae=parseInt(window.getComputedStyle(re)[fe],10),v.body.removeChild(F)}return ae||l},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){return this.getSassVariable("chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/g,n=this.eGridDiv,i=null,o=[];n;){if(i=e.exec(n.className)){var s=n.className.match(e);s&&(o=s);break}n=n.parentElement||void 0}if(!i)return{allThemes:o};var l=i[0];return{theme:l,el:n,themeFamily:l.replace(/-dark$/,""),allThemes:o}},t.prototype.getFromTheme=function(e,n){var i;return null!==(i=this.getSassVariable(n))&&void 0!==i?i:e},t.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},t.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},t.prototype.refreshRowHeightVariable=function(){var e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),n=this.gridOptionsService.get("rowHeight");if(null==n||isNaN(n)||!isFinite(n))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;var i="".concat(n,"px");return e!=i?(this.eGridDiv.style.setProperty("--ag-line-height",i),n):""!=e?parseFloat(e):-1},t.prototype.getMinColWidth=function(){var e=this.getFromTheme(null,"headerCellMinWidth");return Tt(e)?Math.max(e,10):10},t.prototype.destroy=function(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),r.prototype.destroy.call(this)},e4([be("eGridDiv")],t.prototype,"eGridDiv",void 0),e4([Gt],t.prototype,"postConstruct",null),e4([Jt("environment")],t)}(Pt),Phe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},khe=function(r,t){return function(e,n){t(e,n,r)}},Fhe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Phe(t,r),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ce.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=_9(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,i=this.getUiBodyHeight();(n!==this.scrollY||i!==this.uiBodyHeight)&&(this.scrollY=n,this.uiBodyHeight=i,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,n=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = ".concat(n," (").concat(this.pixelsToShave," * ").concat(e,")")),this.setDivStretchOffset(n)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:Ce.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var n="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==n&&(this.divStretchOffset=n,this.eventService.dispatchEvent({type:Ce.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return n.bottom-n.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var n=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/n)},wO([be("ctrlsService")],t.prototype,"ctrlsService",void 0),wO([khe(0,xs("loggerFactory"))],t.prototype,"agWire",null),wO([Gt],t.prototype,"postConstruct",null),wO([Jt("rowContainerHeightService")],t)}(Pt),Nhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Nhe(t,r),t.prototype.init=function(){var e=this;this.addManagedPropertyListener("isRowSelectable",function(){return e.updateSelectable()})},t.prototype.updateSelectableAfterGrouping=function(){this.updateSelectable(!0)},t.prototype.updateSelectable=function(e){void 0===e&&(e=!1);var n=!!this.gridOptionsService.get("rowSelection"),i=this.gridOptionsService.get("isRowSelectable");if(n&&i){var o=this.gridOptionsService.get("groupSelectsChildren"),s="clientSide"===this.rowModel.getType()&&o,l=[],v=function(z){if(!e||z.group){if(s&&z.group){var re=z.childrenAfterGroup.some(function(fe){return!0===fe.selectable});return void z.setRowSelectable(re,!0)}var ae=!i||i(z);z.setRowSelectable(ae,!0),!ae&&z.isSelected()&&l.push(z)}};s?new uO(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(v,!0,!0):this.rowModel.forEachNode(v),l.length&&this.selectionService.setNodesSelected({nodes:l,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof tU&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},CO([be("rowModel")],t.prototype,"rowModel",void 0),CO([be("selectionService")],t.prototype,"selectionService",void 0),CO([Gt],t.prototype,"init",null),CO([Jt("selectableService")],t)}(Pt),Vhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pa=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Bhe=function(r){function t(){var e=r.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e.areListenersSetup=!1,e}return Vhe(t,r),t.prototype.postConstruct=function(){var e=this,n=this.gridOptionsService.get("enableRtl");this.setTemplate(this.getTemplate());var i=this,o=i.btFirst,s=i.btPrevious,l=i.btNext,v=i.btLast;this.activateTabIndex([o,s,l,v]),o.insertAdjacentElement("afterbegin",Mi(n?"last":"first",this.gridOptionsService)),s.insertAdjacentElement("afterbegin",Mi(n?"next":"previous",this.gridOptionsService)),l.insertAdjacentElement("afterbegin",Mi(n?"previous":"next",this.gridOptionsService)),v.insertAdjacentElement("afterbegin",Mi(n?"first":"last",this.gridOptionsService)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],function(){return e.onPageSizeRelatedOptionsChange()}),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()},t.prototype.onPaginationChanged=function(){var n=this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel");this.setDisplayed(n),n&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())},t.prototype.onPageSizeRelatedOptionsChange=function(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())},t.prototype.setupListeners=function(){var e=this;this.areListenersSetup||(this.addManagedListener(this.eventService,Ce.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(n){var i=n.el,o=n.fn;e.addManagedListener(i,"click",o),e.addManagedListener(i,"keydown",function(s){(s.key===it.ENTER||s.key===it.SPACE)&&(s.preventDefault(),o())})}),this.areListenersSetup=!0)},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,n=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?n+1:0)},t.prototype.formatNumber=function(e){var n=this.gridOptionsService.getCallback("paginationNumberFormatter");if(n)return n({value:e});var o=this.localeService.getLocaleTextFunc();return U3(e,o("thousandSeparator",","),o("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.localeService.getLocaleTextFunc(),n=e("page","Page"),i=e("to","to"),o=e("of","of"),s=e("firstPage","First Page"),l=e("previousPage","Previous Page"),v=e("nextPage","Next Page"),D=e("lastPage","Last Page"),F=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'.concat(F,'">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-').concat(F,'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(F,'-to">').concat(i,'</span>\n                    <span id="ag-').concat(F,'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-').concat(F,'-of">').concat(o,'</span>\n                    <span id="ag-').concat(F,'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="').concat(s,'"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="').concat(l,'"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-').concat(F,'-start-page">').concat(n,'</span>\n                        <span id="ag-').concat(F,'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-').concat(F,'-of-page">').concat(o,'</span>\n                        <span id="ag-').concat(F,'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="').concat(v,'"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="').concat(D,'"></div>\n                </span>\n            </div>')},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);var o=this.isZeroPagesToDisplay();this.nextButtonDisabled=e===i-1||o,this.lastButtonDisabled=!n||o||e===i-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)},t.prototype.toggleButtonDisabled=function(e,n){D3(e,n),e.classList.toggle("ag-disabled",n)},t.prototype.updateRowLabels=function(){var s,l,e=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(this.isZeroPagesToDisplay()?s=l=0:(l=(s=n*e+1)+n-1,i&&l>o&&(l=o)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){var v=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=v("pageLastRowUnknown","?")}else this.lbLastRowOnPage.innerHTML=this.formatNumber(l)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();return e&&0===n},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages(),i=e?this.paginationProxy.getMasterRowCount():null;if(1===i){var o=this.paginationProxy.getRow(0);if(o&&o.group&&!o.groupData&&!o.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(n),this.lbRecordCount.innerHTML=this.formatNumber(i);else{var l=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=l,this.lbRecordCount.innerHTML=l}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},pa([be("paginationProxy")],t.prototype,"paginationProxy",void 0),pa([be("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),pa([zt("btFirst")],t.prototype,"btFirst",void 0),pa([zt("btPrevious")],t.prototype,"btPrevious",void 0),pa([zt("btNext")],t.prototype,"btNext",void 0),pa([zt("btLast")],t.prototype,"btLast",void 0),pa([zt("lbRecordCount")],t.prototype,"lbRecordCount",void 0),pa([zt("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),pa([zt("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),pa([zt("lbCurrent")],t.prototype,"lbCurrent",void 0),pa([zt("lbTotal")],t.prototype,"lbTotal",void 0),pa([zt("pageSizeComp")],t.prototype,"pageSizeComp",void 0),pa([Gt],t.prototype,"postConstruct",null),t}(Kn),Ghe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),s4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},jhe=function(r){function t(){var e=r.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return Ghe(t,r),t.prototype.updateLayoutClasses=function(e,n){var i=this.eOverlayWrapper.classList;i.toggle(Ii.AUTO_HEIGHT,n.autoHeight),i.toggle(Ii.NORMAL,n.normal),i.toggle(Ii.PRINT,n.print)},t.prototype.postConstruct=function(){this.createManagedBean(new R6(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var n=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&n.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,n.toggle(e,!0)},t.prototype.showOverlay=function(e,n){var i=this;this.inProgress||(this.setWrapperTypeClass(n),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(o){i.inProgress=!1,i.eOverlayWrapper.appendChild(o.getGui()),i.activeOverlay=o,i.destroyRequested&&(i.destroyRequested=!1,i.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),uo(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})},t.prototype.destroy=function(){this.destroyActiveOverlay(),r.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',s4([be("overlayService")],t.prototype,"overlayService",void 0),s4([zt("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),s4([Gt],t.prototype,"postConstruct",null),t}(Kn),Hhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Uhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Hhe(t,r),t.prototype.getFirstRow=function(){var n,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?n="top":this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(n="bottom"),void 0===n?null:{rowIndex:e,rowPinned:n}},t.prototype.getLastRow=function(){var e,n=null,i=this.pinnedRowModel.getPinnedBottomRowCount(),o=this.pinnedRowModel.getPinnedTopRowCount();return i?(n="bottom",e=i-1):this.rowModel.getRowCount()?(n=null,e=this.paginationProxy.getPageLastRow()):o&&(n="top",e=o-1),void 0===e?null:{rowIndex:e,rowPinned:n}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,n){return!e&&!n||!(e&&!n||!e&&n)&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned},t.prototype.before=function(e,n){switch(e.rowPinned){case"top":if("top"!==n.rowPinned)return!0;break;case"bottom":if("bottom"!==n.rowPinned)return!1;break;default:if(Tt(n.rowPinned))return"top"!==n.rowPinned}return e.rowIndex<n.rowIndex},t.prototype.rowMax=function(e){var i,n=this;return e.forEach(function(o){(void 0===i||n.before(i,o))&&(i=o)}),i},t.prototype.rowMin=function(e){var i,n=this;return e.forEach(function(o){(void 0===i||n.before(o,i))&&(i=o)}),i},SO([be("rowModel")],t.prototype,"rowModel",void 0),SO([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),SO([be("paginationProxy")],t.prototype,"paginationProxy",void 0),SO([Jt("rowPositionUtils")],t)}(Pt),zhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$he=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return zhe(t,r),t.prototype.createId=function(e){return this.createIdFromValues({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned})},t.prototype.createIdFromValues=function(e){var i=e.rowPinned,o=e.column;return"".concat(e.rowIndex,".").concat(i??"null",".").concat(o.getId())},t.prototype.equals=function(e,n){return e.column===n.column&&e.rowPinned===n.rowPinned&&e.rowIndex===n.rowIndex},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("cellPositionUtils")],t),t}(Pt),qhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),XS=function r(t){this.cellValueChanges=t},a4=function(r){function t(e,n,i,o){var s=r.call(this,e)||this;return s.initialRange=n,s.finalRange=i,s.ranges=o,s}return qhe(t,r),t}(XS),hU=function(){function r(t){this.actionStack=[],this.maxStackSize=t||r.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return r.prototype.pop=function(){return this.actionStack.pop()},r.prototype.push=function(t){!(t.cellValueChanges&&t.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},r.prototype.clear=function(){this.actionStack=[]},r.prototype.getCurrentStackSize=function(){return this.actionStack.length},r.DEFAULT_STACK_SIZE=10,r}(),Yhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),EO=function(){return EO=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},EO.apply(this,arguments)},Eu=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Qhe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isRangeInAction=!1,e.onCellValueChanged=function(n){var i={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned},o=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,i),s=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,i);if(o||s||e.isPasting||e.isRangeInAction){var z=n.oldValue,re=n.value,ae={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:n.column.getColId(),newValue:re,oldValue:z};e.cellValueChanges.push(ae)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Yhe(t,r),t.prototype.init=function(){var e=this;if(this.gridOptionsService.get("undoRedoCellEditing")){var n=this.gridOptionsService.get("undoRedoCellEditingLimit");n<=0||(this.undoStack=new hU(n),this.redoStack=new hU(n),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,Ce.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,Ce.EVENT_MODEL_UPDATED,function(i){i.keepUndoRedoStack||e.clearStacks()}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,Ce.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl()}))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(e){this.eventService.dispatchEvent({type:Ce.EVENT_UNDO_STARTED,source:e});var i=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:Ce.EVENT_UNDO_ENDED,source:e,operationPerformed:i})},t.prototype.redo=function(e){this.eventService.dispatchEvent({type:Ce.EVENT_REDO_STARTED,source:e});var i=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:Ce.EVENT_REDO_ENDED,source:e,operationPerformed:i})},t.prototype.undoRedo=function(e,n,i,o,s){if(!e)return!1;var l=e.pop();return!(!l||!l.cellValueChanges||(this.processAction(l,function(v){return v[o]},s),l instanceof a4?this.processRange(l.ranges||[l[i]]):this.processCell(l.cellValueChanges),n.push(l),0))},t.prototype.processAction=function(e,n,i){var o=this;e.cellValueChanges.forEach(function(s){var D=s.columnId,z=o.getRowNode({rowIndex:s.rowIndex,rowPinned:s.rowPinned});!z.displayed||z.setDataValue(D,n(s),i)})},t.prototype.processRange=function(e){var i,n=this;this.rangeService.removeAllCellRanges(!0),e.forEach(function(o,s){if(o){var l=o.startRow,v=o.endRow;s===e.length-1&&(i={rowPinned:l.rowPinned,rowIndex:l.rowIndex,columnId:o.startColumn.getColId()},n.setLastFocusedCell(i)),n.rangeService.addCellRange({rowStartIndex:l.rowIndex,rowStartPinned:l.rowPinned,rowEndIndex:v.rowIndex,rowEndPinned:v.rowPinned,columnStart:o.startColumn,columns:o.columns})}})},t.prototype.processCell=function(e){var n=e[0],l=this.getRowNode({rowIndex:n.rowIndex,rowPinned:n.rowPinned});this.setLastFocusedCell({rowPinned:n.rowPinned,rowIndex:l.rowIndex,columnId:n.columnId},!!this.rangeService)},t.prototype.setLastFocusedCell=function(e,n){var i=e.rowIndex,o=e.columnId,s=e.rowPinned,l=this.gridBodyCtrl.getScrollFeature(),v=this.columnModel.getGridColumn(o);if(v){l.ensureIndexVisible(i),l.ensureColumnVisible(v);var D={rowIndex:i,column:v,rowPinned:s};this.focusService.setFocusedCell(EO(EO({},D),{forceBrowserFocus:!0})),n&&this.rangeService.setRangeToCell(D)}},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_ROW_EDITING_STARTED,function(n){e.activeRowEdit={rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,Ce.EVENT_ROW_EDITING_STOPPED,function(){var n=new XS(e.cellValueChanges);e.pushActionsToUndoStack(n),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_CELL_EDITING_STARTED,function(n){e.activeCellEdit={column:n.column,rowIndex:n.rowIndex,rowPinned:n.rowPinned}}),this.addManagedListener(this.eventService,Ce.EVENT_CELL_EDITING_STOPPED,function(n){if(e.activeCellEdit=null,n.valueChanged&&!e.activeRowEdit&&!e.isPasting&&!e.isRangeInAction){var o=new XS(e.cellValueChanges);e.pushActionsToUndoStack(o)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,Ce.EVENT_PASTE_END,function(){var n=new XS(e.cellValueChanges);e.pushActionsToUndoStack(n),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_FILL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,Ce.EVENT_FILL_END,function(n){var i=new a4(e.cellValueChanges,n.initialRange,n.finalRange);e.pushActionsToUndoStack(i),e.isRangeInAction=!1})},t.prototype.addCellKeyListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,function(){e.isRangeInAction=!0}),this.addManagedListener(this.eventService,Ce.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,function(){var n;n=e.rangeService&&e.gridOptionsService.get("enableRangeSelection")?new a4(e.cellValueChanges,void 0,void 0,function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(e.rangeService.getCellRanges()),!1)):new XS(e.cellValueChanges),e.pushActionsToUndoStack(n),e.isRangeInAction=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},Eu([be("focusService")],t.prototype,"focusService",void 0),Eu([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Eu([be("rowModel")],t.prototype,"rowModel",void 0),Eu([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Eu([be("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Eu([be("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Eu([be("columnModel")],t.prototype,"columnModel",void 0),Eu([pr("rangeService")],t.prototype,"rangeService",void 0),Eu([Gt],t.prototype,"init",null),Eu([Jt("undoRedoService")],t)}(Pt),Xhe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Jhe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Xhe(t,r),t.prototype.findHeader=function(e,n){var i,o,s;if(e.column instanceof eo?(o="getDisplayedGroup".concat(n),i=this.columnModel[o](e.column)):(s="getDisplayedCol".concat(n),i=this.columnModel[s](e.column)),i){var l=e.headerRowIndex;if(this.getHeaderRowType(l)===ho.COLUMN_GROUP){var D=i;if(D.isPadding()&&this.isAnyChildSpanningHeaderHeight(D)){var F=this.getColumnVisibleChild(D,l,n),z=F.nextFocusColumn;z&&(i=z,l=F.nextRow)}}return{column:i,headerRowIndex:l}}},t.prototype.isAnyChildSpanningHeaderHeight=function(e){return!!e&&e.getLeafColumns().some(function(n){return n.isSpanHeaderHeight()})},t.prototype.getColumnVisibleParent=function(e,n){var i=this.getHeaderRowType(n),s=i===ho.COLUMN,l=i===ho.FLOATING_FILTER?e:e.getParent(),v=n-1;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;l&&l.isPadding();)l=l.getParent(),v--;v<0&&(l=e,v=n)}return{nextFocusColumn:l,nextRow:v}},t.prototype.getColumnVisibleChild=function(e,n,i){void 0===i&&(i="After");var s=e,l=n+1;if(this.getHeaderRowType(n)===ho.COLUMN_GROUP){var v=e.getDisplayedLeafColumns(),D="After"===i?v[0]:Sr(v);if(this.isAnyChildSpanningHeaderHeight(D.getParent())){s=D;for(var F=D.getParent();F&&F!==e;)F=F.getParent(),l++}else s=e.getDisplayedChildren()[0]}return{nextFocusColumn:s,nextRow:l}},t.prototype.getHeaderRowType=function(e){var n=this.ctrlsService.getHeaderRowContainerCtrl();if(n)return n.getRowType(e)},t.prototype.findColAtEdgeForHeaderRow=function(e,n){var i=this.columnModel.getAllDisplayedColumns(),o=i["start"===n?0:i.length-1];if(o){var l=this.ctrlsService.getHeaderRowContainerCtrl(o.getPinned()).getRowType(e);return l==ho.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(o,e)}:{headerRowIndex:null==l?-1:e,column:o}}},l4([be("columnModel")],t.prototype,"columnModel",void 0),l4([be("ctrlsService")],t.prototype,"ctrlsService",void 0),l4([Jt("headerPositionUtils")],t)}(Pt),tfe=function(){function r(){}return r.prototype.buildColumnDefs=function(t,e,n){var i=this,o=[],s={};return t.forEach(function(l){for(var D=!0,F=i.createDefFromColumn(l,e,n),z=l.getOriginalParent(),re=null;z;){var ae=null;if(z.isPadding())z=z.getOriginalParent();else{var fe=s[z.getGroupId()];if(fe){fe.children.push(F),D=!1;break}if((ae=i.createDefFromGroup(z))&&(ae.children=[F],s[ae.groupId]=ae,F=ae,z=z.getOriginalParent()),null!=z&&re===z){D=!1;break}re=z}}D&&o.push(F)}),o},r.prototype.createDefFromGroup=function(t){var e=_A(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},r.prototype.createDefFromColumn=function(t,e,n){var i=_A(t.getColDef());return i.colId=t.getColId(),i.width=t.getActualWidth(),i.rowGroup=t.isRowGroupActive(),i.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,i.pivot=t.isPivotActive(),i.pivotIndex=t.isPivotActive()?n.indexOf(t):null,i.aggFunc=t.isValueActive()?t.getAggFunc():null,i.hide=!t.isVisible()||void 0,i.pinned=t.isPinned()?t.getPinned():null,i.sort=t.getSort()?t.getSort():null,i.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,i},r=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("columnDefFactory")],r),r}(),u4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},nfe=function(){function r(){}return r.prototype.getInitialRowClasses=function(t){var e=[];return Tt(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),y3(e,this.processClassesFromGridOptions(t.rowNode)),y3(e,this.preProcessRowClassRules(t.rowNode)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&("left"===t.pinned&&e.push("ag-cell-last-left-pinned"),"right"===t.pinned&&e.push("ag-cell-first-right-pinned")),e},r.prototype.processClassesFromGridOptions=function(t){var e=[],n=function(v){"string"==typeof v?e.push(v):Array.isArray(v)&&v.forEach(function(D){return e.push(D)})},i=this.gridOptionsService.get("rowClass");if(i){if("function"==typeof i)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(i)}var o=this.gridOptionsService.getCallback("getRowClass");return o&&n(o({data:t.data,node:t,rowIndex:t.rowIndex})),e},r.prototype.preProcessRowClassRules=function(t){var e=[];return this.processRowClassRules(t,function(n){e.push(n)},function(n){}),e},r.prototype.processRowClassRules=function(t,e,n){var i={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context};this.stylingService.processClassRules(void 0,this.gridOptionsService.get("rowClassRules"),i,e,n)},r.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},u4([be("stylingService")],r.prototype,"stylingService",void 0),u4([be("gridOptionsService")],r.prototype,"gridOptionsService",void 0),u4([Jt("rowCssClassCalculator")],r)}(),rfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ife=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return rfe(t,r),t.prototype.init=function(){var e=this;this.isAccentedSort=this.gridOptionsService.get("accentedSort"),this.primaryColumnsSortGroups=this.gridOptionsService.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",function(n){return e.isAccentedSort=n.currentValue}),this.addManagedPropertyListener("autoGroupColumnDef",function(){return e.primaryColumnsSortGroups=e.gridOptionsService.isColumnsSortingCoupledToGroup()})},t.prototype.doFullSort=function(e,n){var o=e.map(function(s,l){return{currentPos:l,rowNode:s}});return o.sort(this.compareRowNodes.bind(this,n)),o.map(function(s){return s.rowNode})},t.prototype.compareRowNodes=function(e,n,i){for(var o=n.rowNode,s=i.rowNode,l=0,v=e.length;l<v;l++){var ae,D=e[l],F="desc"===D.sort,z=this.getValue(o,D.column),re=this.getValue(s,D.column),fe=this.getComparator(D,o);if(ae=fe?fe(z,re,o,s,F):Qn.defaultComparator(z,re,this.isAccentedSort),!isNaN(ae)&&0!==ae)return"asc"===D.sort?ae:-1*ae}return n.currentPos-i.currentPos},t.prototype.getComparator=function(e,n){var i=e.column,o=i.getColDef().comparator;if(null!=o)return o;if(i.getColDef().showRowGroup){var s=!n.group&&i.getColDef().field;if(s){var l=this.columnModel.getPrimaryColumn(s);if(l)return l.getColDef().comparator}}},t.prototype.getValue=function(e,n){var i,o;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(n,e,!1,!1);if(e.rowGroupColumn===n){if(this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotActive())){var v=null===(i=e.allLeafChildren)||void 0===i?void 0:i[0];return v?this.valueService.getValue(n,v,!1,!1):void 0}var D=this.columnModel.getGroupDisplayColumnForGroup(n.getId());return D?null===(o=e.groupData)||void 0===o?void 0:o[D.getId()]:void 0}return e.group&&n.getColDef().showRowGroup?void 0:this.valueService.getValue(n,e,!1,!1)},DO([be("valueService")],t.prototype,"valueService",void 0),DO([be("columnModel")],t.prototype,"columnModel",void 0),DO([Gt],t.prototype,"init",null),DO([Jt("rowNodeSorter")],t)}(Pt),ofe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),afe=function(r){function t(){var n=null!==r&&r.apply(this,arguments)||this;return n.ready=!1,n.readyCallbacks=[],n}var e;return ofe(t,r),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.stickyTopCenterRowContainerCtrl&&null!=this.stickyTopLeftRowContainerCtrl&&null!=this.stickyTopRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollComp&&null!=this.fakeVScrollComp&&null!=this.gridHeaderCtrl,this.ready){var n=this.createReadyParams();this.readyCallbacks.forEach(function(i){return i(n)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(n){this.ready?n(this.createReadyParams()):this.readyCallbacks.push(n)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,stickyTopCenterRowContainerCtrl:this.stickyTopCenterRowContainerCtrl,stickyTopLeftRowContainerCtrl:this.stickyTopLeftRowContainerCtrl,stickyTopRightRowContainerCtrl:this.stickyTopRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollComp:this.fakeHScrollComp,fakeVScrollComp:this.fakeVScrollComp,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollComp=function(n){this.fakeHScrollComp=n,this.checkReady()},t.prototype.registerFakeVScrollComp=function(n){this.fakeVScrollComp=n,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(n){this.gridHeaderCtrl=n,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(n){this.centerRowContainerCtrl=n,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(n){this.leftRowContainerCtrl=n,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(n){this.rightRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(n){this.topCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(n){this.topLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(n){this.topRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopCenterRowContainerCtrl=function(n){this.stickyTopCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopLeftRowContainerCon=function(n){this.stickyTopLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerStickyTopRightRowContainerCtrl=function(n){this.stickyTopRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(n){this.bottomCenterRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(n){this.bottomLeftRowContainerCtrl=n,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(n){this.bottomRightRowContainerCtrl=n,this.checkReady()},t.prototype.registerHeaderContainer=function(n,i){switch(i){case"left":this.leftHeaderRowContainerCtrl=n;break;case"right":this.rightHeaderRowContainerCtrl=n;break;default:this.centerHeaderRowContainerCtrl=n}this.checkReady()},t.prototype.registerGridBodyCtrl=function(n){this.gridBodyCtrl=n,this.checkReady()},t.prototype.registerGridCtrl=function(n){this.gridCtrl=n,this.checkReady()},t.prototype.getFakeHScrollComp=function(){return this.fakeHScrollComp},t.prototype.getFakeVScrollComp=function(){return this.fakeVScrollComp},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getStickyTopCenterRowContainerCtrl=function(){return this.stickyTopCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(n){switch(n){case"left":return this.leftHeaderRowContainerCtrl;case"right":return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt(e.NAME)],t),t}(Pt),lfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cfe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.registry={},e}return lfe(t,r),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var n=this.registry[e];if(null!=n)return new n},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("ctrlsFactory")],t),t}(Pt),dfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JS=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},fU=function(r){function t(e,n){var i=r.call(this,e)||this;return i.direction=n,i.hideTimeout=null,i}return dfe(t,r),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,Ce.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",j3()||Bh())},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=H3(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))},t.prototype.addActiveListenerToggles=function(){var e=this,o=this.getGui();["mouseenter","mousedown","touchstart"].forEach(function(s){return e.addManagedListener(o,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","touchend"].forEach(function(s){return e.addManagedListener(o,s,function(){return e.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.onScrollVisibilityChanged=function(){var e=this;void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(function(){return e.setScrollVisible()})},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL,function(n){n.direction===e.direction&&(null!==e.hideTimeout&&(window.clearTimeout(e.hideTimeout),e.hideTimeout=null),e.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL_END,function(){e.hideTimeout=window.setTimeout(function(){e.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),e.hideTimeout=null},400)})},t.prototype.attemptSettingScrollPosition=function(e){var n=this,i=this.getViewport();m3(function(){return As(i)},function(){return n.setScrollPosition(e)},100)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},t.prototype.onScrollCallback=function(e){this.addManagedListener(this.getViewport(),"scroll",e)},JS([zt("eViewport")],t.prototype,"eViewport",void 0),JS([zt("eContainer")],t.prototype,"eContainer",void 0),JS([be("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),JS([be("ctrlsService")],t.prototype,"ctrlsService",void 0),JS([be("animationFrameService")],t.prototype,"animationFrameService",void 0),t}(Kn),hfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),e1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ffe=function(r){function t(){return r.call(this,t.TEMPLATE,"horizontal")||this}return hfe(t,r),t.prototype.postConstruct=function(){var e=this;r.prototype.postConstruct.call(this);var n=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,n),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,n),this.addManagedListener(this.eventService,Ce.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",n),this.ctrlsService.registerFakeHScrollComp(this),this.createManagedBean(new F6(function(i){return e.eContainer.style.width="".concat(i,"px")})),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))},t.prototype.initialiseInvisibleScrollbar=function(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gridOptionsService.get("enableRtl"),r.prototype.initialiseInvisibleScrollbar.call(this),this.invisibleScrollbar&&this.refreshCompBottom())},t.prototype.onPinnedRowDataChanged=function(){this.refreshCompBottom()},t.prototype.refreshCompBottom=function(){if(this.invisibleScrollbar){var e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom="".concat(e,"px")}},t.prototype.onScrollVisibilityChanged=function(){r.prototype.onScrollVisibilityChanged.call(this),this.setFakeHScrollSpacerWidths()},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.columnModel.getDisplayedColumnsRightWidth(),i=!this.enableRtl&&e,o=this.gridOptionsService.getScrollbarWidth();i&&(n+=o),za(this.eRightSpacer,n),this.eRightSpacer.classList.toggle("ag-scroller-corner",n<=o);var s=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(s+=o),za(this.eLeftSpacer,s),this.eLeftSpacer.classList.toggle("ag-scroller-corner",s<=o)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),n=this.invisibleScrollbar,i=this.gridOptionsService.get("suppressHorizontalScroll"),o=e&&this.gridOptionsService.getScrollbarWidth()||0,l=i?0:0===o&&n?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),Bm(this.getGui(),l),Bm(this.eViewport,l),Bm(this.eContainer,l),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.getScrollPosition=function(){return wS(this.getViewport(),this.enableRtl)},t.prototype.setScrollPosition=function(e){As(this.getViewport())||this.attemptSettingScrollPosition(e),CS(this.getViewport(),e,this.enableRtl)},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',e1([zt("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),e1([zt("eRightSpacer")],t.prototype,"eRightSpacer",void 0),e1([be("columnModel")],t.prototype,"columnModel",void 0),e1([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),e1([Gt],t.prototype,"postConstruct",null),t}(fU),pfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),c4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},mfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return pfe(t,r),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,Ce.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsService.isDomLayout("print"),n=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),i=e?0:this.columnModel.getDisplayedColumnsRightWidth();n!=this.leftWidth&&(this.leftWidth=n,this.eventService.dispatchEvent({type:Ce.EVENT_LEFT_PINNED_WIDTH_CHANGED})),i!=this.rightWidth&&(this.rightWidth=i,this.eventService.dispatchEvent({type:Ce.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},c4([be("columnModel")],t.prototype,"columnModel",void 0),c4([Gt],t.prototype,"postConstruct",null),c4([Jt("pinnedWidthService")],t)}(Pt),gfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},vfe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.events=[],e}return gfe(t,r),t.prototype.postConstruct=function(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var n=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){n.clientSideRowModel&&n.clientSideRowModel.onRowGroupOpened(),n.events.forEach(function(o){return n.eventService.dispatchEvent(o)}),n.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},TO([be("animationFrameService")],t.prototype,"animationFrameService",void 0),TO([be("rowModel")],t.prototype,"rowModel",void 0),TO([Gt],t.prototype,"postConstruct",null),TO([Jt("rowNodeEventThrottle")],t)}(Pt),Kh=function(r,t){var e;return"clientSide"===(null!==(e=t.rowModelType)&&void 0!==e?e:"clientSide")?{module:rn.RowGroupingModule}:null},_fe={enableRowGroup:Kh,rowGroup:Kh,rowGroupIndex:Kh,enablePivot:Kh,enableValue:Kh,pivot:Kh,pivotIndex:Kh,aggFunc:Kh,cellEditor:function(r){return"agRichSelect"===r.cellEditor||"agRichSelectCellEditor"===r.cellEditor?{module:rn.RichSelectModule}:null},menuTabs:function(r){var t,e=["columnsMenuTab","generalMenuTab"];return null!==(t=r.menuTabs)&&void 0!==t&&t.some(function(n){return e.includes(n)})?{module:rn.MenuModule}:null},columnsMenuParams:{module:[rn.MenuModule,rn.ColumnsToolPanelModule]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:function(r,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:function(r,t){return"multiple"===t.rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:function(){return V_}},V_={objectName:"colDef",allProperties:Eae.ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:{},validations:_fe},pU=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},mU=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},wfe={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFadeDelay:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0},Cfe={sideBar:{module:rn.SideBarModule},statusBar:{module:rn.StatusBarModule},enableCharts:{module:rn.GridChartsModule},getMainMenuItems:{module:rn.MenuModule},getContextMenuItems:{module:rn.MenuModule},allowContextMenuWithControlKey:{module:rn.MenuModule},enableAdvancedFilter:{module:rn.AdvancedFilterModule},treeData:{supportedRowModels:["clientSide","serverSide"],module:rn.RowGroupingModule,dependencies:function(r){var t,e=null!==(t=r.rowModelType)&&void 0!==t?t:"clientSide";switch(e){case"clientSide":var n="treeData requires 'getDataPath' in the ".concat(e," row model.");return r.getDataPath?null:n;case"serverSide":var i="treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ".concat(e," row model.");return r.isServerSideGroup&&r.getServerSideGroupKey?null:i}return null}},masterDetail:{module:rn.MasterDetailModule},enableRangeSelection:{module:rn.RangeSelectionModule},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:function(r){var t;switch(null!==(t=r.rowModelType)&&void 0!==t?t:"clientSide"){case"clientSide":return null;case"serverSide":return r.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:rn.ViewportRowModelModule},serverSideDatasource:{supportedRowModels:["serverSide"],module:rn.ServerSideRowModelModule},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:rn.InfiniteRowModelModule},rowData:{supportedRowModels:["clientSide"],module:rn.ClientSideRowModelModule},columnDefs:function(){return V_},defaultColDef:function(){return V_},defaultColGroupDef:function(){return V_},autoGroupColumnDef:function(){return V_}},Sfe={objectName:"gridOptions",allProperties:mU(mU([],pU(bu.ALL_PROPERTIES),!1),pU(xA.EVENT_CALLBACKS),!1),propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29",message:"The Chart Tool Panels button is now enabled by default. To hide the Chart Tool Panels button and display the hamburger button instead, set suppressChartToolPanelsButton=true."},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."}},validations:Cfe},Qc=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},xO=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},d4=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},gU=function(){function r(){var e=this;this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Fh,this.globalEventHandlerFactory=function(n){return function(i,o){if(!e.destroyed){var s=t.alwaysSyncGlobalEvents.has(i);if(!(s&&!n||!s&&n)){var l=xA.getCallbackForEvent(i);"function"==typeof e.gridOptions[l]&&e.gridOptions[l](o)}}}}}var t;return t=r,Object.defineProperty(r.prototype,"context",{get:function(){return this.gridOptions.context},enumerable:!1,configurable:!0}),r.prototype.init=function(){this.columnApi=new yO(this.api);var e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.getScrollbarWidth()},r.prototype.destroy=function(){this.destroyed=!0,this.columnApi=void 0},r.prototype.get=function(e){var n;return null!==(n=this.gridOptions[e])&&void 0!==n?n:wfe[e]},r.prototype.getCallback=function(e){return this.mergeGridCommonParams(this.gridOptions[e])},r.prototype.exists=function(e){return Tt(this.gridOptions[e])},r.prototype.mergeGridCommonParams=function(e){var n=this;return e?function(o){var s=o;return s.api=n.api,s.columnApi=n.columnApi,s.context=n.context,e(s)}:e},r.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e&&("TRUE"===e.toUpperCase()||""==e)},r.toNumber=function(e){if("number"==typeof e)return e;if("string"==typeof e){var n=parseInt(e);return isNaN(n)?void 0:n}},r.toConstrainedNum=function(e,n){return function(i){var o=t.toNumber(i);if(!(null==o||o<e||o>n))return o}},r.getCoercedValue=function(e,n){var i=t.PROPERTY_COERCIONS.get(e);return i?i(n):n},r.getCoercedGridOptions=function(e){var n={};return Object.entries(e).forEach(function(i){var o=xO(i,2),s=o[0],v=t.getCoercedValue(s,o[1]);n[s]=v}),n},r.prototype.updateGridOptions=function(e){var n=this,i=e.options,o=e.source,s=void 0===o?"api":o,l={id:t.changeSetId++,properties:[]},v=[];Object.entries(i).forEach(function(D){var F=xO(D,2),z=F[0],re=F[1];"api"===s&&Fie[z]&&$n("".concat(z," is an initial property and cannot be updated."));var ae=t.getCoercedValue(z,re),ge=n.gridOptions[z];("object"==typeof ae&&"api"===s||ge!==ae)&&(n.gridOptions[z]=ae,v.push({type:z,currentValue:ae,previousValue:ge,changeSet:l,source:s}))}),this.validationService.processGridOptions(this.gridOptions),l.properties=v.map(function(D){return D.type}),v.forEach(function(D){n.gridOptions.debug&&console.log("AG Grid: Updated property ".concat(D.type," from ").concat(String(D.previousValue)," to ").concat(String(D.currentValue),".")),n.propertyEventService.dispatchEvent(D)})},r.prototype.addEventListener=function(e,n){this.propertyEventService.addEventListener(e,n)},r.prototype.removeEventListener=function(e,n){this.propertyEventService.removeEventListener(e,n)},r.prototype.getGridId=function(){return this.api.getGridId()},r.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var n="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:C9();null!=n&&(this.scrollbarWidth=n,this.eventService.dispatchEvent({type:Ce.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},r.prototype.isRowModelType=function(e){return this.gridOptions.rowModelType===e||"clientSide"===e&&An(this.gridOptions.rowModelType)},r.prototype.isDomLayout=function(e){var n;return(null!==(n=this.gridOptions.domLayout)&&void 0!==n?n:"normal")===e},r.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},r.prototype.useAsyncEvents=function(){return!this.get("suppressAsyncEvents")},r.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},r.prototype.getRowHeightForNode=function(e,n,i){if(void 0===n&&(n=!1),null==i&&(i=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(n)return{height:i,estimated:!0};var o={node:e,data:e.data},s=this.getCallback("getRowHeight")(o);if(this.isNumeric(s))return 0===s&&$n("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,s),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,estimated:!1}},r.prototype.getMasterDetailRowHeight=function(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}},r.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||An(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();var e=this.environment.refreshRowHeightVariable();return-1!==e?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())},r.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},r.prototype.getDomDataKey=function(){return this.domDataKey},r.prototype.getDomData=function(e,n){var i=e[this.getDomDataKey()];return i?i[n]:void 0},r.prototype.setDomData=function(e,n,i){var o=this.getDomDataKey(),s=e[o];An(s)&&(e[o]=s={}),s[n]=i},r.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&Tt(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&Tt(e)?e:document},r.prototype.getWindow=function(){return this.getDocument().defaultView||window},r.prototype.getRootNode=function(){return this.eGridDiv.getRootNode()},r.prototype.getAsyncTransactionWaitMillis=function(){return Tt(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50},r.prototype.isAnimateRows=function(){return!this.get("ensureDomOrder")&&this.get("animateRows")},r.prototype.isGroupRowsSticky=function(){return!(this.get("suppressGroupRowsSticky")||this.get("paginateChildRows")||this.get("groupHideOpenParents"))},r.prototype.isColumnsSortingCoupledToGroup=function(){return!this.gridOptions.autoGroupColumnDef?.comparator&&!this.get("treeData")},r.prototype.getGroupAggFiltering=function(){var e=this.gridOptions.groupAggFiltering;return"function"==typeof e?this.getCallback("groupAggFiltering"):!0===e?function(){return!0}:void 0},r.prototype.isGroupIncludeFooterTrueOrCallback=function(){var e=this.gridOptions.groupIncludeFooter;return!0===e||"function"==typeof e},r.prototype.getGroupIncludeFooter=function(){var e=this.gridOptions.groupIncludeFooter;return"function"==typeof e?this.getCallback("groupIncludeFooter"):!0===e?function(){return!0}:function(){return!1}},r.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")},r.prototype.isGroupUseEntireRow=function(e){return!e&&"groupRows"===this.gridOptions.groupDisplayType},r.alwaysSyncGlobalEvents=new Set([Ce.EVENT_GRID_PRE_DESTROYED]),r.PROPERTY_COERCIONS=new Map(d4(d4(d4([],xO(bu.BOOLEAN_PROPERTIES.map(function(e){return[e,t.toBoolean]})),!1),xO(bu.NUMBER_PROPERTIES.map(function(e){return[e,t.toNumber]})),!1),[["groupAggFiltering",function(e){return"function"==typeof e?e:t.toBoolean(e)}],["pageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",t.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",t.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",t.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",t.toConstrainedNum(0,Number.MAX_VALUE)]],!1)),r.changeSetId=0,Qc([be("gridOptions")],r.prototype,"gridOptions",void 0),Qc([be("eventService")],r.prototype,"eventService",void 0),Qc([be("environment")],r.prototype,"environment",void 0),Qc([be("eGridDiv")],r.prototype,"eGridDiv",void 0),Qc([be("validationService")],r.prototype,"validationService",void 0),Qc([be("gridApi")],r.prototype,"api",void 0),Qc([Gt],r.prototype,"init",null),Qc([ls],r.prototype,"destroy",null),t=Qc([Jt("gridOptionsService")],r)}(),Efe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Efe(t,r),t.prototype.getLocaleTextFunc=function(){var e=this.gridOptionsService.getCallback("getLocaleText");if(e)return function(i,o,s){return e({key:i,defaultValue:o,variableValues:s})};var n=this.gridOptionsService.get("localeText");return function(i,o,s){var l=n&&n[i];if(l&&s&&s.length)for(var v=0;!(v>=s.length)&&-1!==l.indexOf("${variable}");)l=l.replace("${variable}",s[v++]);return l??o}},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("localeService")],t),t}(Pt),xfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Afe=function(r){function t(){return r.call(this,t.TEMPLATE,"vertical")||this}return xfe(t,r),t.prototype.postConstruct=function(){r.prototype.postConstruct.call(this),this.createManagedBean(new P7(this.eContainer)),this.ctrlsService.registerFakeVScrollComp(this),this.addManagedListener(this.eventService,Ce.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),n=this.invisibleScrollbar,i=e&&this.gridOptionsService.getScrollbarWidth()||0,o=0===i&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),za(this.getGui(),o),za(this.eViewport,o),za(this.eContainer,o),this.setDisplayed(e,{skipAriaHidden:!0})},t.prototype.onRowContainerHeightChanged=function(){var n=this.ctrlsService.getGridBodyCtrl().getBodyViewportElement();this.eViewport.scrollTop!=n.scrollTop&&(this.eViewport.scrollTop=n.scrollTop)},t.prototype.getScrollPosition=function(){return this.getViewport().scrollTop},t.prototype.setScrollPosition=function(e){As(this.getViewport())||this.attemptSettingScrollPosition(e),this.getViewport().scrollTop=e},t.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);i>3&&o&&Object.defineProperty(t,e,o)}([Gt],t.prototype,"postConstruct",null),t}(fU),Ofe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Is=function(){return Is=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Is.apply(this,arguments)},ng=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Du=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},t1=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},vU={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},yU=["january","february","march","april","may","june","july","august","september","october","november","december"],Mfe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.dataTypeDefinitions={},e.isWaitingForRowData=!1,e.isColumnTypeOverrideInDataTypeDefinitions=!1,e.columnStateUpdatesPendingInference={},e.columnStateUpdateListenerDestroyFuncs=[],e}return Ofe(t,r),t.prototype.init=function(){var e=this;this.groupHideOpenParents=this.gridOptionsService.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",function(){e.groupHideOpenParents=e.gridOptionsService.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",function(){e.processDataTypeDefinitions(),e.columnModel.recreateColumnDefs("gridOptionsChanged")})},t.prototype.processDataTypeDefinitions=function(){var n,e=this,i=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(i).forEach(function(s){var l=Du(s,2),D=l[1];e.dataTypeDefinitions[l[0]]=Is(Is({},D),{groupSafeValueFormatter:e.createGroupSafeValueFormatter(D)})});var o=null!==(n=this.gridOptionsService.get("dataTypeDefinitions"))&&void 0!==n?n:{};this.dataTypeMatchers={},Object.entries(o).forEach(function(s){var l=Du(s,2),v=l[0],D=l[1],F=e.processDataTypeDefinition(D,o,[v],i);F&&(e.dataTypeDefinitions[v]=F,D.dataTypeMatcher&&(e.dataTypeMatchers[v]=D.dataTypeMatcher))}),this.checkObjectValueHandlers(i),["dateString","text","number","boolean","date"].forEach(function(s){var l=e.dataTypeMatchers[s];l&&delete e.dataTypeMatchers[s],e.dataTypeMatchers[s]=l??i[s].dataTypeMatcher})},t.prototype.mergeDataTypeDefinitions=function(e,n){var i=Is(Is({},e),n);return e.columnTypes&&n.columnTypes&&n.appendColumnTypes&&(i.columnTypes=t1(t1([],Du(this.convertColumnTypes(e.columnTypes)),!1),Du(this.convertColumnTypes(n.columnTypes)),!1)),i},t.prototype.processDataTypeDefinition=function(e,n,i,o){var s,l=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){var v=o[l],D=n[l];if(v&&D&&(v=D),!this.validateDataTypeDefinition(e,v,l))return;s=this.mergeDataTypeDefinitions(v,e)}else{if(i.includes(l))return void $n('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');var F=n[l];if(!this.validateDataTypeDefinition(e,F,l))return;var z=this.processDataTypeDefinition(F,n,t1(t1([],Du(i),!1),[l],!1),o);if(!z)return;s=this.mergeDataTypeDefinitions(z,e)}return Is(Is({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})},t.prototype.validateDataTypeDefinition=function(e,n,i){return n?n.baseDataType===e.baseDataType||($n('The "baseDataType" property of a data type definition must match that of its parent.'),!1):($n("The data type definition ".concat(i," does not exist.")),!1)},t.prototype.createGroupSafeValueFormatter=function(e){var n=this;if(e.valueFormatter)return function(i){var o,s;if(null!==(o=i.node)&&void 0!==o&&o.group){var l=i.column.getAggFunc();if(l){if("first"===l||"last"===l)return e.valueFormatter(i);if("number"===e.baseDataType&&"count"!==l){if("number"==typeof i.value)return e.valueFormatter(i);if("object"==typeof i.value){if(!i.value)return;if("toNumber"in i.value)return e.valueFormatter(Is(Is({},i),{value:i.value.toNumber()}));if("value"in i.value)return e.valueFormatter(Is(Is({},i),{value:i.value.value}))}}}if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}else if(n.groupHideOpenParents&&i.column.isRowGroupActive()){if("string"!=typeof i.value||(null===(s=e.dataTypeMatcher)||void 0===s?void 0:s.call(e,i.value)))return e.valueFormatter(i);if(!n.gridOptionsService.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(i)}},t.prototype.updateColDefAndGetDataTypeDefinitionColumnType=function(e,n,i){var o=n.cellDataType,s=n.field;if(void 0===o&&(o=e.cellDataType),(null==o||!0===o)&&(o=!!this.canInferCellDataType(e,n)&&this.inferCellDataType(s,i)),o){var l=this.dataTypeDefinitions[o];if(l)return e.cellDataType=o,l.groupSafeValueFormatter&&(e.valueFormatter=l.groupSafeValueFormatter),l.valueParser&&(e.valueParser=l.valueParser),l.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,l,i),l.columnTypes;$n('Missing data type definition - "'.concat(o,'"'))}else e.cellDataType=!1},t.prototype.updateColDefAndGetColumnType=function(e,n,i){var o,s,l=this.updateColDefAndGetDataTypeDefinitionColumnType(e,n,i),v=null!==(s=null!==(o=n.type)&&void 0!==o?o:l)&&void 0!==s?s:e.type;return e.type=v,v?this.convertColumnTypes(v):void 0},t.prototype.addColumnListeners=function(e){if(this.isWaitingForRowData){var n=this.columnStateUpdatesPendingInference[e.getColId()];if(n){var i=function(o){n.add(o.key)};e.addEventListener(Lr.EVENT_STATE_UPDATED,i),this.columnStateUpdateListenerDestroyFuncs.push(function(){return e.removeEventListener(Lr.EVENT_STATE_UPDATED,i)})}}},t.prototype.canInferCellDataType=function(e,n){var o,i=this;if("clientSide"!==this.rowModel.getType())return!1;var s={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(n,s))return!1;var l=null===n.type?e.type:n.type;if(l){var v=null!==(o=this.gridOptionsService.get("columnTypes"))&&void 0!==o?o:{};if(this.convertColumnTypes(l).some(function(F){var z=v[F.trim()];return z&&i.doColDefPropsPreventInference(z,s)}))return!1}return!this.doColDefPropsPreventInference(e,s)},t.prototype.doColDefPropsPreventInference=function(e,n){var i=this;return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(function(o){var s=Du(o,2);return i.doesColDefPropPreventInference(e,n,s[0],s[1])})},t.prototype.doesColDefPropPreventInference=function(e,n,i,o){if(!n[i])return!1;var s=e[i];return null===s?(n[i]=!1,!1):void 0===o?!!s:s===o},t.prototype.inferCellDataType=function(e,n){var i;if(e){var o,s=this.getInitialData();if(s){var l=e.indexOf(".")>=0&&!this.gridOptionsService.get("suppressFieldDotNotation");o=E_(s,e,l)}else this.initWaitForRowData(n);if(null!=o)return Du(null!==(i=Object.entries(this.dataTypeMatchers).find(function(F){return(0,Du(F,2)[1])(o)}))&&void 0!==i?i:["object"],1)[0]}},t.prototype.getInitialData=function(){var e=this.gridOptionsService.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;var n=this.rowModel.getRootNode().allLeafChildren;return n?.length?n[0].data:null},t.prototype.initWaitForRowData=function(e){var n=this;if(this.columnStateUpdatesPendingInference[e]=new Set,!this.isWaitingForRowData){this.isWaitingForRowData=!0;var i=this.isColumnTypeOverrideInDataTypeDefinitions;i&&this.columnModel.queueResizeOperations();var o=this.addManagedListener(this.eventService,Ce.EVENT_ROW_DATA_UPDATE_STARTED,function(s){var l=s.firstRowData;l&&(o?.(),n.isWaitingForRowData=!1,n.processColumnsPendingInference(l,i),n.columnStateUpdatesPendingInference={},i&&n.columnModel.processResizeOperations(),n.eventService.dispatchEvent({type:Ce.EVENT_DATA_TYPES_INFERRED}))})}},t.prototype.isPendingInference=function(){return this.isWaitingForRowData},t.prototype.processColumnsPendingInference=function(e,n){var i=this;this.initialData=e;var o=[];this.columnStateUpdateListenerDestroyFuncs.forEach(function(v){return v()}),this.columnStateUpdateListenerDestroyFuncs=[];var s={},l={};Object.entries(this.columnStateUpdatesPendingInference).forEach(function(v){var D=Du(v,2),F=D[0],z=D[1],re=i.columnModel.getGridColumn(F);if(re){var ae=re.getColDef();if(i.columnModel.resetColumnDefIntoColumn(re,"cellDataTypeInferred")){var fe=re.getColDef();if(n&&fe.type&&fe.type!==ae.type){var ge=i.getUpdatedColumnState(re,z);ge.rowGroup&&null==ge.rowGroupIndex&&(s[F]=ge),ge.pivot&&null==ge.pivotIndex&&(l[F]=ge),o.push(ge)}}}}),n&&o.push.apply(o,t1([],Du(this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(s,l)),!1)),o.length&&this.columnModel.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null},t.prototype.getUpdatedColumnState=function(e,n){var i=this.columnModel.getColumnStateFromColDef(e);return n.forEach(function(o){delete i[o],"rowGroup"===o?delete i.rowGroupIndex:"pivot"===o&&delete i.pivotIndex}),i},t.prototype.checkObjectValueHandlers=function(e){var n=this.dataTypeDefinitions.object,i=e.object;this.hasObjectValueParser=n.valueParser!==i.valueParser,this.hasObjectValueFormatter=n.valueFormatter!==i.valueFormatter},t.prototype.convertColumnTypes=function(e){var n=[];return e instanceof Array?e.some(function(o){return"string"!=typeof o})?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):n=e:"string"==typeof e?n=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),n},t.prototype.getDateStringTypeDefinition=function(){return this.dataTypeDefinitions.dateString},t.prototype.getDateParserFunction=function(){return this.getDateStringTypeDefinition().dateParser},t.prototype.getDateFormatterFunction=function(){return this.getDateStringTypeDefinition().dateFormatter},t.prototype.getDataTypeDefinition=function(e){var n=e.getColDef();if(n.cellDataType)return this.dataTypeDefinitions[n.cellDataType]},t.prototype.getBaseDataType=function(e){var n;return null===(n=this.getDataTypeDefinition(e))||void 0===n?void 0:n.baseDataType},t.prototype.checkType=function(e,n){var i;if(null==n)return!0;var o=null===(i=this.getDataTypeDefinition(e))||void 0===i?void 0:i.dataTypeMatcher;return!o||o(n)},t.prototype.validateColDef=function(e){"object"===e.cellDataType&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&$n('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&$n('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))},t.prototype.setColDefPropertiesForBaseDataType=function(e,n,i){var o=this,s=function(z,re,ae){var fe=z.getColDef().valueFormatter;return fe===n.groupSafeValueFormatter&&(fe=n.valueFormatter),o.valueFormatterService.formatValue(z,re,ae,fe)},l=Yn.__isRegistered(rn.SetFilterModule,this.context.getGridId()),v=this.localeService.getLocaleTextFunc(),D=function(z){var re=e.filterParams;e.filterParams="object"==typeof re?Is(Is({},re),z):z};switch(n.baseDataType){case"number":e.cellEditor="agNumberCellEditor",l&&D({comparator:function(z,re){var ae=null==z?0:parseInt(z),fe=null==re?0:parseInt(re);return ae===fe?0:ae>fe?1:-1}});break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=function(z){return!!z.colDef.editable&&z.event.key===it.SPACE},D(l?{valueFormatter:function(z){return Tt(z.value)?v(String(z.value),z.value?"True":"False"):v("blanks","(Blanks)")}}:{maxNumConditions:1,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:function(z,re){return re},numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:function(z,re){return!1===re},numberOfInputs:0}]});break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=function(z){return s(z.column,z.node,z.value)},l&&D({valueFormatter:function(z){var re=s(z.column,z.node,z.value);return Tt(re)?re:v("blanks","(Blanks)")},treeList:!0,treeListFormatter:function(z,re){if(1===re&&null!=z){var ae=yU[Number(z)-1];return v(ae,vU[ae])}return z??v("blanks","(Blanks)")}});break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=function(z){return s(z.column,z.node,z.value)};var F=this.getDateParserFunction();D(l?{valueFormatter:function(z){var re=s(z.column,z.node,z.value);return Tt(re)?re:v("blanks","(Blanks)")},treeList:!0,treeListPathGetter:function(z){var re=F(z??void 0);return re?[String(re.getFullYear()),String(re.getMonth()+1),String(re.getDate())]:null},treeListFormatter:function(z,re){if(1===re&&null!=z){var ae=yU[Number(z)-1];return v(ae,vU[ae])}return z??v("blanks","(Blanks)")}}:{comparator:function(z,re){var ae=F(re);return null==re||ae<z?-1:ae>z?1:0}});break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=function(z,re){var ae=o.columnModel.getPrimaryColumn(i),fe=ae?.getColDef();if(!ae||!fe)return 0;var ge=null==z?"":s(ae,null,z),we=null==re?"":s(ae,null,re);return ge===we?0:ge>we?1:-1},e.keyCreator=function(z){return s(z.column,z.node,z.value)},l?D({valueFormatter:function(z){var re=s(z.column,z.node,z.value);return Tt(re)?re:v("blanks","(Blanks)")}}):e.filterValueGetter=function(z){return s(z.column,z.node,o.valueService.getValue(z.column,z.node))}}},t.prototype.getDefaultDataTypes=function(){var e=function(i){return!!i.match("^\\d{4}-\\d{2}-\\d{2}$")},n=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:function(i){return""===i.newValue?null:Number(i.newValue)},valueFormatter:function(i){return null==i.value?"":"number"!=typeof i.value||isNaN(i.value)?(console.log("was",typeof i.value,i.value,i),n("invalidNumber","Invalid Number")):String(i.value)},dataTypeMatcher:function(i){return"number"==typeof i}},text:{baseDataType:"text",valueParser:function(i){return""===i.newValue?null:pS(i.newValue)},dataTypeMatcher:function(i){return"string"==typeof i}},boolean:{baseDataType:"boolean",valueParser:function(i){return null==i.newValue?i.newValue:""===i.newValue?null:"true"===String(i.newValue).toLowerCase()},valueFormatter:function(i){return null==i.value?"":String(i.value)},dataTypeMatcher:function(i){return"boolean"==typeof i}},date:{baseDataType:"date",valueParser:function(i){return Rs(null==i.newValue?null:String(i.newValue))},valueFormatter:function(i){var o;return null==i.value?"":i.value instanceof Date&&!isNaN(i.value.getTime())?null!==(o=Ua(i.value,!1))&&void 0!==o?o:"":n("invalidDate","Invalid Date")},dataTypeMatcher:function(i){return i instanceof Date}},dateString:{baseDataType:"dateString",dateParser:function(i){var o;return null!==(o=Rs(i))&&void 0!==o?o:void 0},dateFormatter:function(i){var o;return null!==(o=Ua(i??null,!1))&&void 0!==o?o:void 0},valueParser:function(i){return e(String(i.newValue))?i.newValue:null},valueFormatter:function(i){return e(String(i.value))?i.value:""},dataTypeMatcher:function(i){return"string"==typeof i&&e(i)}},object:{baseDataType:"object",valueParser:function(){return null},valueFormatter:function(i){var o;return null!==(o=pS(i.value))&&void 0!==o?o:""}}}},ng([be("rowModel")],t.prototype,"rowModel",void 0),ng([be("columnModel")],t.prototype,"columnModel",void 0),ng([be("columnUtils")],t.prototype,"columnUtils",void 0),ng([be("valueService")],t.prototype,"valueService",void 0),ng([be("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ng([Gt],t.prototype,"init",null),ng([Jt("dataTypeService")],t)}(Pt),Ife=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_U=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Pfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ife(t,r),t.prototype.parseValue=function(e,n,i,o){var s=e.getColDef(),l={node:n,data:n?.data,oldValue:o,newValue:i,colDef:s,column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context},v=s.valueParser;return Tt(v)?"function"==typeof v?v(l):this.expressionService.evaluate(v,l):i},_U([be("expressionService")],t.prototype,"expressionService",void 0),_U([Jt("valueParserService")],t)}(Pt),kfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),n1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ffe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.waitingForColumns=!1,e}return kfe(t,r),t.prototype.postConstruct=function(){var e=this;this.addManagedPropertyListener("columnDefs",function(n){return e.setColumnDefs(n)})},t.prototype.start=function(){var e=this;this.ctrlsService.whenReady(function(){var n=e.gridOptionsService.get("columnDefs");n?e.setColumnsAndData(n):e.waitingForColumns=!0,e.gridReady()})},t.prototype.setColumnsAndData=function(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()},t.prototype.gridReady=function(){var e=this;this.dispatchGridReadyEvent();var n=Yn.__isRegistered(rn.EnterpriseCoreModule,this.context.getGridId());new Q6("AG Grid",function(){return e.gridOptionsService.get("debug")}).log("initialised successfully, enterprise = ".concat(n))},t.prototype.dispatchGridReadyEvent=function(){this.eventService.dispatchEvent({type:Ce.EVENT_GRID_READY})},t.prototype.setColumnDefs=function(e){var n,i=this.gridOptionsService.get("columnDefs");if(i){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(i);var o=null!==(n=e.source)&&void 0!==n?n:"api";this.columnModel.setColumnDefs(i,o)}},n1([be("ctrlsService")],t.prototype,"ctrlsService",void 0),n1([be("columnModel")],t.prototype,"columnModel",void 0),n1([be("rowModel")],t.prototype,"rowModel",void 0),n1([Gt],t.prototype,"postConstruct",null),n1([Jt("syncService")],t)}(Pt),Nfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Lfe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.manuallyDisplayed=!1,e}return Nfe(t,r),t.prototype.postConstruct=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_ROW_DATA_UPDATED,function(){return e.onRowDataUpdated()}),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(){return e.onNewColumnsLoaded()})},t.prototype.registerOverlayWrapperComp=function(e){this.overlayWrapperComp=e,(!this.gridOptionsService.get("columnDefs")||this.gridOptionsService.isRowModelType("clientSide")&&!this.gridOptionsService.get("rowData"))&&this.showLoadingOverlay()},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsService.get("suppressLoadingOverlay")){var n=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(n,"ag-overlay-loading-wrapper")}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsService.get("suppressNoRowsOverlay")){var n=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(n,"ag-overlay-no-rows-wrapper")}},t.prototype.showOverlay=function(e,n){var i=e.newAgStackInstance();this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(i,n)},t.prototype.hideOverlay=function(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),n=this.gridOptionsService.get("suppressNoRowsOverlay");e&&!n?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataUpdated=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()},r1([be("userComponentFactory")],t.prototype,"userComponentFactory",void 0),r1([be("paginationProxy")],t.prototype,"paginationProxy",void 0),r1([be("columnModel")],t.prototype,"columnModel",void 0),r1([Gt],t.prototype,"postConstruct",null),r1([Jt("overlayService")],t)}(Pt),Vfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zh=function(){return Zh=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},Zh.apply(this,arguments)},Ka=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Gfe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.suppressEvents=!0,e.queuedUpdateSources=new Set,e.dispatchStateUpdateEventDebounced=Ga(function(){return e.dispatchQueuedStateUpdateEvents()},0),e}return Vfe(t,r),t.prototype.postConstruct=function(){var n,e=this;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!==(n=this.gridOptionsService.get("initialState"))&&void 0!==n?n:{},this.ctrlsService.whenReady(function(){return e.setupStateOnGridReady()});var i=this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(l){"gridInitializing"===l.source&&(i?.(),e.setupStateOnColumnsInitialised())}),o=this.addManagedListener(this.eventService,Ce.EVENT_ROW_COUNT_READY,function(){o?.(),e.setupStateOnRowCountReady()}),s=this.addManagedListener(this.eventService,Ce.EVENT_FIRST_DATA_RENDERED,function(){s?.(),e.setupStateOnFirstDataRendered(),e.suppressEvents=!1,e.dispatchStateUpdateEvent(["gridInitializing"])})},t.prototype.getState=function(){return this.cachedState},t.prototype.setupStateOnGridReady=function(){var e=this;this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,Ce.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(){return e.updateCachedState("sideBar",e.getSideBarState())}),this.addManagedListener(this.eventService,Ce.EVENT_SIDE_BAR_UPDATED,function(){return e.updateCachedState("sideBar",e.getSideBarState())})},t.prototype.setupStateOnColumnsInitialised=function(){var n,e=this,i=null!==(n=this.gridOptionsService.get("initialState"))&&void 0!==n?n:{},o=i.filter,s=i.columnGroup;this.setColumnState(i),s&&this.setColumnGroupState(s);var l=this.gridOptionsService.get("advancedFilterModel");(o||l)&&this.setFilterState(o,l),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.updateCachedState("filter",this.getFilterState()),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VALUE_CHANGED,function(){return e.updateColumnState(["aggregation"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_MOVED,function(){return e.updateColumnState(["columnOrder"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PINNED,function(){return e.updateColumnState(["columnPinning"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_RESIZED,function(){return e.updateColumnState(["columnSizing"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VISIBLE,function(){return e.updateColumnState(["columnVisibility"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.updateColumnState(["pivot"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.updateColumnState(["rowGroup"])}),this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,function(){return e.updateColumnState(["sort"])}),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,function(){return e.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])}),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_GROUP_OPENED,function(){return e.updateCachedState("columnGroup",e.getColumnGroupState())}),this.addManagedListener(this.eventService,Ce.EVENT_FILTER_CHANGED,function(){return e.updateCachedState("filter",e.getFilterState())})},t.prototype.setupStateOnRowCountReady=function(){var n,e=this,i=null!==(n=this.gridOptionsService.get("initialState"))&&void 0!==n?n:{},o=i.rowGroupExpansion,s=i.rowSelection,l=i.pagination;o&&this.setRowGroupExpansionState(o),s&&this.setRowSelectionState(s),l&&this.setPaginationState(l),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,Ce.EVENT_ROW_GROUP_OPENED,function(){return e.updateCachedState("rowGroupExpansion",e.getRowGroupExpansionState())}),this.addManagedListener(this.eventService,Ce.EVENT_SELECTION_CHANGED,function(){return e.updateCachedState("rowSelection",e.getRowSelectionState())}),this.addManagedListener(this.eventService,Ce.EVENT_PAGINATION_CHANGED,function(v){(v.newPage||v.newPageSize)&&e.updateCachedState("pagination",e.getPaginationState())})},t.prototype.setupStateOnFirstDataRendered=function(){var n,e=this,i=null!==(n=this.gridOptionsService.get("initialState"))&&void 0!==n?n:{},o=i.scroll,s=i.rangeSelection,l=i.focusedCell;l&&this.setFocusedCellState(l),s&&this.setRangeSelectionState(s),o&&this.setScrollState(o),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,Ce.EVENT_CELL_FOCUSED,function(){return e.updateCachedState("focusedCell",e.getFocusedCellState())}),this.addManagedListener(this.eventService,Ce.EVENT_RANGE_SELECTION_CHANGED,function(v){v.finished&&e.updateCachedState("rangeSelection",e.getRangeSelectionState())}),this.addManagedListener(this.eventService,Ce.EVENT_BODY_SCROLL_END,function(){return e.updateCachedState("scroll",e.getScrollState())})},t.prototype.getColumnState=function(){for(var e=this.columnModel.isPivotMode(),n=[],i=[],o=[],s=[],l=[],v=[],D=[],F=[],z=[],re=this.columnModel.getColumnState(),ae=0;ae<re.length;ae++){var fe=re[ae],ge=fe.colId,we=fe.sort,Te=fe.sortIndex,Ie=fe.rowGroup,Ve=fe.rowGroupIndex,et=fe.aggFunc,gt=fe.pivot,Dt=fe.pivotIndex,Bt=fe.pinned,Mt=fe.hide,qt=fe.width,an=fe.flex;z.push(ge),we&&(n[Te??0]={colId:ge,sort:we}),Ie&&(i[Ve??0]=ge),"string"==typeof et&&o.push({colId:ge,aggFunc:et}),gt&&(s[Dt??0]=ge),Bt&&("right"===Bt?v:l).push(ge),Mt&&D.push(ge),(an||qt)&&F.push({colId:ge,flex:an??void 0,width:qt})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:o.length?{aggregationModel:o}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:l.length||v.length?{leftColIds:l,rightColIds:v}:void 0,columnVisibility:D.length?{hiddenColIds:D}:void 0,columnSizing:F.length?{columnSizingModel:F}:void 0,columnOrder:z.length?{orderedColIds:z}:void 0}},t.prototype.setColumnState=function(e){var n=e.sort,i=e.rowGroup,o=e.aggregation,s=e.pivot,l=e.columnPinning,v=e.columnVisibility,D=e.columnSizing,F=e.columnOrder,z={},re={},ae=function(Te){var Ie=z[Te];return Ie||(z[Te]=Ie={colId:Te},Ie)};n&&(n.sortModel.forEach(function(Te,Ie){var et=Te.sort,gt=ae(Te.colId);gt.sort=et,gt.sortIndex=Ie}),re.sort=null,re.sortIndex=null),i&&(i.groupColIds.forEach(function(Te,Ie){var Ve=ae(Te);Ve.rowGroup=!0,Ve.rowGroupIndex=Ie}),re.rowGroup=null,re.rowGroupIndex=null),o&&(o.aggregationModel.forEach(function(Te){var Ve=Te.aggFunc;ae(Te.colId).aggFunc=Ve}),re.aggFunc=null),s&&(s.pivotColIds.forEach(function(Te,Ie){var Ve=ae(Te);Ve.pivot=!0,Ve.pivotIndex=Ie}),re.pivot=null,re.pivotIndex=null,this.columnModel.setPivotMode(s.pivotMode)),l&&(l.leftColIds.forEach(function(Te){ae(Te).pinned="left"}),l.rightColIds.forEach(function(Te){ae(Te).pinned="right"}),re.pinned=null),v&&(v.hiddenColIds.forEach(function(Te){ae(Te).hide=!0}),re.hide=null),D&&(D.columnSizingModel.forEach(function(Te){var Ve=Te.flex,et=Te.width,gt=ae(Te.colId);gt.flex=Ve??null,gt.width=et}),re.flex=null);var fe=F?.orderedColIds,ge=!!fe?.length,we=ge?fe.map(function(Te){return ae(Te)}):Object.values(z);we.length&&this.columnModel.applyColumnState({state:we,applyOrder:ge,defaultState:re},"gridInitializing")},t.prototype.getColumnGroupState=function(){var e=this.columnModel.getColumnGroupState(),n=[];return e.forEach(function(i){i.open&&n.push(i.groupId)}),n.length?{openColumnGroupIds:n}:void 0},t.prototype.setColumnGroupState=function(e){var i=new Set(e.openColumnGroupIds),s=this.columnModel.getColumnGroupState().map(function(l){var v=l.groupId;return{groupId:v,open:i.has(v)}});this.columnModel.setColumnGroupState(s,"gridInitializing")},t.prototype.getFilterState=function(){var e,n=this.filterManager.getFilterModel();n&&0===Object.keys(n).length&&(n=void 0);var i=null!==(e=this.filterManager.getAdvancedFilterModel())&&void 0!==e?e:void 0;return n||i?{filterModel:n,advancedFilterModel:i}:void 0},t.prototype.setFilterState=function(e,n){var i=e??{advancedFilterModel:n},o=i.filterModel,s=i.advancedFilterModel;o&&this.filterManager.setFilterModel(o,"columnFilter"),s&&this.filterManager.setAdvancedFilterModel(s)},t.prototype.getRangeSelectionState=function(){var e,n=null===(e=this.rangeService)||void 0===e?void 0:e.getCellRanges().map(function(i){var F=i.startColumn;return{id:i.id,type:i.type,startRow:i.startRow,endRow:i.endRow,colIds:i.columns.map(function(z){return z.getColId()}),startColId:F.getColId()}});return n?.length?{cellRanges:n}:void 0},t.prototype.setRangeSelectionState=function(e){var i,n=this;if(this.gridOptionsService.get("enableRangeSelection")){var o=e.cellRanges.map(function(s){return Zh(Zh({},s),{columns:s.colIds.map(function(l){return n.columnModel.getGridColumn(l)}),startColumn:n.columnModel.getGridColumn(s.startColId)})});null===(i=this.rangeService)||void 0===i||i.setCellRanges(o)}},t.prototype.getScrollState=function(){var e,n,i;if(this.isClientSideRowModel){var o=null===(e=this.ctrlsService.getGridBodyCtrl())||void 0===e?void 0:e.getScrollFeature(),s=(null!==(n=o?.getHScrollPosition())&&void 0!==n?n:{left:0}).left,l=(null!==(i=o?.getVScrollPosition())&&void 0!==i?i:{top:0}).top;return l||s?{top:l,left:s}:void 0}},t.prototype.setScrollState=function(e){var n;if(this.isClientSideRowModel){var i=e.top,o=e.left;null===(n=this.ctrlsService.getGridBodyCtrl())||void 0===n||n.getScrollFeature().setScrollPosition(i,o)}},t.prototype.getSideBarState=function(){var e,n;return null===(n=null===(e=this.sideBarService)||void 0===e?void 0:e.getSideBarComp())||void 0===n?void 0:n.getState()},t.prototype.getFocusedCellState=function(){if(this.isClientSideRowModel){var e=this.focusService.getFocusedCell();if(e){var i=e.rowIndex,o=e.rowPinned;return{colId:e.column.getColId(),rowIndex:i,rowPinned:o}}}},t.prototype.setFocusedCellState=function(e){if(this.isClientSideRowModel){var i=e.rowIndex,o=e.rowPinned;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(e.colId),rowIndex:i,rowPinned:o,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}},t.prototype.getPaginationState=function(){var e=this.paginationProxy.getCurrentPage(),n=this.gridOptionsService.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(e||n)return{page:e,pageSize:n}},t.prototype.setPaginationState=function(e){e.pageSize&&!this.gridOptionsService.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),"number"==typeof e.page&&this.paginationProxy.setPage(e.page)},t.prototype.getRowSelectionState=function(){var e,n=this.selectionService.getSelectionState();return n&&(Array.isArray(n)||!1!==n.selectAll&&!1!==n.selectAllChildren||null!==(e=n?.toggledNodes)&&void 0!==e&&e.length)?n:void 0},t.prototype.setRowSelectionState=function(e){this.selectionService.setSelectionState(e,"gridInitializing")},t.prototype.getRowGroupExpansionState=function(){var e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0},t.prototype.setRowGroupExpansionState=function(e){this.expansionService.expandRows(e.expandedRowGroupIds)},t.prototype.updateColumnState=function(e){var n=this,i=this.getColumnState(),o=!1;Object.entries(i).forEach(function(s){var l=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(s,2);u3(l[1],n.cachedState[l[0]])||(o=!0)}),this.cachedState=Zh(Zh({},this.cachedState),i),o&&this.dispatchStateUpdateEvent(e)},t.prototype.updateCachedState=function(e,n){var i,o=this.cachedState[e];this.cachedState=Zh(Zh({},this.cachedState),((i={})[e]=n,i)),u3(n,o)||this.dispatchStateUpdateEvent([e])},t.prototype.dispatchStateUpdateEvent=function(e){var n=this;this.suppressEvents||(e.forEach(function(i){return n.queuedUpdateSources.add(i)}),this.dispatchStateUpdateEventDebounced())},t.prototype.dispatchQueuedStateUpdateEvents=function(){var e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:Ce.EVENT_STATE_UPDATED,sources:e,state:this.cachedState})},Ka([be("filterManager")],t.prototype,"filterManager",void 0),Ka([pr("rangeService")],t.prototype,"rangeService",void 0),Ka([be("ctrlsService")],t.prototype,"ctrlsService",void 0),Ka([pr("sideBarService")],t.prototype,"sideBarService",void 0),Ka([be("focusService")],t.prototype,"focusService",void 0),Ka([be("columnModel")],t.prototype,"columnModel",void 0),Ka([be("paginationProxy")],t.prototype,"paginationProxy",void 0),Ka([be("rowModel")],t.prototype,"rowModel",void 0),Ka([be("selectionService")],t.prototype,"selectionService",void 0),Ka([be("expansionService")],t.prototype,"expansionService",void 0),Ka([Gt],t.prototype,"postConstruct",null),Ka([Jt("stateService")],t)}(Pt),jfe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),h4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rg=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},o1=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Hfe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return jfe(t,r),t.prototype.init=function(){this.processGridOptions(this.gridOptions)},t.prototype.processGridOptions=function(e){this.processOptions(e,Sfe)},t.prototype.processColumnDefs=function(e){this.processOptions(e,V_)},t.prototype.processOptions=function(e,n){var i=this,o=n.validations,s=n.deprecations,l=n.allProperties,D=n.objectName,F=n.docsUrl;l&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,o1(o1([],rg(n.propertyExceptions??[]),!1),rg(Object.keys(s)),!1),l,D,F);var z=new Set;Object.keys(e).forEach(function(ae){var fe,ge=s[ae];if(ge)if("renamed"in ge){var we=ge.renamed;z.add("As of v".concat(ge.version,", ").concat(String(ae)," is deprecated. Please use ").concat(String(we)," instead.")),e[we]=e[ae]}else{var Ie=ge.message;z.add("As of v".concat(ge.version,", ").concat(String(ae)," is deprecated. ").concat(Ie??""))}var Ve=e[ae];if(null!=Ve&&!1!==Ve){var gt,et=o[ae];if(!et)return;if("function"==typeof et){var Dt=et(e,i.gridOptions);if(!Dt)return;if("objectName"in Dt){var Bt=e[ae];return Array.isArray(Bt)?void Bt.forEach(function(Nr){i.processOptions(Nr,Dt)}):void i.processOptions(e[ae],Dt)}gt=Dt}else gt=et;var Mt=gt.module,qt=gt.dependencies,an=gt.supportedRowModels;if(an){var _n=null!==(fe=i.gridOptions.rowModelType)&&void 0!==fe?fe:"clientSide";if(!an.includes(_n))return void z.add("".concat(String(ae)," is not supported with the '").concat(_n,"' row model."))}if(Mt){var Xn=Array.isArray(Mt)?Mt:[Mt],Ar=!0;if(Xn.forEach(function(Nr){Yn.__assertRegistered(Nr,String(ae),i.gridOptionsService.getGridId())||(Ar=!1,z.add("".concat(String(ae)," is only available when ").concat(Nr," is loaded.")))}),!Ar)return}if(qt){var ri=i.checkForWarning(ae,qt,e);if(ri)return void z.add(ri)}}}),z.size>0&&z.forEach(function(ae){$n(ae)})},t.prototype.checkForWarning=function(e,n,i){if("function"==typeof n)return n(i,this.gridOptions);var s=Object.entries(n).find(function(F){var z=rg(F,2);return!z[1].includes(i[z[0]])});if(!s)return null;var l=rg(s,2),v=l[0],D=l[1];return D.length>1?"'".concat(String(e),"' requires '").concat(v,"' to be one of [").concat(D.join(", "),"]."):"'".concat(String(e),"' requires '").concat(v,"' to be ").concat(D[0],".")},t.prototype.checkProperties=function(e,n,i,o,s){var v=I9(Object.getOwnPropertyNames(e),o1(o1(o1([],rg(["__ob__","__v_skip","__metadata__"]),!1),rg(n),!1),rg(i),!1),i);if(Uo(v,function(F,z){$n("invalid ".concat(o," property '").concat(F,"' did you mean any of these: ").concat(z.slice(0,8).join(", ")))}),Object.keys(v).length>0&&s){var D=this.getFrameworkOverrides().getDocLink(s);$n("to see all the valid ".concat(o," properties please check: ").concat(D))}},h4([be("gridOptions")],t.prototype,"gridOptions",void 0),h4([Gt],t.prototype,"init",null),h4([Jt("validationService")],t)}(Pt),Ufe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wfe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.syncEventListeners=new Map,e.asyncEventListeners=new Map,e.syncGlobalEventListeners=new Set,e.asyncGlobalEventListeners=new Set,e}return Ufe(t,r),t.prototype.addEventListener=function(e,n){var i=this.gridOptionsService.useAsyncEvents(),o=i?this.asyncEventListeners:this.syncEventListeners;o.has(e)||o.set(e,new Set),o.get(e).add(n),this.eventService.addEventListener(e,n,i)},t.prototype.addGlobalListener=function(e){var n=this.gridOptionsService.useAsyncEvents();(n?this.asyncGlobalEventListeners:this.syncGlobalEventListeners).add(e),this.eventService.addGlobalListener(e,n)},t.prototype.removeEventListener=function(e,n){var i,s=!!this.asyncEventListeners.get(e)?.delete(n);s||null===(i=this.asyncEventListeners.get(e))||void 0===i||i.delete(n),this.eventService.removeEventListener(e,n,s)},t.prototype.removeGlobalListener=function(e){var n=this.asyncGlobalEventListeners.delete(e);n||this.syncGlobalEventListeners.delete(e),this.eventService.removeGlobalListener(e,n)},t.prototype.destroyEventListeners=function(e,n){var i=this;e.forEach(function(o,s){o.forEach(function(l){return i.eventService.removeEventListener(s,l,n)}),o.clear()}),e.clear()},t.prototype.destroyGlobalListeners=function(e,n){var i=this;e.forEach(function(o){return i.eventService.removeGlobalListener(o,n)}),e.clear()},t.prototype.destroy=function(){r.prototype.destroy.call(this),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.destroyGlobalListeners(this.asyncGlobalEventListeners,!0)},t=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o}([Jt("apiEventService")],t),t}(Pt),$fe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),RO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Kfe=function(r){function t(){var e=r.call(this,'<span class="ag-paging-page-size"></span>')||this;return e.hasEmptyOption=!1,e.handlePageSizeItemSelected=function(){if(e.selectPageSizeComp){var n=e.selectPageSizeComp.getValue();if(n){var i=Number(n);isNaN(i)||i<1||i===e.paginationProxy.getPageSize()||(e.paginationProxy.setPageSize(i,"pageSizeSelector"),e.hasEmptyOption&&e.toggleSelectDisplay(!0),e.selectPageSizeComp.getFocusableElement().focus())}}},e}return $fe(t,r),t.prototype.init=function(){var e=this;this.addManagedPropertyListener("paginationPageSizeSelector",function(){e.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,Ce.EVENT_PAGINATION_CHANGED,function(n){return e.handlePaginationChanged(n)})},t.prototype.handlePaginationChanged=function(e){if(this.selectPageSizeComp&&e?.newPageSize){var n=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(n)?this.selectPageSizeComp.setValue(n.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}},t.prototype.toggleSelectDisplay=function(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))},t.prototype.reset=function(){uo(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)},t.prototype.onPageSizeSelectorValuesChange=function(){!this.selectPageSizeComp||this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()},t.prototype.shouldShowPageSizeSelector=function(){return this.gridOptionsService.get("pagination")&&!this.gridOptionsService.get("suppressPaginationPanel")&&!this.gridOptionsService.get("paginationAutoPageSize")&&!1!==this.gridOptionsService.get("paginationPageSizeSelector")},t.prototype.reloadPageSizesSelector=function(){var e=this,n=this.getPageSizeSelectorValues(),i=this.paginationProxy.getPageSize(),o=!i||!n.includes(i);o&&(n.unshift(""),$n("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);var s=this.localeService.getLocaleTextFunc(),l=s("pageSizeSelectorLabel","Page Size:"),v=n.map(function(F){return{value:String(F),text:String(F)}}),D=s("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new GA).addOptions(v).setValue(String(o?"":i)).setAriaLabel(D).setLabel(l).onValueChange(function(){return e.handlePageSizeItemSelected()}),this.hasEmptyOption=o},t.prototype.getPageSizeSelectorValues=function(){var n=this.gridOptionsService.get("paginationPageSizeSelector");return Array.isArray(n)&&this.validateValues(n)?function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}([],function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(n),!1).sort(function(i,o){return i-o}):[20,50,100]},t.prototype.validateValues=function(e){if(!e.length)return $n("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(var n=0;n<e.length;n++){var i=e[n],s=i>0;if("number"!=typeof i)return $n("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!s)return $n("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0},t.prototype.destroy=function(){this.toggleSelectDisplay(!1),r.prototype.destroy.call(this)},RO([be("localeService")],t.prototype,"localeService",void 0),RO([be("gridOptionsService")],t.prototype,"gridOptionsService",void 0),RO([be("paginationProxy")],t.prototype,"paginationProxy",void 0),RO([Gt],t.prototype,"init",null),t}(Kn),bU=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},wU=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Qfe=1,CU=function(){function r(){}return r.prototype.create=function(t,e,n,i,o){var s,l=!!e.debug,v=null!==(s=e.gridId)&&void 0!==s?s:String(Qfe++),D=this.getRegisteredModules(o,v),F=this.createBeansList(e.rowModelType,D,v),z=this.createProvidedBeans(t,e,o);if(F){var re={providedBeanInstances:z,beanClasses:F,debug:l,gridId:v},ae=new Q6("Context",function(){return re.debug}),fe=new Qre(re,ae),ge=fe.getBean("beans");return this.registerModuleUserComponents(ge,D),this.registerStackComponents(ge,D),this.registerControllers(ge,D),n(fe),ge.syncService.start(),i&&i(fe),ge.gridApi}Tl("Failed to create grid.")},r.prototype.registerControllers=function(t,e){e.forEach(function(n){n.controllers&&n.controllers.forEach(function(i){return t.ctrlsFactory.register(i)})})},r.prototype.registerStackComponents=function(t,e){var n=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(n)},r.prototype.getRegisteredModules=function(t,e){var n=t?t.modules:null,i=Yn.__getRegisteredModules(e),o=[],s={},l=function(v,D,F){var re;s[(re=D).moduleName]||(s[re.moduleName]=!0,o.push(re),Yn.__register(re,v,F)),D.dependantModules&&D.dependantModules.forEach(function(re){return l(v,re,F)})};return n&&n.forEach(function(v){return l(!0,v,e)}),i&&i.forEach(function(v){return l(!Yn.__isPackageBased(),v,void 0)}),o},r.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(i){return i.userComponents?i.userComponents:[]}).forEach(function(i){t.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})},r.prototype.createProvidedBeans=function(t,e,n){var i=n?n.frameworkOverrides:null;An(i)&&(i=new eU);var o={gridOptions:e,eGridDiv:t,globalEventListener:n?n.globalEventListener:null,globalSyncEventListener:n?n.globalSyncEventListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(o,n.providedBeanInstances),o},r.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:jA},{componentName:"AgRadioButton",componentClass:K9},{componentName:"AgToggleButton",componentClass:Wce},{componentName:"AgInputTextField",componentClass:Hm},{componentName:"AgInputTextArea",componentClass:qce},{componentName:"AgInputNumberField",componentClass:v6},{componentName:"AgInputDateField",componentClass:Kce},{componentName:"AgInputRange",componentClass:Qce},{componentName:"AgRichSelect",componentClass:lde},{componentName:"AgSelect",componentClass:GA},{componentName:"AgSlider",componentClass:cde},{componentName:"AgGridBody",componentClass:Zle},{componentName:"AgHeaderRoot",componentClass:ace},{componentName:"AgSortIndicator",componentClass:w6},{componentName:"AgPagination",componentClass:Bhe},{componentName:"AgPageSizeSelector",componentClass:Kfe},{componentName:"AgOverlayWrapper",componentClass:jhe},{componentName:"AgGroupComponent",componentClass:hde},{componentName:"AgPanel",componentClass:K7},{componentName:"AgDialog",componentClass:Cde},{componentName:"AgRowContainer",componentClass:hue},{componentName:"AgFakeHorizontalScroll",componentClass:ffe},{componentName:"AgFakeVerticalScroll",componentClass:Afe},{componentName:"AgAutocomplete",componentClass:Mde}],n=this.extractModuleEntity(t,function(i){return i.agStackComponents?i.agStackComponents:[]});return e.concat(n)},r.prototype.createBeansList=function(t,e,n){void 0===t&&(t="clientSide");var i=e.filter(function(D){return!D.rowModel||D.rowModel===t}),o={clientSide:rn.ClientSideRowModelModule,infinite:rn.InfiniteRowModelModule,serverSide:rn.ServerSideRowModelModule,viewport:rn.ViewportRowModelModule};if(o[t]){if(Yn.__assertRegistered(o[t],"rowModelType = '".concat(t,"'"),n)){var s=[x7,Uhe,$he,Jhe,mhe,E7,sae,Che,Ehe,gce,Sae,Fhe,uce,Tfe,Hfe,Fce,Tae,kie,Fh,gU,Dde,tU,Oae,Rie,nce,jce,Oce,Kde,fie,Xde,Gde,nue,vhe,$de,the,Mie,Cce,dce,co,yO,lhe,eue,Ihe,Lde,Pce,Uce,Xle,she,dhe,fhe,Lhe,gie,bhe,yce,Qhe,Vie,tfe,nfe,Bce,ife,afe,mfe,vfe,cfe,Mfe,Pfe,D7,Ffe,Lfe,Gfe,bce,Wfe],l=this.extractModuleEntity(i,function(D){return D.beans?D.beans:[]});s.push.apply(s,wU([],bU(l),!1));var v=[];return s.forEach(function(D){v.indexOf(D)<0&&v.push(D)}),v}}else Tl("Could not find row model for rowModelType = "+t)},r.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],wU([],bU(t.map(e)),!1))},r}(),Xfe=function(){function r(){}return r.prototype.wrap=function(t,e,n,i){var o=this;void 0===n&&(n=[]);var s=this.createWrapper(t,i);return e.forEach(function(l){o.createMethod(s,l,!0)}),n.forEach(function(l){o.createMethod(s,l,!1)}),s},r.prototype.unwrap=function(t){return t},r.prototype.createMethod=function(t,e,n){t.addMethod(e,this.createMethodProxy(t,e,n))},r.prototype.createMethodProxy=function(t,e,n){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(n&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},r}(),B_=typeof global>"u"?{}:global;B_.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,B_.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,B_.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,B_.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,B_.Node=typeof Node>"u"?{}:Node,B_.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var s1=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},a1=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Jfe=function(){function r(t,e,n,i,o,s){this.nextId=0,this.allNodesMap={},this.dataLoaded=!1,this.rootNode=t,this.gridOptionsService=e,this.eventService=n,this.columnModel=i,this.beans=s,this.selectionService=o,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=r.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}return r.prototype.getCopyOfNodesMap=function(){return Qn.cloneObject(this.allNodesMap)},r.prototype.getRowNode=function(t){return this.allNodesMap[t]},r.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t);var n=this.rootNode,i=this.rootNode.sibling;n.childrenAfterFilter=null,n.childrenAfterGroup=null,n.childrenAfterAggFilter=null,n.childrenAfterSort=null,n.childrenMapped=null,n.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?n.allLeafChildren=t.map(function(o){return e.createNode(o,e.rootNode,r.TOP_LEVEL)}):(n.allLeafChildren=[],n.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=n.childrenAfterFilter,i.childrenAfterGroup=n.childrenAfterGroup,i.childrenAfterAggFilter=n.childrenAfterAggFilter,i.childrenAfterSort=n.childrenAfterSort,i.childrenMapped=n.childrenMapped,i.allLeafChildren=n.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},r.prototype.updateRowData=function(t,e){this.dataLoaded=!0,this.dispatchRowDataUpdateStartedEvent(t.add);var n={remove:[],update:[],add:[]},i=[];return this.executeRemove(t,n,i),this.executeUpdate(t,n,i),this.executeAdd(t,n),this.updateSelection(i,"rowDataChanged"),e&&Qn.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),n},r.prototype.hasData=function(){return this.dataLoaded},r.prototype.dispatchRowDataUpdateStartedEvent=function(t){this.eventService.dispatchEvent({type:Ce.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t?.length?t[0]:null})},r.prototype.updateSelection=function(t,e){var n=t.length>0;n&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:e}),this.selectionService.updateGroupsFromChildrenSelections(e),n&&this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:e})},r.prototype.executeAdd=function(t,e){var i,n=this,o=t.add,s=t.addIndex;if(!Qn.missingOrEmpty(o)){var l=o.map(function(ge){return n.createNode(ge,n.rootNode,r.TOP_LEVEL)});if("number"==typeof s&&s>=0){var v=this.rootNode.allLeafChildren,D=v.length,F=s;if(this.gridOptionsService.get("treeData")&&s>0&&D>0)for(var re=0;re<D;re++)if((null===(i=v[re])||void 0===i?void 0:i.rowIndex)==s-1){F=re+1;break}var ae=v.slice(0,F),fe=v.slice(F,v.length);this.rootNode.allLeafChildren=a1(a1(a1([],s1(ae),!1),s1(l),!1),s1(fe),!1)}else this.rootNode.allLeafChildren=a1(a1([],s1(this.rootNode.allLeafChildren),!1),s1(l),!1);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=l}},r.prototype.executeRemove=function(t,e,n){var i=this,o=t.remove;if(!Qn.missingOrEmpty(o)){var s={};o.forEach(function(l){var v=i.lookupRowNode(l);!v||(v.isSelected()&&n.push(v),v.clearRowTopAndRowIndex(),s[v.id]=!0,delete i.allNodesMap[v.id],e.remove.push(v))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(l){return!s[l.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},r.prototype.executeUpdate=function(t,e,n){var i=this,o=t.update;Qn.missingOrEmpty(o)||o.forEach(function(s){var l=i.lookupRowNode(s);!l||(l.updateData(s),!l.selectable&&l.isSelected()&&n.push(l),i.setMasterForRow(l,s,r.TOP_LEVEL,!1),e.update.push(l))})},r.prototype.lookupRowNode=function(t){var n,e=this.gridOptionsService.getCallback("getRowId");if(e){var i=e({data:t,level:0});if(!(n=this.allNodesMap[i]))return console.error("AG Grid: could not find row id=".concat(i,", data item was not found for this id")),null}else if(!(n=this.rootNode.allLeafChildren.find(function(o){return o.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return n||null},r.prototype.createNode=function(t,e,n){var i=new nr(this.beans);i.group=!1,this.setMasterForRow(i,t,n,!0);var o=this.gridOptionsService.get("suppressParentsInRowNodes");return e&&!o&&(i.parent=e),i.level=n,i.setDataAndId(t,this.nextId.toString()),this.allNodesMap[i.id]&&console.warn("AG Grid: duplicate node id '".concat(i.id,"' detected from getRowId callback, this could cause issues in your grid.")),this.allNodesMap[i.id]=i,this.nextId++,i},r.prototype.setMasterForRow=function(t,e,n,i){if(this.gridOptionsService.get("treeData"))t.setMaster(!1),i&&(t.expanded=!1);else{if(this.gridOptionsService.get("masterDetail")){var l=this.gridOptionsService.get("isRowMaster");t.setMaster(!l||l(e))}else t.setMaster(!1);if(i){var v=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(n+(v?v.length:0))}}},r.prototype.isExpanded=function(t){var e=this.gridOptionsService.get("groupDefaultExpanded");return-1===e||t<e},r.TOP_LEVEL=0,r.ROOT_NODE_ID="ROOT_NODE_ID",r}(),epe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ps=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ks=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o},Fs=function(r,t,e){if(e||2===arguments.length)for(var o,n=0,i=t.length;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))},Fl=(()=>(function(r){r[r.Normal=0]="Normal",r[r.AfterFilter=1]="AfterFilter",r[r.AfterFilterAndSort=2]="AfterFilterAndSort",r[r.PivotNodes=3]="PivotNodes"}(Fl||(Fl={})),Fl))(),tpe=function(r){function t(){var e=null!==r&&r.apply(this,arguments)||this;return e.onRowHeightChanged_debounced=Qn.debounce(e.onRowHeightChanged.bind(e),100),e.rowsToDisplay=[],e.hasStarted=!1,e.shouldSkipSettingDataOnStart=!1,e}return epe(t,r),t.prototype.init=function(){var e=this,n=this.refreshModel.bind(this,{step:ar.EVERYTHING}),i=!this.gridOptionsService.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:ar.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,o),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ar.PIVOT})),this.addManagedListener(this.eventService,Ce.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,Ce.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_GRID_READY,function(){return e.onGridReady()}),this.addPropertyListeners(),this.rootNode=new nr(this.beans),this.nodeManager=new Jfe(this.rootNode,this.gridOptionsService,this.eventService,this.columnModel,this.selectionService,this.beans)},t.prototype.addPropertyListeners=function(){var e=this,n=new Set(["treeData","masterDetail"]),i=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),s=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),l=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly"]),v=new Set(["postSortRows","groupDisplayType","accentedSort"]),D=new Set([]),F=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter"]),z=Fs(Fs(Fs(Fs(Fs(Fs(Fs(Fs(Fs([],ks(n),!1),ks(i),!1),ks(o),!1),ks(s),!1),ks(s),!1),ks(l),!1),ks(v),!1),ks(D),!1),ks(F),!1);this.addManagedPropertyListeners(z,function(re){var ae,fe=null===(ae=re.changeSet)||void 0===ae?void 0:ae.properties;if(fe){var ge=function(we){return fe.some(function(Te){return we.has(Te)})};if(ge(n))return void e.setRowData(e.rootNode.allLeafChildren.map(function(we){return we.data}));if(ge(i))return void e.refreshModel({step:ar.EVERYTHING});if(ge(o))return void e.refreshModel({step:ar.FILTER});if(ge(s))return void e.refreshModel({step:ar.PIVOT});if(ge(l))return void e.refreshModel({step:ar.AGGREGATE});if(ge(v))return void e.refreshModel({step:ar.SORT});if(ge(D))return void e.refreshModel({step:ar.FILTER_AGGREGATES});ge(F)&&e.refreshModel({step:ar.MAP})}}),this.addManagedPropertyListener("rowHeight",function(){return e.resetRowHeights()})},t.prototype.start=function(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()},t.prototype.setInitialData=function(){var e=this.gridOptionsService.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))},t.prototype.ensureRowHeightsValid=function(e,n,i,o){var s,l=!1;do{s=!1;for(var v=this.getRowIndexAtPixel(e),D=this.getRowIndexAtPixel(n),F=Math.max(v,i),z=Math.min(D,o),re=F;re<=z;re++){var ae=this.getRow(re);if(ae.rowHeightEstimated){var fe=this.gridOptionsService.getRowHeightForNode(ae);ae.setRowHeight(fe.height),s=!0,l=!0}}s&&this.setRowTopAndRowIndex()}while(s);return l},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.environment.getDefaultRowHeight(),n=0,i=new Set,o=this.gridOptionsService.isDomLayout("normal"),s=0;s<this.rowsToDisplay.length;s++){var l=this.rowsToDisplay[s];if(null!=l.id&&i.add(l.id),null==l.rowHeight){var v=this.gridOptionsService.getRowHeightForNode(l,o,e);l.setRowHeight(v.height,v.estimated)}l.setRowTop(n),l.setRowIndex(s),n+=l.rowHeight}return i},t.prototype.clearRowTopAndRowIndex=function(e,n){var i=e.isActive(),o=function(l){l&&null!=l.id&&!n.has(l.id)&&l.clearRowTopAndRowIndex()},s=function(l){o(l),o(l.detailNode),o(l.sibling),l.hasChildren()&&l.childrenAfterGroup&&(i&&-1!=l.level&&!l.expanded||l.childrenAfterGroup.forEach(s))};s(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,n,i){var o=this;void 0===i&&(i=0);var s=this.getRowIndexAtPixel(n),l=this.getRow(s),v=!this.gridOptionsService.get("suppressAnimationFrame");return l!==e[0]&&(e.forEach(function(D){Qn.removeFromArray(o.rootNode.allLeafChildren,D)}),e.forEach(function(D,F){Qn.insertIntoArray(o.rootNode.allLeafChildren,D,Math.max(s+i,0)+F)}),this.refreshModel({step:ar.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:v}),!0)},t.prototype.highlightRowAtPixel=function(e,n){var i=null!=n?this.getRowIndexAtPixel(n):null,o=null!=i?this.getRow(i):null;if(o&&e&&o!==e&&null!=n){var s=this.getHighlightPosition(n,o);this.lastHighlightedRow&&this.lastHighlightedRow!==o&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),o.setHighlighted(s),this.lastHighlightedRow=o}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,n){if(!n){var i=this.getRowIndexAtPixel(e);if(!(n=this.getRow(i||0)))return Cu.Below}return e-n.rowTop<n.rowHeight/2?Cu.Above:Cu.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var n=this.rootNode.childrenAfterAggFilter;return n?n.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var i=this.rootNode.childrenAfterSort[e];if(this.gridOptionsService.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex},t.prototype.getRowBounds=function(e){if(Qn.missing(this.rowsToDisplay))return null;var n=this.rowsToDisplay[e];return n?{rowTop:n.rowTop,rowHeight:n.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ar.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var n=this.gridOptionsService.isAnimateRows(),i=0===e.columns.length||e.columns.some(function(s){return s.isPrimary()});this.refreshModel({step:i?ar.FILTER:ar.FILTER_AGGREGATES,keepRenderedRows:!0,animate:n})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsService.isAnimateRows();this.refreshModel({step:ar.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return"clientSide"},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:ar.PIVOT}):this.refreshModel({step:ar.AGGREGATE})},t.prototype.createChangePath=function(e){var n=Qn.missingOrEmpty(e),i=new uO(!1,this.rootNode);return(n||this.gridOptionsService.get("treeData"))&&i.setInactive(),i},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsService.get("suppressModelUpdateAfterUpdateTransaction")||null==e.rowNodeTransactions)return!1;var n=e.rowNodeTransactions.filter(function(o){return null!=o.add&&o.add.length>0||null!=o.remove&&o.remove.length>0});return null==n||0==n.length},t.prototype.buildRefreshModelParams=function(e){var n=ar.EVERYTHING,i={everything:ar.EVERYTHING,group:ar.EVERYTHING,filter:ar.FILTER,map:ar.MAP,aggregate:ar.AGGREGATE,sort:ar.SORT,pivot:ar.PIVOT};if(Qn.exists(e)&&(n=i[e]),!Qn.missing(n))return{step:n,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gridOptionsService.get("suppressAnimationFrame")};console.error("AG Grid: invalid step ".concat(e,", available steps are ").concat(Object.keys(i).join(", ")))},t.prototype.refreshModel=function(e){if(this.hasStarted){var n="object"==typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(n&&!this.isSuppressModelUpdateAfterUpdateTransaction(n)){var i=this.createChangePath(n.rowNodeTransactions);switch(n.step){case ar.EVERYTHING:this.doRowGrouping(n.rowNodeTransactions,n.rowNodeOrder,i,!!n.afterColumnsChanged);case ar.FILTER:this.doFilter(i);case ar.PIVOT:this.doPivot(i);case ar.AGGREGATE:this.doAggregate(i);case ar.FILTER_AGGREGATES:this.doFilterAggregates(i);case ar.SORT:this.doSort(n.rowNodeTransactions,i);case ar.MAP:this.doRowsToDisplay()}var o=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(i,o),this.eventService.dispatchEvent({type:Ce.EVENT_MODEL_UPDATED,animate:n.animate,keepRenderedRows:n.keepRenderedRows,newData:n.newData,newPage:!1,keepUndoRedoStack:n.keepUndoRedoStack})}}},t.prototype.isEmpty=function(){var e=Qn.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return Qn.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return Qn.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,n){var i=!n,o=!1,s=[],l=this.gridOptionsService.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(function(v){if(!o){if(i&&(v===n||v===e)&&(o=!0,v.group&&l))return void s.push.apply(s,Fs([],ks(v.allLeafChildren),!1));if(!i){if(v!==n&&v!==e)return;i=!0}if(!v.group||!l)return void s.push(v)}}),s},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;var n=0,i=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Qn.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(var s=-1,l=-1;;){var v=Math.floor((n+i)/2),D=this.rowsToDisplay[v];if(this.isRowInPixel(D,e))return v;if(D.rowTop<e?n=v+1:D.rowTop>e&&(i=v-1),s===n&&l===i)return v;s=n,l=i}},t.prototype.isRowInPixel=function(e,n){return e.rowTop<=n&&e.rowTop+e.rowHeight>n},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(n,i){return e(n,i)})},t.prototype.forEachNode=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Fs([],ks(this.rootNode.childrenAfterGroup||[]),!1),callback:e,recursionType:Fl.Normal,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilter=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Fs([],ks(this.rootNode.childrenAfterAggFilter||[]),!1),callback:e,recursionType:Fl.AfterFilter,index:0,includeFooterNodes:n})},t.prototype.forEachNodeAfterFilterAndSort=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:Fs([],ks(this.rootNode.childrenAfterSort||[]),!1),callback:e,recursionType:Fl.AfterFilterAndSort,index:0,includeFooterNodes:n})},t.prototype.forEachPivotNode=function(e,n){void 0===n&&(n=!1),this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:Fl.PivotNodes,index:0,includeFooterNodes:n})},t.prototype.recursivelyWalkNodesAndCallback=function(e){for(var n,i=e.nodes,o=e.callback,s=e.recursionType,l=e.includeFooterNodes,v=e.index,D=0;D<i.length;D++){var F=i[D];if(o(F,v++),F.hasChildren()&&!F.footer){var z=null;switch(s){case Fl.Normal:z=F.childrenAfterGroup;break;case Fl.AfterFilter:z=F.childrenAfterAggFilter;break;case Fl.AfterFilterAndSort:z=F.childrenAfterSort;break;case Fl.PivotNodes:z=F.leafGroup?null:F.childrenAfterSort}z&&(v=this.recursivelyWalkNodesAndCallback({nodes:Fs([],ks(z),!1),callback:o,recursionType:s,index:v,includeFooterNodes:l}))}}var re=null===(n=i[0])||void 0===n?void 0:n.parent;if(!l||!re)return v;if(re===this.rootNode){if(!this.gridOptionsService.get("groupIncludeTotalFooter"))return v}else if(!this.gridOptionsService.getGroupIncludeFooter()({node:re}))return v;return re.createFooter(),o(re.sibling,v++),v},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doFilterAggregates=function(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},t.prototype.expandOrCollapseAll=function(e){var n=this.gridOptionsService.get("treeData"),i=this.columnModel.isPivotActive(),o=function(v){!v||v.forEach(function(D){var F=function(){D.expanded=e,o(D.childrenAfterGroup)};n?Qn.exists(D.childrenAfterGroup)&&F():i?!D.leafGroup&&F():D.group&&F()})};this.rootNode&&o(this.rootNode.childrenAfterGroup),this.refreshModel({step:ar.MAP}),this.eventService.dispatchEvent({type:Ce.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,n){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:n})},t.prototype.doRowGrouping=function(e,n,i,o){this.groupStage?(this.groupStage.execute(e?{rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:n,changedPath:i}:{rowNode:this.rootNode,changedPath:i,afterColumnsChanged:o}),this.gridOptionsService.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",i)&&this.eventService.dispatchEvent({type:Ce.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.eventService.dispatchEventOnce({type:Ce.EVENT_ROW_COUNT_READY})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(nr.ID_PREFIX_ROW_GROUP)){var i=void 0;return this.forEachNode(function(o){o.id===e&&(i=o)}),i}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()},t.prototype.dispatchUpdateEventsAndRefresh=function(){this.eventService.dispatchEvent({type:Ce.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:ar.EVERYTHING,newData:!0})},t.prototype.batchUpdateRowData=function(e,n){var i=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var o=this.gridOptionsService.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){i.executeBatchUpdateRowData()},o)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:n})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var n=[],i=[],o=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(l){var v=e.nodeManager.updateRowData(l.rowDataTransaction,void 0);i.push(v),l.callback&&n.push(l.callback.bind(null,v)),"number"==typeof l.rowDataTransaction.addIndex&&(o=!0)}),this.commonUpdateRowData(i,void 0,o),n.length>0&&window.setTimeout(function(){n.forEach(function(l){return l()})},0),i.length>0&&this.eventService.dispatchEvent({type:Ce.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:i}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,n){this.valueCache.onDataChanged();var i=this.nodeManager.updateRowData(e,n);return this.commonUpdateRowData([i],n,"number"==typeof e.addIndex),i},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsService.get("suppressMaintainUnsortedOrder")){var n={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var i=0;i<this.rootNode.allLeafChildren.length;i++)n[this.rootNode.allLeafChildren[i].id]=i;return n}},t.prototype.commonUpdateRowData=function(e,n,i){if(this.hasStarted){var o=!this.gridOptionsService.get("suppressAnimationFrame");i&&(n=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:Ce.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:ar.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:n,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ar.MAP,keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})},t.prototype.onRowHeightChangedDebounced=function(){this.onRowHeightChanged_debounced()},t.prototype.resetRowHeights=function(){var e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()},t.prototype.resetRowHeightsForAllRowNodes=function(){var e=!1;return this.forEachNode(function(n){n.setRowHeight(n.rowHeight,!0);var i=n.detailNode;i&&i.setRowHeight(i.rowHeight,!0),n.sibling&&n.sibling.setRowHeight(n.sibling.rowHeight,!0),e=!0}),e},t.prototype.onGridStylesChanges=function(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()},t.prototype.onGridReady=function(){this.hasStarted||this.setInitialData()},t.prototype.isRowDataLoaded=function(){return this.nodeManager.hasData()},Ps([be("columnModel")],t.prototype,"columnModel",void 0),Ps([be("selectionService")],t.prototype,"selectionService",void 0),Ps([be("filterManager")],t.prototype,"filterManager",void 0),Ps([be("valueCache")],t.prototype,"valueCache",void 0),Ps([be("beans")],t.prototype,"beans",void 0),Ps([be("filterStage")],t.prototype,"filterStage",void 0),Ps([be("sortStage")],t.prototype,"sortStage",void 0),Ps([be("flattenStage")],t.prototype,"flattenStage",void 0),Ps([pr("groupStage")],t.prototype,"groupStage",void 0),Ps([pr("aggregationStage")],t.prototype,"aggregationStage",void 0),Ps([pr("pivotStage")],t.prototype,"pivotStage",void 0),Ps([pr("filterAggregatesStage")],t.prototype,"filterAggregatesStage",void 0),Ps([Gt],t.prototype,"init",null),Ps([Jt("rowModel")],t)}(Pt),npe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},rpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return npe(t,r),t.prototype.execute=function(e){this.filterService.filter(e.changedPath)},SU([be("filterService")],t.prototype,"filterService",void 0),SU([Jt("filterStage")],t)}(Pt),ipe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),f4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ope=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return ipe(t,r),t.prototype.execute=function(e){var n=this,i=this.sortController.getSortOptions(),o=Qn.exists(i)&&i.length>0,s=o&&Qn.exists(e.rowNodeTransactions)&&this.gridOptionsService.get("deltaSort"),l=i.some(function(v){return n.gridOptionsService.isColumnsSortingCoupledToGroup()?v.column.isPrimary()&&v.column.isRowGroupActive():!!v.column.getColDef().showRowGroup});this.sortService.sort(i,o,s,e.rowNodeTransactions,e.changedPath,l)},f4([be("sortService")],t.prototype,"sortService",void 0),f4([be("sortController")],t.prototype,"sortController",void 0),f4([Jt("sortStage")],t)}(Pt),spe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),p4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ape=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return spe(t,r),t.prototype.execute=function(e){var n=e.rowNode,i=[],o=this.columnModel.isPivotMode(),s=o&&n.leafGroup,l=s?[n]:n.childrenAfterSort,v=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(v,l,i,o,0),!s&&i.length>0&&v.groupIncludeTotalFooter&&(n.createFooter(),this.addRowNodeToRowsToDisplay(v,n.sibling,i,0)),i},t.prototype.getFlattenDetails=function(){var e=this.gridOptionsService.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gridOptionsService.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gridOptionsService.isGroupMultiAutoColumn(),hideOpenParents:this.gridOptionsService.get("groupHideOpenParents"),groupIncludeTotalFooter:this.gridOptionsService.get("groupIncludeTotalFooter"),getGroupIncludeFooter:this.gridOptionsService.getGroupIncludeFooter()}},t.prototype.recursivelyAddToRowsToDisplay=function(e,n,i,o,s){if(!Qn.missingOrEmpty(n))for(var l=0;l<n.length;l++){var v=n[l],D=v.hasChildren(),z=e.groupRemoveSingleChildren&&D&&1===v.childrenAfterGroup.length,re=e.groupRemoveLowestSingleChildren&&D&&v.leafGroup&&1===v.childrenAfterGroup.length;if(!(o&&!D||e.hideOpenParents&&v.expanded&&!v.master&&(!o||!v.leafGroup)||z||re)&&this.addRowNodeToRowsToDisplay(e,v,i,s),!o||!v.leafGroup)if(D){var we=z||re;if(v.expanded||we){var Te=we?s:s+1;this.recursivelyAddToRowsToDisplay(e,v.childrenAfterSort,i,o,Te),e.getGroupIncludeFooter({node:v})?(v.createFooter(),this.addRowNodeToRowsToDisplay(e,v.sibling,i,Te)):v.destroyFooter()}}else if(v.master&&v.expanded){var Ve=this.createDetailNode(v);this.addRowNodeToRowsToDisplay(e,Ve,i,s)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,n,i,o){i.push(n),n.setUiLevel(e.isGroupMultiAutoColumn?0:o)},t.prototype.createDetailNode=function(e){if(Qn.exists(e.detailNode))return e.detailNode;var n=new nr(this.beans);return n.detail=!0,n.selectable=!1,n.parent=e,Qn.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1,e.detailNode=n,n},p4([be("columnModel")],t.prototype,"columnModel",void 0),p4([be("beans")],t.prototype,"beans",void 0),p4([Jt("flattenStage")],t)}(Pt),lpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},upe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return lpe(t,r),t.prototype.sort=function(e,n,i,o,s,l){var v=this,D=this.gridOptionsService.get("groupMaintainOrder"),F=this.columnModel.getAllGridColumns().some(function(ge){return ge.isRowGroupActive()}),z={};i&&o&&(z=this.calculateDirtyNodes(o));var re=this.columnModel.isPivotMode(),ae=this.gridOptionsService.getCallback("postSortRows");s&&s.forEachChangedNodeDepthFirst(function(ge){v.pullDownGroupDataForHideOpenParents(ge.childrenAfterAggFilter,!0);var we=re&&ge.leafGroup;if(D&&F&&!ge.leafGroup&&!l){var Ie=ge.childrenAfterAggFilter.slice(0);if(ge.childrenAfterSort){var Ve={};ge.childrenAfterSort.forEach(function(gt,Dt){Ve[gt.id]=Dt}),Ie.sort(function(gt,Dt){var Bt,Mt;return(null!==(Bt=Ve[gt.id])&&void 0!==Bt?Bt:0)-(null!==(Mt=Ve[Dt.id])&&void 0!==Mt?Mt:0)})}ge.childrenAfterSort=Ie}else ge.childrenAfterSort=!n||we?ge.childrenAfterAggFilter.slice(0):i?v.doDeltaSort(ge,z,s,e):v.rowNodeSorter.doFullSort(ge.childrenAfterAggFilter,e);ge.sibling&&(ge.sibling.childrenAfterSort=ge.childrenAfterSort),v.updateChildIndexes(ge),ae&&ae({nodes:ge.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(s)},t.prototype.calculateDirtyNodes=function(e){var n={},i=function(o){o&&o.forEach(function(s){return n[s.id]=!0})};return e&&e.forEach(function(o){i(o.add),i(o.update),i(o.remove)}),n},t.prototype.doDeltaSort=function(e,n,i,o){var s=this,l=e.childrenAfterAggFilter,v=e.childrenAfterSort;if(!v)return this.rowNodeSorter.doFullSort(l,o);var D={},F=[];l.forEach(function(fe){n[fe.id]||!i.canSkip(fe)?F.push(fe):D[fe.id]=!0});var z=v.filter(function(fe){return D[fe.id]}),re=function(fe,ge){return{currentPos:ge,rowNode:fe}},ae=F.map(re).sort(function(fe,ge){return s.rowNodeSorter.compareRowNodes(o,fe,ge)});return this.mergeSortedArrays(o,ae,z.map(re)).map(function(fe){return fe.rowNode})},t.prototype.mergeSortedArrays=function(e,n,i){for(var o=[],s=0,l=0;s<n.length&&l<i.length;){var v=this.rowNodeSorter.compareRowNodes(e,n[s],i[l]);o.push(v<0?n[s++]:i[l++])}for(;s<n.length;)o.push(n[s++]);for(;l<i.length;)o.push(i[l++]);return o},t.prototype.updateChildIndexes=function(e){if(!Qn.missing(e.childrenAfterSort))for(var n=e.childrenAfterSort,i=0;i<n.length;i++){var o=n[i],l=i===e.childrenAfterSort.length-1;o.setFirstChild(0===i),o.setLastChild(l),o.setChildIndex(i)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var n=this;if(this.gridOptionsService.get("groupHideOpenParents")){if(this.gridOptionsService.get("treeData"))return Qn.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;var i=function(o){n.pullDownGroupDataForHideOpenParents(o.childrenAfterSort,!1),o.childrenAfterSort.forEach(function(s){s.hasChildren()&&i(s)})};e&&e.executeFromRootNode(function(o){return i(o)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,n){var i=this;!this.gridOptionsService.get("groupHideOpenParents")||Qn.missing(e)||e.forEach(function(o){i.columnModel.getGroupDisplayColumns().forEach(function(l){var v=l.getColDef().showRowGroup;if("string"==typeof v){var F=i.columnModel.getPrimaryColumn(v);if(F!==o.rowGroupColumn)if(n)o.setGroupValue(l.getId(),void 0);else{var re=o.getFirstChildOfFirstChild(F);re&&o.setGroupValue(l.getId(),re.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},m4([be("columnModel")],t.prototype,"columnModel",void 0),m4([be("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),m4([Jt("sortService")],t)}(Pt),cpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),EU=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},dpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return cpe(t,r),t.prototype.filter=function(e){var n=this.filterManager.isChildFilterPresent();this.filterNodes(n,e)},t.prototype.filterNodes=function(e,n){var i=this,o=function(D,F){D.childrenAfterFilter=D.hasChildren()&&e&&!F?D.childrenAfterGroup.filter(function(z){var re=z.childrenAfterFilter&&z.childrenAfterFilter.length>0,ae=z.data&&i.filterManager.doesRowPassFilter({rowNode:z});return re||ae}):D.childrenAfterGroup,D.sibling&&(D.sibling.childrenAfterFilter=D.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var s=function(D,F){if(D.childrenAfterGroup)for(var z=0;z<D.childrenAfterGroup.length;z++){var re=D.childrenAfterGroup[z],ae=F||i.filterManager.doesRowPassFilter({rowNode:re});re.childrenAfterGroup?s(D.childrenAfterGroup[z],ae):o(re,ae)}o(D,F)};n.executeFromRootNode(function(D){return s(D,!1)})}else n.forEachChangedNodeDepthFirst(function(D){return o(D,!1)},!0)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsService.get("treeData")&&!this.gridOptionsService.get("excludeChildrenWhenTreeDataFiltering")},EU([be("filterManager")],t.prototype,"filterManager",void 0),EU([Jt("filterService")],t)}(Pt),hpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l1=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},ppe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return hpe(t,r),t.prototype.postConstruct=function(){var e=this;"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",function(){return e.onRowDataUpdated()}))},t.prototype.isActive=function(){var e=this.gridOptionsService.exists("getRowId");return!this.gridOptionsService.get("resetRowDataOnUpdate")&&e},t.prototype.setRowData=function(e){var n=this.createTransactionForRowData(e);if(n){var i=function(r,t){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var i,s,n=e.call(r),o=[];try{for(;(void 0===t||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(s)throw s.error}}return o}(n,2);this.clientSideRowModel.updateRowData(i[0],i[1])}},t.prototype.createTransactionForRowData=function(e){if(Qn.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var n=this.gridOptionsService.getCallback("getRowId");if(null!=n){var i={remove:[],update:[],add:[]},o=this.clientSideRowModel.getCopyOfNodesMap(),l=this.gridOptionsService.get("suppressMaintainUnsortedOrder")?void 0:{};return Qn.exists(e)&&e.forEach(function(v,D){var F=n({data:v,level:0}),z=o[F];l&&(l[F]=D),z?(z.data!==v&&i.update.push(v),o[F]=void 0):i.add.push(v)}),Qn.iterateObject(o,function(v,D){D&&i.remove.push(D.data)}),[i,l]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},t.prototype.onRowDataUpdated=function(){var e=this.gridOptionsService.get("rowData");!e||(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))},l1([be("rowModel")],t.prototype,"rowModel",void 0),l1([be("rowRenderer")],t.prototype,"rowRenderer",void 0),l1([be("selectionService")],t.prototype,"selectionService",void 0),l1([Gt],t.prototype,"postConstruct",null),l1([Jt("immutableService")],t)}(Pt),gpe={version:"31.0.0",moduleName:rn.ClientSideRowModelModule,rowModel:"clientSide",beans:[tpe,rpe,ope,ape,upe,dpe,ppe]},vpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),g4=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},DU=function(r){function t(e,n,i){var o=r.call(this,e)||this;return o.parentCache=n,o.params=i,o.startRow=e*i.blockSize,o.endRow=o.startRow+i.blockSize,o}return vpe(t,r),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,n,i){Qn.exists(n)?e.setDataAndId(n,i.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,n=this.createLoadParams();Qn.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(n)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsService.context}},t.prototype.forEachNode=function(e,n,i){var o=this;this.rowNodes.forEach(function(s,l){o.startRow+l<i&&e(s,n.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,n){return void 0===n&&(n=!1),n||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var n=this.startRow+e,i=new nr(this.beans);i.setRowHeight(this.params.rowHeight),i.uiLevel=0,i.setRowIndex(n),i.setRowTop(this.params.rowHeight*n),this.rowNodes.push(i)}},t.prototype.processServerResult=function(e){var n=this;this.rowNodes.forEach(function(o,s){var l=e.rowData?e.rowData[s]:void 0;!o.id&&o.alreadyRendered&&l&&(n.rowNodes[s]=new nr(n.beans),n.rowNodes[s].setRowIndex(o.rowIndex),n.rowNodes[s].setRowTop(o.rowTop),n.rowNodes[s].setRowHeight(o.rowHeight),o.clearRowTopAndRowIndex()),n.setDataAndId(n.rowNodes[s],l,n.startRow+s)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},g4([be("beans")],t.prototype,"beans",void 0),g4([Gt],t.prototype,"postConstruct",null),g4([ls],t.prototype,"destroyRowNodes",null),t}(Y6),ype=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AO=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},_pe=function(r,t){return function(e,n){t(e,n,r)}},bpe=function(r){function t(e){var n=r.call(this)||this;return n.lastRowIndexKnown=!1,n.blocks={},n.blockCount=0,n.rowCount=e.initialRowCount,n.params=e,n}return ype(t,r),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,n){void 0===n&&(n=!1);var i=Math.floor(e/this.params.blockSize),o=this.blocks[i];if(!o){if(n)return;o=this.createBlock(i)}return o.getRow(e)},t.prototype.createBlock=function(e){var n=this.createBean(new DU(e,this,this.params));return this.blocks[n.getId()]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),this.params.rowNodeBlockLoader.addBlock(n),n},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(n){return n.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,n){!this.isAlive()||(this.logger.log("onPageLoaded: page = ".concat(e.getId(),", lastRow = ").concat(n)),this.checkRowCount(e,n),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,i=this.getBlocksInOrder().filter(function(D){return D!=e});i.sort(function(D,F){return F.getLastAccessed()-D.getLastAccessed()});var s=this.params.maxBlocksInCache>0,l=s?this.params.maxBlocksInCache-1:null,v=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;i.forEach(function(D,F){if(D.getState()===DU.STATE_WAITING_TO_LOAD&&F>=v||s&&F>=l){if(n.isBlockCurrentlyDisplayed(D)||n.isBlockFocused(D))return;n.removeBlockFromCache(D)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;var i=e.getStartRow(),o=e.getEndRow();return n.rowIndex>=i&&n.rowIndex<o},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getStartRow(),i=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(n,i)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var o=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<o&&(this.rowCount=o)}},t.prototype.setRowCount=function(e,n){this.rowCount=e,Qn.exists(n)&&(this.lastRowIndexKnown=n),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var n=this,i=new O_;this.getBlocksInOrder().forEach(function(o){return o.forEachNode(e,i,n.rowCount)})},t.prototype.getBlocksInOrder=function(){return Qn.getAllValuesInObject(this.blocks).sort(function(i,o){return i.getId()-o.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:Ce.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(i){i.getId()*e.params.blockSize>=e.rowCount&&n.push(i)}),n.length>0&&n.forEach(function(i){return e.destroyBlock(i)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.removeBlockFromCache(n)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,n){var i=this,o=[],s=-1,l=!1,v=new O_;Qn.missing(e)&&(l=!0);var D=!1;return this.getBlocksInOrder().forEach(function(z){if(!D){if(l&&s+1!==z.getId())return void(D=!0);s=z.getId(),z.forEachNode(function(re){var ae=re===e||re===n;(l||ae)&&o.push(re),ae&&(l=!l)},v,i.rowCount)}}),D||l?[]:o},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,AO([be("rowRenderer")],t.prototype,"rowRenderer",void 0),AO([be("focusService")],t.prototype,"focusService",void 0),AO([_pe(0,xs("loggerFactory"))],t.prototype,"setBeans",null),AO([ls],t.prototype,"destroyAllBlocks",null),t}(Pt),wpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Cpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return wpe(t,r),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,n,i,o){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsService.isRowModelType("infinite")||(this.rowHeight=this.gridOptionsService.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){this.gridOptionsService.exists("initialGroupOrderComparator")&&Qn.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")},t.prototype.start=function(){this.setDatasource(this.gridOptionsService.get("datasource"))},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){var e=this;this.addManagedListener(this.eventService,Ce.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,Ce.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",function(){return e.setDatasource(e.gridOptionsService.get("datasource"))}),this.addManagedPropertyListener("cacheBlockSize",function(){return e.resetCache()}),this.addManagedPropertyListener("rowHeight",function(){e.rowHeight=e.gridOptionsService.getRowHeightAsNumber(),e.cacheParams.rowHeight=e.rowHeight,e.updateRowHeights()})},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!Qn.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return"infinite"},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,n){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,n):[]},t.prototype.reset=function(){this.datasource&&(null!=this.gridOptionsService.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())},t.prototype.createModelUpdatedEvent=function(){return{type:Ce.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gridOptionsService.get("infiniteInitialRowCount"),maxBlocksInCache:this.gridOptionsService.get("maxBlocksInCache"),rowHeight:this.gridOptionsService.getRowHeightAsNumber(),overflowSize:this.gridOptionsService.get("cacheOverflowSize"),blockSize:this.gridOptionsService.get("cacheBlockSize"),lastAccessedSequence:new O_},this.infiniteCache=this.createBean(new bpe(this.cacheParams)),this.eventService.dispatchEventOnce({type:Ce.EVENT_ROW_COUNT_READY});var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.updateRowHeights=function(){var e=this;this.forEachNode(function(i){i.setRowHeight(e.rowHeight),i.setRowTop(e.rowHeight*i.rowIndex)});var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(i){i.id===e&&(n=i)}),n},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var n=Math.floor(e/this.rowHeight),i=this.getRowCount()-1;return n>i?i:n}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,n){this.infiniteCache&&this.infiniteCache.setRowCount(e,n)},Qh([be("filterManager")],t.prototype,"filterManager",void 0),Qh([be("sortController")],t.prototype,"sortController",void 0),Qh([be("selectionService")],t.prototype,"selectionService",void 0),Qh([be("rowRenderer")],t.prototype,"rowRenderer",void 0),Qh([be("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Qh([Gt],t.prototype,"init",null),Qh([ls],t.prototype,"destroyDatasource",null),Qh([Jt("rowModel")],t)}(Pt),Epe={version:"31.0.0",moduleName:rn.InfiniteRowModelModule,rowModel:"infinite",beans:[Cpe]},Dpe=function(){function r(){}return r.prototype.setBeans=function(t){this.beans=t},r.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?"".concat(t,".").concat(e):t},r.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},r.prototype.getDefaultFileName=function(){return"export.".concat(this.getDefaultFileExtension())},r}(),Tpe=function(){function r(t){this.groupColumns=[];var n=t.valueService,i=t.gridOptionsService,o=t.valueFormatterService,s=t.valueParserService,l=t.processCellCallback,v=t.processHeaderCallback,D=t.processGroupHeaderCallback,F=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=n,this.gridOptionsService=i,this.valueFormatterService=o,this.valueParserService=s,this.processCellCallback=l,this.processHeaderCallback=v,this.processGroupHeaderCallback=D,this.processRowGroupCallback=F}return r.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},r.prototype.extractHeaderValue=function(t){return this.getHeaderName(this.processHeaderCallback,t)??""},r.prototype.extractRowCellValue=function(t,e,n,i,o){var l=this.gridOptionsService.get("groupHideOpenParents")&&!o.footer||!this.shouldRenderGroupSummaryCell(o,t,e)?this.valueService.getValue(t,o):this.createValueForGroupNode(o);return this.processCell({accumulatedRowIndex:n,rowNode:o,column:t,value:l,processCellCallback:this.processCellCallback,type:i})},r.prototype.shouldRenderGroupSummaryCell=function(t,e,n){var i;if(!t||!t.group)return!1;if(-1!==this.groupColumns.indexOf(e)){if(null!=(null===(i=t.groupData)||void 0===i?void 0:i[e.getId()])||this.gridOptionsService.isRowModelType("serverSide")&&t.group)return!0;if(t.footer&&-1===t.level){var l=e.getColDef();return null==l||!0===l.showRowGroup||l.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}var D=this.gridOptionsService.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===n&&D},r.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},r.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context});var e=t.footer,n=[t.key];if(!this.gridOptionsService.isGroupMultiAutoColumn())for(;t.parent;)n.push((t=t.parent).key);var i=n.reverse().join(" -> ");return e?"Total ".concat(i):i},r.prototype.processCell=function(t){var n,e=this,o=t.rowNode,s=t.column,l=t.value,v=t.processCellCallback;return v?{value:null!==(n=v({accumulatedRowIndex:t.accumulatedRowIndex,column:s,node:o,value:l,api:this.gridOptionsService.api,columnApi:this.gridOptionsService.columnApi,context:this.gridOptionsService.context,type:t.type,parseValue:function(F){return e.valueParserService.parseValue(s,o,F,e.valueService.getValue(s,o))},formatValue:function(F){var z;return null!==(z=e.valueFormatterService.formatValue(s,o,F))&&void 0!==z?z:F}}))&&void 0!==n?n:""}:!1!==s.getColDef().useValueFormatterForExport?{value:l??"",valueFormatted:this.valueFormatterService.formatValue(s,o,l)}:{value:l??""}},r}(),xpe=function(){function r(){}return r.download=function(t,e){var n=document.defaultView||window;if(n){var i=document.createElement("a"),o=n.URL.createObjectURL(e);i.setAttribute("href",o),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(function(){n.URL.revokeObjectURL(o)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},r}(),Rpe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ape=function(r){function t(e){var n=r.call(this,e)||this;n.isFirstLine=!0,n.result="";var o=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=o,n}return Rpe(t,r),t.prototype.addCustomContent=function(e){var n=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(i){n.beginNewLine(),i.forEach(function(o,s){0!==s&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(o.data.value||""),o.mergeAcross&&n.appendEmptyCells(o.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,i,o){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,i){var o;0!=n&&(this.result+=this.columnSeparator);var s=this.extractRowCellValue(e,n,n,"csv",i);this.result+=this.putInQuotes(null!==(o=s.valueFormatted)&&void 0!==o?o:s.value)},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?n=e:"function"==typeof e.toString?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Tpe),Ope=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Mpe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ope(t,r),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsService:this.gridOptionsService})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsService.get("defaultCsvExportParams");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),i=this.getData(n),o=new Blob(["\ufeff",i],{type:"text/plain"});return xpe.download(this.getFileName(n.fileName),o),i},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e,n){void 0===n&&(n=!1);var i=n?Object.assign({},e):this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this;return new Ape({columnModel:n.columnModel,valueService:n.valueService,gridOptionsService:n.gridOptionsService,valueFormatterService:n.valueFormatterService,valueParserService:n.valueParserService,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsService.get("suppressCsvExport")},Xh([be("columnModel")],t.prototype,"columnModel",void 0),Xh([be("valueService")],t.prototype,"valueService",void 0),Xh([be("gridSerializer")],t.prototype,"gridSerializer",void 0),Xh([be("gridOptionsService")],t.prototype,"gridOptionsService",void 0),Xh([be("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Xh([be("valueParserService")],t.prototype,"valueParserService",void 0),Xh([Gt],t.prototype,"postConstruct",null),Xh([Jt("csvCreator")],t)}(Dpe),Ipe=function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jh=function(r,t,e,n){var s,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(r,t,e,n);else for(var l=r.length-1;l>=0;l--)(s=r[l])&&(o=(i<3?s(o):i>3?s(t,e,o):s(t,e))||o);return i>3&&o&&Object.defineProperty(t,e,o),o},Ppe=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return Ipe(t,r),t.prototype.serialize=function(e,n){void 0===n&&(n={});var l=this.getColumnsToExport(n.allColumns,n.skipRowGroups,n.columnKeys);return Qn.compose(this.prepareSession(l),this.prependContent(n),this.exportColumnGroups(n,l),this.exportHeaders(n,l),this.processPinnedTopRows(n,l),this.processRows(n,l),this.processPinnedBottomRows(n,l),this.appendContent(n))(e).parse()},t.prototype.processRow=function(e,n,i,o){var s=n.shouldRowBeSkipped||function(){return!1},l=this.gridOptionsService.context,v=this.gridOptionsService.api,D=this.gridOptionsService.columnApi,F=this.gridOptionsService.get("groupRemoveSingleChildren"),z=this.gridOptionsService.get("groupRemoveLowestSingleChildren"),ae=null!=n.rowPositions||!!n.onlySelected,fe=this.gridOptionsService.get("groupHideOpenParents")&&!ae,ge=this.columnModel.isPivotMode()?o.leafGroup:!o.group,we=!!o.footer;if(!(!ge&&!we&&(n.skipRowGroups||1===o.allChildrenCount&&(F||z&&o.leafGroup)||fe)||n.onlySelected&&!o.isSelected()||n.skipPinnedTop&&"top"===o.rowPinned||n.skipPinnedBottom&&"bottom"===o.rowPinned)&&(-1!==o.level||ge||we)&&!s({node:o,api:v,columnApi:D,context:l})){var gt=e.onNewBodyRow(o);if(i.forEach(function(Bt,Mt){gt.onColumn(Bt,Mt,o)}),n.getCustomContentBelowRow){var Dt=n.getCustomContentBelowRow({node:o,api:v,columnApi:D,context:l});Dt&&e.addCustomContent(Dt)}}},t.prototype.appendContent=function(e){return function(n){var i=e.appendContent;return i&&n.addCustomContent(i),n}},t.prototype.prependContent=function(e){return function(n){var i=e.prependContent;return i&&n.addCustomContent(i),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var i=this;return function(o){if(!e.skipColumnGroupHeaders){var s=new JH,l=i.displayedGroupCreator.createDisplayedGroups(n,s,null);i.recursivelyAddHeaderGroups(l,o,e.processGroupHeaderCallback)}return o}},t.prototype.exportHeaders=function(e,n){return function(i){if(!e.skipColumnHeaders){var o=i.onNewHeaderRow();n.forEach(function(s,l){o.onColumn(s,l,void 0)})}return i}},t.prototype.processPinnedTopRows=function(e,n){var i=this;return function(o){var s=i.processRow.bind(i,o,e,n);return e.rowPositions?e.rowPositions.filter(function(l){return"top"===l.rowPinned}).sort(function(l,v){return l.rowIndex-v.rowIndex}).map(function(l){return i.pinnedRowModel.getPinnedTopRow(l.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedTopRow(s),o}},t.prototype.processRows=function(e,n){var i=this;return function(o){var s=i.rowModel,l=s.getType(),v="clientSide"===l,D="serverSide"===l,F=!v&&e.onlySelected,z=i.processRow.bind(i,o,e,n),re=e.exportedRows,ae=void 0===re?"filteredAndSorted":re;if(e.rowPositions)e.rowPositions.filter(function(ge){return null==ge.rowPinned}).sort(function(ge,we){return ge.rowIndex-we.rowIndex}).map(function(ge){return s.getRow(ge.rowIndex)}).forEach(z);else if(i.columnModel.isPivotMode())v?s.forEachPivotNode(z,!0):D?s.forEachNodeAfterFilterAndSort(z,!0):s.forEachNode(z);else if(e.onlySelectedAllPages||F){var fe=i.selectionService.getSelectedNodes();i.replicateSortedOrder(fe),fe.forEach(z)}else"all"===ae?s.forEachNode(z):v||D?s.forEachNodeAfterFilterAndSort(z,!0):s.forEachNode(z);return o}},t.prototype.replicateSortedOrder=function(e){var n=this,i=this.sortController.getSortOptions(),o=function(s,l){var v,D,F,z;return null!=s.rowIndex&&null!=l.rowIndex?s.rowIndex-l.rowIndex:s.level===l.level?(null===(v=s.parent)||void 0===v?void 0:v.id)===(null===(D=l.parent)||void 0===D?void 0:D.id)?n.rowNodeSorter.compareRowNodes(i,{rowNode:s,currentPos:null!==(F=s.rowIndex)&&void 0!==F?F:-1},{rowNode:l,currentPos:null!==(z=l.rowIndex)&&void 0!==z?z:-1}):o(s.parent,l.parent):s.level>l.level?o(s.parent,l):o(s,l.parent)};e.sort(o)},t.prototype.processPinnedBottomRows=function(e,n){var i=this;return function(o){var s=i.processRow.bind(i,o,e,n);return e.rowPositions?e.rowPositions.filter(function(l){return"bottom"===l.rowPinned}).sort(function(l,v){return l.rowIndex-v.rowIndex}).map(function(l){return i.pinnedRowModel.getPinnedBottomRow(l.rowIndex)}).forEach(s):i.pinnedRowModel.forEachPinnedBottomRow(s),o}},t.prototype.getColumnsToExport=function(e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);var o=this.columnModel.isPivotMode();if(i&&i.length)return this.columnModel.getGridColumns(i);var s=this.gridOptionsService.get("treeData"),l=[];return l=e&&!o?(s?this.columnModel.getGridColumns([Nm]):[]).concat(this.columnModel.getAllGridColumns()):this.columnModel.getAllDisplayedColumns(),n&&!s&&(l=l.filter(function(D){return D.getColId()!==Nm})),l},t.prototype.recursivelyAddHeaderGroups=function(e,n,i){var o=[];e.forEach(function(s){!s.getChildren||s.getChildren().forEach(function(v){return o.push(v)})}),e.length>0&&e[0]instanceof eo&&this.doAddHeaderHeader(n,e,i),o&&o.length>0&&this.recursivelyAddHeaderGroups(o,n,i)},t.prototype.doAddHeaderHeader=function(e,n,i){var o=this,s=e.onNewHeaderGroupingRow(),l=0;n.forEach(function(v){var F,D=v;F=i?i({columnGroup:D,api:o.gridOptionsService.api,columnApi:o.gridOptionsService.columnApi,context:o.gridOptionsService.context}):o.columnModel.getDisplayNameForColumnGroup(D,"header");var z=D.getLeafColumns().reduce(function(re,ae,fe,ge){var we=Qn.last(re);return"open"===ae.getColumnGroupShow()?(!we||null!=we[1])&&re.push(we=[fe]):we&&null==we[1]&&(we[1]=fe-1),fe===ge.length-1&&we&&null==we[1]&&(we[1]=fe),re},[]);s.onColumn(D,F||"",l++,D.getLeafColumns().length-1,z)})},Jh([be("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Jh([be("columnModel")],t.prototype,"columnModel",void 0),Jh([be("rowModel")],t.prototype,"rowModel",void 0),Jh([be("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Jh([be("selectionService")],t.prototype,"selectionService",void 0),Jh([be("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Jh([be("sortController")],t.prototype,"sortController",void 0),Jh([Jt("gridSerializer")],t)}(Pt),Fpe={version:"31.0.0",moduleName:rn.CsvExportModule,beans:[Mpe,Ppe]},Lpe=(function(){function r(){}r.createHeader=function(t){void 0===t&&(t={});var i=["version"];t.version||(t.version="1.0"),t.encoding&&i.push("encoding"),t.standalone&&i.push("standalone");var o=i.map(function(s){return"".concat(s,'="').concat(t[s],'"')}).join(" ");return"".concat("<?","xml ").concat(o," ").concat("?>")},r.createXml=function(t,e){var n=this,i="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(s){Object.keys(s.map).forEach(function(l){i+=n.returnAttributeIfPopulated(s.prefix+l,s.map[l],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(s){i+=n.returnAttributeIfPopulated(s,t.properties.rawMap[s],e)}));var o="<"+t.name+i;return t.children||null!=t.textNode?null!=t.textNode?o+">"+t.textNode+"</"+t.name+">\r\n":(o+=">\r\n",t.children&&t.children.forEach(function(s){o+=n.createXml(s,e)}),o+"</"+t.name+">\r\n"):o+"/>\r\n"},r.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var i=e;return"boolean"==typeof e&&n&&(i=n(e))," ".concat(t,'="').concat(i,'"')}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function r(){}r.addFolders=function(t){t.forEach(this.addFolder.bind(this))},r.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},r.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},r.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},r.clearStream=function(){this.folders=[],this.files=[]},r.buildFileStream=function(t){var e,n;void 0===t&&(t="");var i=this.folders.concat(this.files),o=i.length,s="",l=0,v=0;try{for(var D=function(r){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),F=D.next();!F.done;F=D.next()){var re=this.getHeader(F.value,l),ae=re.fileHeader,fe=re.folderHeader,ge=re.content;l+=ae.length+ge.length,v+=fe.length,t+=ae+ge,s+=fe}}catch(Te){e={error:Te}}finally{try{F&&!F.done&&(n=D.return)&&n.call(D)}finally{if(e)throw e.error}}return t+s+this.buildFolderEnd(o,v,l)},r.getHeader=function(t,e){var n=t.content,i=t.path,o=t.created,s=t.isBase64,v=Qn.decToHex,D=(0,Qn.utf8_encode)(i),F=D!==i,z=this.convertTime(o),re=this.convertDate(o),ae="";if(F){var fe=v(1,1)+v(this.getFromCrc32Table(D),4)+D;ae="up"+v(fe.length,2)+fe}var ge=n?this.getConvertedContent(n,s):{size:0,content:""},we=ge.size,Te=ge.content,Ie="\n\0"+(F?"\0\b":"\0\0")+"\0\0"+v(z,2)+v(re,2)+v(we?this.getFromCrc32Table(Te):0,4)+v(we,4)+v(we,4)+v(D.length,2)+v(ae.length,2);return{fileHeader:"PK\x03\x04"+Ie+D+ae,folderHeader:"PK\x01\x02\x14\0"+Ie+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+v(e,4)+D+ae,content:Te||""}},r.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},r.buildFolderEnd=function(t,e,n){var i=Qn.decToHex;return"PK\x05\x06\0\0\0\0"+i(t,2)+i(t,2)+i(e,4)+i(n,4)+"\0\0"},r.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},r.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),i=0;i<e;i++)n[i]=t.charCodeAt(i);var o=-1;for(i=0;i<e;i++)o=o>>>8^Lpe[255&(o^n[i])];return-1^o},r.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},r.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},r.folders=[],r.files=[]}(),Yn.registerModules([gpe,Epe,Fpe]);let xU=(()=>{class r extends eU{constructor(e){super("angular"),this._ngZone=e}setEmitterUsedCallback(e){this.isEmitterUsed=e}setTimeout(e,n){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{e()},n)}):window.setTimeout(()=>{e()},n)}setInterval(e,n){return new $a(i=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{i(window.setInterval(()=>{e()},n))}):i(window.setInterval(()=>{e()},n))})}addEventListener(e,n,i,o){this.isOutsideAngular(n)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{e.addEventListener(n,i,o)}):e.addEventListener(n,i,o)}dispatchEvent(e,n,i=!1){this.isOutsideAngular(e)?this._ngZone?this._ngZone.runOutsideAngular(n):n():(this.isEmitterUsed(e)||i)&&(!a.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(n):n())}isFrameworkComponent(e){if(!e)return!1;const n=e.prototype;return n&&"agInit"in n}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),RU=(()=>{class r extends Xfe{setViewContainerRef(e){this.viewContainerRef=e}setComponentFactoryResolver(e){this.componentFactoryResolver=e}createWrapper(e){let n=this,o=new class i extends class Bpe{init(t){this._params=t,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(l){super.init(l),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return n.createComponent(e)}hasMethod(l){return null!=o.getFrameworkComponentInstance()[l]}callMethod(l,v){const D=this.getFrameworkComponentInstance();return o.getFrameworkComponentInstance()[l].apply(D,v)}addMethod(l,v){o[l]=v}};return o}createComponent(e){let n=this.componentFactoryResolver.resolveComponentFactory(e);return this.viewContainerRef.createComponent(n)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),Gpe=(()=>{class r{constructor(e,n,i,o,s){this.viewContainerRef=n,this.angularFrameworkOverrides=i,this.frameworkComponentWrapper=o,this.componentFactoryResolver=s,this._initialised=!1,this._destroyed=!1,this._fullyReady=$a.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new a.vpe,this.toolPanelSizeChanged=new a.vpe,this.cutStart=new a.vpe,this.cutEnd=new a.vpe,this.pasteStart=new a.vpe,this.pasteEnd=new a.vpe,this.columnVisible=new a.vpe,this.columnPinned=new a.vpe,this.columnResized=new a.vpe,this.columnMoved=new a.vpe,this.columnValueChanged=new a.vpe,this.columnPivotModeChanged=new a.vpe,this.columnPivotChanged=new a.vpe,this.columnGroupOpened=new a.vpe,this.newColumnsLoaded=new a.vpe,this.gridColumnsChanged=new a.vpe,this.displayedColumnsChanged=new a.vpe,this.virtualColumnsChanged=new a.vpe,this.columnEverythingChanged=new a.vpe,this.componentStateChanged=new a.vpe,this.cellValueChanged=new a.vpe,this.cellEditRequest=new a.vpe,this.rowValueChanged=new a.vpe,this.cellEditingStarted=new a.vpe,this.cellEditingStopped=new a.vpe,this.rowEditingStarted=new a.vpe,this.rowEditingStopped=new a.vpe,this.undoStarted=new a.vpe,this.undoEnded=new a.vpe,this.redoStarted=new a.vpe,this.redoEnded=new a.vpe,this.rangeDeleteStart=new a.vpe,this.rangeDeleteEnd=new a.vpe,this.filterOpened=new a.vpe,this.filterChanged=new a.vpe,this.filterModified=new a.vpe,this.advancedFilterBuilderVisibleChanged=new a.vpe,this.chartCreated=new a.vpe,this.chartRangeSelectionChanged=new a.vpe,this.chartOptionsChanged=new a.vpe,this.chartDestroyed=new a.vpe,this.cellKeyDown=new a.vpe,this.gridReady=new a.vpe,this.gridPreDestroyed=new a.vpe,this.firstDataRendered=new a.vpe,this.gridSizeChanged=new a.vpe,this.modelUpdated=new a.vpe,this.virtualRowRemoved=new a.vpe,this.viewportChanged=new a.vpe,this.bodyScroll=new a.vpe,this.bodyScrollEnd=new a.vpe,this.dragStarted=new a.vpe,this.dragStopped=new a.vpe,this.stateUpdated=new a.vpe,this.paginationChanged=new a.vpe,this.rowDragEnter=new a.vpe,this.rowDragMove=new a.vpe,this.rowDragLeave=new a.vpe,this.rowDragEnd=new a.vpe,this.columnRowGroupChanged=new a.vpe,this.rowGroupOpened=new a.vpe,this.expandOrCollapseAll=new a.vpe,this.pinnedRowDataChanged=new a.vpe,this.rowDataUpdated=new a.vpe,this.asyncTransactionsFlushed=new a.vpe,this.storeRefreshed=new a.vpe,this.cellClicked=new a.vpe,this.cellDoubleClicked=new a.vpe,this.cellFocused=new a.vpe,this.cellMouseOver=new a.vpe,this.cellMouseOut=new a.vpe,this.cellMouseDown=new a.vpe,this.rowClicked=new a.vpe,this.rowDoubleClicked=new a.vpe,this.rowSelected=new a.vpe,this.selectionChanged=new a.vpe,this.cellContextMenu=new a.vpe,this.rangeSelectionChanged=new a.vpe,this.tooltipShow=new a.vpe,this.tooltipHide=new a.vpe,this.sortChanged=new a.vpe,this.columnRowGroupChangeRequest=new a.vpe,this.columnPivotChangeRequest=new a.vpe,this.columnValueChangeRequest=new a.vpe,this.columnAggFuncChangeRequest=new a.vpe,this._nativeElement=e.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this));const e=xA.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const n=function Zfe(r,t,e){if(!t)return Tl("No gridOptions provided to createGrid"),{};var n=gU.getCoercedGridOptions(t),i=(new CU).create(r,n,function(s){var l=new oU(r);s.createBean(l)},void 0,e);if(!Object.isFrozen(t)&&!e?.frameworkOverrides){var o="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:function(){Tl("gridOptions.api is no longer supported. See ".concat(o,"."))},configurable:!0}),Object.defineProperty(t,"columnApi",{get:function(){Tl("gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ".concat(o,"."))},configurable:!0})}return i}(this._nativeElement,e,this.gridParams);n&&(this.api=n,this.columnApi=new yO(n)),this.gridPreDestroyed.observers.length>0&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,i=>i)}ngOnChanges(e){if(this._initialised){const n={};Object.entries(e).forEach(([i,o])=>{n[i]=o.currentValue}),xA.processOnChange(n,this.api)}}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(e){const n=this[e],i=!!n&&n.observers&&n.observers.length>0,o=`on${e.charAt(0).toUpperCase()}${e.substring(1)}`;return i||!!this.gridOptions&&!!this.gridOptions[o]}globalEventListener(e,n){if(this._destroyed)return;const i=this[e];i&&this.isEmitterUsed(e)&&("gridReady"===e?this._fullyReady.then(o=>{i.emit(n)}):i.emit(n))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(xU),a.Y36(RU),a.Y36(a._Vd))},r.\u0275cmp=a.Xpm({type:r,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[a._Bn([xU,RU]),a.TTD],decls:0,vars:0,template:function(e,n){},encapsulation:2}),r})(),jpe=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({}),r})(),Hpe=(()=>{class r{constructor(e,n,i){this.dialog=e,this.storeService=n,this.snackbarService=i,this.collection=[],this.gridOptions={suppressRowHoverHighlight:!1,columnHoverHighlight:!1,pagination:!1,paginationPageSize:50},this.defaultColDef={editable:!0,filter:!0},this.colDefs=[{field:"route",flex:1.5,wrapText:!0,autoHeight:!0,cellStyle:{wordBreak:"normal",lineHeight:"unset"}},{field:"storeName",flex:2,wrapText:!0,autoHeight:!0,cellStyle:{wordBreak:"normal",lineHeight:"unset"}},{field:"address",flex:1.5,wrapText:!0,autoHeight:!0,cellStyle:{wordBreak:"normal",lineHeight:"unset"}},{headerName:"Mobile Number",flex:1,wrapText:!0,valueGetter:o=>o.data.altMobileNo?o.data.mobileNo+" / "+o.data.altMobileNo:o.data.mobileNo,cellStyle:{lineHeight:"unset"}},{headerName:"Delete",cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onDelete.bind(this),label:"Delete"},width:100}],this.frameworkComponents={buttonRenderer:Pre}}onGridReady(e){this.api=e.api}ngOnInit(){this.onFetchStoreDetails()}onFetchStoreDetails(){this.collection=[],this.storeService.getStores("").then(e=>{e&&e.length>0?this.collection=this.sortData(e):console.log(ut.STORE_NOT_FOUND_MSG)}).catch(e=>{console.log(e)})}sortData(e){return e.sort((n,i)=>n.route===i.route?n.storeName<i.storeName?-1:1:n.route<i.route?-1:1)}onDeleteStore(e){this.storeService.deleteStore(e.id).then(()=>{let n=this.collection.indexOf(e);if(n>=0){this.collection.splice(n,1);let i=this.collection.slice();this.collection=i,this.api.updateGridOptions({rowData:this.collection})}this.snackbarService.openSnackBar(ut.STORE_DELETED_SUCCESS_MSG,ut.DELETE_ACTION)}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION)})}openDeleteConfirmationDialog(e){this.dialog.open(vA,{data:{key:ut.STORE,value:e.storeName}}).afterClosed().subscribe(i=>{i&&i.delete==ut.YES_ACTION?(console.log(ut.YES_ACTION),this.onDeleteStore(e)):console.log(ut.NO_ACTION)})}onDelete(e){this.collection.indexOf(e.rowData)>=0&&this.openDeleteConfirmationDialog(e.rowData)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Im),a.Y36(Mm),a.Y36(Dl))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-delete-store"]],decls:2,vars:6,consts:[[1,"content"],[1,"ag-theme-quartz",2,"width","100%","height","700px",3,"rowData","columnDefs","sideBar","defaultColDef","components","gridOptions","gridReady"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"ag-grid-angular",1),a.NdJ("gridReady",function(o){return n.onGridReady(o)}),a.qZA()()),2&e&&(a.xp6(1),a.Q6J("rowData",n.collection)("columnDefs",n.colDefs)("sideBar",!0)("defaultColDef",n.defaultColDef)("components",n.frameworkComponents)("gridOptions",n.gridOptions))},dependencies:[Gpe],styles:["mat-form-field[_ngcontent-%COMP%]{width:20em;margin-left:1em}"]}),r})();function Upe(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Route"),a.qZA())}function zpe(r,t){if(1&r&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.route)}}function Wpe(r,t){if(1&r&&(a.TgZ(0,"td",17),a._uU(1),a.qZA()),2&r){const e=a.oxw();a.xp6(1),a.hij("TOTAL : ",e.collection.length,"")}}function $pe(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Store Name"),a.qZA())}function qpe(r,t){if(1&r&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.hij(" ",e.storeName.storeName," ")}}function Ype(r,t){1&r&&a._UZ(0,"td",17)}function Kpe(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Store Address"),a.qZA())}function Zpe(r,t){if(1&r&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.address)}}function Qpe(r,t){1&r&&a._UZ(0,"td",17)}function Xpe(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Bill Number"),a.qZA())}function Jpe(r,t){if(1&r&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.billNumber)}}function eme(r,t){1&r&&a._UZ(0,"td",17)}function tme(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Amount Received"),a.qZA())}function nme(r,t){if(1&r&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.amountReceived)}}function rme(r,t){1&r&&a._UZ(0,"td",17)}function ime(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Receipt Number"),a.qZA())}function ome(r,t){if(1&r&&(a.TgZ(0,"td",16),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.xp6(1),a.Oqu(e.receiptNumber)}}function sme(r,t){1&r&&a._UZ(0,"td",17)}function ame(r,t){1&r&&(a.TgZ(0,"th",15),a._uU(1,"Action"),a.qZA())}function lme(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"td",18)(1,"button",19),a.NdJ("click",function(){const o=a.CHM(e).$implicit,s=a.oxw();return a.KtG(s.openDeleteConfirmationDialog(o))}),a.TgZ(2,"mat-icon"),a._uU(3,"delete"),a.qZA()()()}}function ume(r,t){1&r&&a._UZ(0,"td",17)}function cme(r,t){1&r&&a._UZ(0,"tr",20)}function dme(r,t){1&r&&a._UZ(0,"tr",21)}function hme(r,t){1&r&&a._UZ(0,"tr",22)}let fme=(()=>{class r{constructor(e,n,i,o){this.dialog=e,this.recoveryService=n,this.billService=i,this.snackbarService=o,this.collection=[],this.displayedColumns=["route","storeName","address","billNumber","amountReceived","receiptNumber","Action"]}ngOnInit(){this.onFetchRecoveryDetails()}onFetchRecoveryDetails(){this.collection=[],this.recoveryService.getRecoveryDetails().then(e=>{e&&e.length>0?this.collection=this.sortData(e):console.log(ut.STORE_NOT_FOUND_MSG)}).catch(e=>{console.log(e)})}sortData(e){return e.sort((n,i)=>n.route===i.route?n.storeName.storeName<i.storeName.storeName?-1:1:n.route<i.route?-1:1)}onDelete(e){this.recoveryService.deleteRecovery(e.id).then(()=>{let n=this.collection.indexOf(e);if(n>=0){this.collection.splice(n,1);let i=this.collection.slice();this.collection=i,this.updateBillPendingAmount(e)}}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION)})}updateBillPendingAmount(e){this.billService.getFilteredBills("","","","",e.billNumber).then(n=>{if(n&&n.length>0){let i={...n[0],pendingAmount:n[0].pendingAmount+ +e.amountReceived};this.billService.updateBillPendingAmount(i).then(()=>{this.snackbarService.openSnackBar(ut.BILL_UPDATED_SUCCESS_MSG,ut.UPDAE_ACTION),console.log("Bill updated successfully...")}).catch(o=>{console.log(o),this.snackbarService.openSnackBar(o,ut.ERROR_ACTION)})}else console.log("No bill found...")}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION)})}openDeleteConfirmationDialog(e){this.dialog.open(vA,{data:{key:ut.RECOVERY,value:e.receiptNumber}}).afterClosed().subscribe(i=>{i&&i.delete==ut.YES_ACTION?(console.log(ut.YES_ACTION),this.onDelete(e)):console.log(ut.NO_ACTION)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Im),a.Y36(jC),a.Y36(w_),a.Y36(Dl))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-delete-recovery"]],decls:32,vars:4,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","route"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","storeName"],["matColumnDef","address"],["matColumnDef","billNumber"],["matColumnDef","amountReceived"],["matColumnDef","receiptNumber"],["matColumnDef","Action",2,"width","10px"],["mat-cell","","style","width: 10px",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["mat-cell","",2,"width","10px"],["mat-mini-fab","",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,n){1&e&&(a.TgZ(0,"table",0),a.ynx(1,1),a.YNc(2,Upe,2,0,"th",2),a.YNc(3,zpe,2,1,"td",3),a.YNc(4,Wpe,2,1,"td",4),a.BQk(),a.ynx(5,5),a.YNc(6,$pe,2,0,"th",2),a.YNc(7,qpe,2,1,"td",3),a.YNc(8,Ype,1,0,"td",4),a.BQk(),a.ynx(9,6),a.YNc(10,Kpe,2,0,"th",2),a.YNc(11,Zpe,2,1,"td",3),a.YNc(12,Qpe,1,0,"td",4),a.BQk(),a.ynx(13,7),a.YNc(14,Xpe,2,0,"th",2),a.YNc(15,Jpe,2,1,"td",3),a.YNc(16,eme,1,0,"td",4),a.BQk(),a.ynx(17,8),a.YNc(18,tme,2,0,"th",2),a.YNc(19,nme,2,1,"td",3),a.YNc(20,rme,1,0,"td",4),a.BQk(),a.ynx(21,9),a.YNc(22,ime,2,0,"th",2),a.YNc(23,ome,2,1,"td",3),a.YNc(24,sme,1,0,"td",4),a.BQk(),a.ynx(25,10),a.YNc(26,ame,2,0,"th",2),a.YNc(27,lme,4,0,"td",11),a.YNc(28,ume,1,0,"td",4),a.BQk(),a.YNc(29,cme,1,0,"tr",12),a.YNc(30,dme,1,0,"tr",13),a.YNc(31,hme,1,0,"tr",14),a.qZA()),2&e&&(a.Q6J("dataSource",n.collection),a.xp6(29),a.Q6J("matHeaderRowDef",n.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",n.displayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",n.displayedColumns))},dependencies:[Oi,cS,Dm,Eh,Tm,Dh,Sh,xm,m_,v_,Th,xh,g_,Rm,Am,y_]}),r})();const pme=["billFormDirective"];function mme(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",19),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.routeName),a.xp6(1),a.Oqu(e.routeName)}}function gme(r,t){if(1&r&&(a.TgZ(0,"mat-option",19),a._uU(1),a.qZA()),2&r){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.hij(" ",e.storeName," ")}}let vme=(()=>{class r{constructor(e,n,i,o,s,l){this.storeService=e,this.billService=n,this.routeService=i,this.datePipe=o,this.snackbarService=s,this.validationDialogService=l,this.routeCollection=[],this.storeCollection=[],this.myControl=new Mn,this.isClicked=!1,this.buttonText=ut.ADD_BILL_BTN_TEXT}ngOnInit(){this.initialize(),this.onFetchRoute()}onAddBill(){if(this.billFormGroup.invalid)return void console.log("bill form is invalid");if(this.isClicked)return;this.isClicked=!0,this.buttonText=ut.PLEASE_WAIT_BTN_TEXT;let e={...this.billFormGroup.value,pendingAmount:this.billFormGroup.value.billAmount,createdDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.billService.getFilteredBillsByBillNumber(e.billNumber).then(n=>{null!=n&&n.length>0?(this.validationDialogService.openValidationDialog(ut.ADD_BILL_VALIDATION),this.reset()):this.addBill(e)}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION),this.reset()})}addBill(e){this.billService.addBillDetails(e).then(()=>{console.log(ut.BILL_ADDED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.BILL_ADDED_SUCCESS_MSG,ut.SAVE_ACTION),this.reset()}).catch(n=>{console.log(n),this.snackbarService.openSnackBar(n,ut.ERROR_ACTION),this.reset()})}reset(){this.isClicked=!1,this.buttonText=ut.ADD_BILL_BTN_TEXT,this.initialize()}initialize(){this.billFormGroup=new Ea({route:new Mn("",[or.required]),storeName:new Mn("",[or.required]),billNumber:new Mn("",[or.required]),billDate:new Mn("",[or.required]),billAmount:new Mn("",[or.required]),address:new Mn,comment:new Mn}),this.billFormDirective&&this.billFormDirective.resetForm()}onFetchRoute(){this.routeCollection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.routeCollection=e:console.log(ut.ROUTE_NOT_FOUND_MSG)})}onFetchStoreDetails(e){this.storeCollection=[],this.storeService.getStores(e).then(n=>{n&&n.length>0?(this.storeCollection=n,this.subscribeBill_StoreNameValueChange()):console.log(ut.STORE_NOT_FOUND_MSG)})}subscribeBill_StoreNameValueChange(){this.filteredOptions=this.billFormGroup.controls.storeName?.valueChanges.pipe(si(""),(0,Dn.U)(n=>{const i="string"==typeof n?n:n?.name;return i?this._filter(i):this.storeCollection.slice()}))}onBillForm_RouteSelectionChange(e){console.log(e),e&&(this.billFormGroup.get("storeName")?.reset(),this.billFormGroup.get("billNumber")?.reset(),this.billFormGroup.get("billDate")?.reset(),this.billFormGroup.get("billAmount")?.reset(),this.billFormGroup.get("comment")?.reset(),this.onFetchStoreDetails(e))}onStoreSelected(e){this.billFormGroup.patchValue({address:e.address})}displayFn(e){return e&&e.storeName?e.storeName:""}_filter(e){const n=e.toLowerCase();return this.storeCollection.filter(i=>i.storeName.toLowerCase().includes(n))}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Mm),a.Y36(w_),a.Y36(Mh),a.Y36(Ao),a.Y36(Dl),a.Y36(l3))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-bill-data-entry"]],viewQuery:function(e,n){if(1&e&&a.Gf(pme,5),2&e){let i;a.iGM(i=a.CRH())&&(n.billFormDirective=i.first)}},decls:48,vars:11,consts:[[3,"formGroup"],["billFormDirective","ngForm"],["appearance","outline"],["formControlName","route",3,"selectionChange"],[4,"ngFor","ngForOf"],["appearance","outline",1,"example-full-width"],["type","text","formControlName","storeName","matInput","","oninput","this.value = this.value.toUpperCase()",3,"matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["readonly","true","matInput","","formControlName","address"],["matInput","","formControlName","billNumber","toUppercase",""],["matInput","","formControlName","billDate","placeholder","Choose a date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","formControlName","billAmount"],["matInput","","formControlName","comment"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[3,"value"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0,1)(2,"p")(3,"mat-form-field",2)(4,"mat-label"),a._uU(5,"Route Name"),a.qZA(),a.TgZ(6,"mat-select",3),a.NdJ("selectionChange",function(o){return n.onBillForm_RouteSelectionChange(o.value)}),a.YNc(7,mme,3,2,"div",4),a.qZA()()(),a.TgZ(8,"p")(9,"mat-form-field",5)(10,"mat-label"),a._uU(11,"Store Name"),a.qZA(),a._UZ(12,"input",6),a.TgZ(13,"mat-autocomplete",7,8),a.NdJ("optionSelected",function(o){return n.onStoreSelected(o.option.value)}),a.YNc(15,gme,2,2,"mat-option",9),a.ALo(16,"async"),a.qZA()()(),a.TgZ(17,"p")(18,"mat-form-field",5)(19,"mat-label"),a._uU(20,"Shop Address"),a.qZA(),a._UZ(21,"textarea",10),a.qZA()(),a.TgZ(22,"p")(23,"mat-form-field",2)(24,"mat-label"),a._uU(25,"Bill Number"),a.qZA(),a._UZ(26,"input",11),a.qZA()(),a.TgZ(27,"p")(28,"mat-form-field",2),a._UZ(29,"input",12),a.TgZ(30,"mat-hint"),a._uU(31,"DD/MM/YYYY"),a.qZA(),a._UZ(32,"mat-datepicker-toggle",13)(33,"mat-datepicker",null,14),a.qZA()(),a.TgZ(35,"p")(36,"mat-form-field",2)(37,"mat-label"),a._uU(38,"Bill Amount"),a.qZA(),a._UZ(39,"input",15),a.qZA()(),a.TgZ(40,"p")(41,"mat-form-field",5)(42,"mat-label"),a._uU(43,"Comment"),a.qZA(),a._UZ(44,"textarea",16),a.qZA()(),a.TgZ(45,"p",17)(46,"button",18),a.NdJ("click",function(){return n.onAddBill()}),a._uU(47),a.qZA()()()),2&e){const i=a.MAs(14),o=a.MAs(34);a.Q6J("formGroup",n.billFormGroup),a.xp6(7),a.Q6J("ngForOf",n.routeCollection),a.xp6(5),a.Q6J("matAutocomplete",i),a.xp6(1),a.Q6J("displayWith",n.displayFn),a.xp6(2),a.Q6J("ngForOf",a.lcZ(16,9,n.filteredOptions)),a.xp6(14),a.Q6J("matDatepicker",o),a.xp6(3),a.Q6J("for",o),a.xp6(14),a.Q6J("disabled",!(!n.billFormGroup.invalid&&!n.isClicked)),a.xp6(1),a.hij(" ",n.buttonText," ")}},dependencies:[Sn,Oi,Es,pj,Ho,QC,vu,El,ra,aA,b_,uA,gA,fS,qs,mo,hl,Sa,Wl,Xo,Ta,Ih,Ls]}),r})();const yme=["storeFormDirective"];function _me(r,t){if(1&r&&(a.TgZ(0,"div")(1,"mat-option",12),a._uU(2),a.qZA()()),2&r){const e=t.$implicit;a.xp6(1),a.s9C("value",e.routeName),a.xp6(1),a.Oqu(e.routeName)}}let bme=(()=>{class r{constructor(e,n,i,o,s){this.storeService=e,this.datePipe=n,this.snackbarService=i,this.validationDialogService=o,this.routeService=s,this.storeCollection=[],this.routeCollection=[]}ngOnInit(){this.initialize(),this.onFetchRoute()}initialize(){this.shopFormGroup=new Ea({route:new Mn("",[or.required]),storeName:new Mn("",[or.required]),address:new Mn("",[or.required]),mobileNo:new Mn("",[or.required,or.min(1e9),or.max(99999999999)]),altMobileNo:new Mn}),this.storeFormDirective&&this.storeFormDirective.resetForm()}onFetchRoute(){this.routeCollection=[],this.routeService.getRoutes().then(e=>{e&&e.length>0?this.routeCollection=e:console.log(ut.ROUTE_NOT_FOUND_MSG)})}onAddStore(){if(this.shopFormGroup.invalid)return void console.log("store form is invalid");let e={route:this.shopFormGroup.value.route,storeName:this.shopFormGroup.value.storeName,address:this.shopFormGroup.value.address,mobileNo:this.shopFormGroup.value.mobileNo,altMobileNo:this.shopFormGroup.value.altMobileNo,createdDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.storeService.getSpecificStoreDetails(e).then(n=>{null!=n&&n.length>0?this.validationDialogService.openValidationDialog(ut.ADD_STORE_VALIDATION):this.addStore(e)}).catch(n=>{console.log(n)})}addStore(e){this.storeService.addStoreDetails(e).then(()=>{console.log(ut.STORE_ADDED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.STORE_ADDED_SUCCESS_MSG,ut.SAVE_ACTION),this.initialize()}).catch(n=>{console.log(n)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Mm),a.Y36(Ao),a.Y36(Dl),a.Y36(l3),a.Y36(Mh))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-store-data-entry"]],viewQuery:function(e,n){if(1&e&&a.Gf(yme,5),2&e){let i;a.iGM(i=a.CRH())&&(n.storeFormDirective=i.first)}},decls:31,vars:3,consts:[[3,"formGroup"],["storeFormDirective","ngForm"],["appearance","outline"],["formControlName","route"],[4,"ngFor","ngForOf"],["matInput","","formControlName","storeName","toUppercase",""],["appearance","outline",1,"example-full-width"],["matInput","","oninput","this.value = this.value.toUpperCase()","formControlName","address"],["matInput","","type","number","formControlName","mobileNo","toUppercase",""],["matInput","","type","number","formControlName","altMobileNo","toUppercase",""],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(a.TgZ(0,"form",0,1)(2,"p")(3,"mat-form-field",2)(4,"mat-label"),a._uU(5,"Route Name"),a.qZA(),a.TgZ(6,"mat-select",3),a.YNc(7,_me,3,2,"div",4),a.qZA()()(),a.TgZ(8,"p")(9,"mat-form-field",2)(10,"mat-label"),a._uU(11,"Store Name"),a.qZA(),a._UZ(12,"input",5),a.qZA()(),a.TgZ(13,"p")(14,"mat-form-field",6)(15,"mat-label"),a._uU(16,"Shop Address"),a.qZA(),a._UZ(17,"textarea",7),a.qZA()(),a.TgZ(18,"p")(19,"mat-form-field",2)(20,"mat-label"),a._uU(21,"Mobile Number"),a.qZA(),a._UZ(22,"input",8),a.qZA()(),a.TgZ(23,"p")(24,"mat-form-field",2)(25,"mat-label"),a._uU(26,"Alternate Mobile Number"),a.qZA(),a._UZ(27,"input",9),a.qZA()(),a.TgZ(28,"p",10)(29,"button",11),a.NdJ("click",function(){return n.onAddStore()}),a._uU(30," Add Shop "),a.qZA()()()),2&e&&(a.Q6J("formGroup",n.shopFormGroup),a.xp6(7),a.Q6J("ngForOf",n.routeCollection),a.xp6(22),a.Q6J("disabled",n.shopFormGroup.invalid))},dependencies:[Sn,Oi,Es,Ho,vu,El,ra,qs,mo,hl,Sa,Wl,Xo,Ta,Ih]}),r})();const wme=["routeFormDirective"],Cme=[{path:"",component:tte,pathMatch:"full"},{path:"dashboard",component:Iee,canActivate:[So]},{path:"recovery",component:Kte,canActivate:[So]},{path:"history",component:Zte,canActivate:[So]},{path:"logindetails",component:rne,canActivate:[So]},{path:"search",component:pre,canActivate:[So]},{path:"editinfo",component:mre,canActivate:[So],children:[{path:"editroute",component:vre,canActivate:[So]},{path:"editstore",component:bre,canActivate:[So]},{path:"editbill",component:wre,canActivate:[So]}]},{path:"delete",component:Cre,canActivate:[So],children:[{path:"route",component:Ire,canActivate:[So]},{path:"store",component:Hpe,canActivate:[So]},{path:"recovery",component:fme,canActivate:[So]}]},{path:"dataentry",component:nte,canActivate:[So],children:[{path:"billdataentry",component:vme,canActivate:[So]},{path:"storedataentry",component:bme,canActivate:[So]},{path:"routedataentry",component:(()=>{class r{constructor(e,n,i){this.routeService=e,this.datePipe=n,this.snackbarService=i}ngOnInit(){this.initialize()}initialize(){this.routeFormGroup=new Ea({route:new Mn("",[or.required])}),this.routeFormDirective&&this.routeFormDirective.resetForm()}onAddRoute(){if(this.routeFormGroup.invalid)return void console.log("route form is invalid");let e={routeName:this.routeFormGroup.value.route,createdDate:this.datePipe.transform(Date.now().toString(),ut.DATE_TIME_FORMAT)};this.routeService.addRoute(e).then(()=>{console.log(ut.ROUTE_ADDED_SUCCESS_MSG),this.snackbarService.openSnackBar(ut.ROUTE_ADDED_SUCCESS_MSG,ut.SAVE_ACTION),this.initialize()}).catch(i=>{console.log(i)})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Mh),a.Y36(Ao),a.Y36(Dl))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-route-data-entry"]],viewQuery:function(e,n){if(1&e&&a.Gf(wme,5),2&e){let i;a.iGM(i=a.CRH())&&(n.routeFormDirective=i.first)}},decls:12,vars:2,consts:[[3,"formGroup"],["routeFormDirective","ngForm"],["appearance","outline"],["matInput","","formControlName","route","toUppercase","","required",""],["route",""],["align","center"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,n){1&e&&(a.TgZ(0,"form",0,1)(2,"div")(3,"p")(4,"mat-form-field",2)(5,"mat-label"),a._uU(6,"Route Name"),a.qZA(),a._UZ(7,"input",3,4),a.qZA()(),a.TgZ(9,"p",5)(10,"button",6),a.NdJ("click",function(){return n.onAddRoute()}),a._uU(11," Add Route "),a.qZA()()()()),2&e&&(a.Q6J("formGroup",n.routeFormGroup),a.xp6(10),a.Q6J("disabled",n.routeFormGroup.invalid))},dependencies:[Oi,Es,Ho,vu,qs,mo,Sa,Wl,Fo,Xo,Ta,Ih]}),r})(),canActivate:[So]}]}];let Sme=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[rD.forRoot(Cme),rD]}),r})();var Eme=Oe(6063);class Dme extends dn.x{constructor(t=1/0,e=1/0,n=Eme.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;e||(n.push(t),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){const s=e.now();let l=0;for(let v=1;v<n.length&&n[v]<=s;v+=2)l=v;l&&n.splice(0,l+1)}}}const xme=["*",[["mat-toolbar-row"]]],Rme=["*","mat-toolbar-row"],Ame=YC(class{constructor(r){this._elementRef=r}});let Ome=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),Mme=(()=>{class r extends Ame{constructor(e,n,i){super(e),this._platform=n,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(Hi),a.Y36(M))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-toolbar"]],contentQueries:function(e,n,i){if(1&e&&a.Suo(i,Ome,5),2&e){let o;a.iGM(o=a.CRH())&&(n._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,n){2&e&&a.ekj("mat-toolbar-multiple-rows",n._toolbarRows.length>0)("mat-toolbar-single-row",0===n._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:Rme,decls:2,vars:0,template:function(e,n){1&e&&(a.F$t(xme),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),r})(),Ime=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur],ur]}),r})();const MO=["*"],Pme=["content"];function kme(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i._onBackdropClicked())}),a.qZA()}if(2&r){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Fme(r,t){1&r&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const Nme=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Lme=["mat-drawer","mat-drawer-content","*"];function Vme(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i._onBackdropClicked())}),a.qZA()}if(2&r){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Bme(r,t){1&r&&(a.TgZ(0,"mat-sidenav-content"),a.Hsn(1,2),a.qZA())}const Gme=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],jme=["mat-sidenav","mat-sidenav-content","*"],AU={transformDrawer:jo("transform",[Wr("open, open-instant",jn({transform:"none",visibility:"visible"})),Wr("void",jn({"box-shadow":"none",visibility:"hidden"})),zr("void => open-instant",Zr("0ms")),zr("void <=> open, open-instant => void",Zr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ume=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function zme(){return!1}}),v4=new a.OlP("MAT_DRAWER_CONTAINER");let IO=(()=>{class r extends eS{constructor(e,n,i,o,s){super(i,o,s),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>MU)),a.Y36(a.SBq),a.Y36(qR),a.Y36(a.R0b))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&a.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[a._Bn([{provide:eS,useExisting:r}]),a.qOj],ngContentSelectors:MO,decls:1,vars:0,template:function(e,n){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),OU=(()=>{class r{constructor(e,n,i,o,s,l,v,D){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=o,this._ngZone=s,this._interactivityChecker=l,this._doc=v,this._container=D,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new dn.x,this._animationEnd=new dn.x,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe(Pr(F=>F),(0,Dn.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Pr(F=>F.fromState!==F.toState&&0===F.toState.indexOf("open")),fb(void 0)),this._closedStream=this.openedChange.pipe(Pr(F=>!F),(0,Dn.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Pr(F=>F.fromState!==F.toState&&"void"===F.toState),fb(void 0)),this._destroyed=new dn.x,this.onPositionChanged=new a.vpe,this._modeChanged=new dn.x,this.openedChange.subscribe(F=>{F?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Hc(this._elementRef.nativeElement,"keydown").pipe(Pr(F=>27===F.keyCode&&!this.disableClose&&!as(F)),Cr(this._destroyed)).subscribe(F=>this._ngZone.run(()=>{this.close(),F.stopPropagation(),F.preventDefault()}))}),this._animationEnd.pipe(gL((F,z)=>F.fromState===z.fromState&&F.toState===z.toState)).subscribe(F=>{const{fromState:z,toState:re}=F;(0===re.indexOf("open")&&"void"===z||"void"===re&&0===z.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=er(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=er(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(er(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(n)}_focusByCssSelector(e,n){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,n,i){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Or(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,i=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,n)),i.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(yL),a.Y36(i_),a.Y36(Hi),a.Y36(a.R0b),a.Y36(vL),a.Y36(M,8),a.Y36(v4,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&a.Gf(Pme,5),2&e){let i;a.iGM(i=a.CRH())&&(n._content=i.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&a.WFA("@transform.start",function(o){return n._animationStarted.next(o)})("@transform.done",function(o){return n._animationEnd.next(o)}),2&e&&(a.uIk("align",null),a.d8E("@transform",n._animationState),a.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:MO,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[eS],encapsulation:2,data:{animation:[AU.transformDrawer]},changeDetection:0}),r})(),MU=(()=>{class r{constructor(e,n,i,o,s,l=!1,v){this._dir=e,this._element=n,this._ngZone=i,this._changeDetectorRef=o,this._animationMode=v,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new dn.x,this._doCheckSubject=new dn.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new dn.x,e&&e.change.pipe(Cr(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Cr(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=er(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:er(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(si(this._allDrawers),Cr(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(si(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(FR(10),Cr(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();e+=i,n-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();n+=i,e-=i}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Pr(n=>n.fromState!==n.toState),Cr(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Cr(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Cr(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Or(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Cr((0,ia.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?n.add(i):n.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(Ss,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a_),a.Y36(Ume),a.Y36(a.QbO,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,IO,5),a.Suo(i,OU,5)),2&e){let o;a.iGM(o=a.CRH())&&(n._content=o.first),a.iGM(o=a.CRH())&&(n._allDrawers=o)}},viewQuery:function(e,n){if(1&e&&a.Gf(IO,5),2&e){let i;a.iGM(i=a.CRH())&&(n._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:v4,useExisting:r}])],ngContentSelectors:Lme,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(a.F$t(Nme),a.YNc(0,kme,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,Fme,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",n.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!n._content))},dependencies:[IO,Un],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),r})(),y4=(()=>{class r extends IO{constructor(e,n,i,o,s){super(e,n,i,o,s)}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>PU)),a.Y36(a.SBq),a.Y36(qR),a.Y36(a.R0b))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,n){2&e&&a.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[a._Bn([{provide:eS,useExisting:r}]),a.qOj],ngContentSelectors:MO,decls:1,vars:0,template:function(e,n){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),IU=(()=>{class r extends OU{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=er(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=$C(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=$C(e)}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,n){2&e&&(a.uIk("align",null),a.Udp("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),a.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[a.qOj],ngContentSelectors:MO,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(a.F$t(),a.TgZ(0,"div",0,1),a.Hsn(2),a.qZA())},dependencies:[eS],encapsulation:2,data:{animation:[AU.transformDrawer]},changeDetection:0}),r})(),PU=(()=>{class r extends MU{}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,y4,5),a.Suo(i,IU,5)),2&e){let o;a.iGM(o=a.CRH())&&(n._content=o.first),a.iGM(o=a.CRH())&&(n._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,n){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[a._Bn([{provide:v4,useExisting:r}]),a.qOj],ngContentSelectors:jme,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(a.F$t(Gme),a.YNc(0,Vme,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,Bme,2,0,"mat-sidenav-content",1)),2&e&&(a.Q6J("ngIf",n.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!n._content))},dependencies:[y4,Un],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),r})(),Wme=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[Vs,ur,Ch],Ch,ur]}),r})();const kU=["*"],qme=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Yme=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Jme=wL(Cm(class{})),ege=Cm(class{}),tge=new a.OlP("MatList"),FU=new a.OlP("MatNavList");let nge=(()=>{class r extends Jme{constructor(){super(...arguments),this._stateChanges=new dn.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(){let t;return function(n){return(t||(t=a.n5z(r)))(n||r)}}(),r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[a._Bn([{provide:FU,useExisting:r}]),a.qOj,a.TTD],ngContentSelectors:kU,decls:1,vars:0,template:function(e,n){1&e&&(a.F$t(),a.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),r})(),NU=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),r})(),LU=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=a.lG2({type:r,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),r})(),rge=(()=>{class r extends ege{constructor(e,n,i,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new dn.x,this._disabled=!1,this._isInteractiveList=!!(i||o&&"action-list"===o._getListType()),this._list=i||o;const s=this._getHostElement();"button"===s.nodeName.toLowerCase()&&!s.hasAttribute("type")&&s.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Cr(this._destroyed)).subscribe(()=>{n.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=er(e)}ngAfterContentInit(){!function XG(r,t,e="mat"){r.changes.pipe(si(r)).subscribe(({length:n})=>{KC(t,`${e}-2-line`,!1),KC(t,`${e}-3-line`,!1),KC(t,`${e}-multi-line`,!1),2===n||3===n?KC(t,`${e}-${n}-line`,!0):n>3&&KC(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(FU,8),a.Y36(tge,8))},r.\u0275cmp=a.Xpm({type:r,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,n,i){if(1&e&&(a.Suo(i,NU,5),a.Suo(i,LU,5),a.Suo(i,QG,5)),2&e){let o;a.iGM(o=a.CRH())&&(n._avatar=o.first),a.iGM(o=a.CRH())&&(n._icon=o.first),a.iGM(o=a.CRH())&&(n._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,n){2&e&&a.ekj("mat-list-item-disabled",n.disabled)("mat-list-item-avatar",n._avatar||n._icon)("mat-list-item-with-avatar",n._avatar||n._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:Yme,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,n){1&e&&(a.F$t(qme),a.TgZ(0,"span",0),a._UZ(1,"span",1),a.Hsn(2),a.TgZ(3,"span",2),a.Hsn(4,1),a.qZA(),a.Hsn(5,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()))},dependencies:[o_],encapsulation:2,changeDetection:0}),r})(),uge=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[VR,BR,ur,DL,Vs],VR,ur,DL,vH]}),r})();function cge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",22),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Login"),a.qZA()}}function dge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",23),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Dashboard"),a.qZA()}}function hge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",24),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Data Entry"),a.qZA()}}function fge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",25),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Edit Data"),a.qZA()}}function pge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",26),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Delete Data"),a.qZA()}}function mge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",27),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Recovery"),a.qZA()}}function gge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",28),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a._uU(1,"Search"),a.qZA()}}function vge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",29),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.MAs(2).toggle(),a.KtG(i.onLogout())}),a._uU(1,"Logout"),a.qZA()}}function yge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"button",30),a.NdJ("click",function(){a.CHM(e),a.oxw();const i=a.MAs(2);return a.KtG(i.toggle())}),a.TgZ(1,"mat-icon",31),a._uU(2,"menu"),a.qZA()()}}const _ge=function(){return{exact:!0}};function bge(r,t){1&r&&(a.TgZ(0,"a",32),a._uU(1,"Login"),a.qZA()),2&r&&a.Q6J("routerLinkActiveOptions",a.DdM(1,_ge))}function wge(r,t){1&r&&(a.TgZ(0,"a",33),a._uU(1,"Dashboard"),a.qZA())}function Cge(r,t){1&r&&(a.TgZ(0,"a",34),a._uU(1,"Data Entry"),a.qZA())}function Sge(r,t){1&r&&(a.TgZ(0,"a",35),a._uU(1,"Edit Data"),a.qZA())}function Ege(r,t){1&r&&(a.TgZ(0,"a",36),a._uU(1,"Delete Data"),a.qZA())}function Dge(r,t){1&r&&(a.TgZ(0,"a",37),a._uU(1,"Recovery"),a.qZA())}function Tge(r,t){1&r&&(a.TgZ(0,"a",38),a._uU(1,"Search"),a.qZA())}function xge(r,t){if(1&r){const e=a.EpF();a.TgZ(0,"a",39),a.NdJ("click",function(){a.CHM(e);const i=a.oxw();return a.KtG(i.onLogout())}),a._uU(1,"Logout"),a.qZA()}}let Rge=(()=>{class r{constructor(e,n,i){this.breakpointObserver=e,this.authService=n,this.router=i,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,Dn.U)(o=>o.matches),function Tme(r,t,e){let n,i=!1;return r&&"object"==typeof r?({bufferSize:n=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:e}=r):n=r??1/0,(0,oH.B)({connector:()=>new Dme(n,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}())}ngOnInit(){this.authService.userSubject.subscribe(e=>{e?(this.isAuthenticate=!0,this.isAdmin=this.authService.isAdmin(),this.username="Welcome - "+e.username,this.router.navigate(["/dashboard"])):(this.isAuthenticate=!1,this.isAdmin=!1,this.username="")})}onLogout(){this.authService.onLogout(),this.router.navigate(["/"])}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(r3),a.Y36(_h),a.Y36(yr))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-app-navigation"]],decls:34,vars:30,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode"],["drawer",""],["color","primary"],["mat-list-item","","routerLink","/",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/dashboard",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/dataentry",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/editinfo",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/delete",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/recovery",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/search",3,"click",4,"ngIf"],["mat-list-item","",3,"click",4,"ngIf"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[1,"spacer"],["mat-button","","routerLink","/","routerLinkActive","active-link",3,"routerLinkActiveOptions",4,"ngIf"],["mat-button","","routerLink","/dashboard","routerLinkActive","active-link",4,"ngIf"],["mat-button","","routerLink","/dataentry","routerLinkActive","active-link",4,"ngIf"],["mat-button","","routerLink","/editinfo","routerLinkActive","active-link",4,"ngIf"],["mat-button","","routerLink","/delete","routerLinkActive","active-link",4,"ngIf"],["mat-button","","routerLink","/recovery","routerLinkActive","active-link",4,"ngIf"],["mat-button","","routerLink","/search","routerLinkActive","active-link",4,"ngIf"],["mat-button","","routerLinkActive","active-link",3,"click",4,"ngIf"],["mat-list-item","","routerLink","/",3,"click"],["mat-list-item","","routerLink","/dashboard",3,"click"],["mat-list-item","","routerLink","/dataentry",3,"click"],["mat-list-item","","routerLink","/editinfo",3,"click"],["mat-list-item","","routerLink","/delete",3,"click"],["mat-list-item","","routerLink","/recovery",3,"click"],["mat-list-item","","routerLink","/search",3,"click"],["mat-list-item","",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-button","","routerLink","/","routerLinkActive","active-link",3,"routerLinkActiveOptions"],["mat-button","","routerLink","/dashboard","routerLinkActive","active-link"],["mat-button","","routerLink","/dataentry","routerLinkActive","active-link"],["mat-button","","routerLink","/editinfo","routerLinkActive","active-link"],["mat-button","","routerLink","/delete","routerLinkActive","active-link"],["mat-button","","routerLink","/recovery","routerLinkActive","active-link"],["mat-button","","routerLink","/search","routerLinkActive","active-link"],["mat-button","","routerLinkActive","active-link",3,"click"]],template:function(e,n){1&e&&(a.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2),a.ALo(3,"async"),a.ALo(4,"async"),a.TgZ(5,"mat-toolbar",3),a._uU(6,"Menu"),a.qZA(),a.TgZ(7,"mat-nav-list"),a.YNc(8,cge,2,0,"a",4),a.YNc(9,dge,2,0,"a",5),a.YNc(10,hge,2,0,"a",6),a.YNc(11,fge,2,0,"a",7),a.YNc(12,pge,2,0,"a",8),a.YNc(13,mge,2,0,"a",9),a.YNc(14,gge,2,0,"a",10),a.YNc(15,vge,2,0,"a",11),a.qZA()(),a.TgZ(16,"mat-sidenav-content")(17,"mat-toolbar",3),a.YNc(18,yge,3,0,"button",12),a.ALo(19,"async"),a.TgZ(20,"span"),a._uU(21),a.qZA(),a._UZ(22,"span",13),a.TgZ(23,"div"),a.ALo(24,"async"),a.YNc(25,bge,2,2,"a",14),a.YNc(26,wge,2,0,"a",15),a.YNc(27,Cge,2,0,"a",16),a.YNc(28,Sge,2,0,"a",17),a.YNc(29,Ege,2,0,"a",18),a.YNc(30,Dge,2,0,"a",19),a.YNc(31,Tge,2,0,"a",20),a.YNc(32,xge,2,0,"a",21),a.qZA()(),a._UZ(33,"router-outlet"),a.qZA()()),2&e&&(a.xp6(1),a.Q6J("mode",a.lcZ(4,24,n.isHandset$)?"over":"side"),a.uIk("role",a.lcZ(3,22,n.isHandset$)?"dialog":"navigation"),a.xp6(7),a.Q6J("ngIf",!n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate&&n.isAdmin),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate&&n.isAdmin),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate&&n.isAdmin),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(3),a.Q6J("ngIf",a.lcZ(19,26,n.isHandset$)),a.xp6(3),a.Oqu(n.username),a.xp6(2),a.ekj("hidden",a.lcZ(24,28,n.isHandset$)),a.xp6(2),a.Q6J("ngIf",!n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate&&n.isAdmin),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate&&n.isAdmin),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate&&n.isAdmin),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate),a.xp6(1),a.Q6J("ngIf",n.isAuthenticate))},dependencies:[Un,gd,tv,QE,Mme,Oi,cQ,IU,PU,y4,cS,nge,rge,Ls],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.hidden[_ngcontent-%COMP%]{display:none}.active-link[_ngcontent-%COMP%]{background-color:green}"]}),r})(),Age=(()=>{class r{constructor(e){this.authService=e,this.title="Ashtavinayak"}ngOnInit(){this.authService.autoLogin()}}return r.\u0275fac=function(e){return new(e||r)(a.Y36(_h))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){1&e&&a._UZ(0,"app-app-navigation")},dependencies:[Rge]}),r})();function BU(r){return new a.vHH(3e3,!1)}function cve(){return typeof window<"u"&&typeof window.document<"u"}function _4(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ef(r){switch(r.length){case 0:return new ZC;case 1:return r[0];default:return new hj(r)}}function GU(r,t,e,n,i=new Map,o=new Map){const s=[],l=[];let v=-1,D=null;if(n.forEach(F=>{const z=F.get("offset"),re=z==v,ae=re&&D||new Map;F.forEach((fe,ge)=>{let we=ge,Te=fe;if("offset"!==ge)switch(we=t.normalizePropertyName(we,s),Te){case"!":Te=i.get(ge);break;case Uc:Te=o.get(ge);break;default:Te=t.normalizeStyleValue(ge,we,Te,s)}ae.set(we,Te)}),re||l.push(ae),D=ae,v=z}),s.length)throw function Xge(r){return new a.vHH(3502,!1)}();return l}function b4(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&w4(e,"start",r)));break;case"done":r.onDone(()=>n(e&&w4(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&w4(e,"destroy",r)))}}function w4(r,t,e){const o=C4(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,e.totalTime??r.totalTime,!!e.disabled),s=r._data;return null!=s&&(o._data=s),o}function C4(r,t,e,n,i="",o=0,s){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function ma(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function jU(r){const t=r.indexOf(":");return[r.substring(1,t),r.slice(t+1)]}let S4=(r,t)=>!1,HU=(r,t,e)=>[],UU=null;function E4(r){const t=r.parentNode||r.host;return t===UU?null:t}(_4()||typeof Element<"u")&&(cve()?(UU=(()=>document.documentElement)(),S4=(r,t)=>{for(;t;){if(t===r)return!0;t=E4(t)}return!1}):S4=(r,t)=>r.contains(t),HU=(r,t,e)=>{if(e)return Array.from(r.querySelectorAll(t));const n=r.querySelector(t);return n?[n]:[]});let ig=null,zU=!1;const WU=S4,$U=HU;let qU=(()=>{class r{validateStyleProperty(e){return function hve(r){ig||(ig=function fve(){return typeof document<"u"?document.body:null}()||{},zU=!!ig.style&&"WebkitAppearance"in ig.style);let t=!0;return ig.style&&!function dve(r){return"ebkit"==r.substring(1,6)}(r)&&(t=r in ig.style,!t&&zU&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in ig.style)),t}(e)}matchesElement(e,n){return!1}containsElement(e,n){return WU(e,n)}getParentElement(e){return E4(e)}query(e,n,i){return $U(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,o,s,l=[],v){return new ZC(i,o)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})(),D4=(()=>{class r{}return r.NOOP=new qU,r})();const T4="ng-enter",PO="ng-leave",kO="ng-trigger",FO=".ng-trigger",KU="ng-animating",x4=".ng-animating";function Xc(r){if("number"==typeof r)return r;const t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:R4(parseFloat(t[1]),t[2])}function R4(r,t){return"s"===t?1e3*r:r}function NO(r,t,e){return r.hasOwnProperty("duration")?r:function gve(r,t,e){let i,o=0,s="";if("string"==typeof r){const l=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return t.push(BU()),{duration:0,delay:0,easing:""};i=R4(parseFloat(l[1]),l[2]);const v=l[3];null!=v&&(o=R4(parseFloat(v),l[4]));const D=l[5];D&&(s=D)}else i=r;if(!e){let l=!1,v=t.length;i<0&&(t.push(function Oge(){return new a.vHH(3100,!1)}()),l=!0),o<0&&(t.push(function Mge(){return new a.vHH(3101,!1)}()),l=!0),l&&t.splice(v,0,BU())}return{duration:i,delay:o,easing:s}}(r,t,e)}function u1(r,t={}){return Object.keys(r).forEach(e=>{t[e]=r[e]}),t}function ZU(r){const t=new Map;return Object.keys(r).forEach(e=>{t.set(e,r[e])}),t}function tf(r,t=new Map,e){if(e)for(let[n,i]of e)t.set(n,i);for(let[n,i]of r)t.set(n,i);return t}function XU(r,t,e){return e?t+":"+e+";":""}function JU(r){let t="";for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t+=XU(0,n,r.style.getPropertyValue(n))}for(const e in r.style)r.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=XU(0,bve(e),r.style[e]));r.setAttribute("style",t)}function Tu(r,t,e){r.style&&(t.forEach((n,i)=>{const o=O4(i);e&&!e.has(i)&&e.set(i,r.style[o]),r.style[o]=n}),_4()&&JU(r))}function og(r,t){r.style&&(t.forEach((e,n)=>{const i=O4(n);r.style[i]=""}),_4()&&JU(r))}function c1(r){return Array.isArray(r)?1==r.length?r[0]:cj(r):r}const A4=new RegExp("{{\\s*(.+?)\\s*}}","g");function ez(r){let t=[];if("string"==typeof r){let e;for(;e=A4.exec(r);)t.push(e[1]);A4.lastIndex=0}return t}function d1(r,t,e){const n=r.toString(),i=n.replace(A4,(o,s)=>{let l=t[s];return null==l&&(e.push(function Pge(r){return new a.vHH(3003,!1)}()),l=""),l.toString()});return i==n?r:i}function LO(r){const t=[];let e=r.next();for(;!e.done;)t.push(e.value),e=r.next();return t}const _ve=/-+([a-z0-9])/g;function O4(r){return r.replace(_ve,(...t)=>t[1].toUpperCase())}function bve(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ga(r,t,e){switch(t.type){case 7:return r.visitTrigger(t,e);case 0:return r.visitState(t,e);case 1:return r.visitTransition(t,e);case 2:return r.visitSequence(t,e);case 3:return r.visitGroup(t,e);case 4:return r.visitAnimate(t,e);case 5:return r.visitKeyframes(t,e);case 6:return r.visitStyle(t,e);case 8:return r.visitReference(t,e);case 9:return r.visitAnimateChild(t,e);case 10:return r.visitAnimateRef(t,e);case 11:return r.visitQuery(t,e);case 12:return r.visitStagger(t,e);default:throw function kge(r){return new a.vHH(3004,!1)}()}}function tz(r,t){return window.getComputedStyle(r)[t]}function Tve(r,t){const e=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(n=>function xve(r,t,e){if(":"==r[0]){const v=function Rve(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(function Yge(r){return new a.vHH(3016,!1)}()),"* => *"}}(r,e);if("function"==typeof v)return void t.push(v);r=v}const n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function qge(r){return new a.vHH(3015,!1)}()),t;const i=n[1],o=n[2],s=n[3];t.push(nz(i,s));"<"==o[0]&&!("*"==i&&"*"==s)&&t.push(nz(s,i))}(n,e,t)):e.push(r),e}const jO=new Set(["true","1"]),HO=new Set(["false","0"]);function nz(r,t){const e=jO.has(r)||HO.has(r),n=jO.has(t)||HO.has(t);return(i,o)=>{let s="*"==r||r==i,l="*"==t||t==o;return!s&&e&&"boolean"==typeof i&&(s=i?jO.has(r):HO.has(r)),!l&&n&&"boolean"==typeof o&&(l=o?jO.has(t):HO.has(t)),s&&l}}const Ave=new RegExp("s*:selfs*,?","g");function M4(r,t,e,n){return new Ove(r).build(t,e,n)}class Ove{constructor(t){this._driver=t}build(t,e,n){const i=new Pve(e);return this._resetContextStyleTimingState(i),ga(this,c1(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function Nge(){return new a.vHH(3006,!1)}()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),0==l.type){const v=l,D=v.name;D.toString().split(/\s*,\s*/).forEach(F=>{v.name=F,o.push(this.visitState(v,e))}),v.name=D}else if(1==l.type){const v=this.visitTransition(l,e);n+=v.queryCount,i+=v.depCount,s.push(v)}else e.errors.push(function Lge(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const o=new Set,s=i||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(v=>{ez(v).forEach(D=>{s.hasOwnProperty(D)||o.add(D)})})}),o.size&&(LO(o.values()),e.errors.push(function Vge(r,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=ga(this,c1(t.animation),e);return{type:1,matchers:Tve(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:sg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>ga(this,n,e)),options:sg(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const o=t.steps.map(s=>{e.currentTime=n;const l=ga(this,s,e);return i=Math.max(i,e.currentTime),l});return e.currentTime=i,{type:3,steps:o,options:sg(t.options)}}visitAnimate(t,e){const n=function Fve(r,t){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return I4(NO(r,t).duration,0,"");const e=r;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=I4(0,0,"");return o.dynamic=!0,o.strValue=e,o}const i=NO(e,t);return I4(i.duration,i.delay,i.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let i,o=t.styles?t.styles:jn({});if(5==o.type)i=this.visitKeyframes(o,e);else{let s=t.styles,l=!1;if(!s){l=!0;const D={};n.easing&&(D.easing=n.easing),s=jn(D)}e.currentTime+=n.duration+n.delay;const v=this.visitStyle(s,e);v.isEmptyStep=l,i=v}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of i)"string"==typeof l?l===Uc?n.push(l):e.errors.push(new a.vHH(3002,!1)):n.push(ZU(l));let o=!1,s=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o))for(let v of l.values())if(v.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,v)=>{const D=e.collectedStyles.get(e.currentQuerySelector),F=D.get(v);let z=!0;F&&(o!=i&&o>=F.startTime&&i<=F.endTime&&(e.errors.push(function Gge(r,t,e,n,i){return new a.vHH(3010,!1)}()),z=!1),o=F.startTime),z&&D.set(v,{startTime:o,endTime:i}),e.options&&function yve(r,t,e){const n=t.params||{},i=ez(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||e.push(function Ige(r){return new a.vHH(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jge(){return new a.vHH(3011,!1)}()),n;let o=0;const s=[];let l=!1,v=!1,D=0;const F=t.steps.map(Te=>{const Ie=this._makeStyleAst(Te,e);let Ve=null!=Ie.offset?Ie.offset:function kve(r){if("string"==typeof r)return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ie.styles),et=0;return null!=Ve&&(o++,et=Ie.offset=Ve),v=v||et<0||et>1,l=l||et<D,D=et,s.push(et),Ie});v&&e.errors.push(function Hge(){return new a.vHH(3012,!1)}()),l&&e.errors.push(function Uge(){return new a.vHH(3200,!1)}());const z=t.steps.length;let re=0;o>0&&o<z?e.errors.push(function zge(){return new a.vHH(3202,!1)}()):0==o&&(re=1/(z-1));const ae=z-1,fe=e.currentTime,ge=e.currentAnimateTimings,we=ge.duration;return F.forEach((Te,Ie)=>{const Ve=re>0?Ie==ae?1:re*Ie:s[Ie],et=Ve*we;e.currentTime=fe+ge.delay+et,ge.duration=et,this._validateStyleAst(Te,e),Te.offset=Ve,n.styles.push(Te)}),n}visitReference(t,e){return{type:8,animation:ga(this,c1(t.animation),e),options:sg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:sg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:sg(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function Mve(r){const t=!!r.split(/\s*,\s*/).find(e=>":self"==e);return t&&(r=r.replace(Ave,"")),r=r.replace(/@\*/g,FO).replace(/@\w+/g,e=>FO+"-"+e.slice(1)).replace(/:animating/g,x4),[r,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,ma(e.collectedStyles,e.currentQuerySelector,new Map);const l=ga(this,c1(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:l,originalSelector:t.selector,options:sg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Wge(){return new a.vHH(3013,!1)}());const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:NO(t.timings,e.errors,!0);return{type:12,animation:ga(this,c1(t.animation),e),timings:n,options:null}}}class Pve{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function sg(r){return r?(r=u1(r)).params&&(r.params=function Ive(r){return r?u1(r):null}(r.params)):r={},r}function I4(r,t,e){return{duration:r,delay:t,easing:e}}function P4(r,t,e,n,i,o,s=null,l=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:l}}class UO{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Vve=new RegExp(":enter","g"),Gve=new RegExp(":leave","g");function k4(r,t,e,n,i,o=new Map,s=new Map,l,v,D=[]){return(new jve).buildKeyframes(r,t,e,n,i,o,s,l,v,D)}class jve{buildKeyframes(t,e,n,i,o,s,l,v,D,F=[]){D=D||new UO;const z=new F4(t,e,D,i,o,F,[]);z.options=v;const re=v.delay?Xc(v.delay):0;z.currentTimeline.delayNextStep(re),z.currentTimeline.setStyles([s],null,z.errors,v),ga(this,n,z);const ae=z.timelines.filter(fe=>fe.containsAnimation());if(ae.length&&l.size){let fe;for(let ge=ae.length-1;ge>=0;ge--){const we=ae[ge];if(we.element===e){fe=we;break}}fe&&!fe.allowOnlyTimelineStyles()&&fe.setStyles([l],null,z.errors,v)}return ae.length?ae.map(fe=>fe.buildKeyframes()):[P4(e,[],[],[],0,re,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(const i of t){const o=i?.delay;if(o){const s="number"==typeof o?o:Xc(d1(o,i?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime;const s=null!=n.duration?Xc(n.duration):null,l=null!=n.delay?Xc(n.delay):null;return 0!==s&&t.forEach(v=>{const D=e.appendInstructionToTimeline(v,s,l);o=Math.max(o,D.duration+D.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ga(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zO);const s=Xc(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ga(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Xc(t.options.delay):0;t.steps.forEach(s=>{const l=e.createSubContext(t.options);o&&l.delayNextStep(o),ga(this,s,l),i=Math.max(i,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return NO(e.params?d1(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();const o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,t.styles.forEach(v=>{l.forwardTime((v.offset||0)*o),l.setStyles(v.styles,v.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?Xc(i.delay):0;o&&(6===e.previousNode.type||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zO);let s=n;const l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=l.length;let v=null;l.forEach((D,F)=>{e.currentQueryIndex=F;const z=e.createSubContext(t.options,D);o&&z.delayNextStep(o),D===e.element&&(v=z.currentTimeline),ga(this,t.animation,z),z.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,z.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),l=s*(e.currentQueryTotal-1);let v=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=l-v;break;case"full":v=n.currentStaggerTime}const F=e.currentTimeline;v&&F.delayNextStep(v);const z=F.currentTime;ga(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-z+(i.startTime-n.currentTimeline.startTime)}}const zO={};class F4{constructor(t,e,n,i,o,s,l,v){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zO,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new WO(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Xc(n.duration)),null!=n.delay&&(i.delay=Xc(n.delay));const o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=d1(o[l],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,o=new F4(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=zO,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new Hve(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,s){let l=[];if(i&&l.push(this.element),t.length>0){t=(t=t.replace(Vve,"."+this._enterClassName)).replace(Gve,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=n);0!==n&&(D=n<0?D.slice(D.length+n,D.length):D.slice(0,n)),l.push(...D)}return!o&&0==l.length&&s.push(function $ge(r){return new a.vHH(3014,!1)}()),l}}class WO{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new WO(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Uc),this._currentKeyframe.set(e,Uc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);const o=i&&i.params||{},s=function Uve(r,t){const e=new Map;let n;return r.forEach(i=>{if("*"===i){n=n||t.keys();for(let o of n)e.set(o,Uc)}else tf(i,e)}),e}(t,this._globalTimelineStyles);for(let[l,v]of s){const D=d1(v,o,n);this._pendingStyles.set(l,D),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Uc),this._updateStyle(l,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{const i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,v)=>{const D=tf(l,new Map,this._backFill);D.forEach((F,z)=>{"!"===F?t.add(z):F===Uc&&e.add(z)}),n||D.set("offset",v/this.duration),i.push(D)});const o=t.size?LO(t.values()):[],s=e.size?LO(e.values()):[];if(n){const l=i[0],v=new Map(l);l.set("offset",0),v.set("offset",1),i=[l,v]}return P4(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class Hve extends WO{constructor(t,e,n,i,o,s,l=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=n+e,l=e/s,v=tf(t[0]);v.set("offset",0),o.push(v);const D=tf(t[0]);D.set("offset",oz(l)),o.push(D);const F=t.length-1;for(let z=1;z<=F;z++){let re=tf(t[z]);const ae=re.get("offset");re.set("offset",oz((e+ae*n)/s)),o.push(re)}n=s,e=0,i="",t=o}return P4(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function oz(r,t=3){const e=Math.pow(10,t-1);return Math.round(r*e)/e}class N4{}const zve=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Wve extends N4{normalizePropertyName(t,e){return O4(t)}normalizeStyleValue(t,e,n,i){let o="";const s=n.toString().trim();if(zve.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)o="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function Fge(r,t){return new a.vHH(3005,!1)}())}return s+o}}function sz(r,t,e,n,i,o,s,l,v,D,F,z,re){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:l,queriedElements:v,preStyleProps:D,postStyleProps:F,totalTime:z,errors:re}}const L4={};class az{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function $ve(r,t,e,n,i){return r.some(o=>o(t,e,n,i))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return void 0!==t&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,o,s,l,v,D,F){const z=[],re=this.ast.options&&this.ast.options.params||L4,fe=this.buildStyles(n,l&&l.params||L4,z),ge=v&&v.params||L4,we=this.buildStyles(i,ge,z),Te=new Set,Ie=new Map,Ve=new Map,et="void"===i,gt={params:qve(ge,re),delay:this.ast.options?.delay},Dt=F?[]:k4(t,e,this.ast.animation,o,s,fe,we,gt,D,z);let Bt=0;if(Dt.forEach(qt=>{Bt=Math.max(qt.duration+qt.delay,Bt)}),z.length)return sz(e,this._triggerName,n,i,et,fe,we,[],[],Ie,Ve,Bt,z);Dt.forEach(qt=>{const an=qt.element,_n=ma(Ie,an,new Set);qt.preStyleProps.forEach(Ar=>_n.add(Ar));const Xn=ma(Ve,an,new Set);qt.postStyleProps.forEach(Ar=>Xn.add(Ar)),an!==e&&Te.add(an)});const Mt=LO(Te.values());return sz(e,this._triggerName,n,i,et,fe,we,Dt,Mt,Ie,Ve,Bt)}}function qve(r,t){const e=u1(t);for(const n in r)r.hasOwnProperty(n)&&null!=r[n]&&(e[n]=r[n]);return e}class Yve{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n=new Map,i=u1(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,l)=>{s&&(s=d1(s,i,e));const v=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,v,s,e),n.set(v,s)})}),n}}class Zve{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new Yve(i.style,i.options&&i.options.params||{},n))}),lz(this.states,"true","1"),lz(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new az(t,i,this.states))}),this.fallbackTransition=function Qve(r,t,e){return new az(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,l)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(s=>s.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function lz(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}const Xve=new UO;class Jve{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const n=[],o=M4(this._driver,e,n,[]);if(n.length)throw function Jge(r){return new a.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,n){const i=t.element,o=GU(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],o=this._animations.get(t);let s;const l=new Map;if(o?(s=k4(this._driver,e,o,T4,PO,new Map,new Map,n,Xve,i),s.forEach(F=>{const z=ma(l,F.element,new Map);F.postStyleProps.forEach(re=>z.set(re,null))})):(i.push(function eve(){return new a.vHH(3300,!1)}()),s=[]),i.length)throw function tve(r){return new a.vHH(3504,!1)}();l.forEach((F,z)=>{F.forEach((re,ae)=>{F.set(ae,this._driver.computeStyle(z,ae,Uc))})});const D=ef(s.map(F=>{const z=l.get(F.element);return this._buildPlayer(F,new Map,z)}));return this._playersById.set(t,D),D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function nve(r){return new a.vHH(3301,!1)}();return e}listen(t,e,n,i){const o=C4(e,"","","");return b4(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const uz="ng-animate-queued",V4="ng-animate-disabled",iye=[],cz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oye={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Za="__ng_removed";class B4{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function uye(r){return r??null}(n?t.value:t),n){const o=u1(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(i=>{null==n[i]&&(n[i]=e[i])})}}}const h1="void",G4=new B4(h1);class sye{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Qa(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw function rve(r,t){return new a.vHH(3302,!1)}();if(null==n||0==n.length)throw function ive(r){return new a.vHH(3303,!1)}();if(!function cye(r){return"start"==r||"done"==r}(n))throw function ove(r,t){return new a.vHH(3400,!1)}();const o=ma(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const l=ma(this._engine.statesByElement,t,new Map);return l.has(e)||(Qa(t,kO),Qa(t,kO+"-"+e),l.set(e,G4)),()=>{this._engine.afterFlush(()=>{const v=o.indexOf(s);v>=0&&o.splice(v,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function sve(r){return new a.vHH(3401,!1)}();return e}trigger(t,e,n,i=!0){const o=this._getTrigger(e),s=new j4(this.id,e,t);let l=this._engine.statesByElement.get(t);l||(Qa(t,kO),Qa(t,kO+"-"+e),this._engine.statesByElement.set(t,l=new Map));let v=l.get(e);const D=new B4(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&v&&D.absorbOptions(v.options),l.set(e,D),v||(v=G4),D.value!==h1&&v.value===D.value){if(!function fye(r,t){const e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){const o=e[i];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}(v.params,D.params)){const ge=[],we=o.matchStyles(v.value,v.params,ge),Te=o.matchStyles(D.value,D.params,ge);ge.length?this._engine.reportError(ge):this._engine.afterFlush(()=>{og(t,we),Tu(t,Te)})}return}const re=ma(this._engine.playersByElement,t,[]);re.forEach(ge=>{ge.namespaceId==this.id&&ge.triggerName==e&&ge.queued&&ge.destroy()});let ae=o.matchTransition(v.value,D.value,t,D.params),fe=!1;if(!ae){if(!i)return;ae=o.fallbackTransition,fe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:ae,fromState:v,toState:D,player:s,isFallbackTransition:fe}),fe||(Qa(t,uz),s.onStart(()=>{G_(t,uz)})),s.onDone(()=>{let ge=this.players.indexOf(s);ge>=0&&this.players.splice(ge,1);const we=this._engine.playersByElement.get(t);if(we){let Te=we.indexOf(s);Te>=0&&we.splice(Te,1)}}),this.players.push(s),re.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,FO,!0);n.forEach(i=>{if(i[Za])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const l=[];if(o.forEach((v,D)=>{if(s.set(D,v.value),this._triggers.has(D)){const F=this.trigger(t,D,h1,i);F&&l.push(F)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&ef(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const i=new Set;e.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const v=this._triggers.get(s).fallbackTransition,D=n.get(s)||G4,F=new B4(h1),z=new j4(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:v,fromState:D,toState:F,player:z,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Za];(!o||o===cz)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Qa(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const o=n.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==n.triggerName){const v=C4(o,n.triggerName,n.fromState.value,n.toState.value);v._data=t,b4(n.player,l.phase,v,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{const o=n.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class aye{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new sye(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){const v=i.get(l);if(v){const D=n.indexOf(v);n.splice(D+1,0,t),s=!0;break}l=this.driver.getParentElement(l)}s||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n)for(let i of n.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}return e}trigger(t,e,n,i){if($O(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!$O(e))return;const o=e[Za];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qa(t,V4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),G_(t,V4))}removeNode(t,e,n,i){if($O(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i,o){this.collectedLeaveElements.push(e),e[Za]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,i,o){return $O(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,FO,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,x4,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ef(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Za];if(e&&e.setForRemoval){if(t[Za]=cz,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(V4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Qa(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?ef(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw function ave(r){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const n=new UO,i=[],o=new Map,s=[],l=new Map,v=new Map,D=new Map,F=new Set;this.disabledNodes.forEach(on=>{F.add(on);const Yt=this.driver.query(on,".ng-animate-queued",!0);for(let wn=0;wn<Yt.length;wn++)F.add(Yt[wn])});const z=this.bodyNode,re=Array.from(this.statesByElement.keys()),ae=fz(re,this.collectedEnterElements),fe=new Map;let ge=0;ae.forEach((on,Yt)=>{const wn=T4+ge++;fe.set(Yt,wn),on.forEach(Jn=>Qa(Jn,wn))});const we=[],Te=new Set,Ie=new Set;for(let on=0;on<this.collectedLeaveElements.length;on++){const Yt=this.collectedLeaveElements[on],wn=Yt[Za];wn&&wn.setForRemoval&&(we.push(Yt),Te.add(Yt),wn.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(Jn=>Te.add(Jn)):Ie.add(Yt))}const Ve=new Map,et=fz(re,Array.from(Te));et.forEach((on,Yt)=>{const wn=PO+ge++;Ve.set(Yt,wn),on.forEach(Jn=>Qa(Jn,wn))}),t.push(()=>{ae.forEach((on,Yt)=>{const wn=fe.get(Yt);on.forEach(Jn=>G_(Jn,wn))}),et.forEach((on,Yt)=>{const wn=Ve.get(Yt);on.forEach(Jn=>G_(Jn,wn))}),we.forEach(on=>{this.processLeaveNode(on)})});const gt=[],Dt=[];for(let on=this._namespaceList.length-1;on>=0;on--)this._namespaceList[on].drainQueuedTransitions(e).forEach(wn=>{const Jn=wn.player,Ur=wn.element;if(gt.push(Jn),this.collectedEnterElements.length){const $o=Ur[Za];if($o&&$o.setForMove){if($o.previousTriggersValues&&$o.previousTriggersValues.has(wn.triggerName)){const lg=$o.previousTriggersValues.get(wn.triggerName),Xa=this.statesByElement.get(wn.element);if(Xa&&Xa.has(wn.triggerName)){const KO=Xa.get(wn.triggerName);KO.value=lg,Xa.set(wn.triggerName,KO)}}return void Jn.destroy()}}const Ns=!z||!this.driver.containsElement(z,Ur),xo=Ve.get(Ur),Nl=fe.get(Ur),fi=this._buildInstruction(wn,n,Nl,xo,Ns);if(fi.errors&&fi.errors.length)return void Dt.push(fi);if(Ns)return Jn.onStart(()=>og(Ur,fi.fromStyles)),Jn.onDestroy(()=>Tu(Ur,fi.toStyles)),void i.push(Jn);if(wn.isFallbackTransition)return Jn.onStart(()=>og(Ur,fi.fromStyles)),Jn.onDestroy(()=>Tu(Ur,fi.toStyles)),void i.push(Jn);const Dz=[];fi.timelines.forEach($o=>{$o.stretchStartingKeyframe=!0,this.disabledNodes.has($o.element)||Dz.push($o)}),fi.timelines=Dz,n.append(Ur,fi.timelines),s.push({instruction:fi,player:Jn,element:Ur}),fi.queriedElements.forEach($o=>ma(l,$o,[]).push(Jn)),fi.preStyleProps.forEach(($o,lg)=>{if($o.size){let Xa=v.get(lg);Xa||v.set(lg,Xa=new Set),$o.forEach((KO,W4)=>Xa.add(W4))}}),fi.postStyleProps.forEach(($o,lg)=>{let Xa=D.get(lg);Xa||D.set(lg,Xa=new Set),$o.forEach((KO,W4)=>Xa.add(W4))})});if(Dt.length){const on=[];Dt.forEach(Yt=>{on.push(function lve(r,t){return new a.vHH(3505,!1)}())}),gt.forEach(Yt=>Yt.destroy()),this.reportError(on)}const Bt=new Map,Mt=new Map;s.forEach(on=>{const Yt=on.element;n.has(Yt)&&(Mt.set(Yt,Yt),this._beforeAnimationBuild(on.player.namespaceId,on.instruction,Bt))}),i.forEach(on=>{const Yt=on.element;this._getPreviousPlayers(Yt,!1,on.namespaceId,on.triggerName,null).forEach(Jn=>{ma(Bt,Yt,[]).push(Jn),Jn.destroy()})});const qt=we.filter(on=>mz(on,v,D)),an=new Map;hz(an,this.driver,Ie,D,Uc).forEach(on=>{mz(on,v,D)&&qt.push(on)});const Xn=new Map;ae.forEach((on,Yt)=>{hz(Xn,this.driver,new Set(on),v,"!")}),qt.forEach(on=>{const Yt=an.get(on),wn=Xn.get(on);an.set(on,new Map([...Array.from(Yt?.entries()??[]),...Array.from(wn?.entries()??[])]))});const Ar=[],ri=[],Nr={};s.forEach(on=>{const{element:Yt,player:wn,instruction:Jn}=on;if(n.has(Yt)){if(F.has(Yt))return wn.onDestroy(()=>Tu(Yt,Jn.toStyles)),wn.disabled=!0,wn.overrideTotalTime(Jn.totalTime),void i.push(wn);let Ur=Nr;if(Mt.size>1){let xo=Yt;const Nl=[];for(;xo=xo.parentNode;){const fi=Mt.get(xo);if(fi){Ur=fi;break}Nl.push(xo)}Nl.forEach(fi=>Mt.set(fi,Ur))}const Ns=this._buildAnimation(wn.namespaceId,Jn,Bt,o,Xn,an);if(wn.setRealPlayer(Ns),Ur===Nr)Ar.push(wn);else{const xo=this.playersByElement.get(Ur);xo&&xo.length&&(wn.parentPlayer=ef(xo)),i.push(wn)}}else og(Yt,Jn.fromStyles),wn.onDestroy(()=>Tu(Yt,Jn.toStyles)),ri.push(wn),F.has(Yt)&&i.push(wn)}),ri.forEach(on=>{const Yt=o.get(on.element);if(Yt&&Yt.length){const wn=ef(Yt);on.setRealPlayer(wn)}}),i.forEach(on=>{on.parentPlayer?on.syncPlayerEvents(on.parentPlayer):on.destroy()});for(let on=0;on<we.length;on++){const Yt=we[on],wn=Yt[Za];if(G_(Yt,PO),wn&&wn.hasAnimation)continue;let Jn=[];if(l.size){let Ns=l.get(Yt);Ns&&Ns.length&&Jn.push(...Ns);let xo=this.driver.query(Yt,x4,!0);for(let Nl=0;Nl<xo.length;Nl++){let fi=l.get(xo[Nl]);fi&&fi.length&&Jn.push(...fi)}}const Ur=Jn.filter(Ns=>!Ns.destroyed);Ur.length?dye(this,Yt,Ur):this.processLeaveNode(Yt)}return we.length=0,Ar.forEach(on=>{this.players.push(on),on.onDone(()=>{on.destroy();const Yt=this.players.indexOf(on);this.players.splice(Yt,1)}),on.play()}),Ar}elementContainsData(t,e){let n=!1;const i=e[Za];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let s=[];if(e){const l=this.playersByQueriedElement.get(t);l&&(s=l)}else{const l=this.playersByElement.get(t);if(l){const v=!o||o==h1;l.forEach(D=>{D.queued||!v&&D.triggerName!=i||s.push(D)})}}return(n||i)&&(s=s.filter(l=>!(n&&n!=l.namespaceId||i&&i!=l.triggerName))),s}_beforeAnimationBuild(t,e,n){const o=e.element,s=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const D=v.element,F=D!==o,z=ma(n,D,[]);this._getPreviousPlayers(D,F,s,l,e.toState).forEach(ae=>{const fe=ae.getRealPlayer();fe.beforeDestroy&&fe.beforeDestroy(),ae.destroy(),z.push(ae)})}og(o,e.fromStyles)}_buildAnimation(t,e,n,i,o,s){const l=e.triggerName,v=e.element,D=[],F=new Set,z=new Set,re=e.timelines.map(fe=>{const ge=fe.element;F.add(ge);const we=ge[Za];if(we&&we.removedBeforeQueried)return new ZC(fe.duration,fe.delay);const Te=ge!==v,Ie=function hye(r){const t=[];return pz(r,t),t}((n.get(ge)||iye).map(Bt=>Bt.getRealPlayer())).filter(Bt=>!!Bt.element&&Bt.element===ge),Ve=o.get(ge),et=s.get(ge),gt=GU(0,this._normalizer,0,fe.keyframes,Ve,et),Dt=this._buildPlayer(fe,gt,Ie);if(fe.subTimeline&&i&&z.add(ge),Te){const Bt=new j4(t,l,ge);Bt.setRealPlayer(Dt),D.push(Bt)}return Dt});D.forEach(fe=>{ma(this.playersByQueriedElement,fe.element,[]).push(fe),fe.onDone(()=>function lye(r,t,e){let n=r.get(t);if(n){if(n.length){const i=n.indexOf(e);n.splice(i,1)}0==n.length&&r.delete(t)}return n}(this.playersByQueriedElement,fe.element,fe))}),F.forEach(fe=>Qa(fe,KU));const ae=ef(re);return ae.onDestroy(()=>{F.forEach(fe=>G_(fe,KU)),Tu(v,e.toStyles)}),z.forEach(fe=>{ma(i,fe,[]).push(ae)}),ae}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ZC(t.duration,t.delay)}}class j4{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ZC,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>b4(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ma(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function $O(r){return r&&1===r.nodeType}function dz(r,t){const e=r.style.display;return r.style.display=t??"none",e}function hz(r,t,e,n,i){const o=[];e.forEach(v=>o.push(dz(v)));const s=[];n.forEach((v,D)=>{const F=new Map;v.forEach(z=>{const re=t.computeStyle(D,z,i);F.set(z,re),(!re||0==re.length)&&(D[Za]=oye,s.push(D))}),r.set(D,F)});let l=0;return e.forEach(v=>dz(v,o[l++])),s}function fz(r,t){const e=new Map;if(r.forEach(l=>e.set(l,[])),0==t.length)return e;const i=new Set(t),o=new Map;function s(l){if(!l)return 1;let v=o.get(l);if(v)return v;const D=l.parentNode;return v=e.has(D)?D:i.has(D)?1:s(D),o.set(l,v),v}return t.forEach(l=>{const v=s(l);1!==v&&e.get(v).push(l)}),e}function Qa(r,t){r.classList?.add(t)}function G_(r,t){r.classList?.remove(t)}function dye(r,t,e){ef(e).onDone(()=>r.processLeaveNode(t))}function pz(r,t){for(let e=0;e<r.length;e++){const n=r[e];n instanceof hj?pz(n.players,t):t.push(n)}}function mz(r,t,e){const n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(o=>i.add(o)):t.set(r,n),e.delete(r),!0}class qO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new aye(t,e,n),this._timelineEngine=new Jve(t,e,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,n,i,o){const s=t+"-"+i;let l=this._triggerCache[s];if(!l){const v=[],F=M4(this._driver,o,v,[]);if(v.length)throw function Qge(r,t){return new a.vHH(3404,!1)}();l=function Kve(r,t,e){return new Zve(r,t,e)}(i,F,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,i,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[o,s]=jU(n);this._timelineEngine.command(o,e,s,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if("@"==n.charAt(0)){const[s,l]=jU(n);return this._timelineEngine.listen(s,e,l,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mye=(()=>{class r{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Tu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tu(this._element,this._initialStyles),this._endStyles&&(Tu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(og(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(og(this._element,this._endStyles),this._endStyles=null),Tu(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function H4(r){let t=null;return r.forEach((e,n)=>{(function gye(r){return"display"===r||"position"===r})(n)&&(t=t||new Map,t.set(n,e))}),t}class gz{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{"offset"!==i&&t.set(i,this._finished?n:tz(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class vye{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return WU(t,e)}getParentElement(t){return E4(t)}query(t,e,n){return $U(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}animate(t,e,n,i,o,s=[]){const v={duration:n,delay:i,fill:0==i?"both":"forwards"};o&&(v.easing=o);const D=new Map,F=s.filter(ae=>ae instanceof gz);(function wve(r,t){return 0===r||0===t})(n,i)&&F.forEach(ae=>{ae.currentSnapshot.forEach((fe,ge)=>D.set(ge,fe))});let z=function vve(r){return r.length?r[0]instanceof Map?r:r.map(t=>ZU(t)):[]}(e).map(ae=>tf(ae));z=function Cve(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(l=>s.set(l,tz(r,l)))}}return t}(t,z,D);const re=function pye(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=H4(t[0]),t.length>1&&(n=H4(t[t.length-1]))):t instanceof Map&&(e=H4(t)),e||n?new mye(r,e,n):null}(t,z);return new gz(t,z,v,re)}}let yye=(()=>{class r extends lj{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?cj(e):e;return vz(this._renderer,null,n,"register",[i]),new _ye(n,this._renderer)}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.FYo),a.LFG(M))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class _ye extends class yQ{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new bye(this._id,t,e||{},this._renderer)}}class bye{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vz(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function vz(r,t,e,n,i){return r.setProperty(t,`@@${e}:${n}`,i)}const yz="@.disabled";let wye=(()=>{class r{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(o,s)=>{const l=s?.parentNode(o);l&&s.removeChild(l,o)}}createRenderer(e,n){const o=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let F=this._rendererCache.get(o);return F||(F=new _z("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,F)),F}const s=n.id,l=n.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const v=F=>{Array.isArray(F)?F.forEach(v):this.engine.registerTrigger(s,l,e,F.name,F)};return n.data.animation.forEach(v),new Cye(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){e>=0&&e<this._microtaskId?this._zone.run(()=>n(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(a.FYo),a.LFG(qO),a.LFG(a.R0b))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();class _z{constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==yz?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Cye extends _z{constructor(t,e,n,i,o){super(e,n,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yz?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function Sye(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Eye(r){const t=r.indexOf(".");return[r.substring(0,t),r.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(t,e,n)}}let Dye=(()=>{class r extends qO{constructor(e,n,i,o){super(e.body,n,i)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(e){return new(e||r)(a.LFG(M),a.LFG(D4),a.LFG(N4),a.LFG(a.z2F))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r})();const bz=[{provide:lj,useClass:yye},{provide:N4,useFactory:function Tye(){return new Wve}},{provide:qO,useClass:Dye},{provide:a.FYo,useFactory:function xye(r,t,e){return new wye(r,t,e)},deps:[bf,qO,a.R0b]}],U4=[{provide:D4,useFactory:()=>new vye},{provide:a.QbO,useValue:"BrowserAnimations"},...bz],wz=[{provide:D4,useClass:qU},{provide:a.QbO,useValue:"NoopAnimations"},...bz];let Rye=(()=>{class r{static withConfig(e){return{ngModule:r,providers:e.disableAnimations?wz:U4}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:U4,imports:[EM]}),r})(),Mye=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[VR,ur],VR,ur]}),r})(),Iye=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({imports:[[ur],ur]}),r})();const Nye={provide:new a.OlP("mat-menu-scroll-strategy"),deps:[oa],useFactory:function Fye(r){return()=>r.scrollStrategies.reposition()}};let Lye=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Nye],imports:[[Vs,ur,BR,c_],Ch,ur]}),r})();const Ez_firebase={projectId:"agency-app-31a1b",appId:"1:350453751934:web:9c5dd7b15f1b639afe382f",storageBucket:"agency-app-31a1b.appspot.com",apiKey:"AIzaSyD1ojXYNM37tuqEP4sTHDX8xC8nWr9g7zE",authDomain:"agency-app-31a1b.firebaseapp.com",messagingSenderId:"350453751934",measurementId:"G-Z8BY093KR6"};let z4=(()=>{class r{constructor(){this.changes=new dn.x}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Bye={provide:z4,deps:[[new a.FiY,new a.tp0,z4]],useFactory:function Vye(r){return r||new z4}};let Gye=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r}),r.\u0275inj=a.cJS({providers:[Bye],imports:[[Vs,ur]]}),r})();const jye={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Hye=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=a.oAB({type:r,bootstrap:[Age]}),r.\u0275inj=a.cJS({providers:[Ao,{provide:ZG,useValue:"en-GB"},{provide:wh,useValue:jye}],imports:[EM,Sme,Rye,rte,Ime,AL,Wme,Jee,uge,Mye,Iye,Lye,zR,qQ,zX,fJ,vH,CH,ZJ,QZ,Ute,Gye,xte,Pd,Id,jpe,uq(()=>cq(Ez_firebase)),UK(()=>zK())]}),r})();(0,a.G48)(),f5().bootstrapModule(Hye).catch(r=>console.error(r))},4313:(Xt,kt,Oe)=>{var a=Oe(4687);Xt.exports=function T(te,W,k){function R(O,w){if(!W[O]){if(!te[O]){if(M)return M(O,!0);var C=new Error("Cannot find module '"+O+"'");throw C.code="MODULE_NOT_FOUND",C}var f=W[O]={exports:{}};te[O][0].call(f.exports,function(d){return R(te[O][1][d]||d)},f,f.exports,T,te,W,k)}return W[O].exports}for(var M=void 0,x=0;x<k.length;x++)R(k[x]);return R}({1:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function R(g,y,b,S,A,P,H){try{var X=g[P](H),J=X.value}catch(j){return void b(j)}X.done?y(J):Promise.resolve(J).then(S,A)}function M(g){return function(){var y=this,b=arguments;return new Promise(function(S,A){var P=g.apply(y,b);function H(J){R(P,S,A,H,X,"next",J)}function X(J){R(P,S,A,H,X,"throw",J)}H(void 0)})}}function x(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}var O=T("fs"),w=T("fast-csv"),E=T("dayjs/plugin/customParseFormat"),C=T("dayjs/plugin/utc"),f=T("dayjs").extend(E).extend(C),d=T("../utils/stream-buf"),u=T("../utils/utils").fs.exists,c={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}},m=function(){function g(H){(function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")})(this,g),this.workbook=H,this.worksheet=null}var y,b,A,P;return y=g,(b=[{key:"readFile",value:(P=M(a.mark(function H(X,J){var j,$;return a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return J=J||{},L.next=3,u(X);case 3:if(L.sent){L.next=5;break}throw new Error("File not found: ".concat(X));case 5:return j=O.createReadStream(X),L.next=8,this.read(j,J);case 8:return $=L.sent,j.close(),L.abrupt("return",$);case 11:case"end":return L.stop()}},H,this)})),function(H,X){return P.apply(this,arguments)})},{key:"read",value:function(H,X){var J=this;return X=X||{},new Promise(function(j,$){var L=J.workbook.addWorksheet(X.sheetName),B=X.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],ee=X.map||function(V){if(""===V)return null;var U=Number(V);if(!Number.isNaN(U)&&U!==1/0)return U;var Q=B.reduce(function(K,ne){if(K)return K;var ue=f(V,ne,!0);return ue.isValid()?ue:null},null);if(Q)return new Date(Q.valueOf());var Z=c[V];return void 0!==Z?Z:V},N=w.parse(X.parserOptions).on("data",function(V){L.addRow(V.map(ee))}).on("end",function(){N.emit("worksheet",L)});N.on("worksheet",j).on("error",$),H.pipe(N)})}},{key:"createInputStream",value:function(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}},{key:"write",value:function(H,X){var J=this;return new Promise(function(j,$){var L=J.workbook.getWorksheet((X=X||{}).sheetName||X.sheetId),B=w.format(X.formatterOptions);H.on("finish",function(){j()}),B.on("error",$),B.pipe(H);var N=X.dateFormat,V=X.dateUTC,U=X.map||function(K){if(K){if(K.text||K.hyperlink)return K.hyperlink||K.text||"";if(K.formula||K.result)return K.result||"";if(K instanceof Date)return N?V?f.utc(K).format(N):f(K).format(N):V?f.utc(K).format():f(K).format();if(K.error)return K.error;if("object"===k(K))return JSON.stringify(K)}return K},Q=void 0===X.includeEmptyRows||X.includeEmptyRows,Z=1;L&&L.eachRow(function(K,ne){if(Q)for(;Z++<ne-1;)B.write([]);var ue=K.values;ue.shift(),B.write(ue.map(U)),Z=ne}),B.end()})}},{key:"writeFile",value:function(H,X){var J={encoding:(X=X||{}).encoding||"utf8"},j=O.createWriteStream(H,J);return this.write(j,X)}},{key:"writeBuffer",value:(A=M(a.mark(function H(X){var J;return a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return J=new d,j.next=3,this.write(J,X);case 3:return j.abrupt("return",J.read());case 4:case"end":return j.stop()}},H,this)})),function(H){return A.apply(this,arguments)})}])&&x(y.prototype,b),g}();te.exports=m},{"../utils/stream-buf":23,"../utils/utils":26,dayjs:336,"dayjs/plugin/customParseFormat":337,"dayjs/plugin/utc":338,"fast-csv":369,fs:215}],2:[function(T,te,W){"use strict";function k(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function R(O,w){for(var E=0;E<w.length;E++){var C=w[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}var M=T("../utils/col-cache"),x=function(){function O(f,d){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(k(this,O),d)if("string"==typeof d){var c=M.decodeAddress(d);this.nativeCol=c.col+u,this.nativeColOff=0,this.nativeRow=c.row+u,this.nativeRowOff=0}else void 0!==d.nativeCol?(this.nativeCol=d.nativeCol||0,this.nativeColOff=d.nativeColOff||0,this.nativeRow=d.nativeRow||0,this.nativeRowOff=d.nativeRowOff||0):void 0!==d.col?(this.col=d.col+u,this.row=d.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0;this.worksheet=f}var w,E,C;return w=O,C=[{key:"asInstance",value:function(f){return f instanceof O||null==f?f:new O(f)}}],(E=[{key:"col",get:function(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth},set:function(f){this.nativeCol=Math.floor(f),this.nativeColOff=Math.floor((f-this.nativeCol)*this.colWidth)}},{key:"row",get:function(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight},set:function(f){this.nativeRow=Math.floor(f),this.nativeRowOff=Math.floor((f-this.nativeRow)*this.rowHeight)}},{key:"colWidth",get:function(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}},{key:"rowHeight",get:function(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}},{key:"model",get:function(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}},set:function(f){this.nativeCol=f.nativeCol,this.nativeColOff=f.nativeColOff,this.nativeRow=f.nativeRow,this.nativeRowOff=f.nativeRowOff}}])&&R(w.prototype,E),C&&R(w,C),O}();te.exports=x},{"../utils/col-cache":19}],3:[function(T,te,W){"use strict";function k(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")}function R(j,$){for(var L=0;L<$.length;L++){var B=$[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(j,B.key,B)}}function M(j,$,L){return $&&R(j.prototype,$),L&&R(j,L),j}var x=T("../utils/col-cache"),O=T("../utils/under-dash"),w=T("./enums"),E=T("../utils/shared-formula").slideFormula,C=T("./note"),f=function(){function j($,L,B){if(k(this,j),!$||!L)throw new Error("A Cell needs a Row");this._row=$,this._column=L,x.validateAddress(B),this._address=B,this._value=J.create(j.Types.Null,this),this.style=this._mergeStyle($.style,L.style,{}),this._mergeCount=0}return M(j,[{key:"destroy",value:function(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}},{key:"_mergeStyle",value:function($,L,B){var ee=$&&$.numFmt||L&&L.numFmt;ee&&(B.numFmt=ee);var N=$&&$.font||L&&L.font;N&&(B.font=N);var V=$&&$.alignment||L&&L.alignment;V&&(B.alignment=V);var U=$&&$.border||L&&L.border;U&&(B.border=U);var Q=$&&$.fill||L&&L.fill;Q&&(B.fill=Q);var Z=$&&$.protection||L&&L.protection;return Z&&(B.protection=Z),B}},{key:"toCsvString",value:function(){return this._value.toCsvString()}},{key:"addMergeRef",value:function(){this._mergeCount++}},{key:"releaseMergeRef",value:function(){this._mergeCount--}},{key:"merge",value:function($,L){this._value.release(),this._value=J.create(j.Types.Merge,this,$),L||(this.style=$.style)}},{key:"unmerge",value:function(){this.type===j.Types.Merge&&(this._value.release(),this._value=J.create(j.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}},{key:"isMergedTo",value:function($){return this._value.type===j.Types.Merge&&this._value.isMergedTo($)}},{key:"toString",value:function(){return this.text}},{key:"_upgradeToHyperlink",value:function($){this.type===j.Types.String&&(this._value=J.create(j.Types.Hyperlink,this,{text:this._value.value,hyperlink:$}))}},{key:"addName",value:function($){this.workbook.definedNames.addEx(this.fullAddress,$)}},{key:"removeName",value:function($){this.workbook.definedNames.removeEx(this.fullAddress,$)}},{key:"removeAllNames",value:function(){this.workbook.definedNames.removeAllNames(this.fullAddress)}},{key:"worksheet",get:function(){return this._row.worksheet}},{key:"workbook",get:function(){return this._row.worksheet.workbook}},{key:"numFmt",get:function(){return this.style.numFmt},set:function($){this.style.numFmt=$}},{key:"font",get:function(){return this.style.font},set:function($){this.style.font=$}},{key:"alignment",get:function(){return this.style.alignment},set:function($){this.style.alignment=$}},{key:"border",get:function(){return this.style.border},set:function($){this.style.border=$}},{key:"fill",get:function(){return this.style.fill},set:function($){this.style.fill=$}},{key:"protection",get:function(){return this.style.protection},set:function($){this.style.protection=$}},{key:"address",get:function(){return this._address}},{key:"row",get:function(){return this._row.number}},{key:"col",get:function(){return this._column.number}},{key:"$col$row",get:function(){return"$".concat(this._column.letter,"$").concat(this.row)}},{key:"type",get:function(){return this._value.type}},{key:"effectiveType",get:function(){return this._value.effectiveType}},{key:"isMerged",get:function(){return this._mergeCount>0||this.type===j.Types.Merge}},{key:"master",get:function(){return this.type===j.Types.Merge?this._value.master:this}},{key:"isHyperlink",get:function(){return this._value.type===j.Types.Hyperlink}},{key:"hyperlink",get:function(){return this._value.hyperlink}},{key:"value",get:function(){return this._value.value},set:function($){this.type!==j.Types.Merge?(this._value.release(),this._value=J.create(J.getType($),this,$)):this._value.master.value=$}},{key:"note",get:function(){return this._comment&&this._comment.note},set:function($){this._comment=new C($)}},{key:"text",get:function(){return this._value.toString()}},{key:"html",get:function(){return O.escapeHtml(this.text)}},{key:"formula",get:function(){return this._value.formula}},{key:"result",get:function(){return this._value.result}},{key:"formulaType",get:function(){return this._value.formulaType}},{key:"fullAddress",get:function(){return{sheetName:this._row.worksheet.name,address:this.address,row:this.row,col:this.col}}},{key:"name",get:function(){return this.names[0]},set:function($){this.names=[$]}},{key:"names",get:function(){return this.workbook.definedNames.getNamesEx(this.fullAddress)},set:function($){var L=this,B=this.workbook.definedNames;B.removeAllNames(this.fullAddress),$.forEach(function(ee){B.addEx(L.fullAddress,ee)})}},{key:"_dataValidations",get:function(){return this.worksheet.dataValidations}},{key:"dataValidation",get:function(){return this._dataValidations.find(this.address)},set:function($){this._dataValidations.add(this.address,$)}},{key:"model",get:function(){var $=this._value.model;return $.style=this.style,this._comment&&($.comment=this._comment.model),$},set:function($){this._value.release(),this._value=J.create($.type,this),this._value.model=$,$.comment&&"note"===$.comment.type&&(this._comment=C.fromModel($.comment)),this.style=$.style?$.style:{}}}]),j}();f.Types=w.ValueType;var d=function(){function j($){k(this,j),this.model={address:$.address,type:f.Types.Null}}return M(j,[{key:"toCsvString",value:function(){return""}},{key:"release",value:function(){}},{key:"toString",value:function(){return""}},{key:"value",get:function(){return null},set:function($){}},{key:"type",get:function(){return f.Types.Null}},{key:"effectiveType",get:function(){return f.Types.Null}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),u=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.Number,value:L}}return M(j,[{key:"toCsvString",value:function(){return this.model.value.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.Number}},{key:"effectiveType",get:function(){return f.Types.Number}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),c=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.String,value:L}}return M(j,[{key:"toCsvString",value:function(){return'"'.concat(this.model.value.replace(/"/g,'""'),'"')}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.String}},{key:"effectiveType",get:function(){return f.Types.String}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),m=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.String,value:L}}return M(j,[{key:"toString",value:function(){return this.model.value.richText.map(function($){return $.text}).join("")}},{key:"toCsvString",value:function(){return'"'.concat(this.text.replace(/"/g,'""'),'"')}},{key:"release",value:function(){}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.RichText}},{key:"effectiveType",get:function(){return f.Types.RichText}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),g=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.Date,value:L}}return M(j,[{key:"toCsvString",value:function(){return this.model.value.toISOString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.Date}},{key:"effectiveType",get:function(){return f.Types.Date}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),y=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.Hyperlink,text:L?L.text:void 0,hyperlink:L?L.hyperlink:void 0},L&&L.tooltip&&(this.model.tooltip=L.tooltip)}return M(j,[{key:"toCsvString",value:function(){return this.model.hyperlink}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.text}},{key:"value",get:function(){var $={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&($.tooltip=this.model.tooltip),$},set:function($){this.model={text:$.text,hyperlink:$.hyperlink},$.tooltip&&(this.model.tooltip=$.tooltip)}},{key:"text",get:function(){return this.model.text},set:function($){this.model.text=$}},{key:"hyperlink",get:function(){return this.model.hyperlink},set:function($){this.model.hyperlink=$}},{key:"type",get:function(){return f.Types.Hyperlink}},{key:"effectiveType",get:function(){return f.Types.Hyperlink}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),b=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.Merge,master:L?L.address:void 0},this._master=L,L&&L.addMergeRef()}return M(j,[{key:"isMergedTo",value:function($){return $===this._master}},{key:"toCsvString",value:function(){return""}},{key:"release",value:function(){this._master.releaseMergeRef()}},{key:"toString",value:function(){return this.value.toString()}},{key:"value",get:function(){return this._master.value},set:function($){$ instanceof f?(this._master&&this._master.releaseMergeRef(),$.addMergeRef(),this._master=$):this._master.value=$}},{key:"master",get:function(){return this._master}},{key:"type",get:function(){return f.Types.Merge}},{key:"effectiveType",get:function(){return this._master.effectiveType}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),S=function(){function j($,L){k(this,j),this.cell=$,this.model={address:$.address,type:f.Types.Formula,shareType:L?L.shareType:void 0,ref:L?L.ref:void 0,formula:L?L.formula:void 0,sharedFormula:L?L.sharedFormula:void 0,result:L?L.result:void 0}}return M(j,[{key:"_copyModel",value:function($){var L={},B=function(ee){var N=$[ee];N&&(L[ee]=N)};return B("formula"),B("result"),B("ref"),B("shareType"),B("sharedFormula"),L}},{key:"validate",value:function($){switch(J.getType($)){case f.Types.Null:case f.Types.String:case f.Types.Number:case f.Types.Date:break;default:throw new Error("Cannot process that type of result value")}}},{key:"_getTranslatedFormula",value:function(){if(!this._translatedFormula&&this.model.sharedFormula){var $=this.cell.worksheet.findCell(this.model.sharedFormula);this._translatedFormula=$&&E($.formula,$.address,this.model.address)}return this._translatedFormula}},{key:"toCsvString",value:function(){return"".concat(this.model.result||"")}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.result?this.model.result.toString():""}},{key:"value",get:function(){return this._copyModel(this.model)},set:function($){this.model=this._copyModel($)}},{key:"dependencies",get:function(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}},{key:"formula",get:function(){return this.model.formula||this._getTranslatedFormula()},set:function($){this.model.formula=$}},{key:"formulaType",get:function(){return this.model.formula?w.FormulaType.Master:this.model.sharedFormula?w.FormulaType.Shared:w.FormulaType.None}},{key:"result",get:function(){return this.model.result},set:function($){this.model.result=$}},{key:"type",get:function(){return f.Types.Formula}},{key:"effectiveType",get:function(){var $=this.model.result;return null==$?w.ValueType.Null:$ instanceof String||"string"==typeof $?w.ValueType.String:"number"==typeof $?w.ValueType.Number:$ instanceof Date?w.ValueType.Date:$.text&&$.hyperlink?w.ValueType.Hyperlink:$.formula?w.ValueType.Formula:w.ValueType.Null}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),A=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.SharedString,value:L}}return M(j,[{key:"toCsvString",value:function(){return this.model.value.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.SharedString}},{key:"effectiveType",get:function(){return f.Types.SharedString}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),P=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.Boolean,value:L}}return M(j,[{key:"toCsvString",value:function(){return this.model.value?1:0}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.toString()}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.Boolean}},{key:"effectiveType",get:function(){return f.Types.Boolean}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),H=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.Error,value:L}}return M(j,[{key:"toCsvString",value:function(){return this.toString()}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value.error.toString()}},{key:"value",get:function(){return this.model.value},set:function($){this.model.value=$}},{key:"type",get:function(){return f.Types.Error}},{key:"effectiveType",get:function(){return f.Types.Error}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),X=function(){function j($,L){k(this,j),this.model={address:$.address,type:f.Types.String,value:JSON.stringify(L),rawValue:L}}return M(j,[{key:"toCsvString",value:function(){return this.model.value}},{key:"release",value:function(){}},{key:"toString",value:function(){return this.model.value}},{key:"value",get:function(){return this.model.rawValue},set:function($){this.model.rawValue=$,this.model.value=JSON.stringify($)}},{key:"type",get:function(){return f.Types.String}},{key:"effectiveType",get:function(){return f.Types.String}},{key:"address",get:function(){return this.model.address},set:function($){this.model.address=$}}]),j}(),J={getType:function(j){return null==j?f.Types.Null:j instanceof String||"string"==typeof j?f.Types.String:"number"==typeof j?f.Types.Number:"boolean"==typeof j?f.Types.Boolean:j instanceof Date?f.Types.Date:j.text&&j.hyperlink?f.Types.Hyperlink:j.formula||j.sharedFormula?f.Types.Formula:j.richText?f.Types.RichText:j.sharedString?f.Types.SharedString:j.error?f.Types.Error:f.Types.JSON},types:[{t:f.Types.Null,f:d},{t:f.Types.Number,f:u},{t:f.Types.String,f:c},{t:f.Types.Date,f:g},{t:f.Types.Hyperlink,f:y},{t:f.Types.Formula,f:S},{t:f.Types.Merge,f:b},{t:f.Types.JSON,f:X},{t:f.Types.SharedString,f:A},{t:f.Types.RichText,f:m},{t:f.Types.Boolean,f:P},{t:f.Types.Error,f:H}].reduce(function(j,$){return j[$.t]=$.f,j},[]),create:function(j,$,L){var B=this.types[j];if(!B)throw new Error("Could not create Value of type ".concat(j));return new B($,L)}};te.exports=f},{"../utils/col-cache":19,"../utils/shared-formula":22,"../utils/under-dash":25,"./enums":7,"./note":9}],4:[function(T,te,W){"use strict";function k(w,E){for(var C=0;C<E.length;C++){var f=E[C];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(w,f.key,f)}}var R=T("../utils/under-dash"),M=T("./enums"),x=T("../utils/col-cache"),O=function(){function w(d,u,c){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,w),this._worksheet=d,this._number=u,!1!==c&&(this.defn=c)}var E,C,f;return E=w,f=[{key:"toModel",value:function(d){var u=[],c=null;return d&&d.forEach(function(m,g){m.isDefault?c&&(c=null):c&&m.equivalentTo(c)?c.max=g+1:u.push(c={min:g+1,max:g+1,width:void 0!==m.width?m.width:9,style:m.style,isCustomWidth:m.isCustomWidth,hidden:m.hidden,outlineLevel:m.outlineLevel,collapsed:m.collapsed})}),u.length?u:void 0}},{key:"fromModel",value:function(d,u){u=u||[];for(var c=[],m=1,g=0;g<u.length;){for(var y=u[g++];m<y.min;)c.push(new w(d,m++));for(;m<=y.max;)c.push(new w(d,m++,y))}return c.length?c:null}}],(C=[{key:"toString",value:function(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}},{key:"equivalentTo",value:function(d){return this.width===d.width&&this.hidden===d.hidden&&this.outlineLevel===d.outlineLevel&&R.isEqual(this.style,d.style)}},{key:"eachCell",value:function(d,u){var c=this.number;u||(u=d,d=null),this._worksheet.eachRow(d,function(m,g){u(m.getCell(c),g)})}},{key:"_applyStyle",value:function(d,u){return this.style[d]=u,this.eachCell(function(c){c[d]=u}),u}},{key:"number",get:function(){return this._number}},{key:"worksheet",get:function(){return this._worksheet}},{key:"letter",get:function(){return x.n2l(this._number)}},{key:"isCustomWidth",get:function(){return void 0!==this.width&&9!==this.width}},{key:"defn",get:function(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}},set:function(d){d?(this.key=d.key,this.width=void 0!==d.width?d.width:9,this.outlineLevel=d.outlineLevel,this.style=d.style?d.style:{},this.header=d.header,this._hidden=!!d.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}},{key:"headers",get:function(){return this._header&&this._header instanceof Array?this._header:[this._header]}},{key:"header",get:function(){return this._header},set:function(d){var u=this;void 0!==d?(this._header=d,this.headers.forEach(function(c,m){u._worksheet.getCell(m+1,u.number).value=c})):this._header=void 0}},{key:"key",get:function(){return this._key},set:function(d){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=d,d&&this._worksheet.setColumnKey(this._key,this)}},{key:"hidden",get:function(){return!!this._hidden},set:function(d){this._hidden=d}},{key:"outlineLevel",get:function(){return this._outlineLevel||0},set:function(d){this._outlineLevel=d}},{key:"collapsed",get:function(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}},{key:"isDefault",get:function(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;var d=this.style;return!d||!(d.font||d.numFmt||d.alignment||d.border||d.fill||d.protection)}},{key:"headerCount",get:function(){return this.headers.length}},{key:"values",get:function(){var d=[];return this.eachCell(function(u,c){u&&u.type!==M.ValueType.Null&&(d[c]=u.value)}),d},set:function(d){var u=this;if(d){var c=this.number,m=0;d.hasOwnProperty("0")&&(m=1),d.forEach(function(g,y){u._worksheet.getCell(y+m,c).value=g})}}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(d){this._applyStyle("numFmt",d)}},{key:"font",get:function(){return this.style.font},set:function(d){this._applyStyle("font",d)}},{key:"alignment",get:function(){return this.style.alignment},set:function(d){this._applyStyle("alignment",d)}},{key:"protection",get:function(){return this.style.protection},set:function(d){this._applyStyle("protection",d)}},{key:"border",get:function(){return this.style.border},set:function(d){this._applyStyle("border",d)}},{key:"fill",get:function(){return this.style.fill},set:function(d){this._applyStyle("fill",d)}}])&&k(E.prototype,C),f&&k(E,f),w}();te.exports=O},{"../utils/col-cache":19,"../utils/under-dash":25,"./enums":7}],5:[function(T,te,W){"use strict";function k(M,x){for(var O=0;O<x.length;O++){var w=x[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(M,w.key,w)}}var R=function(){function M(E){(function(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")})(this,M),this.model=E||{}}var x,O;return x=M,(O=[{key:"add",value:function(E,C){return this.model[E]=C}},{key:"find",value:function(E){return this.model[E]}},{key:"remove",value:function(E){this.model[E]=void 0}}])&&k(x.prototype,O),M}();te.exports=R},{}],6:[function(T,te,W){"use strict";function k(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}var R=T("../utils/under-dash"),M=T("../utils/col-cache"),x=T("../utils/cell-matrix"),O=T("./range"),w=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/,E=function(){function C(){(function(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")})(this,C),this.matrixMap={}}var f,d;return f=C,(d=[{key:"getMatrix",value:function(c){return this.matrixMap[c]||(this.matrixMap[c]=new x)}},{key:"add",value:function(c,m){var g=M.decodeEx(c);this.addEx(g,m)}},{key:"addEx",value:function(c,m){var g=this.getMatrix(m);if(c.top)for(var y=c.left;y<=c.right;y++)for(var b=c.top;b<=c.bottom;b++){var S={sheetName:c.sheetName,address:M.n2l(y)+b,row:b,col:y};g.addCellEx(S)}else g.addCellEx(c)}},{key:"remove",value:function(c,m){var g=M.decodeEx(c);this.removeEx(g,m)}},{key:"removeEx",value:function(c,m){this.getMatrix(m).removeCellEx(c)}},{key:"removeAllNames",value:function(c){R.each(this.matrixMap,function(m){m.removeCellEx(c)})}},{key:"forEach",value:function(c){R.each(this.matrixMap,function(m,g){m.forEach(function(y){c(g,y)})})}},{key:"getNames",value:function(c){return this.getNamesEx(M.decodeEx(c))}},{key:"getNamesEx",value:function(c){return R.map(this.matrixMap,function(m,g){return m.findCellEx(c)&&g}).filter(Boolean)}},{key:"_explore",value:function(c,m){m.mark=!1;var g,y,b=m.sheetName,S=new O(m.row,m.col,m.row,m.col,b);function A(H,X){var J=c.findCellAt(b,H,m.col);return!(!J||!J.mark||(S[X]=H,J.mark=!1,0))}for(y=m.row-1;A(y,"top");y--);for(y=m.row+1;A(y,"bottom");y++);function P(H,X){var J=[];for(y=S.top;y<=S.bottom;y++){var j=c.findCellAt(b,y,H);if(!j||!j.mark)return!1;J.push(j)}S[X]=H;for(var $=0;$<J.length;$++)J[$].mark=!1;return!0}for(g=m.col-1;P(g,"left");g--);for(g=m.col+1;P(g,"right");g++);return S}},{key:"getRanges",value:function(c,m){var g=this;return(m=m||this.matrixMap[c])?(m.forEach(function(y){y.mark=!0}),{name:c,ranges:m.map(function(y){return y.mark&&g._explore(m,y)}).filter(Boolean).map(function(y){return y.$shortRange})}):{name:c,ranges:[]}}},{key:"normaliseMatrix",value:function(c,m){c.forEachInSheet(m,function(g,y,b){g&&(g.row===y&&g.col===b||(g.row=y,g.col=b,g.address=M.n2l(b)+y))})}},{key:"spliceRows",value:function(c,m,g,y){var b=this;R.each(this.matrixMap,function(S){S.spliceRows(c,m,g,y),b.normaliseMatrix(S,c)})}},{key:"spliceColumns",value:function(c,m,g,y){var b=this;R.each(this.matrixMap,function(S){S.spliceColumns(c,m,g,y),b.normaliseMatrix(S,c)})}},{key:"model",get:function(){var c=this;return R.map(this.matrixMap,function(m,g){return c.getRanges(g,m)}).filter(function(m){return m.ranges.length})},set:function(c){var m=this.matrixMap={};c.forEach(function(g){var y=m[g.name]=new x;g.ranges.forEach(function(b){w.test(b.split("!").pop()||"")&&y.addCell(b)})})}}])&&k(f.prototype,d),C}();te.exports=E},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":25,"./range":10}],7:[function(T,te,W){"use strict";te.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(T,te,W){"use strict";function k(O,w){for(var E=0;E<w.length;E++){var C=w[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}var R=T("../utils/col-cache"),M=T("./anchor"),x=function(){function O(f,d){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,O),this.worksheet=f,this.model=d}var w,E;return w=O,(E=[{key:"model",get:function(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}},set:function(f){var d=f.type,u=f.imageId,c=f.range,m=f.hyperlinks;if(this.type=d,this.imageId=u,"image"===d)if("string"==typeof c){var g=R.decode(c);this.range={tl:new M(this.worksheet,{col:g.left,row:g.top},-1),br:new M(this.worksheet,{col:g.right,row:g.bottom},0),editAs:"oneCell"}}else this.range={tl:new M(this.worksheet,c.tl,0),br:c.br&&new M(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:m||c.hyperlinks}}}])&&k(w.prototype,E),O}();te.exports=x},{"../utils/col-cache":19,"./anchor":2}],9:[function(T,te,W){"use strict";function k(O){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(O)}function R(O,w){for(var E=0;E<w.length;E++){var C=w[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}var M=T("../utils/under-dash"),x=function(){function O(f){(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,O),this.note=f}var w,E,C;return w=O,C=[{key:"fromModel",value:function(f){var d=new O;return d.model=f,d}}],(E=[{key:"model",get:function(){var f;return f="string"===k(this.note)?{type:"note",note:{texts:[{text:this.note}]}}:{type:"note",note:this.note},M.deepMerge({},O.DEFAULT_CONFIGS,f)},set:function(f){var d=f.note,u=d.texts;this.note=1===u.length&&1===Object.keys(u[0]).length?u[0].text:d}}])&&R(w.prototype,E),C&&R(w,C),O}();x.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},te.exports=x},{"../utils/under-dash":25}],10:[function(T,te,W){"use strict";function k(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function R(O,w){for(var E=0;E<w.length;E++){var C=w[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}var M=T("../utils/col-cache"),x=function(){function O(){k(this,O),this.decode(arguments)}var w,E;return w=O,(E=[{key:"setTLBR",value:function(f,d,u,c,m){if(arguments.length<4){var g=M.decodeAddress(f),y=M.decodeAddress(d);this.model={top:Math.min(g.row,y.row),left:Math.min(g.col,y.col),bottom:Math.max(g.row,y.row),right:Math.max(g.col,y.col),sheetName:u},this.setTLBR(g.row,g.col,y.row,y.col,m)}else this.model={top:Math.min(f,u),left:Math.min(d,c),bottom:Math.max(f,u),right:Math.max(d,c),sheetName:m}}},{key:"decode",value:function(f){switch(f.length){case 5:this.setTLBR(f[0],f[1],f[2],f[3],f[4]);break;case 4:this.setTLBR(f[0],f[1],f[2],f[3]);break;case 3:this.setTLBR(f[0],f[1],f[2]);break;case 2:this.setTLBR(f[0],f[1]);break;case 1:var d=f[0];if(d instanceof O)this.model={top:d.model.top,left:d.model.left,bottom:d.model.bottom,right:d.model.right,sheetName:d.sheetName};else if(d instanceof Array)this.decode(d);else if(d.top&&d.left&&d.bottom&&d.right)this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName};else{var u=M.decodeEx(d);this.model=u.top?{top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:{top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break;case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - ".concat(f.length))}}},{key:"expand",value:function(f,d,u,c){(!this.model.top||f<this.top)&&(this.top=f),(!this.model.left||d<this.left)&&(this.left=d),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||c>this.right)&&(this.right=c)}},{key:"expandRow",value:function(f){if(f){var d=f.dimensions,u=f.number;d&&this.expand(u,d.min,u,d.max)}}},{key:"expandToAddress",value:function(f){var d=M.decodeEx(f);this.expand(d.row,d.col,d.row,d.col)}},{key:"toString",value:function(){return this.range}},{key:"intersects",value:function(f){return!(f.sheetName&&this.sheetName&&f.sheetName!==this.sheetName||f.bottom<this.top||f.top>this.bottom||f.right<this.left||f.left>this.right)}},{key:"contains",value:function(f){var d=M.decodeEx(f);return this.containsEx(d)}},{key:"containsEx",value:function(f){return(!f.sheetName||!this.sheetName||f.sheetName===this.sheetName)&&f.row>=this.top&&f.row<=this.bottom&&f.col>=this.left&&f.col<=this.right}},{key:"forEachAddress",value:function(f){for(var d=this.left;d<=this.right;d++)for(var u=this.top;u<=this.bottom;u++)f(M.encodeAddress(u,d),u,d)}},{key:"top",get:function(){return this.model.top||1},set:function(f){this.model.top=f}},{key:"left",get:function(){return this.model.left||1},set:function(f){this.model.left=f}},{key:"bottom",get:function(){return this.model.bottom||1},set:function(f){this.model.bottom=f}},{key:"right",get:function(){return this.model.right||1},set:function(f){this.model.right=f}},{key:"sheetName",get:function(){return this.model.sheetName},set:function(f){this.model.sheetName=f}},{key:"_serialisedSheetName",get:function(){var f=this.model.sheetName;return f?/^[a-zA-Z0-9]*$/.test(f)?"".concat(f,"!"):"'".concat(f,"'!"):""}},{key:"tl",get:function(){return M.n2l(this.left)+this.top}},{key:"$t$l",get:function(){return"$".concat(M.n2l(this.left),"$").concat(this.top)}},{key:"br",get:function(){return M.n2l(this.right)+this.bottom}},{key:"$b$r",get:function(){return"$".concat(M.n2l(this.right),"$").concat(this.bottom)}},{key:"range",get:function(){return"".concat(this._serialisedSheetName+this.tl,":").concat(this.br)}},{key:"$range",get:function(){return"".concat(this._serialisedSheetName+this.$t$l,":").concat(this.$b$r)}},{key:"shortRange",get:function(){return this.count>1?this.range:this._serialisedSheetName+this.tl}},{key:"$shortRange",get:function(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}},{key:"count",get:function(){return(1+this.bottom-this.top)*(1+this.right-this.left)}}])&&R(w.prototype,E),O}();te.exports=x},{"../utils/col-cache":19}],11:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}var R=T("../utils/under-dash"),M=T("./enums"),x=T("../utils/col-cache"),O=T("./cell"),w=function(){function E(u,c){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,E),this._worksheet=u,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}var C,f;return C=E,(f=[{key:"commit",value:function(){this._worksheet._commitRow(this)}},{key:"destroy",value:function(){delete this._worksheet,delete this._cells,delete this.style}},{key:"findCell",value:function(u){return this._cells[u-1]}},{key:"getCellEx",value:function(u){var c=this._cells[u.col-1];if(!c){var m=this._worksheet.getColumn(u.col);c=new O(this,m,u.address),this._cells[u.col-1]=c}return c}},{key:"getCell",value:function(u){if("string"==typeof u){var c=this._worksheet.getColumnKey(u);u=c?c.number:x.l2n(u)}return this._cells[u-1]||this.getCellEx({address:x.encodeAddress(this._number,u),row:this._number,col:u})}},{key:"splice",value:function(u,c){for(var m=u+c,g=arguments.length,y=new Array(g>2?g-2:0),b=2;b<g;b++)y[b-2]=arguments[b];var S,A,P,H=y.length-c,X=this._cells.length;if(H<0)for(S=u+y.length;S<=X;S++)P=this._cells[S-1],(A=this._cells[S-H-1])?((P=this.getCell(S)).value=A.value,P.style=A.style,P._comment=A._comment):P&&(P.value=null,P.style={},P._comment=void 0);else if(H>0)for(S=X;S>=m;S--)(A=this._cells[S-1])?((P=this.getCell(S+H)).value=A.value,P.style=A.style,P._comment=A._comment):this._cells[S+H-1]=void 0;for(S=0;S<y.length;S++)(P=this.getCell(u+S)).value=y[S],P.style={},P._comment=void 0}},{key:"eachCell",value:function(u,c){if(c||(c=u,u=null),u&&u.includeEmpty)for(var m=this._cells.length,g=1;g<=m;g++)c(this.getCell(g),g);else this._cells.forEach(function(y,b){y&&y.type!==M.ValueType.Null&&c(y,b+1)})}},{key:"addPageBreak",value:function(u,c){var m=this._worksheet,g=Math.max(0,u-1)||0,y=Math.max(0,c-1)||16838,b={id:this._number,max:y,man:1};g&&(b.min=g),m.rowBreaks.push(b)}},{key:"_applyStyle",value:function(u,c){return this.style[u]=c,this._cells.forEach(function(m){m&&(m[u]=c)}),c}},{key:"number",get:function(){return this._number}},{key:"worksheet",get:function(){return this._worksheet}},{key:"values",get:function(){var u=[];return this._cells.forEach(function(c){c&&c.type!==M.ValueType.Null&&(u[c.col]=c.value)}),u},set:function(u){var c=this;if(this._cells=[],u)if(u instanceof Array){var m=0;u.hasOwnProperty("0")&&(m=1),u.forEach(function(g,y){void 0!==g&&(c.getCellEx({address:x.encodeAddress(c._number,y+m),row:c._number,col:y+m}).value=g)})}else this._worksheet.eachColumnKey(function(g,y){void 0!==u[y]&&(c.getCellEx({address:x.encodeAddress(c._number,g.number),row:c._number,col:g.number}).value=u[y])})}},{key:"hasValues",get:function(){return R.some(this._cells,function(u){return u&&u.type!==M.ValueType.Null})}},{key:"cellCount",get:function(){return this._cells.length}},{key:"actualCellCount",get:function(){var u=0;return this.eachCell(function(){u++}),u}},{key:"dimensions",get:function(){var u=0,c=0;return this._cells.forEach(function(m){m&&m.type!==M.ValueType.Null&&((!u||u>m.col)&&(u=m.col),c<m.col&&(c=m.col))}),u>0?{min:u,max:c}:null}},{key:"numFmt",get:function(){return this.style.numFmt},set:function(u){this._applyStyle("numFmt",u)}},{key:"font",get:function(){return this.style.font},set:function(u){this._applyStyle("font",u)}},{key:"alignment",get:function(){return this.style.alignment},set:function(u){this._applyStyle("alignment",u)}},{key:"protection",get:function(){return this.style.protection},set:function(u){this._applyStyle("protection",u)}},{key:"border",get:function(){return this.style.border},set:function(u){this._applyStyle("border",u)}},{key:"fill",get:function(){return this.style.fill},set:function(u){this._applyStyle("fill",u)}},{key:"hidden",get:function(){return!!this._hidden},set:function(u){this._hidden=u}},{key:"outlineLevel",get:function(){return this._outlineLevel||0},set:function(u){this._outlineLevel=u}},{key:"collapsed",get:function(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}},{key:"model",get:function(){var u=[],c=0,m=0;return this._cells.forEach(function(g){if(g){var y=g.model;y&&((!c||c>g.col)&&(c=g.col),m<g.col&&(m=g.col),u.push(y))}}),this.height||u.length?{cells:u,number:this.number,min:c,max:m,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null},set:function(u){var c,m=this;if(u.number!==this._number)throw new Error("Invalid row number in model");this._cells=[],u.cells.forEach(function(g){if(g.type===O.Types.Merge);else{var y;if(g.address)y=x.decodeAddress(g.address);else if(c){var b=c.row,S=c.col+1;y={row:b,col:S,address:x.encodeAddress(b,S),$col$row:"$".concat(x.n2l(S),"$").concat(b)}}c=y,m.getCellEx(y).model=g}}),u.height?this.height=u.height:delete this.height,this.hidden=u.hidden,this.outlineLevel=u.outlineLevel||0,this.style=u.style&&JSON.parse(JSON.stringify(u.style))||{}}}])&&k(C.prototype,f),E}();te.exports=w},{"../utils/col-cache":19,"../utils/under-dash":25,"./cell":3,"./enums":7}],12:[function(T,te,W){"use strict";function k(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function R(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}function M(E,C,f){return C&&R(E.prototype,C),f&&R(E,f),E}var x=T("../utils/col-cache"),O=function(){function E(C,f,d){k(this,E),this.table=C,this.column=f,this.index=d}return M(E,[{key:"_set",value:function(C,f){this.table.cacheState(),this.column[C]=f}},{key:"name",get:function(){return this.column.name},set:function(C){this._set("name",C)}},{key:"filterButton",get:function(){return this.column.filterButton},set:function(C){this.column.filterButton=C}},{key:"style",get:function(){return this.column.style},set:function(C){this.column.style=C}},{key:"totalsRowLabel",get:function(){return this.column.totalsRowLabel},set:function(C){this._set("totalsRowLabel",C)}},{key:"totalsRowFunction",get:function(){return this.column.totalsRowFunction},set:function(C){this._set("totalsRowFunction",C)}},{key:"totalsRowResult",get:function(){return this.column.totalsRowResult},set:function(C){this._set("totalsRowResult",C)}},{key:"totalsRowFormula",get:function(){return this.column.totalsRowFormula},set:function(C){this._set("totalsRowFormula",C)}}]),E}(),w=function(){function E(C,f){k(this,E),this.worksheet=C,f&&(this.table=f,this.validate(),this.store())}return M(E,[{key:"getFormula",value:function(C){switch(C.totalsRowFunction){case"none":return null;case"average":return"SUBTOTAL(101,".concat(this.table.name,"[").concat(C.name,"])");case"countNums":return"SUBTOTAL(102,".concat(this.table.name,"[").concat(C.name,"])");case"count":return"SUBTOTAL(103,".concat(this.table.name,"[").concat(C.name,"])");case"max":return"SUBTOTAL(104,".concat(this.table.name,"[").concat(C.name,"])");case"min":return"SUBTOTAL(105,".concat(this.table.name,"[").concat(C.name,"])");case"stdDev":return"SUBTOTAL(106,".concat(this.table.name,"[").concat(C.name,"])");case"var":return"SUBTOTAL(107,".concat(this.table.name,"[").concat(C.name,"])");case"sum":return"SUBTOTAL(109,".concat(this.table.name,"[").concat(C.name,"])");case"custom":return C.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: ".concat(C.totalsRowFunction))}}},{key:"validate",value:function(){var C=this,f=this.table,d=function(A,P,H){void 0===A[P]&&(A[P]=H)};d(f,"headerRow",!0),d(f,"totalsRow",!1),d(f,"style",{}),d(f.style,"theme","TableStyleMedium2"),d(f.style,"showFirstColumn",!1),d(f.style,"showLastColumn",!1),d(f.style,"showRowStripes",!1),d(f.style,"showColumnStripes",!1);var u=function(A,P){if(!A)throw new Error(P)};u(f.ref,"Table must have ref"),u(f.columns,"Table must have column definitions"),u(f.rows,"Table must have row definitions"),f.tl=x.decodeAddress(f.ref);var c=f.tl,m=c.row,g=c.col;u(m>0,"Table must be on valid row"),u(g>0,"Table must be on valid col");var y=this.width,S=this.tableHeight;f.autoFilterRef=x.encode(m,g,m+this.filterHeight-1,g+y-1),f.tableRef=x.encode(m,g,m+S-1,g+y-1),f.columns.forEach(function(A,P){u(A.name,"Column ".concat(P," must have a name")),0===P?d(A,"totalsRowLabel","Total"):(d(A,"totalsRowFunction","none"),A.totalsRowFormula=C.getFormula(A))})}},{key:"store",value:function(){var C=this,f=function(A,P){P&&Object.keys(P).forEach(function(H){A[H]=P[H]})},d=this.worksheet,u=this.table,c=u.tl,m=c.row,g=c.col,y=0;if(u.headerRow){var b=d.getRow(m+y++);u.columns.forEach(function(A,P){var H=A.style,X=A.name,J=b.getCell(g+P);J.value=X,f(J,H)})}if(u.rows.forEach(function(A){var P=d.getRow(m+y++);A.forEach(function(H,X){var J=P.getCell(g+X);J.value=H,f(J,u.columns[X].style)})}),u.totalsRow){var S=d.getRow(m+y++);u.columns.forEach(function(A,P){var H=S.getCell(g+P);if(0===P)H.value=A.totalsRowLabel;else{var X=C.getFormula(A);H.value=X?{formula:A.totalsRowFormula,result:A.totalsRowResult}:null}f(H,A.style)})}}},{key:"load",value:function(C){var f=this,d=this.table,u=d.tl,c=u.row,m=u.col,g=0;if(d.headerRow){var y=C.getRow(c+g++);d.columns.forEach(function(S,A){y.getCell(m+A).value=S.name})}if(d.rows.forEach(function(S){var A=C.getRow(c+g++);S.forEach(function(P,H){A.getCell(m+H).value=P})}),d.totalsRow){var b=C.getRow(c+g++);d.columns.forEach(function(S,A){var P=b.getCell(m+A);0===A?P.value=S.totalsRowLabel:f.getFormula(S)&&(P.value={formula:S.totalsRowFormula,result:S.totalsRowResult})})}}},{key:"cacheState",value:function(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}},{key:"commit",value:function(){if(this._cache){this.validate();var C=x.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(var f=0;f<this._cache.tableHeight;f++)for(var d=this.worksheet.getRow(C.row+f),u=0;u<this._cache.width;u++)d.getCell(C.col+u).value=null;else{for(var c=this.tableHeight;c<this._cache.tableHeight;c++)for(var m=this.worksheet.getRow(C.row+c),g=0;g<this._cache.width;g++)m.getCell(C.col+g).value=null;for(var y=0;y<this.tableHeight;y++)for(var b=this.worksheet.getRow(C.row+y),S=this.width;S<this._cache.width;S++)b.getCell(C.col+S).value=null}this.store()}}},{key:"addRow",value:function(C,f){this.cacheState(),void 0===f?this.table.rows.push(C):this.table.rows.splice(f,0,C)}},{key:"removeRows",value:function(C){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.rows.splice(C,f)}},{key:"getColumn",value:function(C){return new O(this,this.table.columns[C],C)}},{key:"addColumn",value:function(C,f,d){this.cacheState(),void 0===d?(this.table.columns.push(C),this.table.rows.forEach(function(u,c){u.push(f[c])})):(this.table.columns.splice(d,0,C),this.table.rows.forEach(function(u,c){u.splice(d,0,f[c])}))}},{key:"removeColumns",value:function(C){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cacheState(),this.table.columns.splice(C,f),this.table.rows.forEach(function(d){d.splice(C,f)})}},{key:"_assign",value:function(C,f,d){this.cacheState(),C[f]=d}},{key:"width",get:function(){return this.table.columns.length}},{key:"height",get:function(){return this.table.rows.length}},{key:"filterHeight",get:function(){return this.height+(this.table.headerRow?1:0)}},{key:"tableHeight",get:function(){return this.filterHeight+(this.table.totalsRow?1:0)}},{key:"model",get:function(){return this.table},set:function(C){this.table=C}},{key:"ref",get:function(){return this.table.ref},set:function(C){this._assign(this.table,"ref",C)}},{key:"name",get:function(){return this.table.name},set:function(C){this.table.name=C}},{key:"displayName",get:function(){return this.table.displyName||this.table.name}},{key:"displayNamename",set:function(C){this.table.displayName=C}},{key:"headerRow",get:function(){return this.table.headerRow},set:function(C){this._assign(this.table,"headerRow",C)}},{key:"totalsRow",get:function(){return this.table.totalsRow},set:function(C){this._assign(this.table,"totalsRow",C)}},{key:"theme",get:function(){return this.table.style.name},set:function(C){this.table.style.name=C}},{key:"showFirstColumn",get:function(){return this.table.style.showFirstColumn},set:function(C){this.table.style.showFirstColumn=C}},{key:"showLastColumn",get:function(){return this.table.style.showLastColumn},set:function(C){this.table.style.showLastColumn=C}},{key:"showRowStripes",get:function(){return this.table.style.showRowStripes},set:function(C){this.table.style.showRowStripes=C}},{key:"showColumnStripes",get:function(){return this.table.style.showColumnStripes},set:function(C){this.table.style.showColumnStripes=C}}]),E}();te.exports=w},{"../utils/col-cache":19}],13:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}var R=T("./worksheet"),M=T("./defined-names"),x=T("../xlsx/xlsx"),O=T("../csv/csv"),w=function(){function E(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,E),this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new M}var C,f;return C=E,(f=[{key:"addWorksheet",value:function(u,c){var m=this.nextId;if(u&&u.length>31&&console.warn("Worksheet name ".concat(u," exceeds 31 chars. This will be truncated")),/[*?:/\\[\]]/.test(u))throw new Error("Worksheet name ".concat(u," cannot include any of the following characters: * ? : \\ / [ ]"));if(/(^')|('$)/.test(u))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: ".concat(u));if(u=(u||"sheet".concat(m)).substring(0,31),this._worksheets.find(function(S){return S&&S.name.toLowerCase()===u.toLowerCase()}))throw new Error("Worksheet name already exists: ".concat(u));c&&("string"==typeof c?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));var g=this._worksheets.reduce(function(S,A){return(A&&A.orderNo)>S?A.orderNo:S},0),y=Object.assign({},c,{id:m,name:u,orderNo:g+1,workbook:this}),b=new R(y);return this._worksheets[m]=b,b}},{key:"removeWorksheetEx",value:function(u){delete this._worksheets[u.id]}},{key:"removeWorksheet",value:function(u){var c=this.getWorksheet(u);c&&c.destroy()}},{key:"getWorksheet",value:function(u){return void 0===u?this._worksheets.find(Boolean):"number"==typeof u?this._worksheets[u]:"string"==typeof u?this._worksheets.find(function(c){return c&&c.name===u}):void 0}},{key:"eachSheet",value:function(u){this.worksheets.forEach(function(c){u(c,c.id)})}},{key:"clearThemes",value:function(){this._themes=void 0}},{key:"addImage",value:function(u){var c=this.media.length;return this.media.push(Object.assign({},u,{type:"image"})),c}},{key:"getImage",value:function(u){return this.media[u]}},{key:"xlsx",get:function(){return this._xlsx||(this._xlsx=new x(this)),this._xlsx}},{key:"csv",get:function(){return this._csv||(this._csv=new O(this)),this._csv}},{key:"nextId",get:function(){for(var u=1;u<this._worksheets.length;u++)if(!this._worksheets[u])return u;return this._worksheets.length||1}},{key:"worksheets",get:function(){return this._worksheets.slice(1).sort(function(u,c){return u.orderNo-c.orderNo}).filter(Boolean)}},{key:"definedNames",get:function(){return this._definedNames}},{key:"model",get:function(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(function(u){return u.model}),sheets:this.worksheets.map(function(u){return u.model}).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}},set:function(u){var c=this;this.creator=u.creator,this.lastModifiedBy=u.lastModifiedBy,this.lastPrinted=u.lastPrinted,this.created=u.created,this.modified=u.modified,this.company=u.company,this.manager=u.manager,this.title=u.title,this.subject=u.subject,this.keywords=u.keywords,this.category=u.category,this.description=u.description,this.language=u.language,this.revision=u.revision,this.contentStatus=u.contentStatus,this.properties=u.properties,this.calcProperties=u.calcProperties,this._worksheets=[],u.worksheets.forEach(function(m){var g=m.id,y=m.name,b=m.state,S=u.sheets&&u.sheets.findIndex(function(A){return A.id===g});(c._worksheets[g]=new R({id:g,name:y,orderNo:S,state:b,workbook:c})).model=m}),this._definedNames.model=u.definedNames,this.views=u.views,this._themes=u.themes,this.media=u.media||[]}}])&&k(C.prototype,f),E}();te.exports=w},{"../csv/csv":1,"../xlsx/xlsx":141,"./defined-names":6,"./worksheet":14}],14:[function(T,te,W){"use strict";function k(A,P){var H=Object.keys(A);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(A);P&&(X=X.filter(function(J){return Object.getOwnPropertyDescriptor(A,J).enumerable})),H.push.apply(H,X)}return H}function R(A){for(var P=1;P<arguments.length;P++){var H=null!=arguments[P]?arguments[P]:{};P%2?k(Object(H),!0).forEach(function(X){M(A,X,H[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(H)):k(Object(H)).forEach(function(X){Object.defineProperty(A,X,Object.getOwnPropertyDescriptor(H,X))})}return A}function M(A,P,H){return P in A?Object.defineProperty(A,P,{value:H,enumerable:!0,configurable:!0,writable:!0}):A[P]=H,A}function x(A){return function(P){if(Array.isArray(P))return O(P)}(A)||function(P){if(typeof Symbol<"u"&&Symbol.iterator in Object(P))return Array.from(P)}(A)||function(P,H){if(P){if("string"==typeof P)return O(P,H);var X=Object.prototype.toString.call(P).slice(8,-1);if("Object"===X&&P.constructor&&(X=P.constructor.name),"Map"===X||"Set"===X)return Array.from(P);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return O(P,H)}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(A,P){(null==P||P>A.length)&&(P=A.length);for(var H=0,X=new Array(P);H<P;H++)X[H]=A[H];return X}function w(A,P){for(var H=0;H<P.length;H++){var X=P[H];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(A,X.key,X)}}var E=T("../utils/under-dash"),C=T("../utils/col-cache"),f=T("./range"),d=T("./row"),u=T("./column"),c=T("./enums"),m=T("./image"),g=T("./table"),y=T("./data-validations"),b=T("../utils/encryptor"),S=function(){function A(J){(function(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")})(this,A),this.id=(J=J||{}).id,this.orderNo=J.orderNo,this.name=J.name||"Sheet".concat(this.id),this.state=J.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this._workbook=J.workbook,this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},J.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!J.pageSetup||!J.pageSetup.fitToWidth&&!J.pageSetup.fitToHeight||J.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},J.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},J.headerFooter),this.dataValidations=new y,this.views=J.views||[],this.autoFilter=J.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}var P,H;return P=A,(H=[{key:"destroy",value:function(){this._workbook.removeWorksheetEx(this)}},{key:"getColumnKey",value:function(J){return this._keys[J]}},{key:"setColumnKey",value:function(J,j){this._keys[J]=j}},{key:"deleteColumnKey",value:function(J){delete this._keys[J]}},{key:"eachColumnKey",value:function(J){E.each(this._keys,J)}},{key:"getColumn",value:function(J){if("string"==typeof J){var j=this._keys[J];if(j)return j;J=C.l2n(J)}if(this._columns||(this._columns=[]),J>this._columns.length)for(var $=this._columns.length+1;$<=J;)this._columns.push(new u(this,$++));return this._columns[J-1]}},{key:"spliceColumns",value:function(J,j){for(var $=this,B=this._rows.length,ee=arguments.length,N=new Array(ee>2?ee-2:0),V=2;V<ee;V++)N[V-2]=arguments[V];if(N.length>0)for(var U=function(pe){var _e=[J,j];N.forEach(function(q){_e.push(q[pe]||null)});var me=$.getRow(pe+1);me.splice.apply(me,_e)},Q=0;Q<B;Q++)U(Q);else this._rows.forEach(function(pe){pe&&pe.splice(J,j)});var Z=N.length-j,K=J+j,ne=this._columns.length;if(Z<0)for(var ue=J+N.length;ue<=ne;ue++)this.getColumn(ue).defn=this.getColumn(ue-Z).defn;else if(Z>0)for(var ce=ne;ce>=K;ce--)this.getColumn(ce+Z).defn=this.getColumn(ce).defn;for(var de=J;de<J+N.length;de++)this.getColumn(de).defn=null;this.workbook.definedNames.spliceColumns(this.name,J,j,N.length)}},{key:"_commitRow",value:function(){}},{key:"findRow",value:function(J){return this._rows[J-1]}},{key:"findRows",value:function(J,j){return this._rows.slice(J-1,J-1+j)}},{key:"getRow",value:function(J){var j=this._rows[J-1];return j||(j=this._rows[J-1]=new d(this,J)),j}},{key:"getRows",value:function(J,j){if(!(j<1)){for(var $=[],L=J;L<J+j;L++)$.push(this.getRow(L));return $}}},{key:"addRow",value:function(J){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",$=this._nextRow,L=this.getRow($);return L.values=J,this._setStyleOption($,"i"===j[0]?j:"n"),L}},{key:"addRows",value:function(J){var j=this,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",L=[];return J.forEach(function(B){L.push(j.addRow(B,$))}),L}},{key:"insertRow",value:function(J,j){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";return this.spliceRows(J,0,j),this._setStyleOption(J,$),this.getRow(J)}},{key:"insertRows",value:function(J,j){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"n";if(this.spliceRows.apply(this,[J,0].concat(x(j))),"n"!==$)for(var L=0;L<j.length;L++)"o"===$[0]&&void 0!==this.findRow(j.length+J+L)?this._copyStyle(j.length+J+L,J+L,"+"===$[1]):"i"===$[0]&&void 0!==this.findRow(J-1)&&this._copyStyle(J-1,J+L,"+"===$[1]);return this.getRows(J,j.length)}},{key:"_setStyleOption",value:function(J){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n";"o"===j[0]&&void 0!==this.findRow(J+1)?this._copyStyle(J+1,J,"+"===j[1]):"i"===j[0]&&void 0!==this.findRow(J-1)&&this._copyStyle(J-1,J,"+"===j[1])}},{key:"_copyStyle",value:function(J,j){var $=arguments.length>2&&void 0!==arguments[2]&&arguments[2],L=this.getRow(J),B=this.getRow(j);B.style=Object.freeze(R({},L.style)),L.eachCell({includeEmpty:$},function(ee,N){B.getCell(N).style=Object.freeze(R({},ee.style))}),B.height=L.height}},{key:"duplicateRow",value:function(J,j){var $=this,L=arguments.length>2&&void 0!==arguments[2]&&arguments[2],B=this._rows[J-1],ee=new Array(j).fill(B.values);this.spliceRows.apply(this,[J+1,L?0:j].concat(x(ee)));for(var N=function(U){var Q=$._rows[J+U];Q.style=B.style,Q.height=B.height,B.eachCell({includeEmpty:!0},function(Z,K){Q.getCell(K).style=Z.style})},V=0;V<j;V++)N(V)}},{key:"spliceRows",value:function(J,j){for(var $=this,L=J+j,B=arguments.length,ee=new Array(B>2?B-2:0),N=2;N<B;N++)ee[N-2]=arguments[N];var V,U,Q=ee.length,Z=Q-j,K=this._rows.length;if(Z<0)for(V=L;V<=K;V++)(U=this._rows[V-1])?function(){var ue=$.getRow(V+Z);ue.values=U.values,ue.style=U.style,ue.height=U.height,U.eachCell({includeEmpty:!0},function(ce,de){ue.getCell(de).style=ce.style}),$._rows[V-1]=void 0}():this._rows[V+Z-1]=void 0;else if(Z>0)for(V=K;V>=L;V--)(U=this._rows[V-1])?function(){var ue=$.getRow(V+Z);ue.values=U.values,ue.style=U.style,ue.height=U.height,U.eachCell({includeEmpty:!0},function(ce,de){if(ue.getCell(de).style=ce.style,"MergeValue"===ce._value.constructor.name){var pe=$.getRow(ce._row._number+Q).getCell(de),_e=ce._value._master,me=$.getRow(_e._row._number+Q).getCell(_e._column._number);pe.merge(me)}})}():this._rows[V+Z-1]=void 0;for(V=0;V<Q;V++){var ne=this.getRow(J+V);ne.style={},ne.values=ee[V]}this.workbook.definedNames.spliceRows(this.name,J,j,Q)}},{key:"eachRow",value:function(J,j){if(j||(j=J,J=void 0),J&&J.includeEmpty)for(var $=this._rows.length,L=1;L<=$;L++)j(this.getRow(L),L);else this._rows.forEach(function(B){B&&B.hasValues&&j(B,B.number)})}},{key:"getSheetValues",value:function(){var J=[];return this._rows.forEach(function(j){j&&(J[j.number]=j.values)}),J}},{key:"findCell",value:function(J,j){var $=C.getAddress(J,j),L=this._rows[$.row-1];return L?L.findCell($.col):void 0}},{key:"getCell",value:function(J,j){var $=C.getAddress(J,j);return this.getRow($.row).getCellEx($)}},{key:"mergeCells",value:function(){for(var J=arguments.length,j=new Array(J),$=0;$<J;$++)j[$]=arguments[$];var L=new f(j);this._mergeCellsInternal(L)}},{key:"mergeCellsWithoutStyle",value:function(){for(var J=arguments.length,j=new Array(J),$=0;$<J;$++)j[$]=arguments[$];var L=new f(j);this._mergeCellsInternal(L,!0)}},{key:"_mergeCellsInternal",value:function(J,j){E.each(this._merges,function(ee){if(ee.intersects(J))throw new Error("Cannot merge already merged cells")});for(var $=this.getCell(J.top,J.left),L=J.top;L<=J.bottom;L++)for(var B=J.left;B<=J.right;B++)(L>J.top||B>J.left)&&this.getCell(L,B).merge($,j);this._merges[$.address]=J}},{key:"_unMergeMaster",value:function(J){var j=this._merges[J.address];if(j){for(var $=j.top;$<=j.bottom;$++)for(var L=j.left;L<=j.right;L++)this.getCell($,L).unmerge();delete this._merges[J.address]}}},{key:"unMergeCells",value:function(){for(var J=arguments.length,j=new Array(J),$=0;$<J;$++)j[$]=arguments[$];for(var L=new f(j),B=L.top;B<=L.bottom;B++)for(var ee=L.left;ee<=L.right;ee++){var N=this.findCell(B,ee);N&&(N.type===c.ValueType.Merge?this._unMergeMaster(N.master):this._merges[N.address]&&this._unMergeMaster(N))}}},{key:"fillFormula",value:function(J,j,$){var L,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"shared",ee=C.decode(J),N=ee.top,V=ee.left,U=ee.bottom,Q=ee.right,Z=Q-V+1,K=C.encodeAddress(N,V),ne="shared"===B;L="function"==typeof $?$:Array.isArray($)?Array.isArray($[0])?function(pe,_e){return $[pe-N][_e-V]}:function(pe,_e){return $[(pe-N)*Z+(_e-V)]}:function(){};for(var ue=!0,ce=N;ce<=U;ce++)for(var de=V;de<=Q;de++)ue?(this.getCell(ce,de).value={shareType:B,formula:j,ref:J,result:L(ce,de)},ue=!1):this.getCell(ce,de).value=ne?{sharedFormula:K,result:L(ce,de)}:L(ce,de)}},{key:"addImage",value:function(J,j){this._media.push(new m(this,{type:"image",imageId:J,range:j}))}},{key:"getImages",value:function(){return this._media.filter(function(J){return"image"===J.type})}},{key:"addBackgroundImage",value:function(J){this._media.push(new m(this,{type:"background",imageId:J}))}},{key:"getBackgroundImageId",value:function(){var J=this._media.find(function(j){return"background"===j.type});return J&&J.imageId}},{key:"protect",value:function(J,j){var $=this;return new Promise(function(L){$.sheetProtection={sheet:!0},j&&"spinCount"in j&&(j.spinCount=Number.isFinite(j.spinCount)?Math.round(Math.max(0,j.spinCount)):1e5),J&&($.sheetProtection.algorithmName="SHA-512",$.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),$.sheetProtection.spinCount=j&&"spinCount"in j?j.spinCount:1e5,$.sheetProtection.hashValue=b.convertPasswordToHash(J,"SHA512",$.sheetProtection.saltValue,$.sheetProtection.spinCount)),j&&($.sheetProtection=Object.assign($.sheetProtection,j),!J&&"spinCount"in j&&delete $.sheetProtection.spinCount),L()})}},{key:"unprotect",value:function(){this.sheetProtection=null}},{key:"addTable",value:function(J){var j=new g(this,J);return this.tables[J.name]=j,j}},{key:"getTable",value:function(J){return this.tables[J]}},{key:"removeTable",value:function(J){delete this.tables[J]}},{key:"getTables",value:function(){return Object.values(this.tables)}},{key:"addConditionalFormatting",value:function(J){this.conditionalFormattings.push(J)}},{key:"removeConditionalFormatting",value:function(J){"number"==typeof J?this.conditionalFormattings.splice(J,1):this.conditionalFormattings=J instanceof Function?this.conditionalFormattings.filter(J):[]}},{key:"_parseRows",value:function(J){var j=this;this._rows=[],J.rows.forEach(function($){var L=new d(j,$.number);j._rows[L.number-1]=L,L.model=$})}},{key:"_parseMergeCells",value:function(J){var j=this;E.each(J.mergeCells,function($){j.mergeCellsWithoutStyle($)})}},{key:"workbook",get:function(){return this._workbook}},{key:"dimensions",get:function(){var J=new f;return this._rows.forEach(function(j){if(j){var $=j.dimensions;$&&J.expand(j.number,$.min,j.number,$.max)}}),J}},{key:"columns",get:function(){return this._columns},set:function(J){var j=this;this._headerRowCount=J.reduce(function(B,ee){return Math.max(B,(ee.header?1:ee.headers&&ee.headers.length)||0)},0);var $=1,L=this._columns=[];J.forEach(function(B){var ee=new u(j,$++,!1);L.push(ee),ee.defn=B})}},{key:"lastColumn",get:function(){return this.getColumn(this.columnCount)}},{key:"columnCount",get:function(){var J=0;return this.eachRow(function(j){J=Math.max(J,j.cellCount)}),J}},{key:"actualColumnCount",get:function(){var J=[],j=0;return this.eachRow(function($){$.eachCell(function(L){var B=L.col;J[B]||(J[B]=!0,j++)})}),j}},{key:"_lastRowNumber",get:function(){for(var J=this._rows,j=J.length;j>0&&void 0===J[j-1];)j--;return j}},{key:"_nextRow",get:function(){return this._lastRowNumber+1}},{key:"lastRow",get:function(){if(this._rows.length)return this._rows[this._rows.length-1]}},{key:"rowCount",get:function(){return this._lastRowNumber}},{key:"actualRowCount",get:function(){var J=0;return this.eachRow(function(){J++}),J}},{key:"hasMerges",get:function(){return E.some(this._merges,Boolean)}},{key:"tabColor",get:function(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor},set:function(J){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=J}},{key:"model",get:function(){var J={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(function(L){return L.model}),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(function(L){return L.model}),conditionalFormattings:this.conditionalFormattings};J.cols=u.toModel(this.columns);var j=J.rows=[],$=J.dimensions=new f;return this._rows.forEach(function(L){var B=L&&L.model;B&&($.expand(B.number,B.min,B.number,B.max),j.push(B))}),J.merges=[],E.each(this._merges,function(L){J.merges.push(L.range)}),J},set:function(J){var j=this;this.name=J.name,this._columns=u.fromModel(this,J.cols),this._parseRows(J),this._parseMergeCells(J),this.dataValidations=new y(J.dataValidations),this.properties=J.properties,this.pageSetup=J.pageSetup,this.headerFooter=J.headerFooter,this.views=J.views,this.autoFilter=J.autoFilter,this._media=J.media.map(function($){return new m(j,$)}),this.sheetProtection=J.sheetProtection,this.tables=J.tables.reduce(function($,L){var B=new g;return B.model=L,$[L.name]=B,$},{}),this.conditionalFormattings=J.conditionalFormattings}}])&&w(P.prototype,H),A}();te.exports=S},{"../utils/col-cache":19,"../utils/encryptor":20,"../utils/under-dash":25,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(T,te,W){"use strict";T("core-js/modules/es.promise"),T("core-js/modules/es.object.assign"),T("core-js/modules/es.object.keys"),T("core-js/modules/es.object.values"),T("core-js/modules/es.symbol"),T("core-js/modules/es.symbol.async-iterator"),T("core-js/modules/es.array.iterator"),T("core-js/modules/es.array.includes"),T("core-js/modules/es.array.find-index"),T("core-js/modules/es.array.find"),T("core-js/modules/es.string.from-code-point"),T("core-js/modules/es.string.includes"),T("core-js/modules/es.number.is-nan"),T("regenerator-runtime/runtime");var k={Workbook:T("./doc/workbook")},R=T("./doc/enums");Object.keys(R).forEach(function(M){k[M]=R[M]}),te.exports=k},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":316,"core-js/modules/es.array.find-index":315,"core-js/modules/es.array.includes":317,"core-js/modules/es.array.iterator":318,"core-js/modules/es.number.is-nan":319,"core-js/modules/es.object.assign":320,"core-js/modules/es.object.keys":321,"core-js/modules/es.object.values":322,"core-js/modules/es.promise":323,"core-js/modules/es.string.from-code-point":324,"core-js/modules/es.string.includes":325,"core-js/modules/es.symbol":327,"core-js/modules/es.symbol.async-iterator":326,"regenerator-runtime/runtime":492}],16:[function(T,te,W){"use strict";var k=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");W.bufferToString=function(R){return"string"==typeof R?R:k?k.decode(R):R.toString()}},{}],17:[function(T,te,W){"use strict";var k=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),R=T("buffer").Buffer;W.stringToBuffer=function(M){return"string"!=typeof M?M:R.from(k?k.encode(M).buffer:M)}},{buffer:216}],18:[function(T,te,W){"use strict";function k(O,w){for(var E=0;E<w.length;E++){var C=w[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}var R=T("./under-dash"),M=T("./col-cache"),x=function(){function O(f){(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,O),this.template=f,this.sheets={}}var w,E;return w=O,(E=[{key:"addCell",value:function(f){this.addCellEx(M.decodeEx(f))}},{key:"getCell",value:function(f){return this.findCellEx(M.decodeEx(f),!0)}},{key:"findCell",value:function(f){return this.findCellEx(M.decodeEx(f),!1)}},{key:"findCellAt",value:function(f,d,u){var c=this.sheets[f],m=c&&c[d];return m&&m[u]}},{key:"addCellEx",value:function(f){if(f.top)for(var d=f.top;d<=f.bottom;d++)for(var u=f.left;u<=f.right;u++)this.getCellAt(f.sheetName,d,u);else this.findCellEx(f,!0)}},{key:"getCellEx",value:function(f){return this.findCellEx(f,!0)}},{key:"findCellEx",value:function(f,d){var u=this.findSheet(f,d),c=this.findSheetRow(u,f,d);return this.findRowCell(c,f,d)}},{key:"getCellAt",value:function(f,d,u){var c=this.sheets[f]||(this.sheets[f]=[]),m=c[d]||(c[d]=[]);return m[u]||(m[u]={sheetName:f,address:M.n2l(u)+d,row:d,col:u})}},{key:"removeCellEx",value:function(f){var d=this.findSheet(f);if(d){var u=this.findSheetRow(d,f);u&&delete u[f.col]}}},{key:"forEachInSheet",value:function(f,d){var u=this.sheets[f];u&&u.forEach(function(c,m){c&&c.forEach(function(g,y){g&&d(g,m,y)})})}},{key:"forEach",value:function(f){var d=this;R.each(this.sheets,function(u,c){d.forEachInSheet(c,f)})}},{key:"map",value:function(f){var d=[];return this.forEach(function(u){d.push(f(u))}),d}},{key:"findSheet",value:function(f,d){var u=f.sheetName;return this.sheets[u]?this.sheets[u]:d?this.sheets[u]=[]:void 0}},{key:"findSheetRow",value:function(f,d,u){var c=d.row;return f&&f[c]?f[c]:u?f[c]=[]:void 0}},{key:"findRowCell",value:function(f,d,u){var c=d.col;return f&&f[c]?f[c]:u?f[c]=this.template?Object.assign(d,JSON.parse(JSON.stringify(this.template))):d:void 0}},{key:"spliceRows",value:function(f,d,u,c){var m=this.sheets[f];if(m){for(var g=[],y=0;y<c;y++)g.push([]);m.splice.apply(m,[d,u].concat(g))}}},{key:"spliceColumns",value:function(f,d,u,c){var m=this.sheets[f];if(m){for(var g=[],y=0;y<c;y++)g.push(null);R.each(m,function(b){b.splice.apply(b,[d,u].concat(g))})}}}])&&k(w.prototype,E),O}();te.exports=x},{"./col-cache":19,"./under-dash":25}],19:[function(T,te,W){"use strict";function k(E,C){return function(f){if(Array.isArray(f))return f}(E)||function(f,d){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(f)){var u=[],c=!0,m=!1,g=void 0;try{for(var y,b=f[Symbol.iterator]();!(c=(y=b.next()).done)&&(u.push(y.value),!d||u.length!==d);c=!0);}catch(S){m=!0,g=S}finally{try{c||null==b.return||b.return()}finally{if(m)throw g}}return u}}(E,C)||function(f,d){if(f){if("string"==typeof f)return R(f,d);var u=Object.prototype.toString.call(f).slice(8,-1);if("Object"===u&&f.constructor&&(u=f.constructor.name),"Map"===u||"Set"===u)return Array.from(f);if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return R(f,d)}}(E,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(E,C){(null==C||C>E.length)&&(C=E.length);for(var f=0,d=new Array(C);f<C;f++)d[f]=E[f];return d}function M(E,C){var f=Object.keys(E);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(E);C&&(d=d.filter(function(u){return Object.getOwnPropertyDescriptor(E,u).enumerable})),f.push.apply(f,d)}return f}function x(E,C,f){return C in E?Object.defineProperty(E,C,{value:f,enumerable:!0,configurable:!0,writable:!0}):E[C]=f,E}var O=/^[A-Z]+\d+$/,w={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:function(E){return E<=26?1:E<=676?2:3},_fill:function(E){var C,f,d,u,c,m=1;if(E>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&E>=1){for(;m<=26;)this._n2l[m]=C=this._dictionary[m-1],this._l2n[C]=m,m++;this._l2nFill=1}if(this._l2nFill<2&&E>=2){for(m=27;m<=702;)d=(f=m-27)%26,u=Math.floor(f/26),this._n2l[m]=C=this._dictionary[u]+this._dictionary[d],this._l2n[C]=m,m++;this._l2nFill=2}if(this._l2nFill<3&&E>=3){for(m=703;m<=16384;)d=(f=m-703)%26,u=Math.floor(f/26)%26,c=Math.floor(f/676),this._n2l[m]=C=this._dictionary[c]+this._dictionary[u]+this._dictionary[d],this._l2n[C]=m,m++;this._l2nFill=3}},l2n:function(E){if(this._l2n[E]||this._fill(E.length),!this._l2n[E])throw new Error("Out of bounds. Invalid column letter: ".concat(E));return this._l2n[E]},n2l:function(E){if(E<1||E>16384)throw new Error("".concat(E," is out of bounds. Excel supports columns from 1 to 16384"));return this._n2l[E]||this._fill(this._level(E)),this._n2l[E]},_hash:{},validateAddress:function(E){if(!O.test(E))throw new Error("Invalid Address: ".concat(E));return!0},decodeAddress:function(E){var C=E.length<5&&this._hash[E];if(C)return C;for(var f,d=!1,u="",c=0,m=!1,g="",y=0,b=0;b<E.length;b++)if(f=E.charCodeAt(b),!m&&f>=65&&f<=90)d=!0,u+=E[b],c=26*c+f-64;else if(f>=48&&f<=57)m=!0,g+=E[b],y=10*y+f-48;else if(m&&d&&36!==f)break;if(d){if(c>16384)throw new Error("Out of bounds. Invalid column letter: ".concat(u))}else c=void 0;m||(y=void 0);var S={address:E=u+g,col:c,row:y,$col$row:"$".concat(u,"$").concat(g)};return c<=100&&y<=100&&(this._hash[E]=S,this._hash[S.$col$row]=S),S},getAddress:function(E,C){if(C){var f=this.n2l(C)+E;return this.decodeAddress(f)}return this.decodeAddress(E)},decode:function(E){var C=E.split(":");if(2===C.length){var f=this.decodeAddress(C[0]),d=this.decodeAddress(C[1]),u={top:Math.min(f.row,d.row),left:Math.min(f.col,d.col),bottom:Math.max(f.row,d.row),right:Math.max(f.col,d.col)};return u.tl=this.n2l(u.left)+u.top,u.br=this.n2l(u.right)+u.bottom,u.dimensions="".concat(u.tl,":").concat(u.br),u}return this.decodeAddress(E)},decodeEx:function(E){var C=E.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),f=C[1]||C[2],d=C[3],u=d.split(":");if(u.length>1){var c=this.decodeAddress(u[0]),m=this.decodeAddress(u[1]),g=Math.min(c.row,m.row),y=Math.min(c.col,m.col),b=Math.max(c.row,m.row),S=Math.max(c.col,m.col);return c=this.n2l(y)+g,m=this.n2l(S)+b,{top:g,left:y,bottom:b,right:S,sheetName:f,tl:{address:c,col:y,row:g,$col$row:"$".concat(this.n2l(y),"$").concat(g),sheetName:f},br:{address:m,col:S,row:b,$col$row:"$".concat(this.n2l(S),"$").concat(b),sheetName:f},dimensions:"".concat(c,":").concat(m)}}if(d.startsWith("#"))return f?{sheetName:f,error:d}:{error:d};var A=this.decodeAddress(d);return f?function(P){for(var H=1;H<arguments.length;H++){var X=null!=arguments[H]?arguments[H]:{};H%2?M(Object(X),!0).forEach(function(J){x(P,J,X[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(X)):M(Object(X)).forEach(function(J){Object.defineProperty(P,J,Object.getOwnPropertyDescriptor(X,J))})}return P}({sheetName:f},A):A},encodeAddress:function(E,C){return w.n2l(C)+E},encode:function(){switch(arguments.length){case 2:return w.encodeAddress(arguments[0],arguments[1]);case 4:return"".concat(w.encodeAddress(arguments[0],arguments[1]),":").concat(w.encodeAddress(arguments[2],arguments[3]));default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange:function(E,C){var f=k(E,5),d=f[0],u=f[1],c=f[3],m=f[4],g=k(C,2),y=g[0],b=g[1];return y>=d&&y<=c&&b>=u&&b<=m}};te.exports=w},{}],20:[function(T,te,W){(function(k){"use strict";var R=T("crypto"),M={hash:function(x){for(var O=R.createHash(x),w=arguments.length,E=new Array(w>1?w-1:0),C=1;C<w;C++)E[C-1]=arguments[C];return O.update(k.concat(E)),O.digest()},convertPasswordToHash:function(x,O,w,E){if(O=O.toLowerCase(),R.getHashes().indexOf(O)<0)throw new Error("Hash algorithm '".concat(O,"' not supported!"));for(var C=k.from(x,"utf16le"),f=this.hash(O,k.from(w,"base64"),C),d=0;d<E;d++){var u=k.alloc(4);u.writeUInt32LE(d,0),f=this.hash(O,f,u)}return f.toString("base64")},randomBytes:function(x){return R.randomBytes(x)}};te.exports=M}).call(this,T("buffer").Buffer)},{buffer:216,crypto:335}],21:[function(T,te,W){"use strict";function k(C){return new M(C)}function R(C){var f,d;function u(m,g){try{var y=C[m](g),b=y.value,S=b instanceof M;Promise.resolve(S?b.wrapped:b).then(function(A){S?u("return"===m?"return":"next",A):c(y.done?"return":"normal",A)},function(A){u("throw",A)})}catch(A){c("throw",A)}}function c(m,g){switch(m){case"return":f.resolve({value:g,done:!0});break;case"throw":f.reject(g);break;default:f.resolve({value:g,done:!1})}(f=f.next)?u(f.key,f.arg):d=null}this._invoke=function(m,g){return new Promise(function(y,b){var S={key:m,arg:g,resolve:y,reject:b,next:null};d?d=d.next=S:(f=d=S,u(m,g))})},"function"!=typeof C.return&&(this.return=void 0)}function M(C){this.wrapped=C}function x(C){var f;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&null!=(f=C[Symbol.asyncIterator])||Symbol.iterator&&null!=(f=C[Symbol.iterator])))return f.call(C);throw new TypeError("Object is not async iterable")}"function"==typeof Symbol&&Symbol.asyncIterator&&(R.prototype[Symbol.asyncIterator]=function(){return this}),R.prototype.next=function(C){return this._invoke("next",C)},R.prototype.throw=function(C){return this._invoke("throw",C)},R.prototype.return=function(C){return this._invoke("return",C)};var C,f,O=T("saxes").SaxesParser,w=T("readable-stream").PassThrough,E=T("./browser-buffer-decode").bufferToString;te.exports=(C=a.mark(function d(u){var c,m,g,y,b,S,A,P,H;return a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new w)),(c=new O).on("error",function(j){m=j}),g=[],c.on("opentag",function(j){return g.push({eventType:"opentag",value:j})}),c.on("text",function(j){return g.push({eventType:"text",value:j})}),c.on("closetag",function(j){return g.push({eventType:"closetag",value:j})}),y=!0,b=!1,J.prev=9,A=x(u);case 11:return J.next=13,k(A.next());case 13:return y=(P=J.sent).done,J.next=17,k(P.value);case 17:if(H=J.sent,y){J.next=29;break}if(c.write(E(H)),!m){J.next=23;break}throw m;case 23:return J.next=25,g;case 25:g=[];case 26:y=!0,J.next=11;break;case 29:J.next=35;break;case 31:J.prev=31,J.t0=J.catch(9),b=!0,S=J.t0;case 35:if(J.prev=35,J.prev=36,y||null==A.return){J.next=40;break}return J.next=40,k(A.return());case 40:if(J.prev=40,!b){J.next=43;break}throw S;case 43:return J.finish(40);case 44:return J.finish(35);case 45:case"end":return J.stop()}},d,null,[[9,31,35,45],[36,,40,44]])}),f=function(){return new R(C.apply(this,arguments))},function(d){return f.apply(this,arguments)})},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],22:[function(T,te,W){"use strict";var k=T("./col-cache"),R=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,M=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;te.exports={slideFormula:function(x,O,w){var E=k.decode(O),C=k.decode(w);return x.replace(R,function(f,d,u,c,m){if(m)return f;var g=M.exec(c);if(g){var y=g[1],b=g[2].toUpperCase(),S=g[3],A=g[4];if(b.length>3||3===b.length&&b>"XFD")return f;var P=k.l2n(b),H=parseInt(A,10);return y||(P+=C.col-E.col),S||(H+=C.row-E.row),(d||"")+(y||"")+k.n2l(P)+(S||"")+H}return f})}}},{"./col-cache":19}],23:[function(T,te,W){(function(k,R){"use strict";function M(b,S,A,P,H,X,J){try{var j=b[X](J),$=j.value}catch(L){return void A(L)}j.done?S($):Promise.resolve($).then(P,H)}function x(b){return function(){var S=this,A=arguments;return new Promise(function(P,H){var X=b.apply(S,A);function J($){M(X,P,H,J,j,"next",$)}function j($){M(X,P,H,J,j,"throw",$)}J(void 0)})}}function O(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function w(b,S){for(var A=0;A<S.length;A++){var P=S[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}function E(b,S,A){return S&&w(b.prototype,S),A&&w(b,A),b}var C=T("readable-stream"),f=T("./utils"),d=T("./string-buf"),u=function(){function b(S,A){O(this,b),this._data=S,this._encoding=A}return E(b,[{key:"copy",value:function(S,A,P,H){return this.toBuffer().copy(S,A,P,H)}},{key:"toBuffer",value:function(){return this._buffer||(this._buffer=R.from(this._data,this._encoding)),this._buffer}},{key:"length",get:function(){return this.toBuffer().length}}]),b}(),c=function(){function b(S){O(this,b),this._data=S}return E(b,[{key:"copy",value:function(S,A,P,H){return this._data._buf.copy(S,A,P,H)}},{key:"toBuffer",value:function(){return this._data.toBuffer()}},{key:"length",get:function(){return this._data.length}}]),b}(),m=function(){function b(S){O(this,b),this._data=S}return E(b,[{key:"copy",value:function(S,A,P,H){this._data.copy(S,A,P,H)}},{key:"toBuffer",value:function(){return this._data}},{key:"length",get:function(){return this._data.length}}]),b}(),g=function(){function b(S){O(this,b),this.size=S,this.buffer=R.alloc(S),this.iRead=0,this.iWrite=0}return E(b,[{key:"toBuffer",value:function(){if(0===this.iRead&&this.iWrite===this.size)return this.buffer;var S=R.alloc(this.iWrite-this.iRead);return this.buffer.copy(S,0,this.iRead,this.iWrite),S}},{key:"read",value:function(S){var A;return 0===S?null:void 0===S||S>=this.length?(A=this.toBuffer(),this.iRead=this.iWrite,A):(A=R.alloc(S),this.buffer.copy(A,0,this.iRead,S),this.iRead+=S,A)}},{key:"write",value:function(S,A,P){var H=Math.min(P,this.size-this.iWrite);return S.copy(this.buffer,this.iWrite,A,A+H),this.iWrite+=H,H}},{key:"length",get:function(){return this.iWrite-this.iRead}},{key:"eod",get:function(){return this.iRead===this.iWrite}},{key:"full",get:function(){return this.iWrite===this.size}}]),b}(),y=function(b){this.bufSize=(b=b||{}).bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};f.inherits(y,C.Duplex,{toBuffer:function(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return R.concat(this.buffers.map(function(b){return b.toBuffer()}))}},_getWritableBuffer:function(){if(this.buffers.length){var b=this.buffers[this.buffers.length-1];if(!b.full)return b}var S=new g(this.bufSize);return this.buffers.push(S),S},_pipe:function(b){var S=this;return x(a.mark(function A(){var P;return a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return P=function(X){return new Promise(function(J){X.write(b.toBuffer(),function(){J()})})},H.next=3,Promise.all(S.pipes.map(P));case 3:case"end":return H.stop()}},A)}))()},_writeToBuffers:function(b){for(var S=0,A=b.length;S<A;)S+=this._getWritableBuffer().write(b,S,A-S)},write:function(b,S,A){var P=this;return x(a.mark(function H(){var X;return a.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(S instanceof Function&&(A=S,S="utf8"),A=A||f.nop,!(b instanceof d)){J.next=6;break}X=new c(b),J.next=15;break;case 6:if(!(b instanceof R)){J.next=10;break}X=new m(b),J.next=15;break;case 10:if(!("string"==typeof b||b instanceof String||b instanceof ArrayBuffer)){J.next=14;break}X=new u(b,S),J.next=15;break;case 14:throw new Error("Chunk must be one of type String, Buffer or StringBuf.");case 15:if(!P.pipes.length){J.next=31;break}if(!P.batch){J.next=21;break}for(P._writeToBuffers(X);!P.corked&&P.buffers.length>1;)P._pipe(P.buffers.shift());J.next=29;break;case 21:if(P.corked){J.next=27;break}return J.next=24,P._pipe(X);case 24:A(),J.next=29;break;case 27:P._writeToBuffers(X),k.nextTick(A);case 29:J.next=34;break;case 31:P.paused||P.emit("data",X.toBuffer()),P._writeToBuffers(X),P.emit("readable");case 34:return J.abrupt("return",!0);case 35:case"end":return J.stop()}},H)}))()},cork:function(){this.corked=!0},_flush:function(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork:function(){this.corked=!1,this._flush()},end:function(b,S,A){var P=this,H=function(X){X?A(X):(P._flush(),P.pipes.forEach(function(J){J.end()}),P.emit("finish"))};b?this.write(b,S,H):H()},read:function(b){var S;if(b){for(S=[];b&&this.buffers.length&&!this.buffers[0].eod;){var A=this.buffers[0],P=A.read(b);b-=P.length,S.push(P),A.eod&&A.full&&this.buffers.shift()}return R.concat(S)}return S=this.buffers.map(function(H){return H.toBuffer()}).filter(Boolean),this.buffers=[],R.concat(S)},setEncoding:function(b){this.encoding=b},pause:function(){this.paused=!0},resume:function(){this.paused=!1},isPaused:function(){return!!this.paused},pipe:function(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe:function(b){this.pipes=this.pipes.filter(function(S){return S!==b})},unshift:function(){throw new Error("Not Implemented")},wrap:function(){throw new Error("Not Implemented")}}),te.exports=y}).call(this,T("_process"),T("buffer").Buffer)},{"./string-buf":24,"./utils":26,_process:467,buffer:216,"readable-stream":491}],24:[function(T,te,W){(function(k){"use strict";function R(x,O){for(var w=0;w<O.length;w++){var E=O[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}var M=function(){function x(C){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,x),this._buf=k.alloc(C&&C.size||16384),this._encoding=C&&C.encoding||"utf8",this._inPos=0,this._buffer=void 0}var O,w;return O=x,(w=[{key:"toBuffer",value:function(){return this._buffer||(this._buffer=k.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}},{key:"reset",value:function(C){C=C||0,this._buffer=void 0,this._inPos=C}},{key:"_grow",value:function(C){for(var f=2*this._buf.length;f<C;)f*=2;var d=k.alloc(f);this._buf.copy(d,0),this._buf=d}},{key:"addText",value:function(C){this._buffer=void 0;for(var f=this._inPos+this._buf.write(C,this._inPos,this._encoding);f>=this._buf.length-4;)this._grow(this._inPos+C.length),f=this._inPos+this._buf.write(C,this._inPos,this._encoding);this._inPos=f}},{key:"addStringBuf",value:function(C){C.length&&(this._buffer=void 0,this.length+C.length>this.capacity&&this._grow(this.length+C.length),C._buf.copy(this._buf,this._inPos,0,C.length),this._inPos+=C.length)}},{key:"length",get:function(){return this._inPos}},{key:"capacity",get:function(){return this._buf.length}},{key:"buffer",get:function(){return this._buf}}])&&R(O.prototype,w),x}();te.exports=M}).call(this,T("buffer").Buffer)},{buffer:216}],25:[function(T,te,W){"use strict";function k(O){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(O)}var R=Object.prototype.toString,M=/["&<>]/,x={each:function(O,w){O&&(Array.isArray(O)?O.forEach(w):Object.keys(O).forEach(function(E){w(O[E],E)}))},some:function(O,w){return!!O&&(Array.isArray(O)?O.some(w):Object.keys(O).some(function(E){return w(O[E],E)}))},every:function(O,w){return!O||(Array.isArray(O)?O.every(w):Object.keys(O).every(function(E){return w(O[E],E)}))},map:function(O,w){return O?Array.isArray(O)?O.map(w):Object.keys(O).map(function(E){return w(O[E],E)}):[]},keyBy:function(O,w){return O.reduce(function(E,C){return E[C[w]]=C,E},{})},isEqual:function(O,w){var E=k(O),C=k(w),f=Array.isArray(O),d=Array.isArray(w);return E===C&&("object"===k(O)?f||d?!(!f||!d)&&O.length===w.length&&O.every(function(u,c){return x.isEqual(u,w[c])}):x.every(O,function(u,c){return x.isEqual(u,w[c])}):O===w)},escapeHtml:function(O){var w=M.exec(O);if(!w)return O;for(var E="",C="",f=0,d=w.index;d<O.length;d++){switch(O.charAt(d)){case'"':C="&quot;";break;case"&":C="&amp;";break;case"'":C="&apos;";break;case"<":C="&lt;";break;case">":C="&gt;";break;default:continue}f!==d&&(E+=O.substring(f,d)),f=d+1,E+=C}return f!==d?E+O.substring(f,d):E},strcmp:function(O,w){return O<w?-1:O>w?1:0},isUndefined:function(O){return"[object Undefined]"===R.call(O)},isObject:function(O){return"[object Object]"===R.call(O)},deepMerge:function(){var O,w,E,C=arguments[0]||{},f=arguments.length;function d(c,m){O=C[m],E=Array.isArray(c),x.isObject(c)||E?(E?(E=!1,w=O&&Array.isArray(O)?O:[]):w=O&&x.isObject(O)?O:{},C[m]=x.deepMerge(w,c)):x.isUndefined(c)||(C[m]=c)}for(var u=0;u<f;u++)x.each(arguments[u],d);return C}};te.exports=x},{}],26:[function(T,te,W){(function(k,R){"use strict";var M=T("fs"),x=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,O={nop:function(){},promiseImmediate:function(w){return new Promise(function(E){k.setImmediate?R(function(){E(w)}):setTimeout(function(){E(w)},1)})},inherits:function(w,E,C,f){w.super_=E,f||(f=C,C=null),C&&Object.keys(C).forEach(function(u){Object.defineProperty(w,u,Object.getOwnPropertyDescriptor(C,u))});var d={constructor:{value:w,enumerable:!1,writable:!1,configurable:!0}};f&&Object.keys(f).forEach(function(u){d[u]=Object.getOwnPropertyDescriptor(f,u)}),w.prototype=Object.create(E.prototype,d)},dateToExcel:function(w,E){return 25569+w.getTime()/864e5-(E?1462:0)},excelToDate:function(w,E){var C=Math.round(24*(w-25569+(E?1462:0))*3600*1e3);return new Date(C)},parsePath:function(w){var E=w.lastIndexOf("/");return{path:w.substring(0,E),name:w.substring(E+1)}},getRelsPath:function(w){var E=O.parsePath(w);return"".concat(E.path,"/_rels/").concat(E.name,".rels")},xmlEncode:function(w){var E=x.exec(w);if(!E)return w;for(var C="",f="",d=0,u=E.index;u<w.length;u++){var c=w.charCodeAt(u);switch(c){case 34:f="&quot;";break;case 38:f="&amp;";break;case 39:f="&apos;";break;case 60:f="&lt;";break;case 62:f="&gt;";break;case 127:f="";break;default:if(c<=31&&(c<=8||c>=11&&13!==c)){f="";break}continue}d!==u&&(C+=w.substring(d,u)),d=u+1,f&&(C+=f)}return d!==u?C+w.substring(d,u):C},xmlDecode:function(w){return w.replace(/&([a-z]*);/g,function(E){switch(E){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return E}})},validInt:function(w){var E=parseInt(w,10);return Number.isNaN(E)?0:E},isDateFmt:function(w){return!!w&&null!==(w=(w=w.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)},fs:{exists:function(w){return new Promise(function(E){M.access(w,M.constants.F_OK,function(C){E(!C)})})}},toIsoDateString:function(w){return w.toIsoString().subsstr(0,10)}};te.exports=O}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},T("timers").setImmediate)},{fs:215,timers:521}],27:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}var R=T("./under-dash"),M=T("./utils");function x(E,C,f){E.push(" "),E.push(C),E.push('="'),E.push(M.xmlEncode(f.toString())),E.push('"')}function O(E,C){C&&R.each(C,function(f,d){void 0!==f&&x(E,d,f)})}var w=function(){function E(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,E),this._xml=[],this._stack=[],this._rollbacks=[]}var C,f;return C=E,(f=[{key:"openXml",value:function(u){var c=this._xml;c.push("<?xml"),O(c,u),c.push("?>\n")}},{key:"openNode",value:function(u,c){var g=this._xml;this.tos&&this.open&&g.push(">"),this._stack.push(u),g.push("<"),g.push(u),O(g,c),this.leaf=!0,this.open=!0}},{key:"addAttribute",value:function(u,c){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");void 0!==c&&x(this._xml,u,c)}},{key:"addAttributes",value:function(u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");O(this._xml,u)}},{key:"writeText",value:function(u){var c=this._xml;this.open&&(c.push(">"),this.open=!1),this.leaf=!1,c.push(M.xmlEncode(u.toString()))}},{key:"writeXml",value:function(u){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(u)}},{key:"closeNode",value:function(){var u=this._stack.pop(),c=this._xml;this.leaf?c.push("/>"):(c.push("</"),c.push(u),c.push(">")),this.open=!1,this.leaf=!1}},{key:"leafNode",value:function(u,c,m){this.openNode(u,c),void 0!==m&&this.writeText(m),this.closeNode()}},{key:"closeAll",value:function(){for(;this._stack.length;)this.closeNode()}},{key:"addRollback",value:function(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}},{key:"commit",value:function(){this._rollbacks.pop()}},{key:"rollback",value:function(){var u=this._rollbacks.pop();this._xml.length>u.xml&&this._xml.splice(u.xml,this._xml.length-u.xml),this._stack.length>u.stack&&this._stack.splice(u.stack,this._stack.length-u.stack),this.leaf=u.leaf,this.open=u.open}},{key:"tos",get:function(){return this._stack.length?this._stack[this._stack.length-1]:void 0}},{key:"cursor",get:function(){return this._xml.length}},{key:"xml",get:function(){return this.closeAll(),this._xml.join("")}}])&&k(C.prototype,f),E}();w.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},te.exports=w},{"./under-dash":25,"./utils":26}],28:[function(T,te,W){(function(k){"use strict";function R(g){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function M(g,y,b,S,A,P,H){try{var X=g[P](H),J=X.value}catch(j){return void b(j)}X.done?y(J):Promise.resolve(J).then(S,A)}function x(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function O(g,y){return(O=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function E(g,y){return!y||"object"!==R(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function C(g){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var f=T("events"),d=T("jszip"),u=T("./stream-buf"),c=T("./browser-buffer-encode").stringToBuffer,m=function(g){!function(J,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(j&&j.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),j&&O(J,j)}(X,g);var y,b,A,P,H=function w(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=C(g);if(y){var A=C(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return E(this,b)}}(X);function X(J){var j;return function($,L){if(!($ instanceof L))throw new TypeError("Cannot call a class as a function")}(this,X),(j=H.call(this)).options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},J),j.zip=new d,j.stream=new u,j}return y=X,(b=[{key:"append",value:function(J,j){j.hasOwnProperty("base64")&&j.base64?this.zip.file(j.name,J,{base64:!0}):(k.browser&&"string"==typeof J&&(J=c(J)),this.zip.file(j.name,J))}},{key:"finalize",value:(A=a.mark(function J(){return a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,this.zip.generateAsync(this.options);case 2:this.stream.end($.sent),this.emit("finish");case 5:case"end":return $.stop()}},J,this)}),P=function(){var J=this,j=arguments;return new Promise(function($,L){var B=A.apply(J,j);function ee(V){M(B,$,L,ee,N,"next",V)}function N(V){M(B,$,L,ee,N,"throw",V)}ee(void 0)})},function(){return P.apply(this,arguments)})},{key:"read",value:function(J){return this.stream.read(J)}},{key:"setEncoding",value:function(J){return this.stream.setEncoding(J)}},{key:"pause",value:function(){return this.stream.pause()}},{key:"resume",value:function(){return this.stream.resume()}},{key:"isPaused",value:function(){return this.stream.isPaused()}},{key:"pipe",value:function(J,j){return this.stream.pipe(J,j)}},{key:"unpipe",value:function(J){return this.stream.unpipe(J)}},{key:"unshift",value:function(J){return this.stream.unshift(J)}},{key:"wrap",value:function(J){return this.stream.wrap(J)}}])&&x(y.prototype,b),X}(f.EventEmitter);te.exports={ZipWriter:m}}).call(this,T("_process"))},{"./browser-buffer-encode":17,"./stream-buf":23,_process:467,events:367,jszip:399}],29:[function(T,te,W){"use strict";te.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},28:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'yyyy"\u5e74"m"\u6708"d"\u65e5"',"ja-jp":'yyyy"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":'yyyy"\ub144" mm"\uc6d4" dd"\uc77c"'},32:{"zh-tw":'hh"\u6642"mm"\u5206"',"zh-cn":'h"\u65f6"mm"\u5206"',"ja-jp":'h"\u6642"mm"\u5206"',"ko-kr":'h"\uc2dc" mm"\ubd84"'},33:{"zh-tw":'hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'h"\u65f6"mm"\u5206"ss"\u79d2"',"ja-jp":'h"\u6642"mm"\u5206"ss"\u79d2"',"ko-kr":'h"\uc2dc" mm"\ubd84" ss"\ucd08"'},34:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"',"ja-jp":'yyyy"\u5e74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"ss"\u79d2"',"ja-jp":'m"\u6708"d"\u65e5"',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},51:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},52:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":'yyyy"\u5e74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'m"\u6708"d"\u65e5"',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},55:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"',"ja-jp":'yyyy"\u5e74"m"\u6708"',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'\u4e0a\u5348/\u4e0b\u5348 hh"\u6642"mm"\u5206"ss"\u79d2"',"zh-cn":'\u4e0a\u5348/\u4e0b\u5348 h"\u65f6"mm"\u5206"ss"\u79d2"',"ja-jp":'m"\u6708"d"\u65e5"',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy"\u5e74"m"\u6708"',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"\u5e74" mm"\u6708" dd"\u65e5"'},58:{"zh-tw":'[$-404]e"\u5e74"m"\u6708"d"\u65e5"',"zh-cn":'m"\u6708"d"\u65e5"',"ja-jp":'[$-411]ggge"\u5e74"m"\u6708"d"\u65e5"',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],30:[function(T,te,W){"use strict";te.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],31:[function(T,te,W){"use strict";function k(d,u){var c;if(typeof Symbol>"u"||null==d[Symbol.iterator]){if(Array.isArray(d)||(c=function(A,P){if(A){if("string"==typeof A)return R(A,P);var H=Object.prototype.toString.call(A).slice(8,-1);if("Object"===H&&A.constructor&&(H=A.constructor.name),"Map"===H||"Set"===H)return Array.from(A);if("Arguments"===H||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return R(A,P)}}(d))||u&&d&&"number"==typeof d.length){c&&(d=c);var m=0,g=function(){};return{s:g,n:function(){return m>=d.length?{done:!0}:{done:!1,value:d[m++]}},e:function(A){throw A},f:g}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var y,b=!0,S=!1;return{s:function(){c=d[Symbol.iterator]()},n:function(){var A=c.next();return b=A.done,A},e:function(A){S=!0,y=A},f:function(){try{b||null==c.return||c.return()}finally{if(S)throw y}}}}function R(d,u){(null==u||u>d.length)&&(u=d.length);for(var c=0,m=new Array(u);c<u;c++)m[c]=d[c];return m}function M(d,u,c,m,g,y,b){try{var S=d[y](b),A=S.value}catch(P){return void c(P)}S.done?u(A):Promise.resolve(A).then(m,g)}function x(d){return function(){var u=this,c=arguments;return new Promise(function(m,g){var y=d.apply(u,c);function b(A){M(y,m,g,b,S,"next",A)}function S(A){M(y,m,g,b,S,"throw",A)}b(void 0)})}}function O(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function w(d){var u;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&null!=(u=d[Symbol.asyncIterator])||Symbol.iterator&&null!=(u=d[Symbol.iterator])))return u.call(d);throw new TypeError("Object is not async iterable")}var E=T("../../utils/parse-sax"),C=T("../../utils/xml-stream"),f=function(){function d(){!function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d)}var u,c,m,g,y;return u=d,c=[{key:"prepare",value:function(){}},{key:"render",value:function(){}},{key:"parseOpen",value:function(b){}},{key:"parseText",value:function(b){}},{key:"parseClose",value:function(b){}},{key:"reconcile",value:function(b,S){}},{key:"reset",value:function(){this.model=null,this.map&&Object.values(this.map).forEach(function(b){b instanceof d?b.reset():b.xform&&b.xform.reset()})}},{key:"mergeModel",value:function(b){this.model=Object.assign(this.model||{},b)}},{key:"parse",value:(y=x(a.mark(function b(S){var A,P,H,X,J,j,$,L,B,ee,N;return a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:A=!0,P=!1,V.prev=2,X=w(S);case 4:return V.next=6,X.next();case 6:return A=(J=V.sent).done,V.next=10,J.value;case 10:if(j=V.sent,A){V.next=42;break}$=k(j),V.prev=14,$.s();case 16:if((L=$.n()).done){V.next=31;break}if(N=(B=L.value).value,"opentag"!==(ee=B.eventType)){V.next=22;break}this.parseOpen(N),V.next=29;break;case 22:if("text"!==ee){V.next=26;break}this.parseText(N),V.next=29;break;case 26:if("closetag"!==ee){V.next=29;break}if(this.parseClose(N.name)){V.next=29;break}return V.abrupt("return",this.model);case 29:V.next=16;break;case 31:V.next=36;break;case 33:V.prev=33,V.t0=V.catch(14),$.e(V.t0);case 36:return V.prev=36,$.f(),V.finish(36);case 39:A=!0,V.next=4;break;case 42:V.next=48;break;case 44:V.prev=44,V.t1=V.catch(2),P=!0,H=V.t1;case 48:if(V.prev=48,V.prev=49,A||null==X.return){V.next=53;break}return V.next=53,X.return();case 53:if(V.prev=53,!P){V.next=56;break}throw H;case 56:return V.finish(53);case 57:return V.finish(48);case 58:return V.abrupt("return",this.model);case 59:case"end":return V.stop()}},b,this,[[2,44,48,58],[14,33,36,39],[49,,53,57]])})),function(b){return y.apply(this,arguments)})},{key:"parseStream",value:(g=x(a.mark(function b(S){return a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",this.parse(E(S)));case 1:case"end":return A.stop()}},b,this)})),function(b){return g.apply(this,arguments)})},{key:"toXml",value:function(b){var S=new C;return this.render(S,b),S.xml}},{key:"xml",get:function(){return this.toXml(this.model)}}],m=[{key:"toAttribute",value:function(b,S){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===b){if(A)return S}else if(A||b!==S)return b.toString()}},{key:"toStringAttribute",value:function(b,S){return d.toAttribute(b,S,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},{key:"toStringValue",value:function(b,S){return void 0===b?S:b}},{key:"toBoolAttribute",value:function(b,S){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===b){if(A)return S}else if(A||b!==S)return b?"1":"0"}},{key:"toBoolValue",value:function(b,S){return void 0===b?S:"1"===b}},{key:"toIntAttribute",value:function(b,S){return d.toAttribute(b,S,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},{key:"toIntValue",value:function(b,S){return void 0===b?S:parseInt(b,10)}},{key:"toFloatAttribute",value:function(b,S){return d.toAttribute(b,S,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},{key:"toFloatValue",value:function(b,S){return void 0===b?S:parseFloat(b)}}],c&&O(u.prototype,c),m&&O(u,m),d}();te.exports=f},{"../../utils/parse-sax":21,"../../utils/xml-stream":27}],32:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function M(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function x(m,g){return(x=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function w(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function E(m){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var C=T("../base-xform"),f=T("../../../utils/col-cache"),d=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&x(P,H)}(A,m);var g,y,S=function O(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=E(m);if(g){var S=E(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return w(this,y)}}(A);function A(){return R(this,A),S.apply(this,arguments)}return g=A,(y=[{key:"render",value:function(P,H){P.openNode("definedName",{name:H.name,localSheetId:H.localSheetId}),P.writeText(H.ranges.join(",")),P.closeNode()}},{key:"parseOpen",value:function(P){return"definedName"===P.name&&(this._parsedName=P.attributes.name,this._parsedLocalSheetId=P.attributes.localSheetId,this._parsedText=[],!0)}},{key:"parseText",value:function(P){this._parsedText.push(P)}},{key:"parseClose",value:function(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},void 0!==this._parsedLocalSheetId&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}])&&M(g.prototype,y),A}(C);function u(m){try{return f.decodeEx(m),!0}catch{return!1}}function c(m){var g=[],y=!1,b="";return m.split(",").forEach(function(S){if(S){var A=(S.match(/'/g)||[]).length;if(A){var P=A%2==0;!y&&P&&u(S)?g.push(S):y&&!P?(y=!1,u(b+S)&&g.push(b+S),b=""):(y=!0,b+="".concat(S,","))}else y?b+="".concat(S,","):u(S)&&g.push(S)}}),g}te.exports=d},{"../../../utils/col-cache":19,"../base-xform":31}],33:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../../utils/utils"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){b.leafNode("sheet",{sheetId:S.id,name:S.name,state:S.state,"r:id":S.rId})}},{key:"parseOpen",value:function(b){return"sheet"===b.name&&(this.model={name:C.xmlDecode(b.attributes.name),id:parseInt(b.attributes.sheetId,10),state:b.attributes.state,rId:b.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&M(u.prototype,c),y}(T("../base-xform"));te.exports=f},{"../../../utils/utils":26,"../base-xform":31}],34:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:b.fullCalcOnLoad?1:void 0})}},{key:"parseOpen",value:function(y){return"calcPr"===y.name&&(this.model={},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],35:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode("workbookPr",{date1904:b.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}},{key:"parseOpen",value:function(y){return"workbookPr"===y.name&&(this.model={date1904:"1"===y.attributes.date1904},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],36:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){var S={xWindow:b.x||0,yWindow:b.y||0,windowWidth:b.width||12e3,windowHeight:b.height||24e3,firstSheet:b.firstSheet,activeTab:b.activeTab};b.visibility&&"visible"!==b.visibility&&(S.visibility=b.visibility),y.leafNode("workbookView",S)}},{key:"parseOpen",value:function(y){if("workbookView"===y.name){var b=this.model={},S=function(J,j,$){var L=void 0!==j?b[J]=parseInt(j,10):$;void 0!==L&&(b[J]=L)};return S("x",y.attributes.xWindow,0),S("y",y.attributes.yWindow,0),S("width",y.attributes.windowWidth,25e3),S("height",y.attributes.windowHeight,1e4),A="visibility","visible",void 0!==(X=void 0!==(P=y.attributes.visibility)?b[A]=P:"visible")&&(b[A]=X),S("activeTab",y.attributes.activeTab,void 0),S("firstSheet",y.attributes.firstSheet,void 0),!0}var A,P,X;return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],37:[function(T,te,W){"use strict";function k(P){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(P)}function R(P,H){for(var X=0;X<H.length;X++){var J=H[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}function M(P,H){return(M=Object.setPrototypeOf||function(X,J){return X.__proto__=J,X})(P,H)}function O(P,H){return!H||"object"!==k(H)&&"function"!=typeof H?function(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(P):H}function w(P){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)})(P)}var E=T("../../../utils/under-dash"),C=T("../../../utils/col-cache"),f=T("../../../utils/xml-stream"),d=T("../base-xform"),u=T("../static-xform"),c=T("../list-xform"),m=T("./defined-name-xform"),g=T("./sheet-xform"),y=T("./workbook-view-xform"),b=T("./workbook-properties-xform"),S=T("./workbook-calc-properties-xform"),A=function(P){!function(L,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(B&&B.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),B&&M(L,B)}($,P);var H,X,j=function x(P){var H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var X,J=w(P);if(H){var j=w(this).constructor;X=Reflect.construct(J,arguments,j)}else X=J.apply(this,arguments);return O(this,X)}}($);function $(){var L;return function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,$),(L=j.call(this)).map={fileVersion:$.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new c({tag:"bookViews",count:!1,childXform:new y}),sheets:new c({tag:"sheets",count:!1,childXform:new g}),definedNames:new c({tag:"definedNames",count:!1,childXform:new m}),calcPr:new S},L}return H=$,(X=[{key:"prepare",value:function(L){L.sheets=L.worksheets;var B=[],ee=0;L.sheets.forEach(function(N){if(N.pageSetup&&N.pageSetup.printArea&&N.pageSetup.printArea.split("&&").forEach(function(K){var ne=K.split(":"),ue={name:"_xlnm.Print_Area",ranges:["'".concat(N.name,"'!$").concat(ne[0],":$").concat(ne[1])],localSheetId:ee};B.push(ue)}),N.pageSetup&&(N.pageSetup.printTitlesRow||N.pageSetup.printTitlesColumn)){var V=[];if(N.pageSetup.printTitlesColumn){var U=N.pageSetup.printTitlesColumn.split(":");V.push("'".concat(N.name,"'!$").concat(U[0],":$").concat(U[1]))}if(N.pageSetup.printTitlesRow){var Q=N.pageSetup.printTitlesRow.split(":");V.push("'".concat(N.name,"'!$").concat(Q[0],":$").concat(Q[1]))}B.push({name:"_xlnm.Print_Titles",ranges:V,localSheetId:ee})}ee++}),B.length&&(L.definedNames=L.definedNames.concat(B)),(L.media||[]).forEach(function(N,V){N.name=N.type+(V+1)})}},{key:"render",value:function(L,B){L.openXml(f.StdDocAttributes),L.openNode("workbook",$.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(L),this.map.workbookPr.render(L,B.properties),this.map.bookViews.render(L,B.views),this.map.sheets.render(L,B.sheets),this.map.definedNames.render(L,B.definedNames),this.map.calcPr.render(L,B.calcProperties),L.closeNode()}},{key:"parseOpen",value:function(L){return this.parser?(this.parser.parseOpen(L),!0):("workbook"===L.name||(this.parser=this.map[L.name],this.parser&&this.parser.parseOpen(L)),!0)}},{key:"parseText",value:function(L){this.parser&&this.parser.parseText(L)}},{key:"parseClose",value:function(L){return this.parser?(this.parser.parseClose(L)||(this.parser=void 0),!0):"workbook"!==L||(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1)}},{key:"reconcile",value:function(L){var B,ee=(L.workbookRels||[]).reduce(function(Q,Z){return Q[Z.Id]=Z,Q},{}),N=[],V=0;(L.sheets||[]).forEach(function(Q){var Z=ee[Q.rId];Z&&(B=L.worksheetHash["xl/".concat(Z.Target.replace(/^(\s|\/xl\/)+/,""))])&&(B.name=Q.name,B.id=Q.id,B.state=Q.state,N[V++]=B)});var U=[];E.each(L.definedNames,function(Q){if("_xlnm.Print_Area"===Q.name){if(B=N[Q.localSheetId]){B.pageSetup||(B.pageSetup={});var Z=C.decodeEx(Q.ranges[0]);B.pageSetup.printArea=B.pageSetup.printArea?"".concat(B.pageSetup.printArea,"&&").concat(Z.dimensions):Z.dimensions}}else if("_xlnm.Print_Titles"===Q.name){if(B=N[Q.localSheetId]){B.pageSetup||(B.pageSetup={});var K=Q.ranges.join(","),ne=/\$/g,ue=K.match(/\$\d+:\$\d+/);ue&&ue.length&&(B.pageSetup.printTitlesRow=ue[0].replace(ne,""));var de=K.match(/\$[A-Z]+:\$[A-Z]+/);de&&de.length&&(B.pageSetup.printTitlesColumn=de[0].replace(ne,""))}}else U.push(Q)}),L.definedNames=U,L.media.forEach(function(Q,Z){Q.index=Z})}}])&&R(H.prototype,X),$}(d);A.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},A.STATIC_XFORMS={fileVersion:new u({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},te.exports=A},{"../../../utils/col-cache":19,"../../../utils/under-dash":25,"../../../utils/xml-stream":27,"../base-xform":31,"../list-xform":70,"../static-xform":119,"./defined-name-xform":32,"./sheet-xform":33,"./workbook-calc-properties-xform":34,"./workbook-properties-xform":35,"./workbook-view-xform":36}],38:[function(T,te,W){"use strict";function k(E,C){var f=Object.keys(E);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(E);C&&(d=d.filter(function(u){return Object.getOwnPropertyDescriptor(E,u).enumerable})),f.push.apply(f,d)}return f}function R(E,C,f){return C in E?Object.defineProperty(E,C,{value:f,enumerable:!0,configurable:!0,writable:!0}):E[C]=f,E}var M=T("../strings/rich-text-xform"),x=T("../../../utils/utils"),O=T("../base-xform"),w=te.exports=function(E){this.model=E};x.inherits(w,O,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new M),this._richTextXform},render:function(E,C){var f=this;E.openNode("comment",{ref:(C=C||this.model).ref,authorId:0}),E.openNode("text"),C&&C.note&&C.note.texts&&C.note.texts.forEach(function(d){f.richTextXform.render(E,d)}),E.closeNode(),E.closeNode()},parseOpen:function(E){if(this.parser)return this.parser.parseOpen(E),!0;switch(E.name){case"comment":return this.model=function(C){for(var f=1;f<arguments.length;f++){var d=null!=arguments[f]?arguments[f]:{};f%2?k(Object(d),!0).forEach(function(u){R(C,u,d[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(d)):k(Object(d)).forEach(function(u){Object.defineProperty(C,u,Object.getOwnPropertyDescriptor(d,u))})}return C}({type:"note",note:{texts:[]}},E.attributes),!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(E),!0;default:return!1}},parseText:function(E){this.parser&&this.parser.parseText(E)},parseClose:function(E){switch(E){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(E),!0}}})},{"../../../utils/utils":26,"../base-xform":31,"../strings/rich-text-xform":121}],39:[function(T,te,W){"use strict";var k=T("../../../utils/xml-stream"),R=T("../../../utils/utils"),M=T("../base-xform"),x=T("./comment-xform"),O=te.exports=function(){this.map={comment:new x}};R.inherits(O,M,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render:function(w,E){var C=this;E=E||this.model,w.openXml(k.StdDocAttributes),w.openNode("comments",O.COMMENTS_ATTRIBUTES),w.openNode("authors"),w.leafNode("author",null,"Author"),w.closeNode(),w.openNode("commentList"),E.comments.forEach(function(f){C.map.comment.render(w,f)}),w.closeNode(),w.closeNode()},parseOpen:function(w){if(this.parser)return this.parser.parseOpen(w),!0;switch(w.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(w),!0;default:return!1}},parseText:function(w){this.parser&&this.parser.parseText(w)},parseClose:function(w){switch(w){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(w),!0}}})},{"../../../utils/utils":26,"../../../utils/xml-stream":27,"../base-xform":31,"./comment-xform":38}],40:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this))._model=g,y}return f=m,(d=[{key:"render",value:function(g,y,b){(y===b[2]||"x:SizeWithCells"===this.tag&&y===b[1])&&g.leafNode(this.tag)}},{key:"parseOpen",value:function(g){return g.name===this.tag&&(this.model={},this.model[this.tag]=!0,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return this._model&&this._model.tag}}])&&R(f.prototype,d),m}(T("../../base-xform"));te.exports=E},{"../../base-xform":31}],41:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this))._model=g,y}return f=m,(d=[{key:"render",value:function(g,y){g.leafNode(this.tag,null,y)}},{key:"parseOpen",value:function(g){return g.name===this.tag&&(this.text="",!0)}},{key:"parseText",value:function(g){this.text=g}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return this._model&&this._model.tag}}])&&R(f.prototype,d),m}(T("../../base-xform"));te.exports=E},{"../../base-xform":31}],42:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"getAnchorRect",value:function(y){var b=Math.floor(y.left),S=Math.floor(68*(y.left-b)),A=Math.floor(y.top),P=Math.floor(18*(y.top-A)),H=Math.floor(y.right),X=Math.floor(68*(y.right-H)),J=Math.floor(y.bottom);return[b,S,A,P,H,X,J,Math.floor(18*(y.bottom-J))]}},{key:"getDefaultRect",value:function(y){var b=y.col,S=Math.max(y.row-2,0);return[b,6,S,14,b+2,2,S+4,16]}},{key:"render",value:function(y,b){var S=b.anchor?this.getAnchorRect(b.anchor):this.getDefaultRect(b.refAddress);y.leafNode("x:Anchor",null,S.join(", "))}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.text="",!0)}},{key:"parseText",value:function(y){this.text=y}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"x:Anchor"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],43:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var E=T("../base-xform"),C=T("./vml-anchor-xform"),f=T("./style/vml-protection-xform"),d=T("./style/vml-position-xform"),u=["twoCells","oneCells","absolute"],c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(){var P;return function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}(this,A),(P=S.call(this)).map={"x:Anchor":new C,"x:Locked":new f({tag:"x:Locked"}),"x:LockText":new f({tag:"x:LockText"}),"x:SizeWithCells":new d({tag:"x:SizeWithCells"}),"x:MoveWithCells":new d({tag:"x:MoveWithCells"})},P}return g=A,(y=[{key:"render",value:function(P,H){var X=H.note,J=X.protection,j=X.editAs;P.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(P,j,u),this.map["x:SizeWithCells"].render(P,j,u),this.map["x:Anchor"].render(P,H),this.map["x:Locked"].render(P,J.locked),P.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(P,J.lockText),P.leafNode("x:Row",null,H.refAddress.row-1),P.leafNode("x:Column",null,H.refAddress.col-1),P.closeNode()}},{key:"parseOpen",value:function(P){return P.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[P.name],this.parser&&this.parser.parseOpen(P)),!0}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){return this.parser?(this.parser.parseClose(P)||(this.parser=void 0),!0):P!==this.tag||(this.normalizeModel(),!1)}},{key:"normalizeModel",value:function(){var P=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),H=Object.keys(P).length;this.model.editAs=u[H],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}},{key:"tag",get:function(){return"x:ClientData"}}])&&R(g.prototype,y),A}(E);te.exports=c},{"../base-xform":31,"./style/vml-position-xform":40,"./style/vml-protection-xform":41,"./vml-anchor-xform":42}],44:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../../utils/xml-stream"),C=T("../base-xform"),f=T("./vml-shape-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={"v:shape":new f},S}return c=b,(m=[{key:"render",value:function(S,A){var P=this;S.openXml(E.StdDocAttributes),S.openNode(this.tag,b.DRAWING_ATTRIBUTES),S.openNode("o:shapelayout",{"v:ext":"edit"}),S.leafNode("o:idmap",{"v:ext":"edit",data:1}),S.closeNode(),S.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),S.leafNode("v:stroke",{joinstyle:"miter"}),S.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),S.closeNode(),A.comments.forEach(function(H,X){P.map["v:shape"].render(S,H,X)}),S.closeNode()}},{key:"parseOpen",value:function(S){return this.parser?(this.parser.parseOpen(S),!0):(S.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[S.name],this.parser&&this.parser.parseOpen(S)),!0)}},{key:"parseText",value:function(S){this.parser&&this.parser.parseText(S)}},{key:"parseClose",value:function(S){return this.parser?(this.parser.parseClose(S)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):S!==this.tag}},{key:"reconcile",value:function(S,A){var P=this;S.anchors.forEach(function(H){H.br?P.map["xdr:twoCellAnchor"].reconcile(H,A):P.map["xdr:oneCellAnchor"].reconcile(H,A)})}},{key:"tag",get:function(){return"xml"}}])&&R(c.prototype,m),b}(C);d.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},te.exports=d},{"../../../utils/xml-stream":27,"../base-xform":31,"./vml-shape-xform":45}],45:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../base-xform"),C=T("./vml-textbox-xform"),f=T("./vml-client-data-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={"v:textbox":new C,"x:ClientData":new f},S}return c=b,(m=[{key:"render",value:function(S,A,P){S.openNode("v:shape",b.V_SHAPE_ATTRIBUTES(A,P)),S.leafNode("v:fill",{color2:"infoBackground [80]"}),S.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),S.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(S,A),this.map["x:ClientData"].render(S,A),S.closeNode()}},{key:"parseOpen",value:function(S){return this.parser?(this.parser.parseOpen(S),!0):(S.name===this.tag?(this.reset(),this.model={margins:{insetmode:S.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[S.name],this.parser&&this.parser.parseOpen(S)),!0)}},{key:"parseText",value:function(S){this.parser&&this.parser.parseText(S)}},{key:"parseClose",value:function(S){return this.parser?(this.parser.parseClose(S)||(this.parser=void 0),!0):S!==this.tag||(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1)}},{key:"tag",get:function(){return"v:shape"}}])&&R(c.prototype,m),b}(E);d.V_SHAPE_ATTRIBUTES=function(u,c){return{id:"_x0000_s".concat(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":u.note.margins&&u.note.margins.insetmode}},te.exports=d},{"../base-xform":31,"./vml-client-data-xform":43,"./vml-textbox-xform":46}],46:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"conversionUnit",value:function(y,b,S){return"".concat(parseFloat(y)*b.toFixed(2)).concat(S)}},{key:"reverseConversionUnit",value:function(y){var b=this;return(y||"").split(",").map(function(S){return Number(parseFloat(b.conversionUnit(parseFloat(S),.1,"")).toFixed(2))})}},{key:"render",value:function(y,b){var S=this,A={style:"mso-direction-alt:auto"};if(b&&b.note){var P=(b.note&&b.note.margins).inset;Array.isArray(P)&&(P=P.map(function(H){return S.conversionUnit(H,10,"mm")}).join(",")),P&&(A.inset=P)}y.openNode("v:textbox",A),y.leafNode("div",{style:"text-align:left"}),y.closeNode()}},{key:"parseOpen",value:function(y){return y.name!==this.tag||(this.model={inset:this.reverseConversionUnit(y.attributes.inset)},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"v:textbox"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],47:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"createNewModel",value:function(y){return{}}},{key:"parseOpen",value:function(y){return this.parser=this.parser||this.map[y.name],this.parser?(this.parser.parseOpen(y),!0):y.name===this.tag&&(this.model=this.createNewModel(y),!0)}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"onParserClose",value:function(y,b){this.model[y]=b.model}},{key:"parseClose",value:function(y){return this.parser?(this.parser.parseClose(y)||(this.onParserClose(y,this.parser),this.parser=void 0),!0):y!==this.tag}}])&&M(d.prototype,u),g}(T("./base-xform"));te.exports=C},{"./base-xform":31}],48:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.openNode("HeadingPairs"),y.openNode("vt:vector",{size:2,baseType:"variant"}),y.openNode("vt:variant"),y.leafNode("vt:lpstr",void 0,"Worksheets"),y.closeNode(),y.openNode("vt:variant"),y.leafNode("vt:i4",void 0,b.length),y.closeNode(),y.closeNode(),y.closeNode()}},{key:"parseOpen",value:function(y){return"HeadingPairs"===y.name}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){return"HeadingPairs"!==y}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],49:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.openNode("TitlesOfParts"),y.openNode("vt:vector",{size:b.length,baseType:"lpstr"}),b.forEach(function(S){y.leafNode("vt:lpstr",void 0,S.name)}),y.closeNode(),y.closeNode()}},{key:"parseOpen",value:function(y){return"TitlesOfParts"===y.name}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){return"TitlesOfParts"!==y}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],50:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var E=T("../../../utils/xml-stream"),C=T("../base-xform"),f=T("../simple/string-xform"),d=T("./app-heading-pairs-xform"),u=T("./app-titles-of-parts-xform"),c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(){var P;return function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}(this,A),(P=S.call(this)).map={Company:new f({tag:"Company"}),Manager:new f({tag:"Manager"}),HeadingPairs:new d,TitleOfParts:new u},P}return g=A,(y=[{key:"render",value:function(P,H){P.openXml(E.StdDocAttributes),P.openNode("Properties",A.PROPERTY_ATTRIBUTES),P.leafNode("Application",void 0,"Microsoft Excel"),P.leafNode("DocSecurity",void 0,"0"),P.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(P,H.worksheets),this.map.TitleOfParts.render(P,H.worksheets),this.map.Company.render(P,H.company||""),this.map.Manager.render(P,H.manager),P.leafNode("LinksUpToDate",void 0,"false"),P.leafNode("SharedDoc",void 0,"false"),P.leafNode("HyperlinksChanged",void 0,"false"),P.leafNode("AppVersion",void 0,"16.0300"),P.closeNode()}},{key:"parseOpen",value:function(P){return this.parser?(this.parser.parseOpen(P),!0):"Properties"===P.name||(this.parser=this.map[P.name],!!this.parser&&(this.parser.parseOpen(P),!0))}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){return this.parser?(this.parser.parseClose(P)||(this.parser=void 0),!0):"Properties"!==P||(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1)}}])&&R(g.prototype,y),A}(C);c.DateFormat=function(m){return m.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},te.exports=c},{"../../../utils/xml-stream":27,"../base-xform":31,"../simple/string-xform":118,"./app-heading-pairs-xform":48,"./app-titles-of-parts-xform":49}],51:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../../utils/xml-stream"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){b.openXml(C.StdDocAttributes),b.openNode("Types",y.PROPERTY_ATTRIBUTES);var A={};(S.media||[]).forEach(function(P){if("image"===P.type){var H=P.extension;A[H]||(A[H]=!0,b.leafNode("Default",{Extension:H,ContentType:"image/".concat(H)}))}}),b.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),b.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),b.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),S.worksheets.forEach(function(P){var H="/xl/worksheets/sheet".concat(P.id,".xml");b.leafNode("Override",{PartName:H,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),b.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),b.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),S.sharedStrings&&S.sharedStrings.count&&b.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),S.tables&&S.tables.forEach(function(P){b.leafNode("Override",{PartName:"/xl/tables/".concat(P.target),ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),S.drawings&&S.drawings.forEach(function(P){b.leafNode("Override",{PartName:"/xl/drawings/".concat(P.name,".xml"),ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),S.commentRefs&&(b.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),S.commentRefs.forEach(function(P){b.leafNode("Override",{PartName:"/xl/".concat(P.commentName,".xml"),ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),b.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),b.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),b.closeNode()}},{key:"parseOpen",value:function(){return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&M(u.prototype,c),y}(T("../base-xform"));f.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},te.exports=f},{"../../../utils/xml-stream":27,"../base-xform":31}],52:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var E=T("../../../utils/xml-stream"),C=T("../base-xform"),f=T("../simple/date-xform"),d=T("../simple/string-xform"),u=T("../simple/integer-xform"),c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(){var P;return function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}(this,A),(P=S.call(this)).map={"dc:creator":new d({tag:"dc:creator"}),"dc:title":new d({tag:"dc:title"}),"dc:subject":new d({tag:"dc:subject"}),"dc:description":new d({tag:"dc:description"}),"dc:identifier":new d({tag:"dc:identifier"}),"dc:language":new d({tag:"dc:language"}),"cp:keywords":new d({tag:"cp:keywords"}),"cp:category":new d({tag:"cp:category"}),"cp:lastModifiedBy":new d({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new f({tag:"cp:lastPrinted",format:A.DateFormat}),"cp:revision":new u({tag:"cp:revision"}),"cp:version":new d({tag:"cp:version"}),"cp:contentStatus":new d({tag:"cp:contentStatus"}),"cp:contentType":new d({tag:"cp:contentType"}),"dcterms:created":new f({tag:"dcterms:created",attrs:A.DateAttrs,format:A.DateFormat}),"dcterms:modified":new f({tag:"dcterms:modified",attrs:A.DateAttrs,format:A.DateFormat})},P}return g=A,(y=[{key:"render",value:function(P,H){P.openXml(E.StdDocAttributes),P.openNode("cp:coreProperties",A.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(P,H.creator),this.map["dc:title"].render(P,H.title),this.map["dc:subject"].render(P,H.subject),this.map["dc:description"].render(P,H.description),this.map["dc:identifier"].render(P,H.identifier),this.map["dc:language"].render(P,H.language),this.map["cp:keywords"].render(P,H.keywords),this.map["cp:category"].render(P,H.category),this.map["cp:lastModifiedBy"].render(P,H.lastModifiedBy),this.map["cp:lastPrinted"].render(P,H.lastPrinted),this.map["cp:revision"].render(P,H.revision),this.map["cp:version"].render(P,H.version),this.map["cp:contentStatus"].render(P,H.contentStatus),this.map["cp:contentType"].render(P,H.contentType),this.map["dcterms:created"].render(P,H.created),this.map["dcterms:modified"].render(P,H.modified),P.closeNode()}},{key:"parseOpen",value:function(P){if(this.parser)return this.parser.parseOpen(P),!0;switch(P.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[P.name],this.parser)return this.parser.parseOpen(P),!0;throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(P)))}}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){if(this.parser)return this.parser.parseClose(P)||(this.parser=void 0),!0;switch(P){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: ".concat(P))}}}])&&R(g.prototype,y),A}(C);c.DateFormat=function(m){return m.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},te.exports=c},{"../../../utils/xml-stream":27,"../base-xform":31,"../simple/date-xform":116,"../simple/integer-xform":117,"../simple/string-xform":118}],53:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode("Relationship",b)}},{key:"parseOpen",value:function(y){return"Relationship"===y.name&&(this.model=y.attributes,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],54:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../../utils/xml-stream"),C=T("../base-xform"),f=T("./relationship-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={Relationship:new f},S}return c=b,(m=[{key:"render",value:function(S,A){var P=this;A=A||this._values,S.openXml(E.StdDocAttributes),S.openNode("Relationships",b.RELATIONSHIPS_ATTRIBUTES),A.forEach(function(H){P.map.Relationship.render(S,H)}),S.closeNode()}},{key:"parseOpen",value:function(S){if(this.parser)return this.parser.parseOpen(S),!0;if("Relationships"===S.name)return this.model=[],!0;if(this.parser=this.map[S.name],this.parser)return this.parser.parseOpen(S),!0;throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(S)))}},{key:"parseText",value:function(S){this.parser&&this.parser.parseText(S)}},{key:"parseClose",value:function(S){if(this.parser)return this.parser.parseClose(S)||(this.model.push(this.parser.model),this.parser=void 0),!0;if("Relationships"===S)return!1;throw new Error("Unexpected xml node in parseClose: ".concat(S))}}])&&R(c.prototype,m),b}(C);d.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},te.exports=d},{"../../../utils/xml-stream":27,"../base-xform":31,"./relationship-xform":53}],55:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"parseOpen",value:function(y){return this.parser?(this.parser.parseOpen(y),!0):(y.name===this.tag?(this.reset(),this.model={range:{editAs:y.attributes.editAs||"oneCell"}}):(this.parser=this.map[y.name],this.parser&&this.parser.parseOpen(y)),!0)}},{key:"parseText",value:function(y){this.parser&&this.parser.parseText(y)}},{key:"reconcilePicture",value:function(y,b){if(y&&y.rId){var S=b.rels[y.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(S)return b.media[b.mediaIndex[S[1]]]}}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],56:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("../base-xform"),C=T("./blip-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(){var b;return function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"a:blip":new C},b}return u=y,(c=[{key:"render",value:function(b,S){b.openNode(this.tag),this.map["a:blip"].render(b,S),b.openNode("a:stretch"),b.leafNode("a:fillRect"),b.closeNode(),b.closeNode()}},{key:"parseOpen",value:function(b){return this.parser?(this.parser.parseOpen(b),!0):(b.name===this.tag?this.reset():(this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(b){return this.parser?(this.parser.parseClose(b)||(this.parser=void 0),!0):b!==this.tag||(this.model=this.map["a:blip"].model,!1)}},{key:"tag",get:function(){return"xdr:blipFill"}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../base-xform":31,"./blip-xform":57}],57:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":b.rId,cstate:"print"})}},{key:"parseOpen",value:function(y){return y.name!==this.tag||(this.model={rId:y.attributes["r:embed"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"a:blip"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],58:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y){y.openNode(this.tag),y.leafNode("a:picLocks",{noChangeAspect:"1"}),y.closeNode()}},{key:"parseOpen",value:function(y){return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"xdr:cNvPicPr"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],59:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../base-xform"),C=T("./hlink-click-xform"),f=T("./ext-lst-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={"a:hlinkClick":new C,"a:extLst":new f},S}return c=b,(m=[{key:"render",value:function(S,A){S.openNode(this.tag,{id:A.index,name:"Picture ".concat(A.index)}),this.map["a:hlinkClick"].render(S,A),this.map["a:extLst"].render(S,A),S.closeNode()}},{key:"parseOpen",value:function(S){return this.parser?(this.parser.parseOpen(S),!0):(S.name===this.tag?this.reset():(this.parser=this.map[S.name],this.parser&&this.parser.parseOpen(S)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(S){return this.parser?(this.parser.parseClose(S)||(this.parser=void 0),!0):S!==this.tag||(this.model=this.map["a:hlinkClick"].model,!1)}},{key:"tag",get:function(){return"xdr:cNvPr"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../base-xform":31,"./ext-lst-xform":62,"./hlink-click-xform":64}],60:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("../base-xform"),C=T("../simple/integer-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(b){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,y),(S=g.call(this)).tag=b.tag,S.map={"xdr:col":new C({tag:"xdr:col",zero:!0}),"xdr:colOff":new C({tag:"xdr:colOff",zero:!0}),"xdr:row":new C({tag:"xdr:row",zero:!0}),"xdr:rowOff":new C({tag:"xdr:rowOff",zero:!0})},S}return u=y,(c=[{key:"render",value:function(b,S){b.openNode(this.tag),this.map["xdr:col"].render(b,S.nativeCol),this.map["xdr:colOff"].render(b,S.nativeColOff),this.map["xdr:row"].render(b,S.nativeRow),this.map["xdr:rowOff"].render(b,S.nativeRowOff),b.closeNode()}},{key:"parseOpen",value:function(b){return this.parser?(this.parser.parseOpen(b),!0):(b.name===this.tag?this.reset():(this.parser=this.map[b.name],this.parser&&this.parser.parseOpen(b)),!0)}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){return this.parser?(this.parser.parseClose(b)||(this.parser=void 0),!0):b!==this.tag||(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1)}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../base-xform":31,"../simple/integer-xform":117}],61:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var E=T("../../../utils/col-cache"),C=T("../../../utils/xml-stream"),f=T("../base-xform"),d=T("./two-cell-anchor-xform"),u=T("./one-cell-anchor-xform"),c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(){var P;return function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}(this,A),(P=S.call(this)).map={"xdr:twoCellAnchor":new d,"xdr:oneCellAnchor":new u},P}return g=A,(y=[{key:"prepare",value:function(P){var H=this;P.anchors.forEach(function(X,J){var j;X.anchorType=("string"==typeof(j=X).range?E.decode(j.range):j.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor",H.map[X.anchorType].prepare(X,{index:J})})}},{key:"render",value:function(P,H){var X=this;P.openXml(C.StdDocAttributes),P.openNode(this.tag,A.DRAWING_ATTRIBUTES),H.anchors.forEach(function(J){X.map[J.anchorType].render(P,J)}),P.closeNode()}},{key:"parseOpen",value:function(P){return this.parser?(this.parser.parseOpen(P),!0):(P.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[P.name],this.parser&&this.parser.parseOpen(P)),!0)}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){return this.parser?(this.parser.parseClose(P)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):P!==this.tag}},{key:"reconcile",value:function(P,H){var X=this;P.anchors.forEach(function(J){J.br?X.map["xdr:twoCellAnchor"].reconcile(J,H):X.map["xdr:oneCellAnchor"].reconcile(J,H)})}},{key:"tag",get:function(){return"xdr:wsDr"}}])&&R(g.prototype,y),A}(f);c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},te.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":27,"../base-xform":31,"./one-cell-anchor-xform":66,"./two-cell-anchor-xform":69}],62:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y){y.openNode(this.tag),y.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),y.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),y.closeNode(),y.closeNode()}},{key:"parseOpen",value:function(y){return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"a:extLst"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],63:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function M(f,d){return(M=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function O(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function w(f){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&M(y,b)}(g,f);var d,u,m=function x(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=w(f);if(d){var m=w(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return O(this,u)}}(g);function g(y){var b;return function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,g),(b=m.call(this)).tag=y.tag,b.map={},b}return d=g,(u=[{key:"render",value:function(y,b){y.openNode(this.tag);var S=Math.floor(9525*b.width),A=Math.floor(9525*b.height);y.addAttribute("cx",S),y.addAttribute("cy",A),y.closeNode()}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.model={width:parseInt(y.attributes.cx||"0",10)/9525,height:parseInt(y.attributes.cy||"0",10)/9525},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&R(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],64:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){b.hyperlinks&&b.hyperlinks.rId&&y.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":b.hyperlinks.rId,tooltip:b.hyperlinks.tooltip})}},{key:"parseOpen",value:function(y){return y.name!==this.tag||(this.model={hyperlinks:{rId:y.attributes["r:id"],tooltip:y.attributes.tooltip}},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"a:hlinkClick"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],65:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../base-xform"),C=T("./c-nv-pr-xform"),f=T("./c-nv-pic-pr-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={"xdr:cNvPr":new C,"xdr:cNvPicPr":new f},S}return c=b,(m=[{key:"render",value:function(S,A){S.openNode(this.tag),this.map["xdr:cNvPr"].render(S,A),this.map["xdr:cNvPicPr"].render(S,A),S.closeNode()}},{key:"parseOpen",value:function(S){return this.parser?(this.parser.parseOpen(S),!0):(S.name===this.tag?this.reset():(this.parser=this.map[S.name],this.parser&&this.parser.parseOpen(S)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(S){return this.parser?(this.parser.parseClose(S)||(this.parser=void 0),!0):S!==this.tag||(this.model=this.map["xdr:cNvPr"].model,!1)}},{key:"tag",get:function(){return"xdr:nvPicPr"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../base-xform":31,"./c-nv-pic-pr-xform":58,"./c-nv-pr-xform":59}],66:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var E=T("./base-cell-anchor-xform"),C=T("../static-xform"),f=T("./cell-position-xform"),d=T("./ext-xform"),u=T("./pic-xform"),c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(){var P;return function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}(this,A),(P=S.call(this)).map={"xdr:from":new f({tag:"xdr:from"}),"xdr:ext":new d({tag:"xdr:ext"}),"xdr:pic":new u,"xdr:clientData":new C({tag:"xdr:clientData"})},P}return g=A,(y=[{key:"prepare",value:function(P,H){this.map["xdr:pic"].prepare(P.picture,H)}},{key:"render",value:function(P,H){P.openNode(this.tag,{editAs:H.range.editAs||"oneCell"}),this.map["xdr:from"].render(P,H.range.tl),this.map["xdr:ext"].render(P,H.range.ext),this.map["xdr:pic"].render(P,H.picture),this.map["xdr:clientData"].render(P,{}),P.closeNode()}},{key:"parseClose",value:function(P){return this.parser?(this.parser.parseClose(P)||(this.parser=void 0),!0):P!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1)}},{key:"reconcile",value:function(P,H){P.medium=this.reconcilePicture(P.picture,H)}},{key:"tag",get:function(){return"xdr:oneCellAnchor"}}])&&R(g.prototype,y),A}(E);te.exports=c},{"../static-xform":119,"./base-cell-anchor-xform":55,"./cell-position-xform":60,"./ext-xform":63,"./pic-xform":67}],67:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var E=T("../base-xform"),C=T("../static-xform"),f=T("./blip-fill-xform"),d=T("./nv-pic-pr-xform"),u=T("./sp-pr"),c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(){var P;return function(H,X){if(!(H instanceof X))throw new TypeError("Cannot call a class as a function")}(this,A),(P=S.call(this)).map={"xdr:nvPicPr":new d,"xdr:blipFill":new f,"xdr:spPr":new C(u)},P}return g=A,(y=[{key:"prepare",value:function(P,H){P.index=H.index+1}},{key:"render",value:function(P,H){P.openNode(this.tag),this.map["xdr:nvPicPr"].render(P,H),this.map["xdr:blipFill"].render(P,H),this.map["xdr:spPr"].render(P,H),P.closeNode()}},{key:"parseOpen",value:function(P){return this.parser?(this.parser.parseOpen(P),!0):(P.name===this.tag?this.reset():(this.parser=this.map[P.name],this.parser&&this.parser.parseOpen(P)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(P){return this.parser?(this.parser.parseClose(P)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):P!==this.tag}},{key:"tag",get:function(){return"xdr:pic"}}])&&R(g.prototype,y),A}(E);te.exports=c},{"../base-xform":31,"../static-xform":119,"./blip-fill-xform":56,"./nv-pic-pr-xform":65,"./sp-pr":68}],68:[function(T,te,W){"use strict";te.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],69:[function(T,te,W){"use strict";function k(c){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function R(c,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function M(c,m){return(M=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(c,m)}function O(c,m){return!m||"object"!==k(m)&&"function"!=typeof m?function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(c):m}function w(c){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}var E=T("./base-cell-anchor-xform"),C=T("../static-xform"),f=T("./cell-position-xform"),d=T("./pic-xform"),u=function(c){!function(A,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&M(A,P)}(S,c);var m,g,b=function x(c){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=w(c);if(m){var b=w(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return O(this,g)}}(S);function S(){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,S),(A=b.call(this)).map={"xdr:from":new f({tag:"xdr:from"}),"xdr:to":new f({tag:"xdr:to"}),"xdr:pic":new d,"xdr:clientData":new C({tag:"xdr:clientData"})},A}return m=S,(g=[{key:"prepare",value:function(A,P){this.map["xdr:pic"].prepare(A.picture,P)}},{key:"render",value:function(A,P){A.openNode(this.tag,{editAs:P.range.editAs||"oneCell"}),this.map["xdr:from"].render(A,P.range.tl),this.map["xdr:to"].render(A,P.range.br),this.map["xdr:pic"].render(A,P.picture),this.map["xdr:clientData"].render(A,{}),A.closeNode()}},{key:"parseClose",value:function(A){return this.parser?(this.parser.parseClose(A)||(this.parser=void 0),!0):A!==this.tag||(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1)}},{key:"reconcile",value:function(A,P){A.medium=this.reconcilePicture(A.picture,P)}},{key:"tag",get:function(){return"xdr:twoCellAnchor"}}])&&R(m.prototype,g),S}(E);te.exports=u},{"../static-xform":119,"./base-cell-anchor-xform":55,"./cell-position-xform":60,"./pic-xform":67}],70:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).tag=g.tag,y.always=!!g.always,y.count=g.count,y.empty=g.empty,y.$count=g.$count||"count",y.$=g.$,y.childXform=g.childXform,y.maxItems=g.maxItems,y}return f=m,(d=[{key:"prepare",value:function(g,y){var b=this.childXform;g&&g.forEach(function(S,A){y.index=A,b.prepare(S,y)})}},{key:"render",value:function(g,y){if(this.always||y&&y.length){g.openNode(this.tag,this.$),this.count&&g.addAttribute(this.$count,y&&y.length||0);var b=this.childXform;(y||[]).forEach(function(S,A){b.render(g,S,A)}),g.closeNode()}else this.empty&&g.leafNode(this.tag)}},{key:"parseOpen",value:function(g){return this.parser?(this.parser.parseOpen(g),!0):g.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(g)&&(this.parser=this.childXform,!0)}},{key:"parseText",value:function(g){this.parser&&this.parser.parseText(g)}},{key:"parseClose",value:function(g){if(this.parser){if(!this.parser.parseClose(g)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error("Max ".concat(this.childXform.tag," count (").concat(this.maxItems,") exceeded"));return!0}return!1}},{key:"reconcile",value:function(g,y){if(g){var b=this.childXform;g.forEach(function(S){b.reconcile(S,y)})}}}])&&R(f.prototype,d),m}(T("./base-xform"));te.exports=E},{"./base-xform":31}],71:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../../utils/col-cache"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){if(S)if("string"==typeof S)b.leafNode("autoFilter",{ref:S});else{var A=function(X){return"string"==typeof X?X:C.getAddress(X.row,X.column).address},P=A(S.from),H=A(S.to);P&&H&&b.leafNode("autoFilter",{ref:"".concat(P,":").concat(H)})}}},{key:"parseOpen",value:function(b){"autoFilter"===b.name&&(this.model=b.attributes.ref)}},{key:"tag",get:function(){return"autoFilter"}}])&&M(u.prototype,c),y}(T("../base-xform"));te.exports=f},{"../../../utils/col-cache":19,"../base-xform":31}],72:[function(T,te,W){"use strict";function k(S){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}function R(S,A){var P=Object.keys(S);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(S);A&&(H=H.filter(function(X){return Object.getOwnPropertyDescriptor(S,X).enumerable})),P.push.apply(P,H)}return P}function M(S){for(var A=1;A<arguments.length;A++){var P=null!=arguments[A]?arguments[A]:{};A%2?R(Object(P),!0).forEach(function(H){x(S,H,P[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(P)):R(Object(P)).forEach(function(H){Object.defineProperty(S,H,Object.getOwnPropertyDescriptor(P,H))})}return S}function x(S,A,P){return A in S?Object.defineProperty(S,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[A]=P,S}function O(S,A){for(var P=0;P<A.length;P++){var H=A[P];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(S,H.key,H)}}function w(S,A){return(w=Object.setPrototypeOf||function(P,H){return P.__proto__=H,P})(S,A)}function C(S,A){return!A||"object"!==k(A)&&"function"!=typeof A?function(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(S):A}function f(S){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(S)}var d=T("../../../utils/utils"),u=T("../base-xform"),c=T("../../../doc/range"),m=T("../../../doc/enums"),g=T("../strings/rich-text-xform");function y(S){if(null==S)return m.ValueType.Null;if(S instanceof String||"string"==typeof S)return m.ValueType.String;if("number"==typeof S)return m.ValueType.Number;if("boolean"==typeof S)return m.ValueType.Boolean;if(S instanceof Date)return m.ValueType.Date;if(S.text&&S.hyperlink)return m.ValueType.Hyperlink;if(S.formula)return m.ValueType.Formula;if(S.error)return m.ValueType.Error;throw new Error("I could not understand type of value")}var b=function(S){!function(j,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),$&&w(j,$)}(J,S);var A,P,X=function E(S){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var P,H=f(S);if(A){var X=f(this).constructor;P=Reflect.construct(H,arguments,X)}else P=H.apply(this,arguments);return C(this,P)}}(J);function J(){var j;return function($,L){if(!($ instanceof L))throw new TypeError("Cannot call a class as a function")}(this,J),(j=X.call(this)).richTextXForm=new g,j}return A=J,(P=[{key:"prepare",value:function(j,$){var ee,L=$.styles.addStyleModel(j.style||{},(ee=j).type===m.ValueType.Formula?y(ee.result):ee.type);switch(L&&(j.styleId=L),j.comment&&$.comments.push(M(M({},j.comment),{},{ref:j.address})),j.type){case m.ValueType.String:case m.ValueType.RichText:$.sharedStrings&&(j.ssId=$.sharedStrings.add(j.value));break;case m.ValueType.Date:$.date1904&&(j.date1904=!0);break;case m.ValueType.Hyperlink:$.sharedStrings&&null!=j.text&&(j.ssId=$.sharedStrings.add(j.text)),$.hyperlinks.push({address:j.address,target:j.hyperlink,tooltip:j.tooltip});break;case m.ValueType.Merge:$.merges.add(j);break;case m.ValueType.Formula:if($.date1904&&(j.date1904=!0),"shared"===j.shareType&&(j.si=$.siFormulae++),j.formula)$.formulae[j.address]=j;else if(j.sharedFormula){var B=$.formulae[j.sharedFormula];if(!B)throw new Error("Shared Formula master must exist above and or left of clone for cell ".concat(j.address));void 0===B.si?(B.shareType="shared",B.si=$.siFormulae++,B.range=new c(B.address,j.address)):B.range&&B.range.expandToAddress(j.address),j.si=B.si}}}},{key:"renderFormula",value:function(j,$){var L=null;switch($.shareType){case"shared":L={t:"shared",ref:$.ref||$.range.range,si:$.si};break;case"array":L={t:"array",ref:$.ref};break;default:void 0!==$.si&&(L={t:"shared",si:$.si})}switch(y($.result)){case m.ValueType.Null:j.leafNode("f",L,$.formula);break;case m.ValueType.String:j.addAttribute("t","str"),j.leafNode("f",L,$.formula),j.leafNode("v",null,$.result);break;case m.ValueType.Number:j.leafNode("f",L,$.formula),j.leafNode("v",null,$.result);break;case m.ValueType.Boolean:j.addAttribute("t","b"),j.leafNode("f",L,$.formula),j.leafNode("v",null,$.result?1:0);break;case m.ValueType.Error:j.addAttribute("t","e"),j.leafNode("f",L,$.formula),j.leafNode("v",null,$.result.error);break;case m.ValueType.Date:j.leafNode("f",L,$.formula),j.leafNode("v",null,d.dateToExcel($.result,$.date1904));break;default:throw new Error("I could not understand type of value")}}},{key:"render",value:function(j,$){var L=this;if($.type!==m.ValueType.Null||$.styleId){switch(j.openNode("c"),j.addAttribute("r",$.address),$.styleId&&j.addAttribute("s",$.styleId),$.type){case m.ValueType.Null:break;case m.ValueType.Number:j.leafNode("v",null,$.value);break;case m.ValueType.Boolean:j.addAttribute("t","b"),j.leafNode("v",null,$.value?"1":"0");break;case m.ValueType.Error:j.addAttribute("t","e"),j.leafNode("v",null,$.value.error);break;case m.ValueType.String:case m.ValueType.RichText:void 0!==$.ssId?(j.addAttribute("t","s"),j.leafNode("v",null,$.ssId)):$.value&&$.value.richText?(j.addAttribute("t","inlineStr"),j.openNode("is"),$.value.richText.forEach(function(B){L.richTextXForm.render(j,B)}),j.closeNode("is")):(j.addAttribute("t","str"),j.leafNode("v",null,$.value));break;case m.ValueType.Date:j.leafNode("v",null,d.dateToExcel($.value,$.date1904));break;case m.ValueType.Hyperlink:void 0!==$.ssId?(j.addAttribute("t","s"),j.leafNode("v",null,$.ssId)):(j.addAttribute("t","str"),j.leafNode("v",null,$.text));break;case m.ValueType.Formula:this.renderFormula(j,$)}j.closeNode()}}},{key:"parseOpen",value:function(j){if(this.parser)return this.parser.parseOpen(j),!0;switch(j.name){case"c":return this.model={address:j.attributes.r},this.t=j.attributes.t,j.attributes.s&&(this.model.styleId=parseInt(j.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=j.attributes.si,this.model.shareType=j.attributes.t,this.model.ref=j.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(j),!0;default:return!1}}},{key:"parseText",value:function(j){if(this.parser)this.parser.parseText(j);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+j:j;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+j:j:this.model.value=this.model.value?this.model.value+j:j}}},{key:"parseClose",value:function(j){switch(j){case"c":var $=this.model;if($.formula||$.shareType)$.type=m.ValueType.Formula,$.value&&($.result="str"===this.t?d.xmlDecode($.value):"b"===this.t?0!==parseInt($.value,10):"e"===this.t?{error:$.value}:parseFloat($.value),$.value=void 0);else if(void 0!==$.value)switch(this.t){case"s":$.type=m.ValueType.String,$.value=parseInt($.value,10);break;case"str":$.type=m.ValueType.String,$.value=d.xmlDecode($.value);break;case"inlineStr":$.type=m.ValueType.String;break;case"b":$.type=m.ValueType.Boolean,$.value=0!==parseInt($.value,10);break;case"e":$.type=m.ValueType.Error,$.value={error:$.value};break;default:$.type=m.ValueType.Number,$.value=parseFloat($.value)}else $.type=$.styleId?m.ValueType.Null:m.ValueType.Merge;return!1;case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(j),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(j),!0)}}},{key:"reconcile",value:function(j,$){var L=j.styleId&&$.styles&&$.styles.getStyleModel(j.styleId);switch(L&&(j.style=L),void 0!==j.styleId&&(j.styleId=void 0),j.type){case m.ValueType.String:"number"==typeof j.value&&$.sharedStrings&&(j.value=$.sharedStrings.getString(j.value)),j.value.richText&&(j.type=m.ValueType.RichText);break;case m.ValueType.Number:L&&d.isDateFmt(L.numFmt)&&(j.type=m.ValueType.Date,j.value=d.excelToDate(j.value,$.date1904));break;case m.ValueType.Formula:void 0!==j.result&&L&&d.isDateFmt(L.numFmt)&&(j.result=d.excelToDate(j.result,$.date1904)),"shared"===j.shareType&&(j.ref?$.formulae[j.si]=j.address:(j.sharedFormula=$.formulae[j.si],delete j.shareType),delete j.si)}var B=$.hyperlinkMap[j.address];B&&(j.type===m.ValueType.Formula?(j.text=j.result,j.result=void 0):(j.text=j.value,j.value=void 0),j.type=m.ValueType.Hyperlink,j.hyperlink=B);var ee=$.commentsMap&&$.commentsMap[j.address];ee&&(j.comment=ee)}},{key:"tag",get:function(){return"c"}}])&&O(A.prototype,P),J}(u);te.exports=b},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":26,"../base-xform":31,"../strings/rich-text-xform":121}],73:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../base-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){b.leafNode(this.tag,{iconSet:S.iconSet,iconId:S.iconId})}},{key:"parseOpen",value:function(b){var S=b.attributes;this.model={iconSet:S.iconSet,iconId:C.toIntValue(S.iconId)}}},{key:"parseClose",value:function(b){return b!==this.tag}},{key:"tag",get:function(){return"x14:cfIcon"}}])&&M(u.prototype,c),y}(C);te.exports=f},{"../../base-xform":31}],74:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function R(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function M(g,y){return(M=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function O(g,y){return!y||"object"!==k(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function w(g){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var E=T("uuid").v4,C=T("../../base-xform"),f=T("../../composite-xform"),d=T("./databar-ext-xform"),u=T("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},m=function(g){!function(H,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&M(H,X)}(P,g);var y,b,S,A=function x(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=w(g);if(y){var A=w(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return O(this,b)}}(P);function P(){var H;return function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")}(this,P),(H=A.call(this)).map={"x14:dataBar":H.databarXform=new d,"x14:iconSet":H.iconSetXform=new u},H}return y=P,S=[{key:"isExt",value:function(H){return"dataBar"===H.type?d.isExt(H):!("iconSet"!==H.type||!H.custom&&!c[H.iconSet])}}],(b=[{key:"prepare",value:function(H){P.isExt(H)&&(H.x14Id="{".concat(E(),"}").toUpperCase())}},{key:"render",value:function(H,X){if(P.isExt(X))switch(X.type){case"dataBar":this.renderDataBar(H,X);break;case"iconSet":this.renderIconSet(H,X)}}},{key:"renderDataBar",value:function(H,X){H.openNode(this.tag,{type:"dataBar",id:X.x14Id}),this.databarXform.render(H,X),H.closeNode()}},{key:"renderIconSet",value:function(H,X){H.openNode(this.tag,{type:"iconSet",priority:X.priority,id:X.x14Id||"{".concat(E(),"}")}),this.iconSetXform.render(H,X),H.closeNode()}},{key:"createNewModel",value:function(H){var X=H.attributes;return{type:X.type,x14Id:X.id,priority:C.toIntValue(X.priority)}}},{key:"onParserClose",value:function(H,X){Object.assign(this.model,X.model)}},{key:"tag",get:function(){return"x14:cfRule"}}])&&R(y.prototype,b),S&&R(y,S),P}(f);te.exports=m},{"../../base-xform":31,"../../composite-xform":47,"./databar-ext-xform":78,"./icon-set-ext-xform":80,uuid:526}],75:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("../../composite-xform"),C=T("./f-ext-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(){var b;return function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={"xm:f":b.fExtXform=new C},b}return u=y,(c=[{key:"render",value:function(b,S){b.openNode(this.tag,{type:S.type}),void 0!==S.value&&this.fExtXform.render(b,S.value),b.closeNode()}},{key:"createNewModel",value:function(b){return{type:b.attributes.type}}},{key:"onParserClose",value:function(b,S){"xm:f"===b&&(this.model.value=S.model?parseFloat(S.model):0)}},{key:"tag",get:function(){return"x14:cfvo"}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../../composite-xform":47,"./f-ext-xform":79}],76:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../composite-xform"),C=T("./sqref-ext-xform"),f=T("./cf-rule-ext-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={"xm:sqref":S.sqRef=new C,"x14:cfRule":S.cfRule=new f},S}return c=b,(m=[{key:"prepare",value:function(S,A){var P=this;S.rules.forEach(function(H){P.cfRule.prepare(H,A)})}},{key:"render",value:function(S,A){var P=this;A.rules.some(f.isExt)&&(S.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),A.rules.filter(f.isExt).forEach(function(H){return P.cfRule.render(S,H)}),this.sqRef.render(S,A.ref),S.closeNode())}},{key:"createNewModel",value:function(){return{rules:[]}}},{key:"onParserClose",value:function(S,A){switch(S){case"xm:sqref":this.model.ref=A.model;break;case"x14:cfRule":this.model.rules.push(A.model)}}},{key:"tag",get:function(){return"x14:conditionalFormatting"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../../composite-xform":47,"./cf-rule-ext-xform":74,"./sqref-ext-xform":81}],77:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../composite-xform"),C=T("./cf-rule-ext-xform"),f=T("./conditional-formatting-ext-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={"x14:conditionalFormatting":S.cfXform=new f},S}return c=b,(m=[{key:"hasContent",value:function(S){return void 0===S.hasExtContent&&(S.hasExtContent=S.some(function(A){return A.rules.some(C.isExt)})),S.hasExtContent}},{key:"prepare",value:function(S,A){var P=this;S.forEach(function(H){P.cfXform.prepare(H,A)})}},{key:"render",value:function(S,A){var P=this;this.hasContent(A)&&(S.openNode(this.tag),A.forEach(function(H){return P.cfXform.render(S,H)}),S.closeNode())}},{key:"createNewModel",value:function(){return[]}},{key:"onParserClose",value:function(S,A){this.model.push(A.model)}},{key:"tag",get:function(){return"x14:conditionalFormattings"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../../composite-xform":47,"./cf-rule-ext-xform":74,"./conditional-formatting-ext-xform":76}],78:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function M(g,y){(null==y||y>g.length)&&(y=g.length);for(var b=0,S=new Array(y);b<y;b++)S[b]=g[b];return S}function x(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function O(g,y){return(O=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function E(g,y){return!y||"object"!==k(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function C(g){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var f=T("../../base-xform"),d=T("../../composite-xform"),u=T("../../style/color-xform"),c=T("./cfvo-ext-xform"),m=function(g){!function(H,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&O(H,X)}(P,g);var y,b,S,A=function w(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=C(g);if(y){var A=C(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return E(this,b)}}(P);function P(){var H;return function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")}(this,P),(H=A.call(this)).map={"x14:cfvo":H.cfvoXform=new c,"x14:borderColor":H.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":H.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":H.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":H.axisColorXform=new u("x14:axisColor")},H}return y=P,S=[{key:"isExt",value:function(H){return!H.gradient}}],(b=[{key:"render",value:function(H,X){var J=this;H.openNode(this.tag,{minLength:f.toIntAttribute(X.minLength,0,!0),maxLength:f.toIntAttribute(X.maxLength,100,!0),border:f.toBoolAttribute(X.border,!1),gradient:f.toBoolAttribute(X.gradient,!0),negativeBarColorSameAsPositive:f.toBoolAttribute(X.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolAttribute(X.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toAttribute(X.axisPosition,"auto"),direction:f.toAttribute(X.direction,"leftToRight")}),X.cfvo.forEach(function(j){J.cfvoXform.render(H,j)}),this.borderColorXform.render(H,X.borderColor),this.negativeBorderColorXform.render(H,X.negativeBorderColor),this.negativeFillColorXform.render(H,X.negativeFillColor),this.axisColorXform.render(H,X.axisColor),H.closeNode()}},{key:"createNewModel",value:function(H){var X=H.attributes;return{cfvo:[],minLength:f.toIntValue(X.minLength,0),maxLength:f.toIntValue(X.maxLength,100),border:f.toBoolValue(X.border,!1),gradient:f.toBoolValue(X.gradient,!0),negativeBarColorSameAsPositive:f.toBoolValue(X.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:f.toBoolValue(X.negativeBarBorderColorSameAsPositive,!0),axisPosition:f.toStringValue(X.axisPosition,"auto"),direction:f.toStringValue(X.direction,"leftToRight")}}},{key:"onParserClose",value:function(H,X){var J=function R(g,y){return function(b){if(Array.isArray(b))return b}(g)||function(b,S){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(b)){var A=[],P=!0,H=!1,X=void 0;try{for(var J,j=b[Symbol.iterator]();!(P=(J=j.next()).done)&&(A.push(J.value),!S||A.length!==S);P=!0);}catch($){H=!0,X=$}finally{try{P||null==j.return||j.return()}finally{if(H)throw X}}return A}}(g,y)||function(b,S){if(b){if("string"==typeof b)return M(b,S);var A=Object.prototype.toString.call(b).slice(8,-1);if("Object"===A&&b.constructor&&(A=b.constructor.name),"Map"===A||"Set"===A)return Array.from(b);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return M(b,S)}}(g,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(H.split(":"),2)[1];"cfvo"===J?this.model.cfvo.push(X.model):this.model[J]=X.model}},{key:"tag",get:function(){return"x14:dataBar"}}])&&x(y.prototype,b),S&&x(y,S),P}(d);te.exports=m},{"../../base-xform":31,"../../composite-xform":47,"../../style/color-xform":127,"./cfvo-ext-xform":75}],79:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode(this.tag,null,b)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(y){this.model+=y}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"xm:f"}}])&&M(d.prototype,u),g}(T("../../base-xform"));te.exports=C},{"../../base-xform":31}],80:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function M(g,y){(null==y||y>g.length)&&(y=g.length);for(var b=0,S=new Array(y);b<y;b++)S[b]=g[b];return S}function x(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function O(g,y){return(O=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function E(g,y){return!y||"object"!==k(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function C(g){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var f=T("../../base-xform"),d=T("../../composite-xform"),u=T("./cfvo-ext-xform"),c=T("./cf-icon-ext-xform"),m=function(g){!function(H,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&O(H,X)}(P,g);var y,b,A=function w(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=C(g);if(y){var A=C(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return E(this,b)}}(P);function P(){var H;return function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")}(this,P),(H=A.call(this)).map={"x14:cfvo":H.cfvoXform=new u,"x14:cfIcon":H.cfIconXform=new c},H}return y=P,(b=[{key:"render",value:function(H,X){var J=this;H.openNode(this.tag,{iconSet:f.toStringAttribute(X.iconSet),reverse:f.toBoolAttribute(X.reverse,!1),showValue:f.toBoolAttribute(X.showValue,!0),custom:f.toBoolAttribute(X.icons,!1)}),X.cfvo.forEach(function(j){J.cfvoXform.render(H,j)}),X.icons&&X.icons.forEach(function(j,$){j.iconId=$,J.cfIconXform.render(H,j)}),H.closeNode()}},{key:"createNewModel",value:function(H){var X=H.attributes;return{cfvo:[],iconSet:f.toStringValue(X.iconSet,"3TrafficLights"),reverse:f.toBoolValue(X.reverse,!1),showValue:f.toBoolValue(X.showValue,!0)}}},{key:"onParserClose",value:function(H,X){var J=function R(g,y){return function(b){if(Array.isArray(b))return b}(g)||function(b,S){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(b)){var A=[],P=!0,H=!1,X=void 0;try{for(var J,j=b[Symbol.iterator]();!(P=(J=j.next()).done)&&(A.push(J.value),!S||A.length!==S);P=!0);}catch($){H=!0,X=$}finally{try{P||null==j.return||j.return()}finally{if(H)throw X}}return A}}(g,y)||function(b,S){if(b){if("string"==typeof b)return M(b,S);var A=Object.prototype.toString.call(b).slice(8,-1);if("Object"===A&&b.constructor&&(A=b.constructor.name),"Map"===A||"Set"===A)return Array.from(b);if("Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return M(b,S)}}(g,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(H.split(":"),2)[1];switch(J){case"cfvo":this.model.cfvo.push(X.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(X.model);break;default:this.model[J]=X.model}}},{key:"tag",get:function(){return"x14:iconSet"}}])&&x(y.prototype,b),P}(d);te.exports=m},{"../../base-xform":31,"../../composite-xform":47,"./cf-icon-ext-xform":73,"./cfvo-ext-xform":75}],81:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode(this.tag,null,b)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(y){this.model+=y}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"xm:sqref"}}])&&M(d.prototype,u),g}(T("../../base-xform"));te.exports=C},{"../../base-xform":31}],82:[function(T,te,W){"use strict";function k(H){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(H)}function R(H,X){var J=Object.keys(H);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(H);X&&(j=j.filter(function($){return Object.getOwnPropertyDescriptor(H,$).enumerable})),J.push.apply(J,j)}return J}function M(H){for(var X=1;X<arguments.length;X++){var J=null!=arguments[X]?arguments[X]:{};X%2?R(Object(J),!0).forEach(function(j){x(H,j,J[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(J)):R(Object(J)).forEach(function(j){Object.defineProperty(H,j,Object.getOwnPropertyDescriptor(J,j))})}return H}function x(H,X,J){return X in H?Object.defineProperty(H,X,{value:J,enumerable:!0,configurable:!0,writable:!0}):H[X]=J,H}function O(H,X){for(var J=0;J<X.length;J++){var j=X[J];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(H,j.key,j)}}function w(H,X){return(w=Object.setPrototypeOf||function(J,j){return J.__proto__=j,J})(H,X)}function C(H,X){return!X||"object"!==k(X)&&"function"!=typeof X?function(J){if(void 0===J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}(H):X}function f(H){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(X){return X.__proto__||Object.getPrototypeOf(X)})(H)}var d=T("../../base-xform"),u=T("../../composite-xform"),c=T("../../../../doc/range"),m=T("./databar-xform"),g=T("./ext-lst-ref-xform"),y=T("./formula-xform"),b=T("./color-scale-xform"),S=T("./icon-set-xform"),A={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},P=function(H){!function(B,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(ee&&ee.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),ee&&w(B,ee)}(L,H);var X,J,j,$=function E(H){var X=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var J,j=f(H);if(X){var $=f(this).constructor;J=Reflect.construct(j,arguments,$)}else J=j.apply(this,arguments);return C(this,J)}}(L);function L(){var B;return function(ee,N){if(!(ee instanceof N))throw new TypeError("Cannot call a class as a function")}(this,L),(B=$.call(this)).map={dataBar:B.databarXform=new m,extLst:B.extLstRefXform=new g,formula:B.formulaXform=new y,colorScale:B.colorScaleXform=new b,iconSet:B.iconSetXform=new S},B}return X=L,j=[{key:"isPrimitive",value:function(B){return"iconSet"!==B.type||!B.custom&&!A[B.iconSet]}}],(J=[{key:"render",value:function(B,ee){switch(ee.type){case"expression":this.renderExpression(B,ee);break;case"cellIs":this.renderCellIs(B,ee);break;case"top10":this.renderTop10(B,ee);break;case"aboveAverage":this.renderAboveAverage(B,ee);break;case"dataBar":this.renderDataBar(B,ee);break;case"colorScale":this.renderColorScale(B,ee);break;case"iconSet":this.renderIconSet(B,ee);break;case"containsText":this.renderText(B,ee);break;case"timePeriod":this.renderTimePeriod(B,ee)}}},{key:"renderExpression",value:function(B,ee){B.openNode(this.tag,{type:"expression",dxfId:ee.dxfId,priority:ee.priority}),this.formulaXform.render(B,ee.formulae[0]),B.closeNode()}},{key:"renderCellIs",value:function(B,ee){var N=this;B.openNode(this.tag,{type:"cellIs",dxfId:ee.dxfId,priority:ee.priority,operator:ee.operator}),ee.formulae.forEach(function(V){N.formulaXform.render(B,V)}),B.closeNode()}},{key:"renderTop10",value:function(B,ee){B.leafNode(this.tag,{type:"top10",dxfId:ee.dxfId,priority:ee.priority,percent:d.toBoolAttribute(ee.percent,!1),bottom:d.toBoolAttribute(ee.bottom,!1),rank:d.toIntValue(ee.rank,10,!0)})}},{key:"renderAboveAverage",value:function(B,ee){B.leafNode(this.tag,{type:"aboveAverage",dxfId:ee.dxfId,priority:ee.priority,aboveAverage:d.toBoolAttribute(ee.aboveAverage,!0)})}},{key:"renderDataBar",value:function(B,ee){B.openNode(this.tag,{type:"dataBar",priority:ee.priority}),this.databarXform.render(B,ee),this.extLstRefXform.render(B,ee),B.closeNode()}},{key:"renderColorScale",value:function(B,ee){B.openNode(this.tag,{type:"colorScale",priority:ee.priority}),this.colorScaleXform.render(B,ee),B.closeNode()}},{key:"renderIconSet",value:function(B,ee){L.isPrimitive(ee)&&(B.openNode(this.tag,{type:"iconSet",priority:ee.priority}),this.iconSetXform.render(B,ee),B.closeNode())}},{key:"renderText",value:function(B,ee){B.openNode(this.tag,{type:ee.operator,dxfId:ee.dxfId,priority:ee.priority,operator:d.toStringAttribute(ee.operator,"containsText")});var N=function(V){if(V.formulae&&V.formulae[0])return V.formulae[0];var U=new c(V.ref).tl;switch(V.operator){case"containsText":return'NOT(ISERROR(SEARCH("'.concat(V.text,'",').concat(U,")))");case"containsBlanks":return"LEN(TRIM(".concat(U,"))=0");case"notContainsBlanks":return"LEN(TRIM(".concat(U,"))>0");case"containsErrors":return"ISERROR(".concat(U,")");case"notContainsErrors":return"NOT(ISERROR(".concat(U,"))");default:return}}(ee);N&&this.formulaXform.render(B,N),B.closeNode()}},{key:"renderTimePeriod",value:function(B,ee){B.openNode(this.tag,{type:"timePeriod",dxfId:ee.dxfId,priority:ee.priority,timePeriod:ee.timePeriod});var N=function(V){if(V.formulae&&V.formulae[0])return V.formulae[0];var U=new c(V.ref).tl;switch(V.timePeriod){case"thisWeek":return"AND(TODAY()-ROUNDDOWN(".concat(U,",0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(").concat(U,",0)-TODAY()<=7-WEEKDAY(TODAY()))");case"lastWeek":return"AND(TODAY()-ROUNDDOWN(".concat(U,",0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(").concat(U,",0)<(WEEKDAY(TODAY())+7))");case"nextWeek":return"AND(ROUNDDOWN(".concat(U,",0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(").concat(U,",0)-TODAY()<(15-WEEKDAY(TODAY())))");case"yesterday":return"FLOOR(".concat(U,",1)=TODAY()-1");case"today":return"FLOOR(".concat(U,",1)=TODAY()");case"tomorrow":return"FLOOR(".concat(U,",1)=TODAY()+1");case"last7Days":return"AND(TODAY()-FLOOR(".concat(U,",1)<=6,FLOOR(").concat(U,",1)<=TODAY())");case"lastMonth":return"AND(MONTH(".concat(U,")=MONTH(EDATE(TODAY(),0-1)),YEAR(").concat(U,")=YEAR(EDATE(TODAY(),0-1)))");case"thisMonth":return"AND(MONTH(".concat(U,")=MONTH(TODAY()),YEAR(").concat(U,")=YEAR(TODAY()))");case"nextMonth":return"AND(MONTH(".concat(U,")=MONTH(EDATE(TODAY(),0+1)),YEAR(").concat(U,")=YEAR(EDATE(TODAY(),0+1)))");default:return}}(ee);N&&this.formulaXform.render(B,N),B.closeNode()}},{key:"createNewModel",value:function(B){var ee=B.attributes;return M(M({},function(N){var V=N.type,U=N.operator;switch(V){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:V};default:return{type:V,operator:U}}}(ee)),{},{dxfId:d.toIntValue(ee.dxfId),priority:d.toIntValue(ee.priority),timePeriod:ee.timePeriod,percent:d.toBoolValue(ee.percent),bottom:d.toBoolValue(ee.bottom),rank:d.toIntValue(ee.rank),aboveAverage:d.toBoolValue(ee.aboveAverage)})}},{key:"onParserClose",value:function(B,ee){switch(B){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,ee.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(ee.model)}}},{key:"tag",get:function(){return"cfRule"}}])&&O(X.prototype,J),j&&O(X,j),L}(u);te.exports=P},{"../../../../doc/range":10,"../../base-xform":31,"../../composite-xform":47,"./color-scale-xform":84,"./databar-xform":87,"./ext-lst-ref-xform":88,"./formula-xform":89,"./icon-set-xform":90}],83:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../base-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){b.leafNode(this.tag,{type:S.type,val:S.value})}},{key:"parseOpen",value:function(b){this.model={type:b.attributes.type,value:C.toFloatValue(b.attributes.val)}}},{key:"parseClose",value:function(b){return b!==this.tag}},{key:"tag",get:function(){return"cfvo"}}])&&M(u.prototype,c),y}(C);te.exports=f},{"../../base-xform":31}],84:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../composite-xform"),C=T("../../style/color-xform"),f=T("./cfvo-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={cfvo:S.cfvoXform=new f,color:S.colorXform=new C},S}return c=b,(m=[{key:"render",value:function(S,A){var P=this;S.openNode(this.tag),A.cfvo.forEach(function(H){P.cfvoXform.render(S,H)}),A.color.forEach(function(H){P.colorXform.render(S,H)}),S.closeNode()}},{key:"createNewModel",value:function(S){return{cfvo:[],color:[]}}},{key:"onParserClose",value:function(S,A){this.model[S].push(A.model)}},{key:"tag",get:function(){return"colorScale"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../../composite-xform":47,"../../style/color-xform":127,"./cfvo-xform":83}],85:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("../../composite-xform"),C=T("./cf-rule-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(){var b;return function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={cfRule:new C},b}return u=y,(c=[{key:"render",value:function(b,S){var A=this;S.rules.some(C.isPrimitive)&&(b.openNode(this.tag,{sqref:S.ref}),S.rules.forEach(function(P){C.isPrimitive(P)&&(P.ref=S.ref,A.map.cfRule.render(b,P))}),b.closeNode())}},{key:"createNewModel",value:function(b){return{ref:b.attributes.sqref,rules:[]}}},{key:"onParserClose",value:function(b,S){this.model.rules.push(S.model)}},{key:"tag",get:function(){return"conditionalFormatting"}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../../composite-xform":47,"./cf-rule-xform":82}],86:[function(T,te,W){"use strict";function k(c){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function M(c,m){(null==m||m>c.length)&&(m=c.length);for(var g=0,y=new Array(m);g<m;g++)y[g]=c[g];return y}function x(c,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function O(c,m){return(O=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(c,m)}function E(c,m){return!m||"object"!==k(m)&&"function"!=typeof m?function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(c):m}function C(c){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}var f=T("../../base-xform"),d=T("./conditional-formatting-xform"),u=function(c){!function(A,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&O(A,P)}(S,c);var m,g,b=function w(c){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=C(c);if(m){var b=C(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return E(this,g)}}(S);function S(){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,S),(A=b.call(this)).cfXform=new d,A}return m=S,(g=[{key:"reset",value:function(){this.model=[]}},{key:"prepare",value:function(A,P){var H=A.reduce(function(X,J){return Math.max.apply(Math,[X].concat(function R(c){return function(m){if(Array.isArray(m))return M(m)}(c)||function(m){if(typeof Symbol<"u"&&Symbol.iterator in Object(m))return Array.from(m)}(c)||function(m,g){if(m){if("string"==typeof m)return M(m,g);var y=Object.prototype.toString.call(m).slice(8,-1);if("Object"===y&&m.constructor&&(y=m.constructor.name),"Map"===y||"Set"===y)return Array.from(m);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return M(m,g)}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(J.rules.map(function(j){return j.priority||0}))))},1);A.forEach(function(X){X.rules.forEach(function(J){J.priority||(J.priority=H++),J.style&&(J.dxfId=P.styles.addDxfStyle(J.style))})})}},{key:"render",value:function(A,P){var H=this;P.forEach(function(X){H.cfXform.render(A,X)})}},{key:"parseOpen",value:function(A){return this.parser?(this.parser.parseOpen(A),!0):"conditionalFormatting"===A.name&&(this.parser=this.cfXform,this.parser.parseOpen(A),!0)}},{key:"parseText",value:function(A){this.parser&&this.parser.parseText(A)}},{key:"parseClose",value:function(A){return!(!this.parser||!this.parser.parseClose(A)&&(this.model.push(this.parser.model),this.parser=void 0,1))}},{key:"reconcile",value:function(A,P){A.forEach(function(H){H.rules.forEach(function(X){void 0!==X.dxfId&&(X.style=P.styles.getDxfStyle(X.dxfId),delete X.dxfId)})})}},{key:"tag",get:function(){return"conditionalFormatting"}}])&&x(m.prototype,g),S}(f);te.exports=u},{"../../base-xform":31,"./conditional-formatting-xform":85}],87:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../composite-xform"),C=T("../../style/color-xform"),f=T("./cfvo-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={cfvo:S.cfvoXform=new f,color:S.colorXform=new C},S}return c=b,(m=[{key:"render",value:function(S,A){var P=this;S.openNode(this.tag),A.cfvo.forEach(function(H){P.cfvoXform.render(S,H)}),this.colorXform.render(S,A.color),S.closeNode()}},{key:"createNewModel",value:function(){return{cfvo:[]}}},{key:"onParserClose",value:function(S,A){switch(S){case"cfvo":this.model.cfvo.push(A.model);break;case"color":this.model.color=A.model}}},{key:"tag",get:function(){return"dataBar"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../../composite-xform":47,"../../style/color-xform":127,"./cfvo-xform":83}],88:[function(T,te,W){"use strict";function k(y){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function R(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function M(y,b){for(var S=0;S<b.length;S++){var A=b[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}function x(y,b,S){return b&&M(y.prototype,b),S&&M(y,S),y}function O(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&w(y,b)}function w(y,b){return(w=Object.setPrototypeOf||function(S,A){return S.__proto__=A,S})(y,b)}function E(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var S,A=f(y);if(b){var P=f(this).constructor;S=Reflect.construct(A,arguments,P)}else S=A.apply(this,arguments);return C(this,S)}}function C(y,b){return!b||"object"!==k(b)&&"function"!=typeof b?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(y):b}function f(y){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(y)}var d=T("../../base-xform"),u=T("../../composite-xform"),c=function(y){O(S,y);var b=E(S);function S(){return R(this,S),b.apply(this,arguments)}return x(S,[{key:"render",value:function(A,P){A.leafNode(this.tag,null,P)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(A){this.model+=A}},{key:"parseClose",value:function(A){return A!==this.tag}},{key:"tag",get:function(){return"x14:id"}}]),S}(d),m=function(y){O(S,y);var b=E(S);function S(){var A;return R(this,S),(A=b.call(this)).map={"x14:id":A.idXform=new c},A}return x(S,[{key:"render",value:function(A,P){A.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(A,P.x14Id),A.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(A,P){this.model.x14Id=P.model}},{key:"tag",get:function(){return"ext"}}]),S}(u),g=function(y){O(S,y);var b=E(S);function S(){var A;return R(this,S),(A=b.call(this)).map={ext:new m},A}return x(S,[{key:"render",value:function(A,P){A.openNode(this.tag),this.map.ext.render(A,P),A.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(A,P){Object.assign(this.model,P.model)}},{key:"tag",get:function(){return"extLst"}}]),S}(u);te.exports=g},{"../../base-xform":31,"../../composite-xform":47}],89:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode(this.tag,null,b)}},{key:"parseOpen",value:function(){this.model=""}},{key:"parseText",value:function(y){this.model+=y}},{key:"parseClose",value:function(y){return y!==this.tag}},{key:"tag",get:function(){return"formula"}}])&&M(d.prototype,u),g}(T("../../base-xform"));te.exports=C},{"../../base-xform":31}],90:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../base-xform"),C=T("../../composite-xform"),f=T("./cfvo-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,b),(S=y.call(this)).map={cfvo:S.cfvoXform=new f},S}return c=b,(m=[{key:"render",value:function(S,A){var P=this;S.openNode(this.tag,{iconSet:E.toStringAttribute(A.iconSet,"3TrafficLights"),reverse:E.toBoolAttribute(A.reverse,!1),showValue:E.toBoolAttribute(A.showValue,!0)}),A.cfvo.forEach(function(H){P.cfvoXform.render(S,H)}),S.closeNode()}},{key:"createNewModel",value:function(S){var A=S.attributes;return{iconSet:E.toStringValue(A.iconSet,"3TrafficLights"),reverse:E.toBoolValue(A.reverse),showValue:E.toBoolValue(A.showValue),cfvo:[]}}},{key:"onParserClose",value:function(S,A){this.model[S].push(A.model)}},{key:"tag",get:function(){return"iconSet"}}])&&R(c.prototype,m),b}(C);te.exports=d},{"../../base-xform":31,"../../composite-xform":47,"./cfvo-xform":83}],91:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"prepare",value:function(y,b){var S=b.styles.addStyleModel(y.style||{});S&&(y.styleId=S)}},{key:"render",value:function(y,b){y.openNode("col"),y.addAttribute("min",b.min),y.addAttribute("max",b.max),b.width&&y.addAttribute("width",b.width),b.styleId&&y.addAttribute("style",b.styleId),b.hidden&&y.addAttribute("hidden","1"),b.bestFit&&y.addAttribute("bestFit","1"),b.outlineLevel&&y.addAttribute("outlineLevel",b.outlineLevel),b.collapsed&&y.addAttribute("collapsed","1"),y.addAttribute("customWidth","1"),y.closeNode()}},{key:"parseOpen",value:function(y){if("col"===y.name){var b=this.model={min:parseInt(y.attributes.min||"0",10),max:parseInt(y.attributes.max||"0",10),width:void 0===y.attributes.width?void 0:parseFloat(y.attributes.width||"0")};return y.attributes.style&&(b.styleId=parseInt(y.attributes.style,10)),!0!==y.attributes.hidden&&"true"!==y.attributes.hidden&&1!==y.attributes.hidden&&"1"!==y.attributes.hidden||(b.hidden=!0),y.attributes.bestFit&&(b.bestFit=!0),y.attributes.outlineLevel&&(b.outlineLevel=parseInt(y.attributes.outlineLevel,10)),y.attributes.collapsed&&(b.collapsed=!0),!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"reconcile",value:function(y,b){y.styleId&&(y.style=b.styles.getStyleModel(y.styleId))}},{key:"tag",get:function(){return"col"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],92:[function(T,te,W){"use strict";function k(P){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H})(P)}function R(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}function M(P,H){for(var X=0;X<H.length;X++){var J=H[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(P,J.key,J)}}function x(P,H){return(x=Object.setPrototypeOf||function(X,J){return X.__proto__=J,X})(P,H)}function w(P,H){return!H||"object"!==k(H)&&"function"!=typeof H?function(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(P):H}function E(P){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)})(P)}function C(P,H){var X=Object.keys(P);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(P);H&&(J=J.filter(function(j){return Object.getOwnPropertyDescriptor(P,j).enumerable})),X.push.apply(X,J)}return X}function f(P){for(var H=1;H<arguments.length;H++){var X=null!=arguments[H]?arguments[H]:{};H%2?C(Object(X),!0).forEach(function(J){d(P,J,X[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(X)):C(Object(X)).forEach(function(J){Object.defineProperty(P,J,Object.getOwnPropertyDescriptor(X,J))})}return P}function d(P,H,X){return H in P?Object.defineProperty(P,H,{value:X,enumerable:!0,configurable:!0,writable:!0}):P[H]=X,P}var u=T("../../../utils/under-dash"),c=T("../../../utils/utils"),m=T("../../../utils/col-cache"),g=T("../base-xform"),y=T("../../../doc/range");function b(P,H,X,J){var j=H[X];void 0!==j?P[X]=j:void 0!==J&&(P[X]=J)}function S(P,H,X,J){var j=H[X];void 0!==j?P[X]=function($){switch($){case"1":case"true":return!0;default:return!1}}(j):void 0!==J&&(P[X]=J)}var A=function(P){!function(L,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(B&&B.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),B&&x(L,B)}($,P);var H,X,j=function O(P){var H=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var X,J=E(P);if(H){var j=E(this).constructor;X=Reflect.construct(J,arguments,j)}else X=J.apply(this,arguments);return w(this,X)}}($);function $(){return R(this,$),j.apply(this,arguments)}return H=$,(X=[{key:"render",value:function(L,B){var N,V,U,Q,ee=(V=u.map(N=B,function(Z,K){return{address:K,dataValidation:Z,marked:!1}}).sort(function(Z,K){return u.strcmp(Z.address,K.address)}),U=u.keyBy(V,"address"),Q=function(Z,K,ne){for(var ue=0;ue<K;ue++){var ce=m.encodeAddress(Z.row+ue,ne);if(!N[ce]||!u.isEqual(N[Z.address],N[ce]))return!1}return!0},V.map(function(Z){if(!Z.marked){var K=m.decodeEx(Z.address);if(K.dimensions)return U[K.dimensions].marked=!0,f(f({},Z.dataValidation),{},{sqref:Z.address});for(var ne=1,ue=m.encodeAddress(K.row+ne,K.col);N[ue]&&u.isEqual(Z.dataValidation,N[ue]);)ne++,ue=m.encodeAddress(K.row+ne,K.col);for(var ce=1;Q(K,ne,K.col+ce);)ce++;for(var de=0;de<ne;de++)for(var pe=0;pe<ce;pe++)ue=m.encodeAddress(K.row+de,K.col+pe),U[ue].marked=!0;if(ne>1||ce>1){var _e=K.row+(ne-1),me=K.col+(ce-1);return f(f({},Z.dataValidation),{},{sqref:"".concat(Z.address,":").concat(m.encodeAddress(_e,me))})}return f(f({},Z.dataValidation),{},{sqref:Z.address})}return null}).filter(Boolean));ee.length&&(L.openNode("dataValidations",{count:ee.length}),ee.forEach(function(N){L.openNode("dataValidation"),"any"!==N.type&&(L.addAttribute("type",N.type),N.operator&&"list"!==N.type&&"between"!==N.operator&&L.addAttribute("operator",N.operator),N.allowBlank&&L.addAttribute("allowBlank","1")),N.showInputMessage&&L.addAttribute("showInputMessage","1"),N.promptTitle&&L.addAttribute("promptTitle",N.promptTitle),N.prompt&&L.addAttribute("prompt",N.prompt),N.showErrorMessage&&L.addAttribute("showErrorMessage","1"),N.errorStyle&&L.addAttribute("errorStyle",N.errorStyle),N.errorTitle&&L.addAttribute("errorTitle",N.errorTitle),N.error&&L.addAttribute("error",N.error),L.addAttribute("sqref",N.sqref),(N.formulae||[]).forEach(function(V,U){L.openNode("formula".concat(U+1)),L.writeText("date"===N.type?c.dateToExcel(new Date(V)):V),L.closeNode()}),L.closeNode()}),L.closeNode())}},{key:"parseOpen",value:function(L){switch(L.name){case"dataValidations":return this.model={},!0;case"dataValidation":this._address=L.attributes.sqref;var B={type:L.attributes.type||"any",formulae:[]};switch(L.attributes.type&&S(B,L.attributes,"allowBlank"),S(B,L.attributes,"showInputMessage"),S(B,L.attributes,"showErrorMessage"),B.type){case"any":case"list":case"custom":break;default:b(B,L.attributes,"operator","between")}return b(B,L.attributes,"promptTitle"),b(B,L.attributes,"prompt"),b(B,L.attributes,"errorStyle"),b(B,L.attributes,"errorTitle"),b(B,L.attributes,"error"),this._dataValidation=B,!0;case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}},{key:"parseText",value:function(L){this._formula&&this._formula.push(L)}},{key:"parseClose",value:function(L){var B=this;switch(L){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(function(N){N.includes(":")?new y(N).forEachAddress(function(V){B.model[V]=B._dataValidation}):B.model[N]=B._dataValidation}),!0;case"formula1":case"formula2":var ee=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":ee=parseInt(ee,10);break;case"decimal":ee=parseFloat(ee);break;case"date":ee=c.excelToDate(parseFloat(ee))}return this._dataValidation.formulae.push(ee),this._formula=void 0,!0;default:return!0}}},{key:"tag",get:function(){return"dataValidations"}}])&&M(H.prototype,X),$}(g);te.exports=A},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":25,"../../../utils/utils":26,"../base-xform":31}],93:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){b&&y.leafNode("dimension",{ref:b})}},{key:"parseOpen",value:function(y){return"dimension"===y.name&&(this.model=y.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"dimension"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],94:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){b&&y.leafNode(this.tag,{"r:id":b.rId})}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.model={rId:y.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"drawing"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],95:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function R(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function M(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function x(g,y,b){return y&&M(g.prototype,y),b&&M(g,b),g}function O(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&w(g,y)}function w(g,y){return(w=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function E(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=f(g);if(y){var A=f(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return C(this,b)}}function C(g,y){return!y||"object"!==k(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function f(g){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var d=T("../composite-xform"),u=T("./cf-ext/conditional-formattings-ext-xform"),c=function(g){O(b,g);var y=E(b);function b(){var S;return R(this,b),(S=y.call(this)).map={"x14:conditionalFormattings":S.conditionalFormattings=new u},S}return x(b,[{key:"hasContent",value:function(S){return this.conditionalFormattings.hasContent(S.conditionalFormattings)}},{key:"prepare",value:function(S,A){this.conditionalFormattings.prepare(S.conditionalFormattings,A)}},{key:"render",value:function(S,A){S.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(S,A.conditionalFormattings),S.closeNode()}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(S,A){this.model[S]=A.model}},{key:"tag",get:function(){return"ext"}}]),b}(d),m=function(g){O(b,g);var y=E(b);function b(){var S;return R(this,b),(S=y.call(this)).map={ext:S.ext=new c},S}return x(b,[{key:"prepare",value:function(S,A){this.ext.prepare(S,A)}},{key:"hasContent",value:function(S){return this.ext.hasContent(S)}},{key:"render",value:function(S,A){this.hasContent(A)&&(S.openNode("extLst"),this.ext.render(S,A),S.closeNode())}},{key:"createNewModel",value:function(){return{}}},{key:"onParserClose",value:function(S,A){Object.assign(this.model,A.model)}},{key:"tag",get:function(){return"extLst"}}]),b}(d);te.exports=m},{"../composite-xform":47,"./cf-ext/conditional-formattings-ext-xform":77}],96:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){if(b){y.addRollback();var S=!1;y.openNode("headerFooter"),b.differentFirst&&(y.addAttribute("differentFirst","1"),S=!0),b.differentOddEven&&(y.addAttribute("differentOddEven","1"),S=!0),b.oddHeader&&"string"==typeof b.oddHeader&&(y.leafNode("oddHeader",null,b.oddHeader),S=!0),b.oddFooter&&"string"==typeof b.oddFooter&&(y.leafNode("oddFooter",null,b.oddFooter),S=!0),b.evenHeader&&"string"==typeof b.evenHeader&&(y.leafNode("evenHeader",null,b.evenHeader),S=!0),b.evenFooter&&"string"==typeof b.evenFooter&&(y.leafNode("evenFooter",null,b.evenFooter),S=!0),b.firstHeader&&"string"==typeof b.firstHeader&&(y.leafNode("firstHeader",null,b.firstHeader),S=!0),b.firstFooter&&"string"==typeof b.firstFooter&&(y.leafNode("firstFooter",null,b.firstFooter),S=!0),S?(y.closeNode(),y.commit()):y.rollback()}}},{key:"parseOpen",value:function(y){switch(y.name){case"headerFooter":return this.model={},y.attributes.differentFirst&&(this.model.differentFirst=1===parseInt(y.attributes.differentFirst,0)),y.attributes.differentOddEven&&(this.model.differentOddEven=1===parseInt(y.attributes.differentOddEven,0)),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}},{key:"parseText",value:function(y){switch(this.currentNode){case"oddHeader":this.model.oddHeader=y;break;case"oddFooter":this.model.oddFooter=y;break;case"evenHeader":this.model.evenHeader=y;break;case"evenFooter":this.model.evenFooter=y;break;case"firstHeader":this.model.firstHeader=y;break;case"firstFooter":this.model.firstFooter=y}}},{key:"parseClose",value:function(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}},{key:"tag",get:function(){return"headerFooter"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],97:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode("hyperlink",{ref:b.address,"r:id":b.rId,tooltip:b.tooltip})}},{key:"parseOpen",value:function(y){return"hyperlink"===y.name&&(this.model={address:y.attributes.ref,rId:y.attributes["r:id"],tooltip:y.attributes.tooltip},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"hyperlink"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],98:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode("mergeCell",{ref:b})}},{key:"parseOpen",value:function(y){return"mergeCell"===y.name&&(this.model=y.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"mergeCell"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],99:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}var R=T("../../../utils/under-dash"),M=T("../../../doc/range"),x=T("../../../utils/col-cache"),O=T("../../../doc/enums"),w=function(){function E(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,E),this.merges={}}var C,f;return C=E,(f=[{key:"add",value:function(u){if(this.merges[u.master])this.merges[u.master].expandToAddress(u.address);else{var c="".concat(u.master,":").concat(u.address);this.merges[u.master]=new M(c)}}},{key:"reconcile",value:function(u,c){R.each(u,function(m){for(var g=x.decode(m),y=g.top;y<=g.bottom;y++)for(var b=c[y-1],S=g.left;S<=g.right;S++){var A=b.cells[S-1];A?A.type===O.ValueType.Merge&&(A.master=g.tl):b.cells[S]={type:O.ValueType.Null,address:x.encodeAddress(y,S)}}})}},{key:"getMasterAddress",value:function(u){var c=this.hash[u];return c&&c.tl}},{key:"mergeCells",get:function(){return R.map(this.merges,function(u){return u.range})}}])&&k(C.prototype,f),E}();te.exports=w},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":25}],100:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function M(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function x(u,c){return(x=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function w(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function E(u){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var C=T("../base-xform"),f=function(u){return void 0!==u},d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&x(S,A)}(b,u);var c,m,y=function O(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=E(u);if(c){var y=E(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return w(this,m)}}(b);function b(){return R(this,b),y.apply(this,arguments)}return c=b,(m=[{key:"render",value:function(S,A){return!(!A||!f(A.summaryBelow)&&!f(A.summaryRight)||(S.leafNode(this.tag,{summaryBelow:f(A.summaryBelow)?Number(A.summaryBelow):void 0,summaryRight:f(A.summaryRight)?Number(A.summaryRight):void 0}),0))}},{key:"parseOpen",value:function(S){return S.name===this.tag&&(this.model={summaryBelow:f(S.attributes.summaryBelow)?Boolean(Number(S.attributes.summaryBelow)):void 0,summaryRight:f(S.attributes.summaryRight)?Boolean(Number(S.attributes.summaryRight)):void 0},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"outlinePr"}}])&&M(c.prototype,m),b}(C);te.exports=d},{"../base-xform":31}],101:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.leafNode("brk",b)}},{key:"parseOpen",value:function(y){return"brk"===y.name&&(this.model=y.attributes.ref,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"brk"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],102:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../../utils/under-dash"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){if(S){var A={left:S.left,right:S.right,top:S.top,bottom:S.bottom,header:S.header,footer:S.footer};C.some(A,function(P){return void 0!==P})&&b.leafNode(this.tag,A)}}},{key:"parseOpen",value:function(b){return b.name===this.tag&&(this.model={left:parseFloat(b.attributes.left||.7),right:parseFloat(b.attributes.right||.7),top:parseFloat(b.attributes.top||.75),bottom:parseFloat(b.attributes.bottom||.75),header:parseFloat(b.attributes.header||.3),footer:parseFloat(b.attributes.footer||.3)},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"pageMargins"}}])&&M(u.prototype,c),y}(T("../base-xform"));te.exports=f},{"../../../utils/under-dash":25,"../base-xform":31}],103:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){return!(!b||!b.fitToPage||(y.leafNode(this.tag,{fitToPage:b.fitToPage?"1":void 0}),0))}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.model={fitToPage:"1"===y.attributes.fitToPage},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"pageSetUpPr"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],104:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function R(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function M(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function x(g,y){return(x=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function w(g,y){return!y||"object"!==k(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function E(g){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var C=T("../../../utils/under-dash");function f(g){return g?"1":void 0}function d(g){if("overThenDown"===g)return g}function u(g){switch(g){case"atEnd":case"asDisplyed":return g;default:return}}function c(g){switch(g){case"dash":case"blank":case"NA":return g;default:return}}var m=function(g){!function(H,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&x(H,X)}(P,g);var y,b,A=function O(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=E(g);if(y){var A=E(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return w(this,b)}}(P);function P(){return R(this,P),A.apply(this,arguments)}return y=P,(b=[{key:"render",value:function(H,X){if(X){var J={paperSize:X.paperSize,orientation:X.orientation,horizontalDpi:X.horizontalDpi,verticalDpi:X.verticalDpi,pageOrder:d(X.pageOrder),blackAndWhite:f(X.blackAndWhite),draft:f(X.draft),cellComments:u(X.cellComments),errors:c(X.errors),scale:X.scale,fitToWidth:X.fitToWidth,fitToHeight:X.fitToHeight,firstPageNumber:X.firstPageNumber,useFirstPageNumber:f(X.firstPageNumber),usePrinterDefaults:f(X.usePrinterDefaults),copies:X.copies};C.some(J,function(j){return void 0!==j})&&H.leafNode(this.tag,J)}}},{key:"parseOpen",value:function(H){return H.name===this.tag&&(this.model={paperSize:(X=H.attributes.paperSize,void 0!==X?parseInt(X,10):void 0),orientation:H.attributes.orientation||"portrait",horizontalDpi:parseInt(H.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(H.attributes.verticalDpi||"4294967295",10),pageOrder:H.attributes.pageOrder||"downThenOver",blackAndWhite:"1"===H.attributes.blackAndWhite,draft:"1"===H.attributes.draft,cellComments:H.attributes.cellComments||"None",errors:H.attributes.errors||"displayed",scale:parseInt(H.attributes.scale||"100",10),fitToWidth:parseInt(H.attributes.fitToWidth||"1",10),fitToHeight:parseInt(H.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(H.attributes.firstPageNumber||"1",10),useFirstPageNumber:"1"===H.attributes.useFirstPageNumber,usePrinterDefaults:"1"===H.attributes.usePrinterDefaults,copies:parseInt(H.attributes.copies||"1",10)},!0);var X}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"pageSetup"}}])&&M(y.prototype,b),P}(T("../base-xform"));te.exports=m},{"../../../utils/under-dash":25,"../base-xform":31}],105:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){b&&y.leafNode(this.tag,{"r:id":b.rId})}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.model={rId:y.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"picture"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],106:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function M(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function x(u,c){return(x=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function w(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function E(u){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var C=T("../../../utils/under-dash");function f(u){return u?"1":void 0}var d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&x(S,A)}(b,u);var c,m,y=function O(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=E(u);if(c){var y=E(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return w(this,m)}}(b);function b(){return R(this,b),y.apply(this,arguments)}return c=b,(m=[{key:"render",value:function(S,A){if(A){var P={headings:f(A.showRowColHeaders),gridLines:f(A.showGridLines),horizontalCentered:f(A.horizontalCentered),verticalCentered:f(A.verticalCentered)};C.some(P,function(H){return void 0!==H})&&S.leafNode(this.tag,P)}}},{key:"parseOpen",value:function(S){return S.name===this.tag&&(this.model={showRowColHeaders:"1"===S.attributes.headings,showGridLines:"1"===S.attributes.gridLines,horizontalCentered:"1"===S.attributes.horizontalCentered,verticalCentered:"1"===S.attributes.verticalCentered},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"printOptions"}}])&&M(c.prototype,m),b}(T("../base-xform"));te.exports=d},{"../../../utils/under-dash":25,"../base-xform":31}],107:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function M(f,d){return(M=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function O(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function w(f){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var E=T("./page-breaks-xform"),C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&M(y,b)}(g,f);var d,u,m=function x(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=w(f);if(d){var m=w(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return O(this,u)}}(g);function g(){!function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,g);var y={tag:"rowBreaks",count:!0,childXform:new E};return m.call(this,y)}return d=g,(u=[{key:"render",value:function(y,b){if(b&&b.length){y.openNode(this.tag,this.$),this.count&&(y.addAttribute(this.$count,b.length),y.addAttribute("manualBreakCount",b.length));var S=this.childXform;b.forEach(function(A){S.render(y,A)}),y.closeNode()}else this.empty&&y.leafNode(this.tag)}}])&&R(d.prototype,u),g}(T("../list-xform"));te.exports=C},{"../list-xform":70,"./page-breaks-xform":101}],108:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("../base-xform"),C=T("./cell-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(b){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,y),(S=g.call(this)).maxItems=b&&b.maxItems,S.map={c:new C},S}return u=y,(c=[{key:"prepare",value:function(b,S){var A=S.styles.addStyleModel(b.style);A&&(b.styleId=A);var P=this.map.c;b.cells.forEach(function(H){P.prepare(H,S)})}},{key:"render",value:function(b,S,A){b.openNode("row"),b.addAttribute("r",S.number),S.height&&(b.addAttribute("ht",S.height),b.addAttribute("customHeight","1")),S.hidden&&b.addAttribute("hidden","1"),S.min>0&&S.max>0&&S.min<=S.max&&b.addAttribute("spans","".concat(S.min,":").concat(S.max)),S.styleId&&(b.addAttribute("s",S.styleId),b.addAttribute("customFormat","1")),b.addAttribute("x14ac:dyDescent","0.25"),S.outlineLevel&&b.addAttribute("outlineLevel",S.outlineLevel),S.collapsed&&b.addAttribute("collapsed","1");var P=this.map.c;S.cells.forEach(function(H){P.render(b,H,A)}),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;if("row"===b.name){this.numRowsSeen+=1;var S=b.attributes.spans?b.attributes.spans.split(":").map(function(P){return parseInt(P,10)}):[void 0,void 0],A=this.model={number:parseInt(b.attributes.r,10),min:S[0],max:S[1],cells:[]};return b.attributes.s&&(A.styleId=parseInt(b.attributes.s,10)),!0!==b.attributes.hidden&&"true"!==b.attributes.hidden&&1!==b.attributes.hidden&&"1"!==b.attributes.hidden||(A.hidden=!0),b.attributes.bestFit&&(A.bestFit=!0),b.attributes.ht&&(A.height=parseFloat(b.attributes.ht)),b.attributes.outlineLevel&&(A.outlineLevel=parseInt(b.attributes.outlineLevel,10)),b.attributes.collapsed&&(A.collapsed=!0),!0}return this.parser=this.map[b.name],!!this.parser&&(this.parser.parseOpen(b),!0)}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser){if(!this.parser.parseClose(b)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error("Max column count (".concat(this.maxItems,") exceeded"));this.parser=void 0}return!0}return!1}},{key:"reconcile",value:function(b,S){b.style=b.styleId?S.styles.getStyleModel(b.styleId):{},void 0!==b.styleId&&(b.styleId=void 0);var A=this.map.c;b.cells.forEach(function(P){A.reconcile(P,S)})}},{key:"tag",get:function(){return"row"}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../base-xform":31,"./cell-xform":72}],109:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")}function M(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function x(d,u){return(x=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function w(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function E(d){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var C=T("../../../utils/under-dash"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&x(b,S)}(y,d);var u,c,g=function O(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=E(d);if(u){var g=E(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return w(this,c)}}(y);function y(){return R(this,y),g.apply(this,arguments)}return u=y,(c=[{key:"render",value:function(b,S){if(S){var A={defaultRowHeight:S.defaultRowHeight,outlineLevelRow:S.outlineLevelRow,outlineLevelCol:S.outlineLevelCol,"x14ac:dyDescent":S.dyDescent};S.defaultColWidth&&(A.defaultColWidth=S.defaultColWidth),S.defaultRowHeight&&15===S.defaultRowHeight||(A.customHeight="1"),C.some(A,function(P){return void 0!==P})&&b.leafNode("sheetFormatPr",A)}}},{key:"parseOpen",value:function(b){return"sheetFormatPr"===b.name&&(this.model={defaultRowHeight:parseFloat(b.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(b.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(b.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(b.attributes.outlineLevelCol||"0",10)},b.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(b.attributes.defaultColWidth)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"sheetFormatPr"}}])&&M(u.prototype,c),y}(T("../base-xform"));te.exports=f},{"../../../utils/under-dash":25,"../base-xform":31}],110:[function(T,te,W){"use strict";function k(c){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function R(c,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function M(c,m){return(M=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(c,m)}function O(c,m){return!m||"object"!==k(m)&&"function"!=typeof m?function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(c):m}function w(c){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}var E=T("../base-xform"),C=T("../style/color-xform"),f=T("./page-setup-properties-xform"),d=T("./outline-properties-xform"),u=function(c){!function(A,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&M(A,P)}(S,c);var m,g,b=function x(c){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=w(c);if(m){var b=w(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return O(this,g)}}(S);function S(){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,S),(A=b.call(this)).map={tabColor:new C("tabColor"),pageSetUpPr:new f,outlinePr:new d},A}return m=S,(g=[{key:"render",value:function(A,P){if(P){A.addRollback(),A.openNode("sheetPr");var H=!1;H=this.map.tabColor.render(A,P.tabColor)||H,H=this.map.pageSetUpPr.render(A,P.pageSetup)||H,(H=this.map.outlinePr.render(A,P.outlineProperties)||H)?(A.closeNode(),A.commit()):A.rollback()}}},{key:"parseOpen",value:function(A){return this.parser?(this.parser.parseOpen(A),!0):A.name===this.tag?(this.reset(),!0):!!this.map[A.name]&&(this.parser=this.map[A.name],this.parser.parseOpen(A),!0)}},{key:"parseText",value:function(A){return!!this.parser&&(this.parser.parseText(A),!0)}},{key:"parseClose",value:function(A){return this.parser?(this.parser.parseClose(A)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}},{key:"tag",get:function(){return"sheetPr"}}])&&R(m.prototype,g),S}(E);te.exports=u},{"../base-xform":31,"../style/color-xform":127,"./outline-properties-xform":100,"./page-setup-properties-xform":103}],111:[function(T,te,W){"use strict";function k(c){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function R(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function M(c,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function x(c,m){return(x=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(c,m)}function w(c,m){return!m||"object"!==k(m)&&"function"!=typeof m?function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(c):m}function E(c){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}var C=T("../../../utils/under-dash");function f(c,m){return c?m:void 0}function d(c,m){return c===m||void 0}var u=function(c){!function(A,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&x(A,P)}(S,c);var m,g,b=function O(c){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=E(c);if(m){var b=E(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return w(this,g)}}(S);function S(){return R(this,S),b.apply(this,arguments)}return m=S,(g=[{key:"render",value:function(A,P){if(P){var H={sheet:f(P.sheet,"1"),selectLockedCells:!1===P.selectLockedCells?"1":void 0,selectUnlockedCells:!1===P.selectUnlockedCells?"1":void 0,formatCells:f(P.formatCells,"0"),formatColumns:f(P.formatColumns,"0"),formatRows:f(P.formatRows,"0"),insertColumns:f(P.insertColumns,"0"),insertRows:f(P.insertRows,"0"),insertHyperlinks:f(P.insertHyperlinks,"0"),deleteColumns:f(P.deleteColumns,"0"),deleteRows:f(P.deleteRows,"0"),sort:f(P.sort,"0"),autoFilter:f(P.autoFilter,"0"),pivotTables:f(P.pivotTables,"0")};P.sheet&&(H.algorithmName=P.algorithmName,H.hashValue=P.hashValue,H.saltValue=P.saltValue,H.spinCount=P.spinCount,H.objects=f(!1===P.objects,"1"),H.scenarios=f(!1===P.scenarios,"1")),C.some(H,function(X){return void 0!==X})&&A.leafNode(this.tag,H)}}},{key:"parseOpen",value:function(A){return A.name===this.tag&&(this.model={sheet:d(A.attributes.sheet,"1"),objects:"1"!==A.attributes.objects&&void 0,scenarios:"1"!==A.attributes.scenarios&&void 0,selectLockedCells:"1"!==A.attributes.selectLockedCells&&void 0,selectUnlockedCells:"1"!==A.attributes.selectUnlockedCells&&void 0,formatCells:d(A.attributes.formatCells,"0"),formatColumns:d(A.attributes.formatColumns,"0"),formatRows:d(A.attributes.formatRows,"0"),insertColumns:d(A.attributes.insertColumns,"0"),insertRows:d(A.attributes.insertRows,"0"),insertHyperlinks:d(A.attributes.insertHyperlinks,"0"),deleteColumns:d(A.attributes.deleteColumns,"0"),deleteRows:d(A.attributes.deleteRows,"0"),sort:d(A.attributes.sort,"0"),autoFilter:d(A.attributes.autoFilter,"0"),pivotTables:d(A.attributes.pivotTables,"0")},A.attributes.algorithmName&&(this.model.algorithmName=A.attributes.algorithmName,this.model.hashValue=A.attributes.hashValue,this.model.saltValue=A.attributes.saltValue,this.model.spinCount=parseInt(A.attributes.spinCount,10)),!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"sheetProtection"}}])&&M(m.prototype,g),S}(T("../base-xform"));te.exports=u},{"../../../utils/under-dash":25,"../base-xform":31}],112:[function(T,te,W){"use strict";function k(c){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}function R(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")}function M(c,m){for(var g=0;g<m.length;g++){var y=m[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}function x(c,m){return(x=Object.setPrototypeOf||function(g,y){return g.__proto__=y,g})(c,m)}function w(c,m){return!m||"object"!==k(m)&&"function"!=typeof m?function(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}(c):m}function E(c){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(m){return m.__proto__||Object.getPrototypeOf(m)})(c)}var C=T("../../../utils/col-cache"),f=T("../base-xform"),d={frozen:"frozen",frozenSplit:"frozen",split:"split"},u=function(c){!function(A,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),P&&x(A,P)}(S,c);var m,g,b=function O(c){var m=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var g,y=E(c);if(m){var b=E(this).constructor;g=Reflect.construct(y,arguments,b)}else g=y.apply(this,arguments);return w(this,g)}}(S);function S(){return R(this,S),b.apply(this,arguments)}return m=S,(g=[{key:"prepare",value:function(A){switch(A.state){case"frozen":case"split":break;default:A.state="normal"}}},{key:"render",value:function(A,P){A.openNode("sheetView",{workbookViewId:P.workbookViewId||0});var H,j,$=function(L,B,ee){ee&&A.addAttribute(L,B)};switch($("rightToLeft","1",!0===P.rightToLeft),$("tabSelected","1",P.tabSelected),$("showRuler","0",!1===P.showRuler),$("showRowColHeaders","0",!1===P.showRowColHeaders),$("showGridLines","0",!1===P.showGridLines),$("zoomScale",P.zoomScale,P.zoomScale),$("zoomScaleNormal",P.zoomScaleNormal,P.zoomScaleNormal),$("view",P.style,P.style),P.state){case"frozen":H=P.topLeftCell||C.getAddress((P.ySplit||0)+1,(P.xSplit||0)+1).address,A.leafNode("pane",{xSplit:P.xSplit||void 0,ySplit:P.ySplit||void 0,topLeftCell:H,activePane:j=(P.xSplit&&P.ySplit?"bottomRight":P.xSplit&&"topRight")||"bottomLeft",state:"frozen"}),A.leafNode("selection",{pane:j,activeCell:P.activeCell,sqref:P.activeCell});break;case"split":"topLeft"===P.activePane&&(P.activePane=void 0),A.leafNode("pane",{xSplit:P.xSplit||void 0,ySplit:P.ySplit||void 0,topLeftCell:P.topLeftCell,activePane:P.activePane}),A.leafNode("selection",{pane:P.activePane,activeCell:P.activeCell,sqref:P.activeCell});break;case"normal":P.activeCell&&A.leafNode("selection",{activeCell:P.activeCell,sqref:P.activeCell})}A.closeNode()}},{key:"parseOpen",value:function(A){switch(A.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(A.attributes.workbookViewId,10),rightToLeft:"1"===A.attributes.rightToLeft,tabSelected:"1"===A.attributes.tabSelected,showRuler:"0"!==A.attributes.showRuler,showRowColHeaders:"0"!==A.attributes.showRowColHeaders,showGridLines:"0"!==A.attributes.showGridLines,zoomScale:parseInt(A.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(A.attributes.zoomScaleNormal||"100",10),style:A.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(A.attributes.xSplit||"0",10),ySplit:parseInt(A.attributes.ySplit||"0",10),topLeftCell:A.attributes.topLeftCell,activePane:A.attributes.activePane||"topLeft",state:A.attributes.state},!0;case"selection":var P=A.attributes.pane||"topLeft";return this.selections[P]={pane:P,activeCell:A.attributes.activeCell},!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(A){var P,H;return"sheetView"!==A||(this.sheetView&&this.pane?(P=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:d[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},"split"===this.model.state&&(P.activePane=this.pane.activePane),(H=this.selections[this.pane.activePane])&&H.activeCell&&(P.activeCell=H.activeCell),this.sheetView.style&&(P.style=this.sheetView.style)):(P=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},(H=this.selections.topLeft)&&H.activeCell&&(P.activeCell=H.activeCell),this.sheetView.style&&(P.style=this.sheetView.style)),!1)}},{key:"reconcile",value:function(){}},{key:"tag",get:function(){return"sheetView"}}])&&M(m.prototype,g),S}(f);te.exports=u},{"../../../utils/col-cache":19,"../base-xform":31}],113:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){b&&y.leafNode(this.tag,{"r:id":b.rId})}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.model={rId:y.attributes["r:id"]},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"tablePart"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],114:[function(T,te,W){"use strict";function k(de){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(de)}function R(de,pe){for(var _e=0;_e<pe.length;_e++){var me=pe[_e];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(de,me.key,me)}}function M(de,pe){return(M=Object.setPrototypeOf||function(_e,me){return _e.__proto__=me,_e})(de,pe)}function O(de,pe){return!pe||"object"!==k(pe)&&"function"!=typeof pe?function(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}(de):pe}function w(de){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(pe){return pe.__proto__||Object.getPrototypeOf(pe)})(de)}var E=T("../../../utils/under-dash"),C=T("../../../utils/col-cache"),f=T("../../../utils/xml-stream"),d=T("../../rel-type"),u=T("./merges"),c=T("../base-xform"),m=T("../list-xform"),g=T("./row-xform"),y=T("./col-xform"),b=T("./dimension-xform"),S=T("./hyperlink-xform"),A=T("./merge-cell-xform"),P=T("./data-validations-xform"),H=T("./sheet-properties-xform"),X=T("./sheet-format-properties-xform"),J=T("./sheet-view-xform"),j=T("./sheet-protection-xform"),$=T("./page-margins-xform"),L=T("./page-setup-xform"),B=T("./print-options-xform"),ee=T("./auto-filter-xform"),N=T("./picture-xform"),V=T("./drawing-xform"),U=T("./table-part-xform"),Q=T("./row-breaks-xform"),Z=T("./header-footer-xform"),K=T("./cf/conditional-formattings-xform"),ne=T("./ext-lst-xform"),ce=function(de){!function(se,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(ve&&ve.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),ve&&M(se,ve)}(oe,de);var pe,_e,q=function x(de){var pe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var _e,me=w(de);if(pe){var q=w(this).constructor;_e=Reflect.construct(me,arguments,q)}else _e=me.apply(this,arguments);return O(this,_e)}}(oe);function oe(se){var ve;(function(je,Ye){if(!(je instanceof Ye))throw new TypeError("Cannot call a class as a function")})(this,oe),ve=q.call(this);var Se=se||{},De=Se.maxRows,qe=Se.maxCols;return ve.map={sheetPr:new H,dimension:new b,sheetViews:new m({tag:"sheetViews",count:!1,childXform:new J}),sheetFormatPr:new X,cols:new m({tag:"cols",count:!1,childXform:new y}),sheetData:new m({tag:"sheetData",count:!1,empty:!0,childXform:new g({maxItems:qe}),maxItems:De}),autoFilter:new ee,mergeCells:new m({tag:"mergeCells",count:!0,childXform:new A}),rowBreaks:new Q,hyperlinks:new m({tag:"hyperlinks",count:!1,childXform:new S}),pageMargins:new $,dataValidations:new P,pageSetup:new L,headerFooter:new Z,printOptions:new B,picture:new N,drawing:new V,sheetProtection:new j,tableParts:new m({tag:"tableParts",count:!0,childXform:new U}),conditionalFormatting:new K,extLst:new ne},ve}return pe=oe,(_e=[{key:"prepare",value:function(se,ve){var Se=this;ve.merges=new u,se.hyperlinks=ve.hyperlinks=[],se.comments=ve.comments=[],ve.formulae={},ve.siFormulae=0,this.map.cols.prepare(se.cols,ve),this.map.sheetData.prepare(se.rows,ve),this.map.conditionalFormatting.prepare(se.conditionalFormattings,ve),se.mergeCells=ve.merges.mergeCells;var De=se.rels=[];function qe(ht){return"rId".concat(ht.length+1)}if(se.hyperlinks.forEach(function(ht){var sn=qe(De);ht.rId=sn,De.push({Id:sn,Type:d.Hyperlink,Target:ht.target,TargetMode:"External"})}),se.comments.length>0){var je={Id:qe(De),Type:d.Comments,Target:"../comments".concat(se.id,".xml")};De.push(je);var Ye={Id:qe(De),Type:d.VmlDrawing,Target:"../drawings/vmlDrawing".concat(se.id,".vml")};De.push(Ye),se.comments.forEach(function(ht){ht.refAddress=C.decodeAddress(ht.ref)}),ve.commentRefs.push({commentName:"comments".concat(se.id),vmlDrawing:"vmlDrawing".concat(se.id)})}var st,ct=[];se.media.forEach(function(ht){if("background"===ht.type){var sn=qe(De);De.push({Id:sn,Type:d.Image,Target:"../media/".concat((st=ve.media[ht.imageId]).name,".").concat(st.extension)}),se.background={rId:sn},se.image=ve.media[ht.imageId]}else if("image"===ht.type){var bt=se.drawing;st=ve.media[ht.imageId],bt||(bt=se.drawing={rId:qe(De),name:"drawing".concat(++ve.drawingsCount),anchors:[],rels:[]},ve.drawings.push(bt),De.push({Id:bt.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/".concat(bt.name,".xml")}));var It=Se.preImageId===ht.imageId?ct[ht.imageId]:ct[bt.rels.length];It||(It=qe(bt.rels),ct[bt.rels.length]=It,bt.rels.push({Id:It,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/".concat(st.name,".").concat(st.extension)}));var ln={picture:{rId:It},range:ht.range};if(ht.hyperlinks&&ht.hyperlinks.hyperlink){var nt=qe(bt.rels);ct[bt.rels.length]=nt,ln.picture.hyperlinks={tooltip:ht.hyperlinks.tooltip,rId:nt},bt.rels.push({Id:nt,Type:d.Hyperlink,Target:ht.hyperlinks.hyperlink,TargetMode:"External"})}Se.preImageId=ht.imageId,bt.anchors.push(ln)}}),se.tables.forEach(function(ht){var sn=qe(De);ht.rId=sn,De.push({Id:sn,Type:d.Table,Target:"../tables/".concat(ht.target)}),ht.columns.forEach(function(bt){var It=bt.style;It&&(bt.dxfId=ve.styles.addDxfStyle(It))})}),this.map.extLst.prepare(se,ve)}},{key:"render",value:function(se,ve){se.openXml(f.StdDocAttributes),se.openNode("worksheet",oe.WORKSHEET_ATTRIBUTES);var Se=ve.properties?{defaultRowHeight:ve.properties.defaultRowHeight,dyDescent:ve.properties.dyDescent,outlineLevelCol:ve.properties.outlineLevelCol,outlineLevelRow:ve.properties.outlineLevelRow}:void 0;ve.properties&&ve.properties.defaultColWidth&&(Se.defaultColWidth=ve.properties.defaultColWidth);var qe=ve.pageSetup&&ve.pageSetup.margins,je={showRowColHeaders:ve.pageSetup&&ve.pageSetup.showRowColHeaders,showGridLines:ve.pageSetup&&ve.pageSetup.showGridLines,horizontalCentered:ve.pageSetup&&ve.pageSetup.horizontalCentered,verticalCentered:ve.pageSetup&&ve.pageSetup.verticalCentered},Ye=ve.sheetProtection;this.map.sheetPr.render(se,{outlineProperties:ve.properties&&ve.properties.outlineProperties,tabColor:ve.properties&&ve.properties.tabColor,pageSetup:ve.pageSetup&&ve.pageSetup.fitToPage?{fitToPage:ve.pageSetup.fitToPage}:void 0}),this.map.dimension.render(se,ve.dimensions),this.map.sheetViews.render(se,ve.views),this.map.sheetFormatPr.render(se,Se),this.map.cols.render(se,ve.cols),this.map.sheetData.render(se,ve.rows),this.map.sheetProtection.render(se,Ye),this.map.autoFilter.render(se,ve.autoFilter),this.map.mergeCells.render(se,ve.mergeCells),this.map.conditionalFormatting.render(se,ve.conditionalFormattings),this.map.dataValidations.render(se,ve.dataValidations),this.map.hyperlinks.render(se,ve.hyperlinks),this.map.printOptions.render(se,je),this.map.pageMargins.render(se,qe),this.map.pageSetup.render(se,ve.pageSetup),this.map.headerFooter.render(se,ve.headerFooter),this.map.rowBreaks.render(se,ve.rowBreaks),this.map.drawing.render(se,ve.drawing),this.map.picture.render(se,ve.background),this.map.tableParts.render(se,ve.tables),this.map.extLst.render(se,ve),ve.rels&&ve.rels.forEach(function(st){st.Type===d.VmlDrawing&&se.leafNode("legacyDrawing",{"r:id":st.Id})}),se.closeNode()}},{key:"parseOpen",value:function(se){return this.parser?(this.parser.parseOpen(se),!0):"worksheet"===se.name?(E.each(this.map,function(ve){ve.reset()}),!0):(this.parser=this.map[se.name],this.parser&&this.parser.parseOpen(se),!0)}},{key:"parseText",value:function(se){this.parser&&this.parser.parseText(se)}},{key:"parseClose",value:function(se){if(this.parser)return this.parser.parseClose(se)||(this.parser=void 0),!0;if("worksheet"===se){var ve=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(ve.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(ve.outlineProperties=this.map.sheetPr.model.outlineProperties);var De=Object.assign({fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},this.map.pageSetup.model,this.map.printOptions.model),qe=function(de,pe){if(!pe||!pe.length)return de;if(!de||!de.length)return pe;var _e={},me={};return de.forEach(function(q){_e[q.ref]=q,q.rules.forEach(function(oe){var se=oe.x14Id;se&&(me[se]=oe)})}),pe.forEach(function(q){q.rules.forEach(function(oe){var ve,Se,se=me[oe.x14Id];se?(ve=se,Se=oe,Object.keys(Se).forEach(function(De){var je=Se[De];void 0===ve[De]&&void 0!==je&&(ve[De]=je)})):_e[q.ref]?_e[q.ref].rules.push(oe):de.push({ref:q.ref,rules:[oe]})})}),de}(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:ve,views:this.map.sheetViews.model,pageSetup:De,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:qe},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}return!0}},{key:"reconcile",value:function(se,ve){var Se=(se.relationships||[]).reduce(function(ct,ht){if(ct[ht.Id]=ht,ht.Type===d.Comments&&(se.comments=ve.comments[ht.Target].comments),ht.Type===d.VmlDrawing&&se.comments&&se.comments.length){var sn=ve.vmlDrawings[ht.Target].comments;se.comments.forEach(function(bt,It){bt.note=Object.assign({},bt.note,sn[It])})}return ct},{});if(ve.commentsMap=(se.comments||[]).reduce(function(ct,ht){return ht.ref&&(ct[ht.ref]=ht),ct},{}),ve.hyperlinkMap=(se.hyperlinks||[]).reduce(function(ct,ht){return ht.rId&&(ct[ht.address]=Se[ht.rId].Target),ct},{}),ve.formulae={},se.rows=se.rows&&se.rows.filter(Boolean)||[],se.rows.forEach(function(ct){ct.cells=ct.cells&&ct.cells.filter(Boolean)||[]}),this.map.cols.reconcile(se.cols,ve),this.map.sheetData.reconcile(se.rows,ve),this.map.conditionalFormatting.reconcile(se.conditionalFormattings,ve),se.media=[],se.drawing){var De=Se[se.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);De&&ve.drawings[De[1]].anchors.forEach(function(ct){ct.medium&&se.media.push({type:"image",imageId:ct.medium.index,range:ct.range,hyperlinks:ct.picture.hyperlinks})})}var je=se.background&&Se[se.background.rId];if(je){var Ye=je.Target.split("/media/")[1],st=ve.mediaIndex&&ve.mediaIndex[Ye];void 0!==st&&se.media.push({type:"background",imageId:st})}se.tables=(se.tables||[]).map(function(ct){return ve.tables[Se[ct.rId].Target]}),delete se.relationships,delete se.hyperlinks,delete se.comments}}])&&R(pe.prototype,_e),oe}(c);ce.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},te.exports=ce},{"../../../utils/col-cache":19,"../../../utils/under-dash":25,"../../../utils/xml-stream":27,"../../rel-type":30,"../base-xform":31,"../list-xform":70,"./auto-filter-xform":71,"./cf/conditional-formattings-xform":86,"./col-xform":91,"./data-validations-xform":92,"./dimension-xform":93,"./drawing-xform":94,"./ext-lst-xform":95,"./header-footer-xform":96,"./hyperlink-xform":97,"./merge-cell-xform":98,"./merges":99,"./page-margins-xform":102,"./page-setup-xform":104,"./picture-xform":105,"./print-options-xform":106,"./row-breaks-xform":107,"./row-xform":108,"./sheet-format-properties-xform":109,"./sheet-properties-xform":110,"./sheet-protection-xform":111,"./sheet-view-xform":112,"./table-part-xform":113}],115:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).tag=g.tag,y.attr=g.attr,y}return f=m,(d=[{key:"render",value:function(g,y){y&&(g.openNode(this.tag),g.closeNode())}},{key:"parseOpen",value:function(g){g.name===this.tag&&(this.model=!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}}])&&R(f.prototype,d),m}(T("../base-xform"));te.exports=E},{"../base-xform":31}],116:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).tag=g.tag,y.attr=g.attr,y.attrs=g.attrs,y._format=g.format||function(b){try{return Number.isNaN(b.getTime())?"":b.toISOString()}catch{return""}},y._parse=g.parse||function(b){return new Date(b)},y}return f=m,(d=[{key:"render",value:function(g,y){y&&(g.openNode(this.tag),this.attrs&&g.addAttributes(this.attrs),this.attr?g.addAttribute(this.attr,this._format(y)):g.writeText(this._format(y)),g.closeNode())}},{key:"parseOpen",value:function(g){g.name===this.tag&&(this.attr?this.model=this._parse(g.attributes[this.attr]):this.text=[])}},{key:"parseText",value:function(g){this.attr||this.text.push(g)}},{key:"parseClose",value:function(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}])&&R(f.prototype,d),m}(T("../base-xform"));te.exports=E},{"../base-xform":31}],117:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).tag=g.tag,y.attr=g.attr,y.attrs=g.attrs,y.zero=g.zero,y}return f=m,(d=[{key:"render",value:function(g,y){(y||this.zero)&&(g.openNode(this.tag),this.attrs&&g.addAttributes(this.attrs),this.attr?g.addAttribute(this.attr,y):g.writeText(y),g.closeNode())}},{key:"parseOpen",value:function(g){return g.name===this.tag&&(this.attr?this.model=parseInt(g.attributes[this.attr],10):this.text=[],!0)}},{key:"parseText",value:function(g){this.attr||this.text.push(g)}},{key:"parseClose",value:function(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}])&&R(f.prototype,d),m}(T("../base-xform"));te.exports=E},{"../base-xform":31}],118:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).tag=g.tag,y.attr=g.attr,y.attrs=g.attrs,y}return f=m,(d=[{key:"render",value:function(g,y){void 0!==y&&(g.openNode(this.tag),this.attrs&&g.addAttributes(this.attrs),this.attr?g.addAttribute(this.attr,y):g.writeText(y),g.closeNode())}},{key:"parseOpen",value:function(g){g.name===this.tag&&(this.attr?this.model=g.attributes[this.attr]:this.text=[])}},{key:"parseText",value:function(g){this.attr||this.text.push(g)}},{key:"parseClose",value:function(){return this.attr||(this.model=this.text.join("")),!1}}])&&R(f.prototype,d),m}(T("../base-xform"));te.exports=E},{"../base-xform":31}],119:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("./base-xform"),C=T("../../utils/xml-stream"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(b){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,y),(S=g.call(this))._model=b,S}return u=y,(c=[{key:"render",value:function(b){if(!this._xml){var S=new C;(function A(P,H){P.openNode(H.tag,H.$),H.c&&H.c.forEach(function(X){A(P,X)}),H.t&&P.writeText(H.t),P.closeNode()})(S,this._model),this._xml=S.xml}b.writeXml(this._xml)}},{key:"parseOpen",value:function(){return!0}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(b){return b!==this._model.tag}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../../utils/xml-stream":27,"./base-xform":31}],120:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("./text-xform"),C=T("./rich-text-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(){var b;return function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={r:new C,t:new E},b}return u=y,(c=[{key:"render",value:function(b,S){if(b.openNode(this.tag,{sb:S.sb||0,eb:S.eb||0}),S&&S.hasOwnProperty("richText")&&S.richText){var A=this.map.r;S.richText.forEach(function(P){A.render(b,P)})}else S&&this.map.t.render(b,S.text);b.closeNode()}},{key:"parseOpen",value:function(b){var S=b.name;return this.parser?(this.parser.parseOpen(b),!0):S===this.tag?(this.model={sb:parseInt(b.attributes.sb,10),eb:parseInt(b.attributes.eb,10)},!0):(this.parser=this.map[S],!!this.parser&&(this.parser.parseOpen(b),!0))}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser){if(!this.parser.parseClose(b)){switch(b){case"r":var S=this.model.richText;S||(S=this.model.richText=[]),S.push(this.parser.model);break;case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return b!==this.tag}},{key:"tag",get:function(){return"rPh"}}])&&R(u.prototype,c),y}(T("../base-xform"));te.exports=f},{"../base-xform":31,"./rich-text-xform":121,"./text-xform":124}],121:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("./text-xform"),C=T("../style/font-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(b){var S;return function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,y),(S=g.call(this)).model=b,S}return u=y,(c=[{key:"render",value:function(b,S){S=S||this.model,b.openNode("r"),S.font&&this.fontXform.render(b,S.font),this.textXform.render(b,S.text),b.closeNode()}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;switch(b.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(b),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(b),!0;default:return!1}}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){switch(b){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(b),!0}}},{key:"tag",get:function(){return"r"}},{key:"textXform",get:function(){return this._textXform||(this._textXform=new E)}},{key:"fontXform",get:function(){return this._fontXform||(this._fontXform=new C(y.FONT_OPTIONS))}}])&&R(u.prototype,c),y}(T("../base-xform"));f.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},te.exports=f},{"../base-xform":31,"../style/font-xform":130,"./text-xform":124}],122:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("./text-xform"),C=T("./rich-text-xform"),f=T("./phonetic-text-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(S){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,b),(A=y.call(this)).model=S,A.map={r:new C,t:new E,rPh:new f},A}return c=b,(m=[{key:"render",value:function(S,A){var P=this;S.openNode(this.tag),A&&A.hasOwnProperty("richText")&&A.richText?A.richText.length?A.richText.forEach(function(H){P.map.r.render(S,H)}):this.map.t.render(S,""):null!=A&&this.map.t.render(S,A),S.closeNode()}},{key:"parseOpen",value:function(S){var A=S.name;return this.parser?(this.parser.parseOpen(S),!0):A===this.tag?(this.model={},!0):(this.parser=this.map[A],!!this.parser&&(this.parser.parseOpen(S),!0))}},{key:"parseText",value:function(S){this.parser&&this.parser.parseText(S)}},{key:"parseClose",value:function(S){if(this.parser){if(!this.parser.parseClose(S)){switch(S){case"r":var A=this.model.richText;A||(A=this.model.richText=[]),A.push(this.parser.model);break;case"t":this.model=this.parser.model}this.parser=void 0}return!0}return S!==this.tag}},{key:"tag",get:function(){return"si"}}])&&R(c.prototype,m),b}(T("../base-xform"));te.exports=d},{"../base-xform":31,"./phonetic-text-xform":120,"./rich-text-xform":121,"./text-xform":124}],123:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../../../utils/xml-stream"),C=T("../base-xform"),f=T("./shared-string-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(S){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,b),(A=y.call(this)).model=S||{values:[],count:0},A.hash=Object.create(null),A.rich=Object.create(null),A}return c=b,(m=[{key:"getString",value:function(S){return this.model.values[S]}},{key:"add",value:function(S){return S.richText?this.addRichText(S):this.addText(S)}},{key:"addText",value:function(S){var A=this.hash[S];return void 0===A&&(A=this.hash[S]=this.model.values.length,this.model.values.push(S)),this.model.count++,A}},{key:"addRichText",value:function(S){var A=this.sharedStringXform.toXml(S),P=this.rich[A];return void 0===P&&(P=this.rich[A]=this.model.values.length,this.model.values.push(S)),this.model.count++,P}},{key:"render",value:function(S,A){A=A||this._values,S.openXml(E.StdDocAttributes),S.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:A.count,uniqueCount:A.values.length});var P=this.sharedStringXform;A.values.forEach(function(H){P.render(S,H)}),S.closeNode()}},{key:"parseOpen",value:function(S){if(this.parser)return this.parser.parseOpen(S),!0;switch(S.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(S),!0;default:throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(S)))}}},{key:"parseText",value:function(S){this.parser&&this.parser.parseText(S)}},{key:"parseClose",value:function(S){if(this.parser)return this.parser.parseClose(S)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if("sst"===S)return!1;throw new Error("Unexpected xml node in parseClose: ".concat(S))}},{key:"sharedStringXform",get:function(){return this._sharedStringXform||(this._sharedStringXform=new f)}},{key:"values",get:function(){return this.model.values}},{key:"uniqueCount",get:function(){return this.model.values.length}},{key:"count",get:function(){return this.model.count}}])&&R(c.prototype,m),b}(C);te.exports=d},{"../../../utils/xml-stream":27,"../base-xform":31,"./shared-string-xform":122}],124:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){y.openNode("t"),/^\s|\n|\s$/.test(b)&&y.addAttribute("xml:space","preserve"),y.writeText(b),y.closeNode()}},{key:"parseOpen",value:function(y){return"t"===y.name&&(this._text=[],!0)}},{key:"parseText",value:function(y){this._text.push(y)}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"t"}},{key:"model",get:function(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,function(y,b){return String.fromCharCode(parseInt(b,16))})}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],125:[function(T,te,W){"use strict";function k(y){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function R(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function M(y,b){for(var S=0;S<b.length;S++){var A=b[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}function x(y,b){return(x=Object.setPrototypeOf||function(S,A){return S.__proto__=A,S})(y,b)}function w(y,b){return!b||"object"!==k(b)&&"function"!=typeof b?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(y):b}function E(y){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(y)}var C=T("../../../doc/enums"),f=T("../../../utils/utils"),d=T("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce(function(y,b){return y[b]=!0,y},{}),horizontal:function(y){return this.horizontalValues[y]?y:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce(function(y,b){return y[b]=!0,y},{}),vertical:function(y){return"middle"===y?"center":this.verticalValues[y]?y:void 0},wrapText:function(y){return!!y||void 0},shrinkToFit:function(y){return!!y||void 0},textRotation:function(y){return"vertical"===y||(y=f.validInt(y))>=-90&&y<=90?y:void 0},indent:function(y){return y=f.validInt(y),Math.max(0,y)},readingOrder:function(y){switch(y){case"ltr":return C.ReadingOrder.LeftToRight;case"rtl":return C.ReadingOrder.RightToLeft;default:return}}},g=function(y){!function(X,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(J&&J.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),J&&x(X,J)}(H,y);var b,S,P=function O(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var S,A=E(y);if(b){var P=E(this).constructor;S=Reflect.construct(A,arguments,P)}else S=A.apply(this,arguments);return w(this,S)}}(H);function H(){return R(this,H),P.apply(this,arguments)}return b=H,(S=[{key:"render",value:function(X,J){X.addRollback(),X.openNode("alignment");var j=!1;function $(L,B){B&&(X.addAttribute(L,B),j=!0)}$("horizontal",u.horizontal(J.horizontal)),$("vertical",u.vertical(J.vertical)),$("wrapText",!!u.wrapText(J.wrapText)&&"1"),$("shrinkToFit",!!u.shrinkToFit(J.shrinkToFit)&&"1"),$("indent",u.indent(J.indent)),$("textRotation",function(y){if(y=u.textRotation(y)){if("vertical"===y)return 255;var b=Math.round(y);if(b>=0&&b<=90)return b;if(b<0&&b>=-90)return 90-b}}(J.textRotation)),$("readingOrder",u.readingOrder(J.readingOrder)),X.closeNode(),j?X.commit():X.rollback()}},{key:"parseOpen",value:function(X){var J={},j=!1;function $(L,B,ee){L&&(J[B]=ee,j=!0)}$(X.attributes.horizontal,"horizontal",X.attributes.horizontal),$(X.attributes.vertical,"vertical","center"===X.attributes.vertical?"middle":X.attributes.vertical),$(X.attributes.wrapText,"wrapText",!!X.attributes.wrapText),$(X.attributes.shrinkToFit,"shrinkToFit",!!X.attributes.shrinkToFit),$(X.attributes.indent,"indent",parseInt(X.attributes.indent,10)),$(X.attributes.textRotation,"textRotation",function(y){var b=f.validInt(y);if(void 0!==b){if(255===b)return"vertical";if(b>=0&&b<=90)return b;if(b>90&&b<=180)return 90-b}}(X.attributes.textRotation)),$(X.attributes.readingOrder,"readingOrder","2"===X.attributes.readingOrder?"rtl":"ltr"),this.model=j?J:null}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"alignment"}}])&&M(b.prototype,S),H}(d);te.exports=g},{"../../../doc/enums":7,"../../../utils/utils":26,"../base-xform":31}],126:[function(T,te,W){"use strict";function k(S,A){var P=Object.keys(S);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(S);A&&(H=H.filter(function(X){return Object.getOwnPropertyDescriptor(S,X).enumerable})),P.push.apply(P,H)}return P}function R(S){for(var A=1;A<arguments.length;A++){var P=null!=arguments[A]?arguments[A]:{};A%2?k(Object(P),!0).forEach(function(H){M(S,H,P[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(P)):k(Object(P)).forEach(function(H){Object.defineProperty(S,H,Object.getOwnPropertyDescriptor(P,H))})}return S}function M(S,A,P){return A in S?Object.defineProperty(S,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[A]=P,S}function x(S){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}function O(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function w(S,A){for(var P=0;P<A.length;P++){var H=A[P];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(S,H.key,H)}}function E(S,A,P){return A&&w(S.prototype,A),P&&w(S,P),S}function C(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&f(S,A)}function f(S,A){return(f=Object.setPrototypeOf||function(P,H){return P.__proto__=H,P})(S,A)}function d(S){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var P,H=c(S);if(A){var X=c(this).constructor;P=Reflect.construct(H,arguments,X)}else P=H.apply(this,arguments);return u(this,P)}}function u(S,A){return!A||"object"!==x(A)&&"function"!=typeof A?function(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(S):A}function c(S){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(S)}var m=T("../base-xform"),g=T("./color-xform"),y=function(S){C(P,S);var A=d(P);function P(H){var X;return O(this,P),(X=A.call(this)).name=H,X.map={color:new g},X}return E(P,[{key:"render",value:function(H,X,J){var j=X&&X.color||J||this.defaultColor;H.openNode(this.name),X&&X.style&&(H.addAttribute("style",X.style),j&&this.map.color.render(H,j)),H.closeNode()}},{key:"parseOpen",value:function(H){if(this.parser)return this.parser.parseOpen(H),!0;switch(H.name){case this.name:var X=H.attributes.style;return this.model=X?{style:X}:void 0,!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(H),!0;default:return!1}}},{key:"parseText",value:function(H){this.parser&&this.parser.parseText(H)}},{key:"parseClose",value:function(H){return this.parser?(this.parser.parseClose(H)||(this.parser=void 0),!0):(H===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}},{key:"validStyle",value:function(H){return P.validStyleValues[H]}},{key:"tag",get:function(){return this.name}}]),P}(m);y.validStyleValues=["thin","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce(function(S,A){return S[A]=!0,S},{});var b=function(S){C(P,S);var A=d(P);function P(){var H;return O(this,P),(H=A.call(this)).map={top:new y("top"),left:new y("left"),bottom:new y("bottom"),right:new y("right"),diagonal:new y("diagonal")},H}return E(P,[{key:"render",value:function(H,X){var J=X.color;function j($,L){$&&!$.color&&X.color&&($=R(R({},$),{},{color:X.color})),L.render(H,$,J)}H.openNode("border"),X.diagonal&&X.diagonal.style&&(X.diagonal.up&&H.addAttribute("diagonalUp","1"),X.diagonal.down&&H.addAttribute("diagonalDown","1")),j(X.left,this.map.left),j(X.right,this.map.right),j(X.top,this.map.top),j(X.bottom,this.map.bottom),j(X.diagonal,this.map.diagonal),H.closeNode()}},{key:"parseOpen",value:function(H){return this.parser?(this.parser.parseOpen(H),!0):"border"===H.name?(this.reset(),this.diagonalUp=!!H.attributes.diagonalUp,this.diagonalDown=!!H.attributes.diagonalDown,!0):(this.parser=this.map[H.name],!!this.parser&&(this.parser.parseOpen(H),!0))}},{key:"parseText",value:function(H){this.parser&&this.parser.parseText(H)}},{key:"parseClose",value:function(H){if(this.parser)return this.parser.parseClose(H)||(this.parser=void 0),!0;if("border"===H){var X=this.model={},J=function(j,$,L){$&&(L&&Object.assign($,L),X[j]=$)};J("left",this.map.left.model),J("right",this.map.right.model),J("top",this.map.top.model),J("bottom",this.map.bottom.model),J("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}]),P}(m);te.exports=b},{"../base-xform":31,"./color-xform":127}],127:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).name=g||"color",y}return f=m,(d=[{key:"render",value:function(g,y){return!!y&&(g.openNode(this.name),y.argb?g.addAttribute("rgb",y.argb):void 0!==y.theme?(g.addAttribute("theme",y.theme),void 0!==y.tint&&g.addAttribute("tint",y.tint)):void 0!==y.indexed?g.addAttribute("indexed",y.indexed):g.addAttribute("auto","1"),g.closeNode(),!0)}},{key:"parseOpen",value:function(g){return g.name===this.name&&(g.attributes.rgb?this.model={argb:g.attributes.rgb}:g.attributes.theme?(this.model={theme:parseInt(g.attributes.theme,10)},g.attributes.tint&&(this.model.tint=parseFloat(g.attributes.tint))):this.model=g.attributes.indexed?{indexed:parseInt(g.attributes.indexed,10)}:void 0,!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return this.name}}])&&R(f.prototype,d),m}(T("../base-xform"));te.exports=E},{"../base-xform":31}],128:[function(T,te,W){"use strict";function k(y){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(y)}function R(y,b){for(var S=0;S<b.length;S++){var A=b[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(y,A.key,A)}}function M(y,b){return(M=Object.setPrototypeOf||function(S,A){return S.__proto__=A,S})(y,b)}function O(y,b){return!b||"object"!==k(b)&&"function"!=typeof b?function(S){if(void 0===S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(y):b}function w(y){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(y)}var E=T("../base-xform"),C=T("./alignment-xform"),f=T("./border-xform"),d=T("./fill-xform"),u=T("./font-xform"),c=T("./numfmt-xform"),m=T("./protection-xform"),g=function(y){!function(X,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(J&&J.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),J&&M(X,J)}(H,y);var b,S,P=function x(y){var b=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var S,A=w(y);if(b){var P=w(this).constructor;S=Reflect.construct(A,arguments,P)}else S=A.apply(this,arguments);return O(this,S)}}(H);function H(){var X;return function(J,j){if(!(J instanceof j))throw new TypeError("Cannot call a class as a function")}(this,H),(X=P.call(this)).map={alignment:new C,border:new f,fill:new d,font:new u,numFmt:new c,protection:new m},X}return b=H,(S=[{key:"render",value:function(X,J){X.openNode(this.tag),J.font&&this.map.font.render(X,J.font),J.numFmt&&this.map.numFmt.render(X,J.numFmt),J.fill&&this.map.fill.render(X,J.fill),J.alignment&&this.map.alignment.render(X,J.alignment),J.border&&this.map.border.render(X,J.border),J.protection&&this.map.protection.render(X,J.protection),X.closeNode()}},{key:"parseOpen",value:function(X){return this.parser?(this.parser.parseOpen(X),!0):X.name===this.tag?(this.reset(),!0):(this.parser=this.map[X.name],this.parser&&this.parser.parseOpen(X),!0)}},{key:"parseText",value:function(X){this.parser&&this.parser.parseText(X)}},{key:"parseClose",value:function(X){return this.parser?(this.parser.parseClose(X)||(this.parser=void 0),!0):X!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}},{key:"tag",get:function(){return"dxf"}}])&&R(b.prototype,S),H}(E);te.exports=g},{"../base-xform":31,"./alignment-xform":125,"./border-xform":126,"./fill-xform":129,"./font-xform":130,"./numfmt-xform":131,"./protection-xform":132}],129:[function(T,te,W){"use strict";function k(b){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(b)}function R(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function M(b,S){for(var A=0;A<S.length;A++){var P=S[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}function x(b,S,A){return S&&M(b.prototype,S),A&&M(b,A),b}function O(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&w(b,S)}function w(b,S){return(w=Object.setPrototypeOf||function(A,P){return A.__proto__=P,A})(b,S)}function E(b){var S=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var A,P=f(b);if(S){var H=f(this).constructor;A=Reflect.construct(P,arguments,H)}else A=P.apply(this,arguments);return C(this,A)}}function C(b,S){return!S||"object"!==k(S)&&"function"!=typeof S?function(A){if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(b):S}function f(b){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(b)}var d=T("../base-xform"),u=T("./color-xform"),c=function(b){O(A,b);var S=E(A);function A(){var P;return R(this,A),(P=S.call(this)).map={color:new u},P}return x(A,[{key:"render",value:function(P,H){P.openNode("stop"),P.addAttribute("position",H.position),this.map.color.render(P,H.color),P.closeNode()}},{key:"parseOpen",value:function(P){if(this.parser)return this.parser.parseOpen(P),!0;switch(P.name){case"stop":return this.model={position:parseFloat(P.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(P),!0;default:return!1}}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(P){return!!this.parser&&(this.parser.parseClose(P)||(this.model.color=this.parser.model,this.parser=void 0),!0)}},{key:"tag",get:function(){return"stop"}}]),A}(d),m=function(b){O(A,b);var S=E(A);function A(){var P;return R(this,A),(P=S.call(this)).map={fgColor:new u("fgColor"),bgColor:new u("bgColor")},P}return x(A,[{key:"render",value:function(P,H){P.openNode("patternFill"),P.addAttribute("patternType",H.pattern),H.fgColor&&this.map.fgColor.render(P,H.fgColor),H.bgColor&&this.map.bgColor.render(P,H.bgColor),P.closeNode()}},{key:"parseOpen",value:function(P){return this.parser?(this.parser.parseOpen(P),!0):"patternFill"===P.name?(this.model={type:"pattern",pattern:P.attributes.patternType},!0):(this.parser=this.map[P.name],!!this.parser&&(this.parser.parseOpen(P),!0))}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){return!!this.parser&&(this.parser.parseClose(P)||(this.parser.model&&(this.model[P]=this.parser.model),this.parser=void 0),!0)}},{key:"name",get:function(){return"pattern"}},{key:"tag",get:function(){return"patternFill"}}]),A}(d),g=function(b){O(A,b);var S=E(A);function A(){var P;return R(this,A),(P=S.call(this)).map={stop:new c},P}return x(A,[{key:"render",value:function(P,H){switch(P.openNode("gradientFill"),H.gradient){case"angle":P.addAttribute("degree",H.degree);break;case"path":P.addAttribute("type","path"),H.center.left&&(P.addAttribute("left",H.center.left),void 0===H.center.right&&P.addAttribute("right",H.center.left)),H.center.right&&P.addAttribute("right",H.center.right),H.center.top&&(P.addAttribute("top",H.center.top),void 0===H.center.bottom&&P.addAttribute("bottom",H.center.top)),H.center.bottom&&P.addAttribute("bottom",H.center.bottom)}var X=this.map.stop;H.stops.forEach(function(J){X.render(P,J)}),P.closeNode()}},{key:"parseOpen",value:function(P){if(this.parser)return this.parser.parseOpen(P),!0;switch(P.name){case"gradientFill":var H=this.model={stops:[]};return P.attributes.degree?(H.gradient="angle",H.degree=parseInt(P.attributes.degree,10)):"path"===P.attributes.type&&(H.gradient="path",H.center={left:P.attributes.left?parseFloat(P.attributes.left):0,top:P.attributes.top?parseFloat(P.attributes.top):0},P.attributes.right!==P.attributes.left&&(H.center.right=P.attributes.right?parseFloat(P.attributes.right):0),P.attributes.bottom!==P.attributes.top&&(H.center.bottom=P.attributes.bottom?parseFloat(P.attributes.bottom):0)),!0;case"stop":return this.parser=this.map.stop,this.parser.parseOpen(P),!0;default:return!1}}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){return!!this.parser&&(this.parser.parseClose(P)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}},{key:"name",get:function(){return"gradient"}},{key:"tag",get:function(){return"gradientFill"}}]),A}(d),y=function(b){O(A,b);var S=E(A);function A(){var P;return R(this,A),(P=S.call(this)).map={patternFill:new m,gradientFill:new g},P}return x(A,[{key:"render",value:function(P,H){switch(P.addRollback(),P.openNode("fill"),H.type){case"pattern":this.map.patternFill.render(P,H);break;case"gradient":this.map.gradientFill.render(P,H);break;default:return void P.rollback()}P.closeNode(),P.commit()}},{key:"parseOpen",value:function(P){return this.parser?(this.parser.parseOpen(P),!0):"fill"===P.name?(this.model={},!0):(this.parser=this.map[P.name],!!this.parser&&(this.parser.parseOpen(P),!0))}},{key:"parseText",value:function(P){this.parser&&this.parser.parseText(P)}},{key:"parseClose",value:function(P){return!!this.parser&&(this.parser.parseClose(P)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}},{key:"validStyle",value:function(P){return A.validPatternValues[P]}},{key:"tag",get:function(){return"fill"}}]),A}(d);y.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce(function(b,S){return b[S]=!0,b},{}),y.StopXform=c,y.PatternFillXform=m,y.GradientFillXform=g,te.exports=y},{"../base-xform":31,"./color-xform":127}],130:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function R(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function M(g,y){return(M=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function O(g,y){return!y||"object"!==k(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function w(g){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}var E=T("./color-xform"),C=T("../simple/boolean-xform"),f=T("../simple/integer-xform"),d=T("../simple/string-xform"),u=T("./underline-xform"),c=T("../../../utils/under-dash"),m=function(g){!function(H,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&M(H,X)}(P,g);var y,b,A=function x(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=w(g);if(y){var A=w(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return O(this,b)}}(P);function P(H){var X;return function(J,j){if(!(J instanceof j))throw new TypeError("Cannot call a class as a function")}(this,P),(X=A.call(this)).options=H||P.OPTIONS,X.map={b:{prop:"bold",xform:new C({tag:"b",attr:"val"})},i:{prop:"italic",xform:new C({tag:"i",attr:"val"})},u:{prop:"underline",xform:new u},charset:{prop:"charset",xform:new f({tag:"charset",attr:"val"})},color:{prop:"color",xform:new E},condense:{prop:"condense",xform:new C({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new C({tag:"extend",attr:"val"})},family:{prop:"family",xform:new f({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new C({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new d({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new d({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new C({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new C({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new f({tag:"sz",attr:"val"})}},X.map[X.options.fontNameTag]={prop:"name",xform:new d({tag:X.options.fontNameTag,attr:"val"})},X}return y=P,(b=[{key:"render",value:function(H,X){var J=this.map;H.openNode(this.options.tagName),c.each(this.map,function(j,$){J[$].xform.render(H,X[j.prop])}),H.closeNode()}},{key:"parseOpen",value:function(H){return this.parser?(this.parser.parseOpen(H),!0):this.map[H.name]?(this.parser=this.map[H.name].xform,this.parser.parseOpen(H)):H.name===this.options.tagName&&(this.model={},!0)}},{key:"parseText",value:function(H){this.parser&&this.parser.parseText(H)}},{key:"parseClose",value:function(H){return this.parser&&!this.parser.parseClose(H)?(this.parser.model&&(this.model[this.map[H].prop]=this.parser.model),this.parser=void 0,!0):H!==this.options.tagName}},{key:"tag",get:function(){return this.options.tagName}}])&&R(y.prototype,b),P}(T("../base-xform"));m.OPTIONS={tagName:"font",fontNameTag:"name"},te.exports=m},{"../../../utils/under-dash":25,"../base-xform":31,"../simple/boolean-xform":115,"../simple/integer-xform":117,"../simple/string-xform":118,"./color-xform":127,"./underline-xform":135}],131:[function(T,te,W){"use strict";function k(m){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function R(m,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}function M(m,g){return(M=Object.setPrototypeOf||function(y,b){return y.__proto__=b,y})(m,g)}function O(m,g){return!g||"object"!==k(g)&&"function"!=typeof g?function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(m):g}function w(m){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(m)}var d,E=T("../../../utils/under-dash"),C=T("../../defaultnumformats"),f=T("../base-xform"),u=(d={},E.each(C,function(m,g){m.f&&(d[m.f]=parseInt(g,10))}),d),c=function(m){!function(P,H){if("function"!=typeof H&&null!==H)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(H&&H.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),H&&M(P,H)}(A,m);var g,y,S=function x(m){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var y,b=w(m);if(g){var S=w(this).constructor;y=Reflect.construct(b,arguments,S)}else y=b.apply(this,arguments);return O(this,y)}}(A);function A(P,H){var X;return function(J,j){if(!(J instanceof j))throw new TypeError("Cannot call a class as a function")}(this,A),(X=S.call(this)).id=P,X.formatCode=H,X}return g=A,(y=[{key:"render",value:function(P,H){P.leafNode("numFmt",{numFmtId:H.id,formatCode:H.formatCode})}},{key:"parseOpen",value:function(P){return"numFmt"===P.name&&(this.model={id:parseInt(P.attributes.numFmtId,10),formatCode:P.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"numFmt"}}])&&R(g.prototype,y),A}(f);c.getDefaultFmtId=function(m){return u[m]},c.getDefaultFmtCode=function(m){return C[m]&&C[m].f},te.exports=c},{"../../../utils/under-dash":25,"../../defaultnumformats":29,"../base-xform":31}],132:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function M(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function x(u,c){return(x=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function w(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function E(u){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var C=T("../base-xform"),f=function(u,c){return void 0===u?c:u},d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&x(S,A)}(b,u);var c,m,y=function O(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=E(u);if(c){var y=E(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return w(this,m)}}(b);function b(){return R(this,b),y.apply(this,arguments)}return c=b,(m=[{key:"render",value:function(S,A){S.addRollback(),S.openNode("protection");var P=!1;function H(X,J){void 0!==J&&(S.addAttribute(X,J),P=!0)}H("locked",f(A.locked,!0)?void 0:"0"),H("hidden",f(A.hidden,!1)?"1":void 0),S.closeNode(),P?S.commit():S.rollback()}},{key:"parseOpen",value:function(S){var A={locked:"0"!==S.attributes.locked,hidden:"1"===S.attributes.hidden};this.model=!A.locked||A.hidden?A:null}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"protection"}}])&&M(c.prototype,m),b}(C);te.exports=d},{"../base-xform":31}],133:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function R(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function M(u,c){return(M=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function O(u,c){return!c||"object"!==k(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function w(u){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}var E=T("../base-xform"),C=T("./alignment-xform"),f=T("./protection-xform"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&M(S,A)}(b,u);var c,m,y=function x(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=w(u);if(c){var y=w(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return O(this,m)}}(b);function b(S){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,b),(A=y.call(this)).xfId=!(!S||!S.xfId),A.map={alignment:new C,protection:new f},A}return c=b,(m=[{key:"render",value:function(S,A){S.openNode("xf",{numFmtId:A.numFmtId||0,fontId:A.fontId||0,fillId:A.fillId||0,borderId:A.borderId||0}),this.xfId&&S.addAttribute("xfId",A.xfId||0),A.numFmtId&&S.addAttribute("applyNumberFormat","1"),A.fontId&&S.addAttribute("applyFont","1"),A.fillId&&S.addAttribute("applyFill","1"),A.borderId&&S.addAttribute("applyBorder","1"),A.alignment&&S.addAttribute("applyAlignment","1"),A.protection&&S.addAttribute("applyProtection","1"),A.alignment&&this.map.alignment.render(S,A.alignment),A.protection&&this.map.protection.render(S,A.protection),S.closeNode()}},{key:"parseOpen",value:function(S){if(this.parser)return this.parser.parseOpen(S),!0;switch(S.name){case"xf":return this.model={numFmtId:parseInt(S.attributes.numFmtId,10),fontId:parseInt(S.attributes.fontId,10),fillId:parseInt(S.attributes.fillId,10),borderId:parseInt(S.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(S.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(S),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(S),!0;default:return!1}}},{key:"parseText",value:function(S){this.parser&&this.parser.parseText(S)}},{key:"parseClose",value:function(S){return this.parser?(this.parser.parseClose(S)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):"xf"!==S}},{key:"tag",get:function(){return"xf"}}])&&R(c.prototype,m),b}(E);te.exports=d},{"../base-xform":31,"./alignment-xform":125,"./protection-xform":132}],134:[function(T,te,W){"use strict";function k(j){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function($){return typeof $}:function($){return $&&"function"==typeof Symbol&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(j)}function R(j,$){if(!(j instanceof $))throw new TypeError("Cannot call a class as a function")}function M(j,$){for(var L=0;L<$.length;L++){var B=$[L];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(j,B.key,B)}}function x(j,$,L){return $&&M(j.prototype,$),L&&M(j,L),j}function O(j,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),$&&w(j,$)}function w(j,$){return(w=Object.setPrototypeOf||function(L,B){return L.__proto__=B,L})(j,$)}function E(j){var $=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var L,B=f(j);if($){var ee=f(this).constructor;L=Reflect.construct(B,arguments,ee)}else L=B.apply(this,arguments);return C(this,L)}}function C(j,$){return!$||"object"!==k($)&&"function"!=typeof $?function(L){if(void 0===L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}(j):$}function f(j){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)})(j)}var d=T("../../../doc/enums"),u=T("../../../utils/xml-stream"),c=T("../base-xform"),m=T("../static-xform"),g=T("../list-xform"),y=T("./font-xform"),b=T("./fill-xform"),S=T("./border-xform"),A=T("./numfmt-xform"),P=T("./style-xform"),H=T("./dxf-xform"),X=function(j){O(L,j);var $=E(L);function L(B){var ee;return R(this,L),(ee=$.call(this)).map={numFmts:new g({tag:"numFmts",count:!0,childXform:new A}),fonts:new g({tag:"fonts",count:!0,childXform:new y,$:{"x14ac:knownFonts":1}}),fills:new g({tag:"fills",count:!0,childXform:new b}),borders:new g({tag:"borders",count:!0,childXform:new S}),cellStyleXfs:new g({tag:"cellStyleXfs",count:!0,childXform:new P}),cellXfs:new g({tag:"cellXfs",count:!0,childXform:new P({xfId:!0})}),dxfs:new g({tag:"dxfs",always:!0,count:!0,childXform:new H}),numFmt:new A,font:new y,fill:new b,border:new S,style:new P({xfId:!0}),cellStyles:L.STATIC_XFORMS.cellStyles,tableStyles:L.STATIC_XFORMS.tableStyles,extLst:L.STATIC_XFORMS.extLst},B&&ee.init(),ee}return x(L,[{key:"initIndex",value:function(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}},{key:"init",value:function(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}},{key:"render",value:function(B,ee){ee=ee||this.model,B.openXml(u.StdDocAttributes),B.openNode("styleSheet",L.STYLESHEET_ATTRIBUTES),this.index?(ee.numFmts&&ee.numFmts.length&&(B.openNode("numFmts",{count:ee.numFmts.length}),ee.numFmts.forEach(function(N){B.writeXml(N)}),B.closeNode()),ee.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),B.openNode("fonts",{count:ee.fonts.length,"x14ac:knownFonts":1}),ee.fonts.forEach(function(N){B.writeXml(N)}),B.closeNode(),B.openNode("fills",{count:ee.fills.length}),ee.fills.forEach(function(N){B.writeXml(N)}),B.closeNode(),B.openNode("borders",{count:ee.borders.length}),ee.borders.forEach(function(N){B.writeXml(N)}),B.closeNode(),this.map.cellStyleXfs.render(B,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),B.openNode("cellXfs",{count:ee.styles.length}),ee.styles.forEach(function(N){B.writeXml(N)}),B.closeNode()):(this.map.numFmts.render(B,ee.numFmts),this.map.fonts.render(B,ee.fonts),this.map.fills.render(B,ee.fills),this.map.borders.render(B,ee.borders),this.map.cellStyleXfs.render(B,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(B,ee.styles)),L.STATIC_XFORMS.cellStyles.render(B),this.map.dxfs.render(B,ee.dxfs),L.STATIC_XFORMS.tableStyles.render(B),L.STATIC_XFORMS.extLst.render(B),B.closeNode()}},{key:"parseOpen",value:function(B){return this.parser?(this.parser.parseOpen(B),!0):"styleSheet"===B.name?(this.initIndex(),!0):(this.parser=this.map[B.name],this.parser&&this.parser.parseOpen(B),!0)}},{key:"parseText",value:function(B){this.parser&&this.parser.parseText(B)}},{key:"parseClose",value:function(B){var ee=this;if(this.parser)return this.parser.parseClose(B)||(this.parser=void 0),!0;if("styleSheet"===B){this.model={};var N=function(U,Q){Q.model&&Q.model.length&&(ee.model[U]=Q.model)};if(N("numFmts",this.map.numFmts),N("fonts",this.map.fonts),N("fills",this.map.fills),N("borders",this.map.borders),N("styles",this.map.cellXfs),N("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){var V=this.index.numFmt;this.model.numFmts.forEach(function(U){V[U.id]=U.formatCode})}return!1}return!0}},{key:"addStyleModel",value:function(B,ee){if(!B)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(B))return this.weakMap.get(B);var N={};if(ee=ee||d.ValueType.Number,B.numFmt)N.numFmtId=this._addNumFmtStr(B.numFmt);else switch(ee){case d.ValueType.Number:N.numFmtId=this._addNumFmtStr("General");break;case d.ValueType.Date:N.numFmtId=this._addNumFmtStr("mm-dd-yy")}B.font&&(N.fontId=this._addFont(B.font)),B.border&&(N.borderId=this._addBorder(B.border)),B.fill&&(N.fillId=this._addFill(B.fill)),B.alignment&&(N.alignment=B.alignment),B.protection&&(N.protection=B.protection);var V=this._addStyle(N);return this.weakMap&&this.weakMap.set(B,V),V}},{key:"getStyleModel",value:function(B){var ee=this.model.styles[B];if(!ee)return null;var N=this.index.model[B];if(N)return N;if(N=this.index.model[B]={},ee.numFmtId){var V=this.index.numFmt[ee.numFmtId]||A.getDefaultFmtCode(ee.numFmtId);V&&(N.numFmt=V)}function U(Q,Z,K){if(K||0===K){var ne=Z[K];ne&&(N[Q]=ne)}}return U("font",this.model.fonts,ee.fontId),U("border",this.model.borders,ee.borderId),U("fill",this.model.fills,ee.fillId),ee.alignment&&(N.alignment=ee.alignment),ee.protection&&(N.protection=ee.protection),N}},{key:"addDxfStyle",value:function(B){return this.model.dxfs.push(B),this.model.dxfs.length-1}},{key:"getDxfStyle",value:function(B){return this.model.dxfs[B]}},{key:"_addStyle",value:function(B){var ee=this.map.style.toXml(B),N=this.index.style[ee];return void 0===N&&(N=this.index.style[ee]=this.model.styles.length,this.model.styles.push(ee)),N}},{key:"_addNumFmtStr",value:function(B){var ee=A.getDefaultFmtId(B);if(void 0!==ee||void 0!==(ee=this.index.numFmt[B]))return ee;ee=this.index.numFmt[B]=164+this.model.numFmts.length;var N=this.map.numFmt.toXml({id:ee,formatCode:B});return this.model.numFmts.push(N),ee}},{key:"_addFont",value:function(B){var ee=this.map.font.toXml(B),N=this.index.font[ee];return void 0===N&&(N=this.index.font[ee]=this.model.fonts.length,this.model.fonts.push(ee)),N}},{key:"_addBorder",value:function(B){var ee=this.map.border.toXml(B),N=this.index.border[ee];return void 0===N&&(N=this.index.border[ee]=this.model.borders.length,this.model.borders.push(ee)),N}},{key:"_addFill",value:function(B){var ee=this.map.fill.toXml(B),N=this.index.fill[ee];return void 0===N&&(N=this.index.fill[ee]=this.model.fills.length,this.model.fills.push(ee)),N}}]),L}(c);X.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},X.STATIC_XFORMS={cellStyles:new m({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new m({tag:"dxfs",$:{count:0}}),tableStyles:new m({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new m({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})};var J=function(j){O(L,j);var $=E(L);function L(){var B;return R(this,L),(B=$.call(this)).model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]},B}return x(L,[{key:"parseStream",value:function(B){return B.autodrain(),Promise.resolve()}},{key:"addStyleModel",value:function(B,ee){return ee===d.ValueType.Date?this.dateStyleId:0}},{key:"getStyleModel",value:function(){return{}}},{key:"dateStyleId",get:function(){if(!this._dateStyleId){var B={numFmtId:A.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(B)}return this._dateStyleId}}]),L}(X);X.Mock=J,te.exports=X},{"../../../doc/enums":7,"../../../utils/xml-stream":27,"../base-xform":31,"../list-xform":70,"../static-xform":119,"./border-xform":126,"./dxf-xform":128,"./fill-xform":129,"./font-xform":130,"./numfmt-xform":131,"./style-xform":133}],135:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}function R(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}function M(C,f){return(M=Object.setPrototypeOf||function(d,u){return d.__proto__=u,d})(C,f)}function O(C,f){return!f||"object"!==k(f)&&"function"!=typeof f?function(d){if(void 0===d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C):f}function w(C){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(f){return f.__proto__||Object.getPrototypeOf(f)})(C)}var E=function(C){!function(g,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&M(g,y)}(m,C);var f,d,c=function x(C){var f=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var d,u=w(C);if(f){var c=w(this).constructor;d=Reflect.construct(u,arguments,c)}else d=u.apply(this,arguments);return O(this,d)}}(m);function m(g){var y;return function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),(y=c.call(this)).model=g,y}return f=m,(d=[{key:"render",value:function(g,y){if(!0===(y=y||this.model))g.leafNode("u");else{var b=m.Attributes[y];b&&g.leafNode("u",b)}}},{key:"parseOpen",value:function(g){"u"===g.name&&(this.model=g.attributes.val||!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"u"}}])&&R(f.prototype,d),m}(T("../base-xform"));E.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},te.exports=E},{"../base-xform":31}],136:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}function R(d,u){for(var c=0;c<u.length;c++){var m=u[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,m.key,m)}}function M(d,u){return(M=Object.setPrototypeOf||function(c,m){return c.__proto__=m,c})(d,u)}function O(d,u){return!u||"object"!==k(u)&&"function"!=typeof u?function(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(d):u}function w(d){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(d)}var E=T("../base-xform"),C=T("./filter-column-xform"),f=function(d){!function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),S&&M(b,S)}(y,d);var u,c,g=function x(d){var u=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var c,m=w(d);if(u){var g=w(this).constructor;c=Reflect.construct(m,arguments,g)}else c=m.apply(this,arguments);return O(this,c)}}(y);function y(){var b;return function(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}(this,y),(b=g.call(this)).map={filterColumn:new C},b}return u=y,(c=[{key:"prepare",value:function(b){var S=this;b.columns.forEach(function(A,P){S.map.filterColumn.prepare(A,{index:P})})}},{key:"render",value:function(b,S){var A=this;return b.openNode(this.tag,{ref:S.autoFilterRef}),S.columns.forEach(function(P){A.map.filterColumn.render(b,P)}),b.closeNode(),!0}},{key:"parseOpen",value:function(b){if(this.parser)return this.parser.parseOpen(b),!0;if(b.name===this.tag)return this.model={autoFilterRef:b.attributes.ref,columns:[]},!0;if(this.parser=this.map[b.name],this.parser)return this.parseOpen(b),!0;throw new Error("Unexpected xml node in parseOpen: ".concat(JSON.stringify(b)))}},{key:"parseText",value:function(b){this.parser&&this.parser.parseText(b)}},{key:"parseClose",value:function(b){if(this.parser)return this.parser.parseClose(b)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(b===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: ".concat(b))}},{key:"tag",get:function(){return"autoFilter"}}])&&R(u.prototype,c),y}(E);te.exports=f},{"../base-xform":31,"./filter-column-xform":137}],137:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"prepare",value:function(y,b){y.colId=b.index.toString()}},{key:"render",value:function(y,b){return y.leafNode(this.tag,{colId:b.colId,hiddenButton:b.filterButton?"0":"1"}),!0}},{key:"parseOpen",value:function(y){return y.name===this.tag&&(this.model={filterButton:"0"===y.attributes.hiddenButton},!0)}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"filterColumn"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],138:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"prepare",value:function(y,b){y.id=b.index+1}},{key:"render",value:function(y,b){return y.leafNode(this.tag,{id:b.id.toString(),name:b.name,totalsRowLabel:b.totalsRowLabel,totalsRowFunction:b.totalsRowFunction,dxfId:b.dxfId}),!0}},{key:"parseOpen",value:function(y){if(y.name===this.tag){var b=y.attributes;return this.model={name:b.name,totalsRowLabel:b.totalsRowLabel,totalsRowFunction:b.totalsRowFunction,dxfId:b.dxfId},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"tableColumn"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],139:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}function R(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function M(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function x(f,d){return(x=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u})(f,d)}function w(f,d){return!d||"object"!==k(d)&&"function"!=typeof d?function(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(f):d}function E(f){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)})(f)}var C=function(f){!function(y,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&x(y,b)}(g,f);var d,u,m=function O(f){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var u,c=E(f);if(d){var m=E(this).constructor;u=Reflect.construct(c,arguments,m)}else u=c.apply(this,arguments);return w(this,u)}}(g);function g(){return R(this,g),m.apply(this,arguments)}return d=g,(u=[{key:"render",value:function(y,b){return y.leafNode(this.tag,{name:b.theme?b.theme:void 0,showFirstColumn:b.showFirstColumn?"1":"0",showLastColumn:b.showLastColumn?"1":"0",showRowStripes:b.showRowStripes?"1":"0",showColumnStripes:b.showColumnStripes?"1":"0"}),!0}},{key:"parseOpen",value:function(y){if(y.name===this.tag){var b=y.attributes;return this.model={theme:b.name?b.name:null,showFirstColumn:"1"===b.showFirstColumn,showLastColumn:"1"===b.showLastColumn,showRowStripes:"1"===b.showRowStripes,showColumnStripes:"1"===b.showColumnStripes},!0}return!1}},{key:"parseText",value:function(){}},{key:"parseClose",value:function(){return!1}},{key:"tag",get:function(){return"tableStyleInfo"}}])&&M(d.prototype,u),g}(T("../base-xform"));te.exports=C},{"../base-xform":31}],140:[function(T,te,W){"use strict";function k(S){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}function R(S,A){var P=Object.keys(S);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(S);A&&(H=H.filter(function(X){return Object.getOwnPropertyDescriptor(S,X).enumerable})),P.push.apply(P,H)}return P}function M(S){for(var A=1;A<arguments.length;A++){var P=null!=arguments[A]?arguments[A]:{};A%2?R(Object(P),!0).forEach(function(H){x(S,H,P[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(P)):R(Object(P)).forEach(function(H){Object.defineProperty(S,H,Object.getOwnPropertyDescriptor(P,H))})}return S}function x(S,A,P){return A in S?Object.defineProperty(S,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[A]=P,S}function O(S,A){for(var P=0;P<A.length;P++){var H=A[P];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(S,H.key,H)}}function w(S,A){return(w=Object.setPrototypeOf||function(P,H){return P.__proto__=H,P})(S,A)}function C(S,A){return!A||"object"!==k(A)&&"function"!=typeof A?function(P){if(void 0===P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(S):A}function f(S){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(S)}var d=T("../../../utils/xml-stream"),u=T("../base-xform"),c=T("../list-xform"),m=T("./auto-filter-xform"),g=T("./table-column-xform"),y=T("./table-style-info-xform"),b=function(S){!function(j,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create($&&$.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),$&&w(j,$)}(J,S);var A,P,X=function E(S){var A=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var P,H=f(S);if(A){var X=f(this).constructor;P=Reflect.construct(H,arguments,X)}else P=H.apply(this,arguments);return C(this,P)}}(J);function J(){var j;return function($,L){if(!($ instanceof L))throw new TypeError("Cannot call a class as a function")}(this,J),(j=X.call(this)).map={autoFilter:new m,tableColumns:new c({tag:"tableColumns",count:!0,empty:!0,childXform:new g}),tableStyleInfo:new y},j}return A=J,(P=[{key:"prepare",value:function(j,$){this.map.autoFilter.prepare(j),this.map.tableColumns.prepare(j.columns,$)}},{key:"render",value:function(j,$){j.openXml(d.StdDocAttributes),j.openNode(this.tag,M(M({},J.TABLE_ATTRIBUTES),{},{id:$.id,name:$.name,displayName:$.displayName||$.name,ref:$.tableRef,totalsRowCount:$.totalsRow?"1":void 0,totalsRowShown:$.totalsRow?void 0:"1",headerRowCount:$.headerRow?"1":"0"})),this.map.autoFilter.render(j,$),this.map.tableColumns.render(j,$.columns),this.map.tableStyleInfo.render(j,$.style),j.closeNode()}},{key:"parseOpen",value:function(j){if(this.parser)return this.parser.parseOpen(j),!0;var L=j.attributes;return j.name===this.tag?(this.reset(),this.model={name:L.name,displayName:L.displayName||L.name,tableRef:L.ref,totalsRow:"1"===L.totalsRowCount,headerRow:"1"===L.headerRowCount}):(this.parser=this.map[j.name],this.parser&&this.parser.parseOpen(j)),!0}},{key:"parseText",value:function(j){this.parser&&this.parser.parseText(j)}},{key:"parseClose",value:function(j){var $=this;return this.parser?(this.parser.parseClose(j)||(this.parser=void 0),!0):j!==this.tag||(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach(function(L,B){$.model.columns[B].filterButton=L.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1)}},{key:"reconcile",value:function(j,$){j.columns.forEach(function(L){void 0!==L.dxfId&&(L.style=$.styles.getDxfStyle(L.dxfId))})}},{key:"tag",get:function(){return"table"}}])&&O(A.prototype,P),J}(u);b.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},te.exports=b},{"../../../utils/xml-stream":27,"../base-xform":31,"../list-xform":70,"./auto-filter-xform":136,"./table-column-xform":138,"./table-style-info-xform":139}],141:[function(T,te,W){(function(k,R){"use strict";function M(U,Q,Z,K,ne,ue,ce){try{var de=U[ue](ce),pe=de.value}catch(_e){return void Z(_e)}de.done?Q(pe):Promise.resolve(pe).then(K,ne)}function x(U){return function(){var Q=this,Z=arguments;return new Promise(function(K,ne){var ue=U.apply(Q,Z);function ce(pe){M(ue,K,ne,ce,de,"next",pe)}function de(pe){M(ue,K,ne,ce,de,"throw",pe)}ce(void 0)})}}function O(U,Q){for(var Z=0;Z<Q.length;Z++){var K=Q[Z];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(U,K.key,K)}}function w(U){var Q;if(typeof Symbol<"u"&&(Symbol.asyncIterator&&null!=(Q=U[Symbol.asyncIterator])||Symbol.iterator&&null!=(Q=U[Symbol.iterator])))return Q.call(U);throw new TypeError("Object is not async iterable")}var E=T("fs"),C=T("jszip"),f=T("readable-stream").PassThrough,d=T("../utils/zip-stream"),u=T("../utils/stream-buf"),c=T("../utils/utils"),m=T("../utils/xml-stream"),g=T("../utils/browser-buffer-decode").bufferToString,y=T("./xform/style/styles-xform"),b=T("./xform/core/core-xform"),S=T("./xform/strings/shared-strings-xform"),A=T("./xform/core/relationships-xform"),P=T("./xform/core/content-types-xform"),H=T("./xform/core/app-xform"),X=T("./xform/book/workbook-xform"),J=T("./xform/sheet/worksheet-xform"),j=T("./xform/drawing/drawing-xform"),$=T("./xform/table/table-xform"),L=T("./xform/comment/comments-xform"),B=T("./xform/comment/vml-notes-xform"),ee=T("./xml/theme1.js");function N(U,Q){return new Promise(function(Z,K){E.readFile(U,Q,function(ne,ue){ne?K(ne):Z(ue)})})}var V=function(){function U(Ae){(function(Pe,We){if(!(Pe instanceof We))throw new TypeError("Cannot call a class as a function")})(this,U),this.workbook=Ae}var Q,Z,ne,ue,ce,de,pe,_e,me,q,oe,se,ve,Se,De,qe,je,Ye,st,ct,ht,sn,bt,It,ln,nt,Xe;return Q=U,(Z=[{key:"readFile",value:(Xe=x(a.mark(function Ae(Pe,We){var ot,Ue;return a.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,c.fs.exists(Pe);case 2:if(Ne.sent){Ne.next=4;break}throw new Error("File not found: ".concat(Pe));case 4:return ot=E.createReadStream(Pe),Ne.prev=5,Ne.next=8,this.read(ot,We);case 8:return Ue=Ne.sent,ot.close(),Ne.abrupt("return",Ue);case 13:throw Ne.prev=13,Ne.t0=Ne.catch(5),ot.close(),Ne.t0;case 17:case"end":return Ne.stop()}},Ae,this,[[5,13]])})),function(Ae,Pe){return Xe.apply(this,arguments)})},{key:"parseRels",value:function(Ae){return(new A).parseStream(Ae)}},{key:"parseWorkbook",value:function(Ae){return(new X).parseStream(Ae)}},{key:"parseSharedStrings",value:function(Ae){return(new S).parseStream(Ae)}},{key:"reconcile",value:function(Ae,Pe){var We=new X,ot=new J(Pe),Ue=new j,Ne=new $;We.reconcile(Ae);var $e={media:Ae.media,mediaIndex:Ae.mediaIndex};Object.keys(Ae.drawings).forEach(function($t){var Et=Ae.drawings[$t],xt=Ae.drawingRels[$t];xt&&($e.rels=xt.reduce(function(Pn,cn){return Pn[cn.Id]=cn,Pn},{}),(Et.anchors||[]).forEach(function(Pn){var cn=Pn.picture&&Pn.picture.hyperlinks;cn&&$e.rels[cn.rId]&&(cn.hyperlink=$e.rels[cn.rId].Target,delete cn.rId)}),Ue.reconcile(Et,$e))});var at={styles:Ae.styles};Object.values(Ae.tables).forEach(function($t){Ne.reconcile($t,at)});var lt={styles:Ae.styles,sharedStrings:Ae.sharedStrings,media:Ae.media,mediaIndex:Ae.mediaIndex,date1904:Ae.properties&&Ae.properties.date1904,drawings:Ae.drawings,comments:Ae.comments,tables:Ae.tables,vmlDrawings:Ae.vmlDrawings};Ae.worksheets.forEach(function($t){$t.relationships=Ae.worksheetRels[$t.sheetNo],ot.reconcile($t,lt)}),delete Ae.worksheetHash,delete Ae.worksheetRels,delete Ae.globalRels,delete Ae.sharedStrings,delete Ae.workbookRels,delete Ae.sheetDefs,delete Ae.styles,delete Ae.mediaIndex,delete Ae.drawings,delete Ae.drawingRels,delete Ae.vmlDrawings}},{key:"_processWorksheetEntry",value:(nt=x(a.mark(function Ae(Pe,We,ot,Ue,Ne){var $e,at;return a.wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return $e=new J(Ue),lt.next=3,$e.parseStream(Pe);case 3:(at=lt.sent).sheetNo=ot,We.worksheetHash[Ne]=at,We.worksheets.push(at);case 7:case"end":return lt.stop()}},Ae)})),function(Ae,Pe,We,ot,Ue){return nt.apply(this,arguments)})},{key:"_processCommentEntry",value:(ln=x(a.mark(function Ae(Pe,We,ot){var Ue,Ne;return a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return Ue=new L,$e.next=3,Ue.parseStream(Pe);case 3:Ne=$e.sent,We.comments["../".concat(ot,".xml")]=Ne;case 5:case"end":return $e.stop()}},Ae)})),function(Ae,Pe,We){return ln.apply(this,arguments)})},{key:"_processTableEntry",value:(It=x(a.mark(function Ae(Pe,We,ot){var Ue,Ne;return a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return Ue=new $,$e.next=3,Ue.parseStream(Pe);case 3:Ne=$e.sent,We.tables["../tables/".concat(ot,".xml")]=Ne;case 5:case"end":return $e.stop()}},Ae)})),function(Ae,Pe,We){return It.apply(this,arguments)})},{key:"_processWorksheetRelsEntry",value:(bt=x(a.mark(function Ae(Pe,We,ot){var Ue;return a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return Ue=new A,$e.next=3,Ue.parseStream(Pe);case 3:We.worksheetRels[ot]=$e.sent;case 5:case"end":return $e.stop()}},Ae)})),function(Ae,Pe,We){return bt.apply(this,arguments)})},{key:"_processMediaEntry",value:(sn=x(a.mark(function Ae(Pe,We,ot){var Ue,Ne,$e;return a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:if(!((Ue=ot.lastIndexOf("."))>=1)){at.next=6;break}return Ne=ot.substr(Ue+1),$e=ot.substr(0,Ue),at.next=6,new Promise(function(lt,$t){var Et=new u;Et.on("finish",function(){We.mediaIndex[ot]=We.media.length,We.mediaIndex[$e]=We.media.length;var xt={type:"image",name:$e,extension:Ne,buffer:Et.toBuffer()};We.media.push(xt),lt()}),Pe.on("error",function(xt){$t(xt)}),Pe.pipe(Et)});case 6:case"end":return at.stop()}},Ae)})),function(Ae,Pe,We){return sn.apply(this,arguments)})},{key:"_processDrawingEntry",value:(ht=x(a.mark(function Ae(Pe,We,ot){var Ue;return a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return Ue=new j,$e.next=3,Ue.parseStream(Pe);case 3:We.drawings[ot]=$e.sent;case 5:case"end":return $e.stop()}},Ae)})),function(Ae,Pe,We){return ht.apply(this,arguments)})},{key:"_processDrawingRelsEntry",value:(ct=x(a.mark(function Ae(Pe,We,ot){var Ue;return a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return Ue=new A,$e.next=3,Ue.parseStream(Pe);case 3:We.drawingRels[ot]=$e.sent;case 5:case"end":return $e.stop()}},Ae)})),function(Ae,Pe,We){return ct.apply(this,arguments)})},{key:"_processVmlDrawingEntry",value:(st=x(a.mark(function Ae(Pe,We,ot){var Ue,Ne;return a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return Ue=new B,$e.next=3,Ue.parseStream(Pe);case 3:Ne=$e.sent,We.vmlDrawings["../drawings/".concat(ot,".vml")]=Ne;case 5:case"end":return $e.stop()}},Ae)})),function(Ae,Pe,We){return st.apply(this,arguments)})},{key:"_processThemeEntry",value:(Ye=x(a.mark(function Ae(Pe,We,ot){return a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,new Promise(function(Ne,$e){var at=new u;Pe.on("error",$e),at.on("error",$e),at.on("finish",function(){We.themes[ot]=at.read().toString(),Ne()}),Pe.pipe(at)});case 2:case"end":return Ue.stop()}},Ae)})),function(Ae,Pe,We){return Ye.apply(this,arguments)})},{key:"createInputStream",value:function(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}},{key:"read",value:(je=x(a.mark(function Ae(Pe,We){var ot,Ue,Ne,$e,at,lt,$t;return a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:!Pe[Symbol.asyncIterator]&&Pe.pipe&&(Pe=Pe.pipe(new f)),ot=[],Ue=!0,Ne=!1,xt.prev=4,at=w(Pe);case 6:return xt.next=8,at.next();case 8:return Ue=(lt=xt.sent).done,xt.next=12,lt.value;case 12:if($t=xt.sent,Ue){xt.next=19;break}ot.push($t);case 16:Ue=!0,xt.next=6;break;case 19:xt.next=25;break;case 21:xt.prev=21,xt.t0=xt.catch(4),Ne=!0,$e=xt.t0;case 25:if(xt.prev=25,xt.prev=26,Ue||null==at.return){xt.next=30;break}return xt.next=30,at.return();case 30:if(xt.prev=30,!Ne){xt.next=33;break}throw $e;case 33:return xt.finish(30);case 34:return xt.finish(25);case 35:return xt.abrupt("return",this.load(R.concat(ot),We));case 36:case"end":return xt.stop()}},Ae,this,[[4,21,25,35],[26,,30,34]])})),function(Ae,Pe){return je.apply(this,arguments)})},{key:"load",value:(qe=x(a.mark(function Ae(Pe,We){var ot,Ue,$e,at,lt,$t,Et,xt,Pn,cn,un,Qr,Cn,rr;return a.wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:return ot=We&&We.base64?R.from(Pe.toString(),"base64"):Pe,Ue={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},ft.next=4,C.loadAsync(ot);case 4:$e=0,at=Object.values(ft.sent.files);case 6:if(!($e<at.length)){ft.next=126;break}if((lt=at[$e]).dir){ft.next=123;break}if("/"===($t=lt.name)[0]&&($t=$t.substr(1)),Et=void 0,!$t.match(/xl\/media\//)&&!$t.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/)){ft.next=21;break}return Et=new f,ft.t0=Et,ft.next=17,lt.async("nodebuffer");case 17:ft.t1=ft.sent,ft.t0.write.call(ft.t0,ft.t1),ft.next=36;break;case 21:if(Et=new f({writableObjectMode:!0,readableObjectMode:!0}),xt=void 0,!k.browser){ft.next=31;break}return ft.t2=g,ft.next=27,lt.async("nodebuffer");case 27:ft.t3=ft.sent,xt=(0,ft.t2)(ft.t3),ft.next=34;break;case 31:return ft.next=33,lt.async("string");case 33:xt=ft.sent;case 34:for(Pn=0;Pn<xt.length;Pn+=16384)Et.write(xt.substring(Pn,Pn+16384));case 36:Et.end(),ft.t4=$t,ft.next="_rels/.rels"===ft.t4?40:"xl/workbook.xml"===ft.t4?44:"xl/_rels/workbook.xml.rels"===ft.t4?53:"xl/sharedStrings.xml"===ft.t4?57:"xl/styles.xml"===ft.t4?61:"docProps/app.xml"===ft.t4?65:"docProps/core.xml"===ft.t4?72:78;break;case 40:return ft.next=42,this.parseRels(Et);case 42:return Ue.globalRels=ft.sent,ft.abrupt("break",123);case 44:return ft.next=46,this.parseWorkbook(Et);case 46:return Ue.sheets=(cn=ft.sent).sheets,Ue.definedNames=cn.definedNames,Ue.views=cn.views,Ue.properties=cn.properties,Ue.calcProperties=cn.calcProperties,ft.abrupt("break",123);case 53:return ft.next=55,this.parseRels(Et);case 55:return Ue.workbookRels=ft.sent,ft.abrupt("break",123);case 57:return Ue.sharedStrings=new S,ft.next=60,Ue.sharedStrings.parseStream(Et);case 60:return ft.abrupt("break",123);case 61:return Ue.styles=new y,ft.next=64,Ue.styles.parseStream(Et);case 64:return ft.abrupt("break",123);case 65:return un=new H,ft.next=68,un.parseStream(Et);case 68:return Ue.company=(Qr=ft.sent).company,Ue.manager=Qr.manager,ft.abrupt("break",123);case 72:return Cn=new b,ft.next=75,Cn.parseStream(Et);case 75:return Object.assign(Ue,ft.sent),ft.abrupt("break",123);case 78:if(!(rr=$t.match(/xl\/worksheets\/sheet(\d+)[.]xml/))){ft.next=83;break}return ft.next=82,this._processWorksheetEntry(Et,Ue,rr[1],We,$t);case 82:return ft.abrupt("break",123);case 83:if(!(rr=$t.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/))){ft.next=88;break}return ft.next=87,this._processWorksheetRelsEntry(Et,Ue,rr[1]);case 87:return ft.abrupt("break",123);case 88:if(!(rr=$t.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))){ft.next=93;break}return ft.next=92,this._processThemeEntry(Et,Ue,rr[1]);case 92:return ft.abrupt("break",123);case 93:if(!(rr=$t.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/))){ft.next=98;break}return ft.next=97,this._processMediaEntry(Et,Ue,rr[1]);case 97:return ft.abrupt("break",123);case 98:if(!(rr=$t.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/))){ft.next=103;break}return ft.next=102,this._processDrawingEntry(Et,Ue,rr[1]);case 102:return ft.abrupt("break",123);case 103:if(!(rr=$t.match(/xl\/(comments\d+)[.]xml/))){ft.next=108;break}return ft.next=107,this._processCommentEntry(Et,Ue,rr[1]);case 107:return ft.abrupt("break",123);case 108:if(!(rr=$t.match(/xl\/tables\/(table\d+)[.]xml/))){ft.next=113;break}return ft.next=112,this._processTableEntry(Et,Ue,rr[1]);case 112:return ft.abrupt("break",123);case 113:if(!(rr=$t.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/))){ft.next=118;break}return ft.next=117,this._processDrawingRelsEntry(Et,Ue,rr[1]);case 117:return ft.abrupt("break",123);case 118:if(!(rr=$t.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/))){ft.next=123;break}return ft.next=122,this._processVmlDrawingEntry(Et,Ue,rr[1]);case 122:return ft.abrupt("break",123);case 123:$e++,ft.next=6;break;case 126:return this.reconcile(Ue,We),this.workbook.model=Ue,ft.abrupt("return",this.workbook);case 129:case"end":return ft.stop()}},Ae,this)})),function(Ae,Pe){return qe.apply(this,arguments)})},{key:"addMedia",value:(De=x(a.mark(function Ae(Pe,We){return a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return ot.next=2,Promise.all(We.media.map(function(){var Ue=x(a.mark(function Ne($e){var at,$t,Et;return a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if("image"!==$e.type){xt.next=13;break}if(at="xl/media/".concat($e.name,".").concat($e.extension),!$e.filename){xt.next=7;break}return xt.next=5,N($e.filename);case 5:return xt.abrupt("return",Pe.append(xt.sent,{name:at}));case 7:if(!$e.buffer){xt.next=9;break}return xt.abrupt("return",Pe.append($e.buffer,{name:at}));case 9:if(!$e.base64){xt.next=13;break}return Et=($t=$e.base64).substring($t.indexOf(",")+1),xt.abrupt("return",Pe.append(Et,{name:at,base64:!0}));case 13:throw new Error("Unsupported media");case 14:case"end":return xt.stop()}},Ne)}));return function(Ne){return Ue.apply(this,arguments)}}()));case 2:case"end":return ot.stop()}},Ae)})),function(Ae,Pe){return De.apply(this,arguments)})},{key:"addDrawings",value:function(Ae,Pe){var We=new j,ot=new A;Pe.worksheets.forEach(function(Ue){var Ne=Ue.drawing;if(Ne){We.prepare(Ne,{});var $e=We.toXml(Ne);Ae.append($e,{name:"xl/drawings/".concat(Ne.name,".xml")}),$e=ot.toXml(Ne.rels),Ae.append($e,{name:"xl/drawings/_rels/".concat(Ne.name,".xml.rels")})}})}},{key:"addTables",value:function(Ae,Pe){var We=new $;Pe.worksheets.forEach(function(ot){ot.tables.forEach(function(Ue){We.prepare(Ue,{});var Ne=We.toXml(Ue);Ae.append(Ne,{name:"xl/tables/".concat(Ue.target)})})})}},{key:"addContentTypes",value:(Se=x(a.mark(function Ae(Pe,We){var ot,Ue;return a.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:ot=new P,Ue=ot.toXml(We),Pe.append(Ue,{name:"[Content_Types].xml"});case 3:case"end":return Ne.stop()}},Ae)})),function(Ae,Pe){return Se.apply(this,arguments)})},{key:"addApp",value:(ve=x(a.mark(function Ae(Pe,We){var ot,Ue;return a.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:ot=new H,Ue=ot.toXml(We),Pe.append(Ue,{name:"docProps/app.xml"});case 3:case"end":return Ne.stop()}},Ae)})),function(Ae,Pe){return ve.apply(this,arguments)})},{key:"addCore",value:(se=x(a.mark(function Ae(Pe,We){var ot;return a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:ot=new b,Pe.append(ot.toXml(We),{name:"docProps/core.xml"});case 2:case"end":return Ue.stop()}},Ae)})),function(Ae,Pe){return se.apply(this,arguments)})},{key:"addThemes",value:(oe=x(a.mark(function Ae(Pe,We){var ot;return a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:ot=We.themes||{theme1:ee},Object.keys(ot).forEach(function(Ne){var $e=ot[Ne],at="xl/theme/".concat(Ne,".xml");Pe.append($e,{name:at})});case 2:case"end":return Ue.stop()}},Ae)})),function(Ae,Pe){return oe.apply(this,arguments)})},{key:"addOfficeRels",value:(q=x(a.mark(function Ae(Pe){var We,ot;return a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:We=new A,ot=We.toXml([{Id:"rId1",Type:U.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:U.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:U.RelType.ExtenderProperties,Target:"docProps/app.xml"}]),Pe.append(ot,{name:"_rels/.rels"});case 3:case"end":return Ue.stop()}},Ae)})),function(Ae){return q.apply(this,arguments)})},{key:"addWorkbookRels",value:(me=x(a.mark(function Ae(Pe,We){var ot,Ue,Ne,$e;return a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:ot=1,Ue=[{Id:"rId".concat(ot++),Type:U.RelType.Styles,Target:"styles.xml"},{Id:"rId".concat(ot++),Type:U.RelType.Theme,Target:"theme/theme1.xml"}],We.sharedStrings.count&&Ue.push({Id:"rId".concat(ot++),Type:U.RelType.SharedStrings,Target:"sharedStrings.xml"}),We.worksheets.forEach(function(lt){lt.rId="rId".concat(ot++),Ue.push({Id:lt.rId,Type:U.RelType.Worksheet,Target:"worksheets/sheet".concat(lt.id,".xml")})}),Ne=new A,$e=Ne.toXml(Ue),Pe.append($e,{name:"xl/_rels/workbook.xml.rels"});case 7:case"end":return at.stop()}},Ae)})),function(Ae,Pe){return me.apply(this,arguments)})},{key:"addSharedStrings",value:(_e=x(a.mark(function Ae(Pe,We){return a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:We.sharedStrings&&We.sharedStrings.count&&Pe.append(We.sharedStrings.xml,{name:"xl/sharedStrings.xml"});case 1:case"end":return ot.stop()}},Ae)})),function(Ae,Pe){return _e.apply(this,arguments)})},{key:"addStyles",value:(pe=x(a.mark(function Ae(Pe,We){var ot;return a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:(ot=We.styles.xml)&&Pe.append(ot,{name:"xl/styles.xml"});case 2:case"end":return Ue.stop()}},Ae)})),function(Ae,Pe){return pe.apply(this,arguments)})},{key:"addWorkbook",value:(de=x(a.mark(function Ae(Pe,We){var ot;return a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:ot=new X,Pe.append(ot.toXml(We),{name:"xl/workbook.xml"});case 2:case"end":return Ue.stop()}},Ae)})),function(Ae,Pe){return de.apply(this,arguments)})},{key:"addWorksheets",value:(ce=x(a.mark(function Ae(Pe,We){var ot,Ue,Ne,$e;return a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:ot=new J,Ue=new A,Ne=new L,$e=new B,We.worksheets.forEach(function(lt){var $t=new m;ot.render($t,lt),Pe.append($t.xml,{name:"xl/worksheets/sheet".concat(lt.id,".xml")}),lt.rels&&lt.rels.length&&($t=new m,Ue.render($t,lt.rels),Pe.append($t.xml,{name:"xl/worksheets/_rels/sheet".concat(lt.id,".xml.rels")})),lt.comments.length>0&&($t=new m,Ne.render($t,lt),Pe.append($t.xml,{name:"xl/comments".concat(lt.id,".xml")}),$t=new m,$e.render($t,lt),Pe.append($t.xml,{name:"xl/drawings/vmlDrawing".concat(lt.id,".vml")}))});case 5:case"end":return at.stop()}},Ae)})),function(Ae,Pe){return ce.apply(this,arguments)})},{key:"_finalize",value:function(Ae){var Pe=this;return new Promise(function(We,ot){Ae.on("finish",function(){We(Pe)}),Ae.on("error",ot),Ae.finalize()})}},{key:"prepareModel",value:function(Ae,Pe){Ae.creator=Ae.creator||"ExcelJS",Ae.lastModifiedBy=Ae.lastModifiedBy||"ExcelJS",Ae.created=Ae.created||new Date,Ae.modified=Ae.modified||new Date,Ae.useSharedStrings=void 0===Pe.useSharedStrings||Pe.useSharedStrings,Ae.useStyles=void 0===Pe.useStyles||Pe.useStyles,Ae.sharedStrings=new S,Ae.styles=Ae.useStyles?new y(!0):new y.Mock;var We=new X,ot=new J;We.prepare(Ae);var Ue={sharedStrings:Ae.sharedStrings,styles:Ae.styles,date1904:Ae.properties.date1904,drawingsCount:0,media:Ae.media};Ue.drawings=Ae.drawings=[],Ue.commentRefs=Ae.commentRefs=[];var Ne=0;Ae.tables=[],Ae.worksheets.forEach(function($e){$e.tables.forEach(function(at){Ne++,at.target="table".concat(Ne,".xml"),at.id=Ne,Ae.tables.push(at)}),ot.prepare($e,Ue)})}},{key:"write",value:(ue=x(a.mark(function Ae(Pe,We){var ot,Ue;return a.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return ot=this.workbook.model,(Ue=new d.ZipWriter((We=We||{}).zip)).pipe(Pe),this.prepareModel(ot,We),Ne.next=7,this.addContentTypes(Ue,ot);case 7:return Ne.next=9,this.addOfficeRels(Ue,ot);case 9:return Ne.next=11,this.addWorkbookRels(Ue,ot);case 11:return Ne.next=13,this.addWorksheets(Ue,ot);case 13:return Ne.next=15,this.addSharedStrings(Ue,ot);case 15:return Ne.next=17,this.addDrawings(Ue,ot);case 17:return Ne.next=19,this.addTables(Ue,ot);case 19:return Ne.next=21,Promise.all([this.addThemes(Ue,ot),this.addStyles(Ue,ot)]);case 21:return Ne.next=23,this.addMedia(Ue,ot);case 23:return Ne.next=25,Promise.all([this.addApp(Ue,ot),this.addCore(Ue,ot)]);case 25:return Ne.next=27,this.addWorkbook(Ue,ot);case 27:return Ne.abrupt("return",this._finalize(Ue));case 28:case"end":return Ne.stop()}},Ae,this)})),function(Ae,Pe){return ue.apply(this,arguments)})},{key:"writeFile",value:function(Ae,Pe){var We=this,ot=E.createWriteStream(Ae);return new Promise(function(Ue,Ne){ot.on("finish",function(){Ue()}),ot.on("error",function($e){Ne($e)}),We.write(ot,Pe).then(function(){ot.end()})})}},{key:"writeBuffer",value:(ne=x(a.mark(function Ae(Pe){var We;return a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return We=new u,ot.next=3,this.write(We,Pe);case 3:return ot.abrupt("return",We.read());case 4:case"end":return ot.stop()}},Ae,this)})),function(Ae){return ne.apply(this,arguments)})}])&&O(Q.prototype,Z),U}();V.RelType=T("./rel-type"),te.exports=V}).call(this,T("_process"),T("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":23,"../utils/utils":26,"../utils/xml-stream":27,"../utils/zip-stream":28,"./rel-type":30,"./xform/book/workbook-xform":37,"./xform/comment/comments-xform":39,"./xform/comment/vml-notes-xform":44,"./xform/core/app-xform":50,"./xform/core/content-types-xform":51,"./xform/core/core-xform":52,"./xform/core/relationships-xform":54,"./xform/drawing/drawing-xform":61,"./xform/sheet/worksheet-xform":114,"./xform/strings/shared-strings-xform":123,"./xform/style/styles-xform":134,"./xform/table/table-xform":140,"./xml/theme1.js":142,_process:467,buffer:216,fs:215,jszip:399,"readable-stream":491}],142:[function(T,te,W){"use strict";te.exports='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/> <a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/> <a:font script="Hans" typeface="\u5b8b\u4f53"/> <a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/> <a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/> <a:font script="Hans" typeface="\u5b8b\u4f53"/> <a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>'},{}],143:[function(T,te,W){(function(k){"use strict";function R(u){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function M(u,c){for(var m=0;m<c.length;m++){var g=c[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}function x(u,c){return(x=Object.setPrototypeOf||function(m,g){return m.__proto__=g,m})(u,c)}function w(u,c){return!c||"object"!==R(c)&&"function"!=typeof c?function(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}(u):c}function E(u){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)})(u)}Object.defineProperty(W,"__esModule",{value:!0}),W.CsvFormatterStream=void 0;var C=T("stream"),f=T("./formatter"),d=function(u){!function(S,A){if("function"!=typeof A&&null!==A)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(A&&A.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),A&&x(S,A)}(b,u);var c,m,y=function O(u){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var m,g=E(u);if(c){var y=E(this).constructor;m=Reflect.construct(g,arguments,y)}else m=g.apply(this,arguments);return w(this,m)}}(b);function b(S){var A;return function(P,H){if(!(P instanceof H))throw new TypeError("Cannot call a class as a function")}(this,b),(A=y.call(this,{writableObjectMode:S.objectMode})).hasWrittenBOM=!1,A.formatterOptions=S,A.rowFormatter=new f.RowFormatter(S),A.hasWrittenBOM=!S.writeBOM,A}return c=b,(m=[{key:"transform",value:function(S){return this.rowFormatter.rowTransform=S,this}},{key:"_transform",value:function(S,A,P){var H=this,X=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(S,function(J,j){return J?(X=!0,P(J)):(j&&j.forEach(function($){H.push(k.from($,"utf8"))}),X=!0,P())})}catch(J){if(X)throw J;P(J)}}},{key:"_flush",value:function(S){var A=this;this.rowFormatter.finish(function(P,H){return P?S(P):(H&&H.forEach(function(X){A.push(k.from(X,"utf8"))}),S())})}}])&&M(c.prototype,m),b}(C.Transform);W.CsvFormatterStream=d}).call(this,T("buffer").Buffer)},{"./formatter":147,buffer:216,stream:506}],144:[function(T,te,W){"use strict";function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(W,"__esModule",{value:!0}),W.FormatterOptions=void 0,W.FormatterOptions=function R(){var M,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(this,R),this.objectMode=!0,this.delimiter=",",this.rowDelimiter="\n",this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\ufeff",this.alwaysWriteHeaders=!1,Object.assign(this,x||{}),void 0===x?.quoteHeaders&&(this.quoteHeaders=this.quoteColumns),!0===x?.quote?this.quote='"':!1===x?.quote&&(this.quote=""),"string"!=typeof x?.escape&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&(null===(M=x.writeHeaders)||void 0===M||M),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote="".concat(this.escape).concat(this.quote)}},{}],145:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}var R=function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(W,"__esModule",{value:!0}),W.FieldFormatter=void 0;var M=R(T("lodash.isboolean")),x=R(T("lodash.isnil")),O=R(T("lodash.escaperegexp")),w=function(){function E(u){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,E),this._headers=null,this.formatterOptions=u,null!==u.headers&&(this.headers=u.headers),this.REPLACE_REGEXP=new RegExp(u.quote,"g");var c="[".concat(u.delimiter).concat(O.default(u.rowDelimiter),"|\r|\n']");this.ESCAPE_REGEXP=new RegExp(c)}var C,f;return C=E,(f=[{key:"shouldQuote",value:function(u,c){var m=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return M.default(m)?m:Array.isArray(m)?m[u]:null!==this._headers&&m[this._headers[u]]}},{key:"format",value:function(u,c,m){var g="".concat(x.default(u)?"":u).replace(/\0/g,""),y=this.formatterOptions;return""!==y.quote&&-1!==g.indexOf(y.quote)?this.quoteField(g.replace(this.REPLACE_REGEXP,y.escapedQuote)):-1!==g.search(this.ESCAPE_REGEXP)||this.shouldQuote(c,m)?this.quoteField(g):g}},{key:"quoteField",value:function(u){var c=this.formatterOptions.quote;return"".concat(c).concat(u).concat(c)}},{key:"headers",set:function(u){this._headers=u}}])&&k(C.prototype,f),E}();W.FieldFormatter=w},{"lodash.escaperegexp":426,"lodash.isboolean":428,"lodash.isnil":431}],146:[function(T,te,W){"use strict";function k(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}var R=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(W,"__esModule",{value:!0}),W.RowFormatter=void 0;var M=R(T("lodash.isfunction")),x=R(T("lodash.isequal")),O=T("./FieldFormatter"),w=T("../types"),E=function(){function C(c){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,C),this.rowCount=0,this.formatterOptions=c,this.fieldFormatter=new O.FieldFormatter(c),this.headers=c.headers,this.shouldWriteHeaders=c.shouldWriteHeaders,this.hasWrittenHeaders=!1,null!==this.headers&&(this.fieldFormatter.headers=this.headers),c.transform&&(this.rowTransform=c.transform)}var f,d,u;return f=C,u=[{key:"isHashArray",value:function(c){return!!Array.isArray(c)&&Array.isArray(c[0])&&2===c[0].length}},{key:"gatherHeaders",value:function(c){return C.isHashArray(c)?c.map(function(m){return m[0]}):Array.isArray(c)?c:Object.keys(c)}},{key:"createTransform",value:function(c){return w.isSyncTransform(c)?function(m,g){var y=null;try{y=c(m)}catch(b){return g(b)}return g(null,y)}:function(m,g){c(m,g)}}}],(d=[{key:"format",value:function(c,m){var g=this;this.callTransformer(c,function(y,b){if(y)return m(y);if(!c)return m(null);var S=[];if(b){var A=g.checkHeaders(b),P=A.shouldFormatColumns,H=A.headers;if(g.shouldWriteHeaders&&H&&!g.hasWrittenHeaders&&(S.push(g.formatColumns(H,!0)),g.hasWrittenHeaders=!0),P){var X=g.gatherColumns(b);S.push(g.formatColumns(X,!1))}}return m(null,S)})}},{key:"finish",value:function(c){var m=[];if(this.formatterOptions.alwaysWriteHeaders&&0===this.rowCount){if(!this.headers)return c(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));m.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&m.push(this.formatterOptions.rowDelimiter),c(null,m)}},{key:"checkHeaders",value:function(c){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};var m=C.gatherHeaders(c);return this.headers=m,this.fieldFormatter.headers=m,this.shouldWriteHeaders?{shouldFormatColumns:!x.default(m,c),headers:m}:{shouldFormatColumns:!0,headers:null}}},{key:"gatherColumns",value:function(c){if(null===this.headers)throw new Error("Headers is currently null");return Array.isArray(c)?C.isHashArray(c)?this.headers.map(function(m,g){var y=c[g];return y?y[1]:""}):this.headers.map(function(m,g){return c[g]}):this.headers.map(function(m){return c[m]})}},{key:"callTransformer",value:function(c,m){return this._rowTransform?this._rowTransform(c,m):m(null,c)}},{key:"formatColumns",value:function(c,m){var g=this,y=c.map(function(S,A){return g.fieldFormatter.format(S,A,m)}).join(this.formatterOptions.delimiter),b=this.rowCount;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,y].join(""):y}},{key:"rowTransform",set:function(c){if(!M.default(c))throw new TypeError("The transform should be a function");this._rowTransform=C.createTransform(c)}}])&&k(f.prototype,d),u&&k(f,u),C}();W.RowFormatter=E},{"../types":149,"./FieldFormatter":145,"lodash.isequal":429,"lodash.isfunction":430}],147:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var k=T("./RowFormatter");Object.defineProperty(W,"RowFormatter",{enumerable:!0,get:function(){return k.RowFormatter}});var R=T("./FieldFormatter");Object.defineProperty(W,"FieldFormatter",{enumerable:!0,get:function(){return R.FieldFormatter}})},{"./FieldFormatter":145,"./RowFormatter":146}],148:[function(T,te,W){(function(k){"use strict";var R=Object.create?function(m,g,y,b){void 0===b&&(b=y),Object.defineProperty(m,b,{enumerable:!0,get:function(){return g[y]}})}:function(m,g,y,b){void 0===b&&(b=y),m[b]=g[y]},M=Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g};Object.defineProperty(W,"__esModule",{value:!0}),W.writeToPath=W.writeToString=W.writeToBuffer=W.writeToStream=W.write=W.format=void 0;var w=T("util"),E=T("stream"),C=function(m){if(m&&m.__esModule)return m;var g={};if(null!=m)for(var y in m)"default"!==y&&Object.hasOwnProperty.call(m,y)&&R(g,m,y);return M(g,m),g}(T("fs")),f=T("./FormatterOptions"),d=T("./CsvFormatterStream");!function(m,g){for(var y in m)"default"===y||g.hasOwnProperty(y)||R(g,m,y)}(T("./types"),W);var u=T("./CsvFormatterStream");Object.defineProperty(W,"CsvFormatterStream",{enumerable:!0,get:function(){return u.CsvFormatterStream}});var c=T("./FormatterOptions");Object.defineProperty(W,"FormatterOptions",{enumerable:!0,get:function(){return c.FormatterOptions}}),W.format=function(m){return new d.CsvFormatterStream(new f.FormatterOptions(m))},W.write=function(m,g){var y=W.format(g),b=w.promisify(function(S,A){y.write(S,void 0,A)});return m.reduce(function(S,A){return S.then(function(){return b(A)})},Promise.resolve()).then(function(){return y.end()}).catch(function(S){y.emit("error",S)}),y},W.writeToStream=function(m,g,y){return W.write(g,y).pipe(m)},W.writeToBuffer=function(m){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=[],b=new E.Writable({write:function(S,A,P){y.push(S),P()}});return new Promise(function(S,A){b.on("error",A).on("finish",function(){return S(k.concat(y))}),W.write(m,g).pipe(b)})},W.writeToString=function(m,g){return W.writeToBuffer(m,g).then(function(y){return y.toString()})},W.writeToPath=function(m,g,y){var b=C.createWriteStream(m,{encoding:"utf8"});return W.write(g,y).pipe(b)}}).call(this,T("buffer").Buffer)},{"./CsvFormatterStream":143,"./FormatterOptions":144,"./types":149,buffer:216,fs:215,stream:506,util:525}],149:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.isSyncTransform=void 0,W.isSyncTransform=function(k){return 1===k.length}},{}],150:[function(T,te,W){(function(k){"use strict";function R(g){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function M(g,y){for(var b=0;b<y.length;b++){var S=y[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function x(g,y,b){return(x=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(S,A,P){var H=function(J,j){for(;!Object.prototype.hasOwnProperty.call(J,j)&&null!==(J=C(J)););return J}(S,A);if(H){var X=Object.getOwnPropertyDescriptor(H,A);return X.get?X.get.call(P):X.value}})(g,y,b||g)}function O(g,y){return(O=Object.setPrototypeOf||function(b,S){return b.__proto__=S,b})(g,y)}function E(g,y){return!y||"object"!==R(y)&&"function"!=typeof y?function(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(g):y}function C(g){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)})(g)}Object.defineProperty(W,"__esModule",{value:!0}),W.CsvParserStream=void 0;var f=T("string_decoder"),d=T("stream"),u=T("./transforms"),c=T("./parser"),m=function(g){!function(H,X){if("function"!=typeof X&&null!==X)throw new TypeError("Super expression must either be null or a function");H.prototype=Object.create(X&&X.prototype,{constructor:{value:H,writable:!0,configurable:!0}}),X&&O(H,X)}(P,g);var y,b,A=function w(g){var y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var b,S=C(g);if(y){var A=C(this).constructor;b=Reflect.construct(S,arguments,A)}else b=S.apply(this,arguments);return E(this,b)}}(P);function P(H){var X;return function(J,j){if(!(J instanceof j))throw new TypeError("Cannot call a class as a function")}(this,P),(X=A.call(this,{objectMode:H.objectMode})).lines="",X.rowCount=0,X.parsedRowCount=0,X.parsedLineCount=0,X.endEmitted=!1,X.headersEmitted=!1,X.parserOptions=H,X.parser=new c.Parser(H),X.headerTransformer=new u.HeaderTransformer(H),X.decoder=new f.StringDecoder(H.encoding),X.rowTransformerValidator=new u.RowTransformerValidator,X}return y=P,(b=[{key:"transform",value:function(H){return this.rowTransformerValidator.rowTransform=H,this}},{key:"validate",value:function(H){return this.rowTransformerValidator.rowValidator=H,this}},{key:"emit",value:function(H){var X;if("end"===H)return this.endEmitted||(this.endEmitted=!0,x(C(P.prototype),"emit",this).call(this,"end",this.rowCount)),!1;for(var J=arguments.length,j=new Array(J>1?J-1:0),$=1;$<J;$++)j[$-1]=arguments[$];return(X=x(C(P.prototype),"emit",this)).call.apply(X,[this,H].concat(j))}},{key:"_transform",value:function(H,X,J){if(this.hasHitRowLimit)return J();try{var j=this.lines+this.decoder.write(H),$=this.parse(j,!0);return this.processRows($,J)}catch(L){return J(L)}}},{key:"_flush",value:function(H){if(this.hasHitRowLimit)return H();try{var X=this.lines+this.decoder.end(),J=this.parse(X,!1);return this.processRows(J,H)}catch(j){return H(j)}}},{key:"parse",value:function(H,X){if(!H)return[];var J=this.parser.parse(H,X),$=J.rows;return this.lines=J.line,$}},{key:"processRows",value:function(H,X){var J=this,j=H.length;!function $(L){var B=function(V){return V?X(V):L%100!=0?$(L+1):void k(function(){return $(L+1)})};if(J.checkAndEmitHeaders(),L>=j||J.hasHitRowLimit)return X();if(J.parsedLineCount+=1,J.shouldSkipLine)return B();var ee=H[L];J.rowCount+=1,J.parsedRowCount+=1;var N=J.rowCount;return J.transformRow(ee,function(V,U){if(V)return J.rowCount-=1,B(V);if(!U)return B(new Error("expected transform result"));if(U.isValid){if(U.row)return J.pushRow(U.row,B)}else J.emit("data-invalid",U.row,N,U.reason);return B()})}(0)}},{key:"transformRow",value:function(H,X){var J=this;try{this.headerTransformer.transform(H,function(j,$){return j?X(j):$?$.isValid?$.row?J.shouldEmitRows?J.rowTransformerValidator.transformAndValidate($.row,X):J.skipRow(X):(J.rowCount-=1,J.parsedRowCount-=1,X(null,{row:null,isValid:!0})):J.shouldEmitRows?X(null,{isValid:!1,row:H}):J.skipRow(X):X(new Error("Expected result from header transform"))})}catch(j){X(j)}}},{key:"checkAndEmitHeaders",value:function(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}},{key:"skipRow",value:function(H){return this.rowCount-=1,H(null,{row:null,isValid:!0})}},{key:"pushRow",value:function(H,X){try{this.push(this.parserOptions.objectMode?H:JSON.stringify(H)),X()}catch(J){X(J)}}},{key:"hasHitRowLimit",get:function(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}},{key:"shouldEmitRows",get:function(){return this.parsedRowCount>this.parserOptions.skipRows}},{key:"shouldSkipLine",get:function(){return this.parsedLineCount<=this.parserOptions.skipLines}}])&&M(y.prototype,b),P}(d.Transform);W.CsvParserStream=m}).call(this,T("timers").setImmediate)},{"./parser":162,"./transforms":165,stream:506,string_decoder:520,timers:521}],151:[function(T,te,W){"use strict";var k=function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(W,"__esModule",{value:!0}),W.ParserOptions=void 0;var R=k(T("lodash.escaperegexp")),M=k(T("lodash.isnil"));W.ParserOptions=function x(O){var w;if(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}(this,x),this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,O||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=R.default(this.delimiter),this.escapeChar=null!==(w=this.escape)&&void 0!==w?w:this.quote,this.supportsComments=!M.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp("([^\\s]|\\r\\n|\\n|\\r|".concat(this.escapedDelimiter,")")),this.maxRows>0&&(this.limitRows=!0)}},{"lodash.escaperegexp":426,"lodash.isnil":431}],152:[function(T,te,W){"use strict";var k=Object.create?function(u,c,m,g){void 0===g&&(g=m),Object.defineProperty(u,g,{enumerable:!0,get:function(){return c[m]}})}:function(u,c,m,g){void 0===g&&(g=m),u[g]=c[m]},R=Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c};Object.defineProperty(W,"__esModule",{value:!0}),W.parseString=W.parseFile=W.parseStream=W.parse=void 0;var O=function(u){if(u&&u.__esModule)return u;var c={};if(null!=u)for(var m in u)"default"!==m&&Object.hasOwnProperty.call(u,m)&&k(c,u,m);return R(c,u),c}(T("fs")),w=T("stream"),E=T("./ParserOptions"),C=T("./CsvParserStream");!function(u,c){for(var m in u)"default"===m||c.hasOwnProperty(m)||k(c,u,m)}(T("./types"),W);var f=T("./CsvParserStream");Object.defineProperty(W,"CsvParserStream",{enumerable:!0,get:function(){return f.CsvParserStream}});var d=T("./ParserOptions");Object.defineProperty(W,"ParserOptions",{enumerable:!0,get:function(){return d.ParserOptions}}),W.parse=function(u){return new C.CsvParserStream(new E.ParserOptions(u))},W.parseStream=function(u,c){return u.pipe(new C.CsvParserStream(new E.ParserOptions(c)))},W.parseFile=function(u){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O.createReadStream(u).pipe(new C.CsvParserStream(new E.ParserOptions(c)))},W.parseString=function(u,c){var m=new w.Readable;return m.push(u),m.push(null),m.pipe(new C.CsvParserStream(new E.ParserOptions(c)))}},{"./CsvParserStream":150,"./ParserOptions":151,"./types":166,fs:215,stream:506}],153:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}Object.defineProperty(W,"__esModule",{value:!0}),W.Parser=void 0;var R=T("./Scanner"),M=T("./RowParser"),x=T("./Token"),O=/^\s*(?:''|"")?\s*(?:,\s*(?:''|"")?\s*)*$/,w=function(){function E(u){(function(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")})(this,E),this.parserOptions=u,this.rowParser=new M.RowParser(this.parserOptions)}var C,f,d;return C=E,d=[{key:"removeBOM",value:function(u){return u&&65279===u.charCodeAt(0)?u.slice(1):u}}],(f=[{key:"parse",value:function(u,c){var m=new R.Scanner({line:E.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:c});return this.parserOptions.supportsComments?this.parseWithComments(m):this.parseWithoutComments(m)}},{key:"parseWithoutComments",value:function(u){for(var c=[],m=!0;m;)m=this.parseRow(u,c);return{line:u.line,rows:c}}},{key:"parseWithComments",value:function(u){for(var c=this.parserOptions,m=[],g=u.nextCharacterToken;null!==g;g=u.nextCharacterToken)if(x.Token.isTokenComment(g,c)){if(null===u.advancePastLine())return{line:u.lineFromCursor,rows:m};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:m};u.truncateToCursor()}else if(!this.parseRow(u,m))break;return{line:u.line,rows:m}}},{key:"parseRow",value:function(u,c){if(!u.nextNonSpaceToken)return!1;var m=this.rowParser.parse(u);return null!==m&&(this.parserOptions.ignoreEmpty&&O.test(m.join(""))||c.push(m),!0)}}])&&k(C.prototype,f),d&&k(C,d),E}();W.Parser=w},{"./RowParser":154,"./Scanner":155,"./Token":156}],154:[function(T,te,W){"use strict";function k(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}Object.defineProperty(W,"__esModule",{value:!0}),W.RowParser=void 0;var R=T("./column"),M=T("./Token").Token,x=M.isTokenRowDelimiter,O=M.isTokenCarriageReturn,w=M.isTokenDelimiter,E=function(){function C(c){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,C),this.parserOptions=c,this.columnParser=new R.ColumnParser(c)}var f,d;return f=C,(d=[{key:"parse",value:function(c){for(var m=this.parserOptions,g=c.hasMoreData,y=c,b=[],S=this.getStartToken(y,b);S;){if(x(S))return y.advancePastToken(S),!y.hasMoreCharacters&&O(S,m)&&g?null:(y.truncateToCursor(),b);if(!this.shouldSkipColumnParse(y,S,b)){var A=this.columnParser.parse(y);if(null===A)return null;b.push(A)}S=y.nextNonSpaceToken}return g?null:(y.truncateToCursor(),b)}},{key:"getStartToken",value:function(c,m){var g=c.nextNonSpaceToken;return null!==g&&w(g,this.parserOptions)?(m.push(""),c.nextNonSpaceToken):g}},{key:"shouldSkipColumnParse",value:function(c,m,g){var y=this.parserOptions;if(w(m,y)){c.advancePastToken(m);var b=c.nextCharacterToken;if(!c.hasMoreCharacters||null!==b&&x(b)||null!==b&&w(b,y))return g.push(""),!0}return!1}}])&&k(f.prototype,d),C}();W.RowParser=E},{"./Token":156,"./column":161}],155:[function(T,te,W){"use strict";function k(O,w){for(var E=0;E<w.length;E++){var C=w[E];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}Object.defineProperty(W,"__esModule",{value:!0}),W.Scanner=void 0;var R=T("./Token"),M=/((?:\r\n)|\n|\r)/,x=function(){function O(f){(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,O),this.cursor=0,this.line=f.line,this.lineLength=this.line.length,this.parserOptions=f.parserOptions,this.hasMoreData=f.hasMoreData,this.cursor=f.cursor||0}var w,E;return w=O,(E=[{key:"advancePastLine",value:function(){var f=M.exec(this.lineFromCursor);return f?(this.cursor+=(f.index||0)+f[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}},{key:"advanceTo",value:function(f){return this.cursor=f,this}},{key:"advanceToToken",value:function(f){return this.cursor=f.startCursor,this}},{key:"advancePastToken",value:function(f){return this.cursor=f.endCursor+1,this}},{key:"truncateToCursor",value:function(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}},{key:"hasMoreCharacters",get:function(){return this.lineLength>this.cursor}},{key:"nextNonSpaceToken",get:function(){var f=this.lineFromCursor,d=this.parserOptions.NEXT_TOKEN_REGEXP;if(-1===f.search(d))return null;var u=d.exec(f);if(null==u)return null;var c=u[1],m=this.cursor+(u.index||0);return new R.Token({token:c,startCursor:m,endCursor:m+c.length-1})}},{key:"nextCharacterToken",get:function(){var f=this.cursor;return this.lineLength<=f?null:new R.Token({token:this.line[f],startCursor:f,endCursor:f})}},{key:"lineFromCursor",get:function(){return this.line.substr(this.cursor)}}])&&k(w.prototype,E),O}();W.Scanner=x},{"./Token":156}],156:[function(T,te,W){"use strict";function k(M,x){for(var O=0;O<x.length;O++){var w=x[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(M,w.key,w)}}Object.defineProperty(W,"__esModule",{value:!0}),W.Token=void 0;var R=function(){function M(E){(function(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")})(this,M),this.token=E.token,this.startCursor=E.startCursor,this.endCursor=E.endCursor}var x,w;return x=M,w=[{key:"isTokenRowDelimiter",value:function(E){var C=E.token;return"\r"===C||"\n"===C||"\r\n"===C}},{key:"isTokenCarriageReturn",value:function(E,C){return E.token===C.carriageReturn}},{key:"isTokenComment",value:function(E,C){return C.supportsComments&&!!E&&E.token===C.comment}},{key:"isTokenEscapeCharacter",value:function(E,C){return E.token===C.escapeChar}},{key:"isTokenQuote",value:function(E,C){return E.token===C.quote}},{key:"isTokenDelimiter",value:function(E,C){return E.token===C.delimiter}}],null&&k(x.prototype,null),w&&k(x,w),M}();W.Token=R},{}],157:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.ColumnFormatter=void 0,W.ColumnFormatter=function k(R){(function(M,x){if(!(M instanceof x))throw new TypeError("Cannot call a class as a function")})(this,k),this.format=R.trim?function(M){return M.trim()}:R.ltrim?function(M){return M.trimLeft()}:R.rtrim?function(M){return M.trimRight()}:function(M){return M}}},{}],158:[function(T,te,W){"use strict";function k(w,E){for(var C=0;C<E.length;C++){var f=E[C];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(w,f.key,f)}}Object.defineProperty(W,"__esModule",{value:!0}),W.ColumnParser=void 0;var R=T("./NonQuotedColumnParser"),M=T("./QuotedColumnParser"),x=T("../Token"),O=function(){function w(d){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,w),this.parserOptions=d,this.quotedColumnParser=new M.QuotedColumnParser(d),this.nonQuotedColumnParser=new R.NonQuotedColumnParser(d)}var E,C;return E=w,(C=[{key:"parse",value:function(d){var u=d.nextNonSpaceToken;return null!==u&&x.Token.isTokenQuote(u,this.parserOptions)?(d.advanceToToken(u),this.quotedColumnParser.parse(d)):this.nonQuotedColumnParser.parse(d)}}])&&k(E.prototype,C),w}();W.ColumnParser=O},{"../Token":156,"./NonQuotedColumnParser":159,"./QuotedColumnParser":160}],159:[function(T,te,W){"use strict";function k(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}Object.defineProperty(W,"__esModule",{value:!0}),W.NonQuotedColumnParser=void 0;var R=T("./ColumnFormatter"),M=T("../Token").Token,x=M.isTokenDelimiter,O=M.isTokenRowDelimiter,w=function(){function E(u){(function(c,m){if(!(c instanceof m))throw new TypeError("Cannot call a class as a function")})(this,E),this.parserOptions=u,this.columnFormatter=new R.ColumnFormatter(u)}var C,f;return C=E,(f=[{key:"parse",value:function(u){if(!u.hasMoreCharacters)return null;for(var c=this.parserOptions,m=[],g=u.nextCharacterToken;g&&!x(g,c)&&!O(g);g=u.nextCharacterToken)m.push(g.token),u.advancePastToken(g);return this.columnFormatter.format(m.join(""))}}])&&k(C.prototype,f),E}();W.NonQuotedColumnParser=w},{"../Token":156,"./ColumnFormatter":157}],160:[function(T,te,W){"use strict";function k(f,d){for(var u=0;u<d.length;u++){var c=d[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}Object.defineProperty(W,"__esModule",{value:!0}),W.QuotedColumnParser=void 0;var R=T("./ColumnFormatter"),M=T("../Token").Token,x=M.isTokenDelimiter,O=M.isTokenRowDelimiter,w=M.isTokenEscapeCharacter,E=M.isTokenQuote,C=function(){function f(m){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,f),this.parserOptions=m,this.columnFormatter=new R.ColumnFormatter(m)}var d,u;return d=f,(u=[{key:"parse",value:function(m){if(!m.hasMoreCharacters)return null;var g=m.cursor,y=this.gatherDataBetweenQuotes(m),S=y.col;if(!y.foundClosingQuote){if(m.advanceTo(g),!m.hasMoreData)throw new Error("Parse Error: missing closing: '".concat(this.parserOptions.quote||"","' in line: at '").concat(m.lineFromCursor.replace(/[\r\n]/g,"\\n'"),"'"));return null}return this.checkForMalformedColumn(m),S}},{key:"gatherDataBetweenQuotes",value:function(m){for(var g=this.parserOptions,y=!1,b=!1,S=[],A=m.nextCharacterToken;!b&&null!==A;A=m.nextCharacterToken){var P=E(A,g);if(!y&&P)y=!0;else if(y)if(w(A,g)){m.advancePastToken(A);var H=m.nextCharacterToken;null!==H&&(E(H,g)||w(H,g))?(S.push(H.token),A=H):P?b=!0:S.push(A.token)}else P?b=!0:S.push(A.token);m.advancePastToken(A)}return{col:this.columnFormatter.format(S.join("")),foundClosingQuote:b}}},{key:"checkForMalformedColumn",value:function(m){var g=this.parserOptions,y=m.nextNonSpaceToken;if(y){var b=x(y,g),S=O(y);if(!b&&!S){var A=m.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error("Parse Error: expected: '".concat(g.escapedDelimiter,"' OR new line got: '").concat(y.token,"'. at '").concat(A))}m.advanceToToken(y)}else m.hasMoreData||m.advancePastLine()}}])&&k(d.prototype,u),f}();W.QuotedColumnParser=C},{"../Token":156,"./ColumnFormatter":157}],161:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var k=T("./ColumnParser");Object.defineProperty(W,"ColumnParser",{enumerable:!0,get:function(){return k.ColumnParser}});var R=T("./NonQuotedColumnParser");Object.defineProperty(W,"NonQuotedColumnParser",{enumerable:!0,get:function(){return R.NonQuotedColumnParser}});var M=T("./QuotedColumnParser");Object.defineProperty(W,"QuotedColumnParser",{enumerable:!0,get:function(){return M.QuotedColumnParser}});var x=T("./ColumnFormatter");Object.defineProperty(W,"ColumnFormatter",{enumerable:!0,get:function(){return x.ColumnFormatter}})},{"./ColumnFormatter":157,"./ColumnParser":158,"./NonQuotedColumnParser":159,"./QuotedColumnParser":160}],162:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var k=T("./Parser");Object.defineProperty(W,"Parser",{enumerable:!0,get:function(){return k.Parser}});var R=T("./RowParser");Object.defineProperty(W,"RowParser",{enumerable:!0,get:function(){return R.RowParser}});var M=T("./Scanner");Object.defineProperty(W,"Scanner",{enumerable:!0,get:function(){return M.Scanner}});var x=T("./Token");Object.defineProperty(W,"Token",{enumerable:!0,get:function(){return x.Token}});var O=T("./column");Object.defineProperty(W,"ColumnParser",{enumerable:!0,get:function(){return O.ColumnParser}}),Object.defineProperty(W,"NonQuotedColumnParser",{enumerable:!0,get:function(){return O.NonQuotedColumnParser}}),Object.defineProperty(W,"QuotedColumnParser",{enumerable:!0,get:function(){return O.QuotedColumnParser}})},{"./Parser":153,"./RowParser":154,"./Scanner":155,"./Token":156,"./column":161}],163:[function(T,te,W){"use strict";function k(C,f){for(var d=0;d<f.length;d++){var u=f[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(C,u.key,u)}}var R=function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(W,"__esModule",{value:!0}),W.HeaderTransformer=void 0;var M=R(T("lodash.isundefined")),x=R(T("lodash.isfunction")),O=R(T("lodash.uniq")),w=R(T("lodash.groupby")),E=function(){function C(c){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,C),this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,!0===c.headers?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):x.default(c.headers)&&(this.headersTransform=c.headers)}var f,d;return f=C,(d=[{key:"transform",value:function(c,m){return this.shouldMapRow(c)?m(null,this.processRow(c)):m(null,{row:null,isValid:!0})}},{key:"shouldMapRow",value:function(c){if(!this.headersTransform&&this.parserOptions.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}},{key:"processRow",value:function(c){if(!this.headers)return{row:c,isValid:!0};var m=this.parserOptions;if(!m.discardUnmappedColumns&&c.length>this.headersLength){if(!m.strictColumnHandling)throw new Error("Unexpected Error: column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(c.length));return{row:c,isValid:!1,reason:"Column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(c.length)}}return m.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:"Column header mismatch expected: ".concat(this.headersLength," columns got: ").concat(c.length)}:{row:this.mapHeaders(c),isValid:!0}}},{key:"mapHeaders",value:function(c){for(var m={},g=this.headers,y=this.headersLength,b=0;b<y;b+=1){var S=g[b];if(!M.default(S)){var A=c[b];m[S]=M.default(A)?"":A}}return m}},{key:"setHeaders",value:function(c){var m,g=c.filter(function(S){return!!S});if(O.default(g).length!==g.length){var y=w.default(g),b=Object.keys(y).filter(function(S){return y[S].length>1});throw new Error("Duplicate headers found ".concat(JSON.stringify(b)))}this.headers=c,this.receivedHeaders=!0,this.headersLength=(null===(m=this.headers)||void 0===m?void 0:m.length)||0}}])&&k(f.prototype,d),C}();W.HeaderTransformer=E},{"lodash.groupby":427,"lodash.isfunction":430,"lodash.isundefined":432,"lodash.uniq":433}],164:[function(T,te,W){"use strict";function k(w,E){for(var C=0;C<E.length;C++){var f=E[C];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(w,f.key,f)}}Object.defineProperty(W,"__esModule",{value:!0}),W.RowTransformerValidator=void 0;var w,M=(w=T("lodash.isfunction"))&&w.__esModule?w:{default:w},x=T("../types"),O=function(){function w(){(function(d,u){if(!(d instanceof u))throw new TypeError("Cannot call a class as a function")})(this,w),this._rowTransform=null,this._rowValidator=null}var E,C,f;return E=w,f=[{key:"createTransform",value:function(d){return x.isSyncTransform(d)?function(u,c){var m=null;try{m=d(u)}catch(g){return c(g)}return c(null,m)}:d}},{key:"createValidator",value:function(d){return x.isSyncValidate(d)?function(u,c){c(null,{row:u,isValid:d(u)})}:function(u,c){d(u,function(m,g,y){return m?c(m):c(null,g?{row:u,isValid:g,reason:y}:{row:u,isValid:!1,reason:y})})}}}],(C=[{key:"transformAndValidate",value:function(d,u){var c=this;return this.callTransformer(d,function(m,g){return m?u(m):g?c.callValidator(g,function(y,b){return y?u(y):u(null,b&&!b.isValid?{row:g,isValid:!1,reason:b.reason}:{row:g,isValid:!0})}):u(null,{row:null,isValid:!0})})}},{key:"callTransformer",value:function(d,u){return this._rowTransform?this._rowTransform(d,u):u(null,d)}},{key:"callValidator",value:function(d,u){return this._rowValidator?this._rowValidator(d,u):u(null,{row:d,isValid:!0})}},{key:"rowTransform",set:function(d){if(!M.default(d))throw new TypeError("The transform should be a function");this._rowTransform=w.createTransform(d)}},{key:"rowValidator",set:function(d){if(!M.default(d))throw new TypeError("The validate should be a function");this._rowValidator=w.createValidator(d)}}])&&k(E.prototype,C),f&&k(E,f),w}();W.RowTransformerValidator=O},{"../types":166,"lodash.isfunction":430}],165:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var k=T("./RowTransformerValidator");Object.defineProperty(W,"RowTransformerValidator",{enumerable:!0,get:function(){return k.RowTransformerValidator}});var R=T("./HeaderTransformer");Object.defineProperty(W,"HeaderTransformer",{enumerable:!0,get:function(){return R.HeaderTransformer}})},{"./HeaderTransformer":163,"./RowTransformerValidator":164}],166:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.isSyncValidate=W.isSyncTransform=void 0,W.isSyncTransform=function(k){return 1===k.length},W.isSyncValidate=function(k){return 1===k.length}},{}],167:[function(T,te,W){"use strict";var k=W;k.bignum=T("bn.js"),k.define=T("./asn1/api").define,k.base=T("./asn1/base"),k.constants=T("./asn1/constants"),k.decoders=T("./asn1/decoders"),k.encoders=T("./asn1/encoders")},{"./asn1/api":168,"./asn1/base":170,"./asn1/constants":174,"./asn1/decoders":176,"./asn1/encoders":179,"bn.js":181}],168:[function(T,te,W){"use strict";var k=T("./encoders"),R=T("./decoders"),M=T("inherits");function x(O,w){this.name=O,this.body=w,this.decoders={},this.encoders={}}W.define=function(O,w){return new x(O,w)},x.prototype._createNamed=function(O){var w=this.name;function E(C){this._initNamed(C,w)}return M(E,O),E.prototype._initNamed=function(C,f){O.call(this,C,f)},new E(this)},x.prototype._getDecoder=function(O){return this.decoders.hasOwnProperty(O=O||"der")||(this.decoders[O]=this._createNamed(R[O])),this.decoders[O]},x.prototype.decode=function(O,w,E){return this._getDecoder(w).decode(O,E)},x.prototype._getEncoder=function(O){return this.encoders.hasOwnProperty(O=O||"der")||(this.encoders[O]=this._createNamed(k[O])),this.encoders[O]},x.prototype.encode=function(O,w,E){return this._getEncoder(w).encode(O,E)}},{"./decoders":176,"./encoders":179,inherits:387}],169:[function(T,te,W){"use strict";function k(E){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}var R=T("inherits"),M=T("../base/reporter").Reporter,x=T("safer-buffer").Buffer;function O(E,C){M.call(this,C),x.isBuffer(E)?(this.base=E,this.offset=0,this.length=E.length):this.error("Input not Buffer")}function w(E,C){if(Array.isArray(E))this.length=0,this.value=E.map(function(f){return w.isEncoderBuffer(f)||(f=new w(f,C)),this.length+=f.length,f},this);else if("number"==typeof E){if(!(0<=E&&E<=255))return C.error("non-byte EncoderBuffer value");this.value=E,this.length=1}else if("string"==typeof E)this.value=E,this.length=x.byteLength(E);else{if(!x.isBuffer(E))return C.error("Unsupported type: "+k(E));this.value=E,this.length=E.length}}R(O,M),W.DecoderBuffer=O,O.isDecoderBuffer=function(E){return E instanceof O||"object"===k(E)&&x.isBuffer(E.base)&&"DecoderBuffer"===E.constructor.name&&"number"==typeof E.offset&&"number"==typeof E.length&&"function"==typeof E.save&&"function"==typeof E.restore&&"function"==typeof E.isEmpty&&"function"==typeof E.readUInt8&&"function"==typeof E.skip&&"function"==typeof E.raw},O.prototype.save=function(){return{offset:this.offset,reporter:M.prototype.save.call(this)}},O.prototype.restore=function(E){var C=new O(this.base);return C.offset=E.offset,C.length=this.offset,this.offset=E.offset,M.prototype.restore.call(this,E.reporter),C},O.prototype.isEmpty=function(){return this.offset===this.length},O.prototype.readUInt8=function(E){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(E||"DecoderBuffer overrun")},O.prototype.skip=function(E,C){if(!(this.offset+E<=this.length))return this.error(C||"DecoderBuffer overrun");var f=new O(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+E,this.offset+=E,f},O.prototype.raw=function(E){return this.base.slice(E?E.offset:this.offset,this.length)},W.EncoderBuffer=w,w.isEncoderBuffer=function(E){return E instanceof w||"object"===k(E)&&"EncoderBuffer"===E.constructor.name&&"number"==typeof E.length&&"function"==typeof E.join},w.prototype.join=function(E,C){return E||(E=x.alloc(this.length)),C||(C=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(f){f.join(E,C),C+=f.length}):("number"==typeof this.value?E[C]=this.value:"string"==typeof this.value?E.write(this.value,C):x.isBuffer(this.value)&&this.value.copy(E,C),C+=this.length)),E}},{"../base/reporter":172,inherits:387,"safer-buffer":495}],170:[function(T,te,W){"use strict";var k=W;k.Reporter=T("./reporter").Reporter,k.DecoderBuffer=T("./buffer").DecoderBuffer,k.EncoderBuffer=T("./buffer").EncoderBuffer,k.Node=T("./node")},{"./buffer":169,"./node":171,"./reporter":172}],171:[function(T,te,W){"use strict";function k(d){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(d)}var R=T("../base/reporter").Reporter,M=T("../base/buffer").EncoderBuffer,x=T("../base/buffer").DecoderBuffer,O=T("minimalistic-assert"),w=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],E=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(w);function C(d,u,c){var m={};this._baseState=m,m.name=c,m.enc=d,m.parent=u||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}te.exports=C;var f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];C.prototype.clone=function(){var d=this._baseState,u={};f.forEach(function(m){u[m]=d[m]});var c=new this.constructor(u.parent);return c._baseState=u,c},C.prototype._wrap=function(){var d=this._baseState;E.forEach(function(u){this[u]=function(){var c=new this.constructor(this);return d.children.push(c),c[u].apply(c,arguments)}},this)},C.prototype._init=function(d){var u=this._baseState;O(null===u.parent),d.call(this),u.children=u.children.filter(function(c){return c._baseState.parent===this},this),O.equal(u.children.length,1,"Root node can have only one child")},C.prototype._useArgs=function(d){var u=this._baseState,c=d.filter(function(m){return m instanceof this.constructor},this);d=d.filter(function(m){return!(m instanceof this.constructor)},this),0!==c.length&&(O(null===u.children),u.children=c,c.forEach(function(m){m._baseState.parent=this},this)),0!==d.length&&(O(null===u.args),u.args=d,u.reverseArgs=d.map(function(m){if("object"!==k(m)||m.constructor!==Object)return m;var g={};return Object.keys(m).forEach(function(y){y==(0|y)&&(y|=0),g[m[y]]=y}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){C.prototype[d]=function(){throw new Error(d+" not implemented for encoding: "+this._baseState.enc)}}),w.forEach(function(d){C.prototype[d]=function(){var u=this._baseState,c=Array.prototype.slice.call(arguments);return O(null===u.tag),u.tag=d,this._useArgs(c),this}}),C.prototype.use=function(d){O(d);var u=this._baseState;return O(null===u.use),u.use=d,this},C.prototype.optional=function(){return this._baseState.optional=!0,this},C.prototype.def=function(d){var u=this._baseState;return O(null===u.default),u.default=d,u.optional=!0,this},C.prototype.explicit=function(d){var u=this._baseState;return O(null===u.explicit&&null===u.implicit),u.explicit=d,this},C.prototype.implicit=function(d){var u=this._baseState;return O(null===u.explicit&&null===u.implicit),u.implicit=d,this},C.prototype.obj=function(){var d=this._baseState,u=Array.prototype.slice.call(arguments);return d.obj=!0,0!==u.length&&this._useArgs(u),this},C.prototype.key=function(d){var u=this._baseState;return O(null===u.key),u.key=d,this},C.prototype.any=function(){return this._baseState.any=!0,this},C.prototype.choice=function(d){var u=this._baseState;return O(null===u.choice),u.choice=d,this._useArgs(Object.keys(d).map(function(c){return d[c]})),this},C.prototype.contains=function(d){var u=this._baseState;return O(null===u.use),u.contains=d,this},C.prototype._decode=function(d,u){var c=this._baseState;if(null===c.parent)return d.wrapResult(c.children[0]._decode(d,u));var m,g=c.default,y=!0,b=null;if(null!==c.key&&(b=d.enterKey(c.key)),c.optional){var S=null;if(null!==c.explicit?S=c.explicit:null!==c.implicit?S=c.implicit:null!==c.tag&&(S=c.tag),null!==S||c.any){if(y=this._peekTag(d,S,c.any),d.isError(y))return y}else{var A=d.save();try{null===c.choice?this._decodeGeneric(c.tag,d,u):this._decodeChoice(d,u),y=!0}catch{y=!1}d.restore(A)}}if(c.obj&&y&&(m=d.enterObject()),y){if(null!==c.explicit){var P=this._decodeTag(d,c.explicit);if(d.isError(P))return P;d=P}var H=d.offset;if(null===c.use&&null===c.choice){var X;c.any&&(X=d.save());var J=this._decodeTag(d,null!==c.implicit?c.implicit:c.tag,c.any);if(d.isError(J))return J;c.any?g=d.raw(X):d=J}if(u&&u.track&&null!==c.tag&&u.track(d.path(),H,d.length,"tagged"),u&&u.track&&null!==c.tag&&u.track(d.path(),d.offset,d.length,"content"),c.any||(g=null===c.choice?this._decodeGeneric(c.tag,d,u):this._decodeChoice(d,u)),d.isError(g))return g;if(c.any||null!==c.choice||null===c.children||c.children.forEach(function($){$._decode(d,u)}),c.contains&&("octstr"===c.tag||"bitstr"===c.tag)){var j=new x(g);g=this._getUse(c.contains,d._reporterState.obj)._decode(j,u)}}return c.obj&&y&&(g=d.leaveObject(m)),null===c.key||null===g&&!0!==y?null!==b&&d.exitKey(b):d.leaveKey(b,c.key,g),g},C.prototype._decodeGeneric=function(d,u,c){var m=this._baseState;return"seq"===d||"set"===d?null:"seqof"===d||"setof"===d?this._decodeList(u,d,m.args[0],c):/str$/.test(d)?this._decodeStr(u,d,c):"objid"===d&&m.args?this._decodeObjid(u,m.args[0],m.args[1],c):"objid"===d?this._decodeObjid(u,null,null,c):"gentime"===d||"utctime"===d?this._decodeTime(u,d,c):"null_"===d?this._decodeNull(u,c):"bool"===d?this._decodeBool(u,c):"objDesc"===d?this._decodeStr(u,d,c):"int"===d||"enum"===d?this._decodeInt(u,m.args&&m.args[0],c):null!==m.use?this._getUse(m.use,u._reporterState.obj)._decode(u,c):u.error("unknown tag: "+d)},C.prototype._getUse=function(d,u){var c=this._baseState;return c.useDecoder=this._use(d,u),O(null===c.useDecoder._baseState.parent),c.useDecoder=c.useDecoder._baseState.children[0],c.implicit!==c.useDecoder._baseState.implicit&&(c.useDecoder=c.useDecoder.clone(),c.useDecoder._baseState.implicit=c.implicit),c.useDecoder},C.prototype._decodeChoice=function(d,u){var c=this._baseState,m=null,g=!1;return Object.keys(c.choice).some(function(y){var b=d.save(),S=c.choice[y];try{var A=S._decode(d,u);if(d.isError(A))return!1;m={type:y,value:A},g=!0}catch{return d.restore(b),!1}return!0},this),g?m:d.error("Choice not matched")},C.prototype._createEncoderBuffer=function(d){return new M(d,this.reporter)},C.prototype._encode=function(d,u,c){var m=this._baseState;if(null===m.default||m.default!==d){var g=this._encodeValue(d,u,c);if(void 0!==g&&!this._skipDefault(g,u,c))return g}},C.prototype._encodeValue=function(d,u,c){var m=this._baseState;if(null===m.parent)return m.children[0]._encode(d,u||new R);var g=null;if(this.reporter=u,m.optional&&void 0===d){if(null===m.default)return;d=m.default}var y=null,b=!1;if(m.any)g=this._createEncoderBuffer(d);else if(m.choice)g=this._encodeChoice(d,u);else if(m.contains)y=this._getUse(m.contains,c)._encode(d,u),b=!0;else if(m.children)y=m.children.map(function(H){if("null_"===H._baseState.tag)return H._encode(null,u,d);if(null===H._baseState.key)return u.error("Child should have a key");var X=u.enterKey(H._baseState.key);if("object"!==k(d))return u.error("Child expected, but input is not object");var J=H._encode(d[H._baseState.key],u,d);return u.leaveKey(X),J},this).filter(function(H){return H}),y=this._createEncoderBuffer(y);else if("seqof"===m.tag||"setof"===m.tag){if(!m.args||1!==m.args.length)return u.error("Too many args for : "+m.tag);if(!Array.isArray(d))return u.error("seqof/setof, but data is not Array");var S=this.clone();S._baseState.implicit=null,y=this._createEncoderBuffer(d.map(function(H){return this._getUse(this._baseState.args[0],d)._encode(H,u)},S))}else null!==m.use?g=this._getUse(m.use,c)._encode(d,u):(y=this._encodePrimitive(m.tag,d),b=!0);if(!m.any&&null===m.choice){var A=null!==m.implicit?m.implicit:m.tag,P=null===m.implicit?"universal":"context";null===A?null===m.use&&u.error("Tag could be omitted only for .use()"):null===m.use&&(g=this._encodeComposite(A,b,P,y))}return null!==m.explicit&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},C.prototype._encodeChoice=function(d,u){var c=this._baseState,m=c.choice[d.type];return m||O(!1,d.type+" not found in "+JSON.stringify(Object.keys(c.choice))),m._encode(d.value,u)},C.prototype._encodePrimitive=function(d,u){var c=this._baseState;if(/str$/.test(d))return this._encodeStr(u,d);if("objid"===d&&c.args)return this._encodeObjid(u,c.reverseArgs[0],c.args[1]);if("objid"===d)return this._encodeObjid(u,null,null);if("gentime"===d||"utctime"===d)return this._encodeTime(u,d);if("null_"===d)return this._encodeNull();if("int"===d||"enum"===d)return this._encodeInt(u,c.args&&c.reverseArgs[0]);if("bool"===d)return this._encodeBool(u);if("objDesc"===d)return this._encodeStr(u,d);throw new Error("Unsupported tag: "+d)},C.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},C.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":169,"../base/reporter":172,"minimalistic-assert":437}],172:[function(T,te,W){"use strict";var k=T("inherits");function R(x){this._reporterState={obj:null,path:[],options:x||{},errors:[]}}function M(x,O){this.path=x,this.rethrow(O)}W.Reporter=R,R.prototype.isError=function(x){return x instanceof M},R.prototype.save=function(){var x=this._reporterState;return{obj:x.obj,pathLen:x.path.length}},R.prototype.restore=function(x){var O=this._reporterState;O.obj=x.obj,O.path=O.path.slice(0,x.pathLen)},R.prototype.enterKey=function(x){return this._reporterState.path.push(x)},R.prototype.exitKey=function(x){var O=this._reporterState;O.path=O.path.slice(0,x-1)},R.prototype.leaveKey=function(x,O,w){var E=this._reporterState;this.exitKey(x),null!==E.obj&&(E.obj[O]=w)},R.prototype.path=function(){return this._reporterState.path.join("/")},R.prototype.enterObject=function(){var x=this._reporterState,O=x.obj;return x.obj={},O},R.prototype.leaveObject=function(x){var O=this._reporterState,w=O.obj;return O.obj=x,w},R.prototype.error=function(x){var O,w=this._reporterState,E=x instanceof M;if(O=E?x:new M(w.path.map(function(C){return"["+JSON.stringify(C)+"]"}).join(""),x.message||x,x.stack),!w.options.partial)throw O;return E||w.errors.push(O),O},R.prototype.wrapResult=function(x){var O=this._reporterState;return O.options.partial?{result:this.isError(x)?null:x,errors:O.errors}:x},k(M,Error),M.prototype.rethrow=function(x){if(this.message=x+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,M),!this.stack)try{throw new Error(this.message)}catch(O){this.stack=O.stack}return this}},{inherits:387}],173:[function(T,te,W){"use strict";function k(R){var M={};return Object.keys(R).forEach(function(x){(0|x)==x&&(x|=0),M[R[x]]=x}),M}W.tagClass={0:"universal",1:"application",2:"context",3:"private"},W.tagClassByName=k(W.tagClass),W.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},W.tagByName=k(W.tag)},{}],174:[function(T,te,W){"use strict";var k=W;k._reverse=function(R){var M={};return Object.keys(R).forEach(function(x){(0|x)==x&&(x|=0),M[R[x]]=x}),M},k.der=T("./der")},{"./der":173}],175:[function(T,te,W){"use strict";var k=T("inherits"),R=T("bn.js"),M=T("../base/buffer").DecoderBuffer,x=T("../base/node"),O=T("../constants/der");function w(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new E,this.tree._init(d.body)}function E(d){x.call(this,"der",d)}function C(d,u){var c=d.readUInt8(u);if(d.isError(c))return c;var m=O.tagClass[c>>6],g=0==(32&c);if(31==(31&c)){var y=c;for(c=0;128==(128&y);){if(y=d.readUInt8(u),d.isError(y))return y;c<<=7,c|=127&y}}else c&=31;return{cls:m,primitive:g,tag:c,tagStr:O.tag[c]}}function f(d,u,c){var m=d.readUInt8(c);if(d.isError(m))return m;if(!u&&128===m)return null;if(0==(128&m))return m;var g=127&m;if(g>4)return d.error("length octect is too long");m=0;for(var y=0;y<g;y++){m<<=8;var b=d.readUInt8(c);if(d.isError(b))return b;m|=b}return m}te.exports=w,w.prototype.decode=function(d,u){return M.isDecoderBuffer(d)||(d=new M(d,u)),this.tree._decode(d,u)},k(E,x),E.prototype._peekTag=function(d,u,c){if(d.isEmpty())return!1;var m=d.save(),g=C(d,'Failed to peek tag: "'+u+'"');return d.isError(g)?g:(d.restore(m),g.tag===u||g.tagStr===u||g.tagStr+"of"===u||c)},E.prototype._decodeTag=function(d,u,c){var m=C(d,'Failed to decode tag of "'+u+'"');if(d.isError(m))return m;var g=f(d,m.primitive,'Failed to get length of "'+u+'"');if(d.isError(g))return g;if(!c&&m.tag!==u&&m.tagStr!==u&&m.tagStr+"of"!==u)return d.error('Failed to match tag: "'+u+'"');if(m.primitive||null!==g)return d.skip(g,'Failed to match body of: "'+u+'"');var y=d.save(),b=this._skipUntilEnd(d,'Failed to skip indefinite length body: "'+this.tag+'"');return d.isError(b)?b:(g=d.offset-y.offset,d.restore(y),d.skip(g,'Failed to match body of: "'+u+'"'))},E.prototype._skipUntilEnd=function(d,u){for(;;){var c=C(d,u);if(d.isError(c))return c;var m=f(d,c.primitive,u);if(d.isError(m))return m;var g;if(g=c.primitive||null!==m?d.skip(m):this._skipUntilEnd(d,u),d.isError(g))return g;if("end"===c.tagStr)break}},E.prototype._decodeList=function(d,u,c,m){for(var g=[];!d.isEmpty();){var y=this._peekTag(d,"end");if(d.isError(y))return y;var b=c.decode(d,"der",m);if(d.isError(b)&&y)break;g.push(b)}return g},E.prototype._decodeStr=function(d,u){if("bitstr"===u){var c=d.readUInt8();return d.isError(c)?c:{unused:c,data:d.raw()}}if("bmpstr"===u){var m=d.raw();if(m.length%2==1)return d.error("Decoding of string type: bmpstr length mismatch");for(var g="",y=0;y<m.length/2;y++)g+=String.fromCharCode(m.readUInt16BE(2*y));return g}if("numstr"===u){var b=d.raw().toString("ascii");return this._isNumstr(b)?b:d.error("Decoding of string type: numstr unsupported characters")}if("octstr"===u||"objDesc"===u)return d.raw();if("printstr"===u){var S=d.raw().toString("ascii");return this._isPrintstr(S)?S:d.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(u)?d.raw().toString():d.error("Decoding of string type: "+u+" unsupported")},E.prototype._decodeObjid=function(d,u,c){for(var m,g=[],y=0,b=0;!d.isEmpty();)y<<=7,y|=127&(b=d.readUInt8()),0==(128&b)&&(g.push(y),y=0);if(128&b&&g.push(y),m=c?g:[g[0]/40|0,g[0]%40].concat(g.slice(1)),u){var P=u[m.join(" ")];void 0===P&&(P=u[m.join(".")]),void 0!==P&&(m=P)}return m},E.prototype._decodeTime=function(d,u){var c,m,g,y,b,S,A=d.raw().toString();if("gentime"===u)c=0|A.slice(0,4),m=0|A.slice(4,6),g=0|A.slice(6,8),y=0|A.slice(8,10),b=0|A.slice(10,12),S=0|A.slice(12,14);else{if("utctime"!==u)return d.error("Decoding "+u+" time is not supported yet");c=0|A.slice(0,2),m=0|A.slice(2,4),g=0|A.slice(4,6),y=0|A.slice(6,8),b=0|A.slice(8,10),S=0|A.slice(10,12),c=c<70?2e3+c:1900+c}return Date.UTC(c,m-1,g,y,b,S,0)},E.prototype._decodeNull=function(){return null},E.prototype._decodeBool=function(d){var u=d.readUInt8();return d.isError(u)?u:0!==u},E.prototype._decodeInt=function(d,u){var c=d.raw(),m=new R(c);return u&&(m=u[m.toString(10)]||m),m},E.prototype._use=function(d,u){return"function"==typeof d&&(d=d(u)),d._getDecoder("der").tree}},{"../base/buffer":169,"../base/node":171,"../constants/der":173,"bn.js":181,inherits:387}],176:[function(T,te,W){"use strict";var k=W;k.der=T("./der"),k.pem=T("./pem")},{"./der":175,"./pem":177}],177:[function(T,te,W){"use strict";var k=T("inherits"),R=T("safer-buffer").Buffer,M=T("./der");function x(O){M.call(this,O),this.enc="pem"}k(x,M),te.exports=x,x.prototype.decode=function(O,w){for(var E=O.toString().split(/[\r\n]+/g),C=w.label.toUpperCase(),f=/^-----(BEGIN|END) ([^-]+)-----$/,d=-1,u=-1,c=0;c<E.length;c++){var m=E[c].match(f);if(null!==m&&m[2]===C){if(-1!==d){if("END"!==m[1])break;u=c;break}if("BEGIN"!==m[1])break;d=c}}if(-1===d||-1===u)throw new Error("PEM section not found for: "+C);var g=E.slice(d+1,u).join("");g.replace(/[^a-z0-9+/=]+/gi,"");var y=R.from(g,"base64");return M.prototype.decode.call(this,y,w)}},{"./der":175,inherits:387,"safer-buffer":495}],178:[function(T,te,W){"use strict";var k=T("inherits"),R=T("safer-buffer").Buffer,M=T("../base/node"),x=T("../constants/der");function O(C){this.enc="der",this.name=C.name,this.entity=C,this.tree=new w,this.tree._init(C.body)}function w(C){M.call(this,"der",C)}function E(C){return C<10?"0"+C:C}te.exports=O,O.prototype.encode=function(C,f){return this.tree._encode(C,f).join()},k(w,M),w.prototype._encodeComposite=function(C,f,d,u){var c=function(P,H,X,J){var j;if("seqof"===P?P="seq":"setof"===P&&(P="set"),x.tagByName.hasOwnProperty(P))j=x.tagByName[P];else{if("number"!=typeof P||(0|P)!==P)return J.error("Unknown tag: "+P);j=P}return j>=31?J.error("Multi-octet tag encoding unsupported"):(H||(j|=32),j|=x.tagClassByName[X||"universal"]<<6)}(C,f,d,this.reporter);if(u.length<128){var m=R.alloc(2);return m[0]=c,m[1]=u.length,this._createEncoderBuffer([m,u])}for(var g=1,y=u.length;y>=256;y>>=8)g++;var b=R.alloc(2+g);b[0]=c,b[1]=128|g;for(var S=1+g,A=u.length;A>0;S--,A>>=8)b[S]=255&A;return this._createEncoderBuffer([b,u])},w.prototype._encodeStr=function(C,f){if("bitstr"===f)return this._createEncoderBuffer([0|C.unused,C.data]);if("bmpstr"===f){for(var d=R.alloc(2*C.length),u=0;u<C.length;u++)d.writeUInt16BE(C.charCodeAt(u),2*u);return this._createEncoderBuffer(d)}return"numstr"===f?this._isNumstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===f?this._isPrintstr(C)?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)||"objDesc"===f?this._createEncoderBuffer(C):this.reporter.error("Encoding of string type: "+f+" unsupported")},w.prototype._encodeObjid=function(C,f,d){if("string"==typeof C){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(C))return this.reporter.error("objid not found in values map");C=f[C].split(/[\s.]+/g);for(var u=0;u<C.length;u++)C[u]|=0}else if(Array.isArray(C)){C=C.slice();for(var c=0;c<C.length;c++)C[c]|=0}if(!Array.isArray(C))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(C));if(!d){if(C[1]>=40)return this.reporter.error("Second objid identifier OOB");C.splice(0,2,40*C[0]+C[1])}for(var m=0,g=0;g<C.length;g++){var y=C[g];for(m++;y>=128;y>>=7)m++}for(var b=R.alloc(m),S=b.length-1,A=C.length-1;A>=0;A--){var P=C[A];for(b[S--]=127&P;(P>>=7)>0;)b[S--]=128|127&P}return this._createEncoderBuffer(b)},w.prototype._encodeTime=function(C,f){var d,u=new Date(C);return"gentime"===f?d=[E(u.getUTCFullYear()),E(u.getUTCMonth()+1),E(u.getUTCDate()),E(u.getUTCHours()),E(u.getUTCMinutes()),E(u.getUTCSeconds()),"Z"].join(""):"utctime"===f?d=[E(u.getUTCFullYear()%100),E(u.getUTCMonth()+1),E(u.getUTCDate()),E(u.getUTCHours()),E(u.getUTCMinutes()),E(u.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(d,"octstr")},w.prototype._encodeNull=function(){return this._createEncoderBuffer("")},w.prototype._encodeInt=function(C,f){if("string"==typeof C){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(C))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(C));C=f[C]}if("number"!=typeof C&&!R.isBuffer(C)){var d=C.toArray();!C.sign&&128&d[0]&&d.unshift(0),C=R.from(d)}if(R.isBuffer(C)){var u=C.length;0===C.length&&u++;var c=R.alloc(u);return C.copy(c),0===C.length&&(c[0]=0),this._createEncoderBuffer(c)}if(C<128)return this._createEncoderBuffer(C);if(C<256)return this._createEncoderBuffer([0,C]);for(var m=1,g=C;g>=256;g>>=8)m++;for(var y=new Array(m),b=y.length-1;b>=0;b--)y[b]=255&C,C>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(R.from(y))},w.prototype._encodeBool=function(C){return this._createEncoderBuffer(C?255:0)},w.prototype._use=function(C,f){return"function"==typeof C&&(C=C(f)),C._getEncoder("der").tree},w.prototype._skipDefault=function(C,f,d){var u,c=this._baseState;if(null===c.default)return!1;var m=C.join();if(void 0===c.defaultBuffer&&(c.defaultBuffer=this._encodeValue(c.default,f,d).join()),m.length!==c.defaultBuffer.length)return!1;for(u=0;u<m.length;u++)if(m[u]!==c.defaultBuffer[u])return!1;return!0}},{"../base/node":171,"../constants/der":173,inherits:387,"safer-buffer":495}],179:[function(T,te,W){"use strict";var k=W;k.der=T("./der"),k.pem=T("./pem")},{"./der":178,"./pem":180}],180:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./der");function M(x){R.call(this,x),this.enc="pem"}k(M,R),te.exports=M,M.prototype.encode=function(x,O){for(var w=R.prototype.encode.call(this,x).toString("base64"),E=["-----BEGIN "+O.label+"-----"],C=0;C<w.length;C+=64)E.push(w.slice(C,C+64));return E.push("-----END "+O.label+"-----"),E.join("\n")}},{"./der":178,inherits:387}],181:[function(T,te,W){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(R)}!function(R,M){function x(L,B){if(!L)throw new Error(B||"Assertion failed")}function O(L,B){L.super_=B;var ee=function(){};ee.prototype=B.prototype,L.prototype=new ee,L.prototype.constructor=L}function w(L,B,ee){if(w.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,null!==L&&("le"!==B&&"be"!==B||(ee=B,B=10),this._init(L||0,B||10,ee||"be"))}var E;"object"===k(R)?R.exports=w:(void 0).BN=w,w.BN=w,w.wordSize=26;try{E=T("buffer").Buffer}catch{}function C(L,B,ee){for(var N=0,V=Math.min(L.length,ee),U=B;U<V;U++){var Q=L.charCodeAt(U)-48;N<<=4,N|=Q>=49&&Q<=54?Q-49+10:Q>=17&&Q<=22?Q-17+10:15&Q}return N}function f(L,B,ee,N){for(var V=0,U=Math.min(L.length,ee),Q=B;Q<U;Q++){var Z=L.charCodeAt(Q)-48;V*=N,V+=Z>=49?Z-49+10:Z>=17?Z-17+10:Z}return V}w.isBN=function(L){return L instanceof w||null!==L&&"object"===k(L)&&L.constructor.wordSize===w.wordSize&&Array.isArray(L.words)},w.max=function(L,B){return L.cmp(B)>0?L:B},w.min=function(L,B){return L.cmp(B)<0?L:B},w.prototype._init=function(L,B,ee){if("number"==typeof L)return this._initNumber(L,B,ee);if("object"===k(L))return this._initArray(L,B,ee);"hex"===B&&(B=16),x(B===(0|B)&&B>=2&&B<=36);var N=0;"-"===(L=L.toString().replace(/\s+/g,""))[0]&&N++,16===B?this._parseHex(L,N):this._parseBase(L,B,N),"-"===L[0]&&(this.negative=1),this.strip(),"le"===ee&&this._initArray(this.toArray(),B,ee)},w.prototype._initNumber=function(L,B,ee){L<0&&(this.negative=1,L=-L),L<67108864?(this.words=[67108863&L],this.length=1):L<4503599627370496?(this.words=[67108863&L,L/67108864&67108863],this.length=2):(x(L<9007199254740992),this.words=[67108863&L,L/67108864&67108863,1],this.length=3),"le"===ee&&this._initArray(this.toArray(),B,ee)},w.prototype._initArray=function(L,B,ee){if(x("number"==typeof L.length),L.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(L.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var V,U,Q=0;if("be"===ee)for(N=L.length-1,V=0;N>=0;N-=3)this.words[V]|=(U=L[N]|L[N-1]<<8|L[N-2]<<16)<<Q&67108863,this.words[V+1]=U>>>26-Q&67108863,(Q+=24)>=26&&(Q-=26,V++);else if("le"===ee)for(N=0,V=0;N<L.length;N+=3)this.words[V]|=(U=L[N]|L[N+1]<<8|L[N+2]<<16)<<Q&67108863,this.words[V+1]=U>>>26-Q&67108863,(Q+=24)>=26&&(Q-=26,V++);return this.strip()},w.prototype._parseHex=function(L,B){this.length=Math.ceil((L.length-B)/6),this.words=new Array(this.length);for(var ee=0;ee<this.length;ee++)this.words[ee]=0;var N,V,U=0;for(ee=L.length-6,N=0;ee>=B;ee-=6)V=C(L,ee,ee+6),this.words[N]|=V<<U&67108863,this.words[N+1]|=V>>>26-U&4194303,(U+=24)>=26&&(U-=26,N++);ee+6!==B&&(V=C(L,B,ee+6),this.words[N]|=V<<U&67108863,this.words[N+1]|=V>>>26-U&4194303),this.strip()},w.prototype._parseBase=function(L,B,ee){this.words=[0],this.length=1;for(var N=0,V=1;V<=67108863;V*=B)N++;N--,V=V/B|0;for(var U=L.length-ee,Q=U%N,Z=Math.min(U,U-Q)+ee,K=0,ne=ee;ne<Z;ne+=N)K=f(L,ne,ne+N,B),this.imuln(V),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(0!==Q){var ue=1;for(K=f(L,ne,L.length,B),ne=0;ne<Q;ne++)ue*=B;this.imuln(ue),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}},w.prototype.copy=function(L){L.words=new Array(this.length);for(var B=0;B<this.length;B++)L.words[B]=this.words[B];L.length=this.length,L.negative=this.negative,L.red=this.red},w.prototype.clone=function(){var L=new w(null);return this.copy(L),L},w.prototype._expand=function(L){for(;this.length<L;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],c=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(L,B,ee){ee.negative=B.negative^L.negative;var N=L.length+B.length|0;ee.length=N,N=N-1|0;var V=0|L.words[0],U=0|B.words[0],Q=V*U,K=Q/67108864|0;ee.words[0]=67108863&Q;for(var ne=1;ne<N;ne++){for(var ue=K>>>26,ce=67108863&K,de=Math.min(ne,B.length-1),pe=Math.max(0,ne-L.length+1);pe<=de;pe++)ue+=(Q=(V=0|L.words[ne-pe|0])*(U=0|B.words[pe])+ce)/67108864|0,ce=67108863&Q;ee.words[ne]=0|ce,K=0|ue}return 0!==K?ee.words[ne]=0|K:ee.length--,ee.strip()}w.prototype.toString=function(L,B){var ee;if(B=0|B||1,16===(L=L||10)||"hex"===L){ee="";for(var N=0,V=0,U=0;U<this.length;U++){var Q=this.words[U],Z=(16777215&(Q<<N|V)).toString(16);ee=0!=(V=Q>>>24-N&16777215)||U!==this.length-1?d[6-Z.length]+Z+ee:Z+ee,(N+=2)>=26&&(N-=26,U--)}for(0!==V&&(ee=V.toString(16)+ee);ee.length%B!=0;)ee="0"+ee;return 0!==this.negative&&(ee="-"+ee),ee}if(L===(0|L)&&L>=2&&L<=36){var K=u[L],ne=c[L];ee="";var ue=this.clone();for(ue.negative=0;!ue.isZero();){var ce=ue.modn(ne).toString(L);ee=(ue=ue.idivn(ne)).isZero()?ce+ee:d[K-ce.length]+ce+ee}for(this.isZero()&&(ee="0"+ee);ee.length%B!=0;)ee="0"+ee;return 0!==this.negative&&(ee="-"+ee),ee}x(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var L=this.words[0];return 2===this.length?L+=67108864*this.words[1]:3===this.length&&1===this.words[2]?L+=4503599627370496+67108864*this.words[1]:this.length>2&&x(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-L:L},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(L,B){return x(void 0!==E),this.toArrayLike(E,L,B)},w.prototype.toArray=function(L,B){return this.toArrayLike(Array,L,B)},w.prototype.toArrayLike=function(L,B,ee){var N=this.byteLength(),V=ee||Math.max(1,N);x(N<=V,"byte array longer than desired length"),x(V>0,"Requested array length <= 0"),this.strip();var U,Q,Z="le"===B,K=new L(V),ne=this.clone();if(Z){for(Q=0;!ne.isZero();Q++)U=ne.andln(255),ne.iushrn(8),K[Q]=U;for(;Q<V;Q++)K[Q]=0}else{for(Q=0;Q<V-N;Q++)K[Q]=0;for(Q=0;!ne.isZero();Q++)U=ne.andln(255),ne.iushrn(8),K[V-Q-1]=U}return K},w.prototype._countBits=Math.clz32?function(L){return 32-Math.clz32(L)}:function(L){var B=L,ee=0;return B>=4096&&(ee+=13,B>>>=13),B>=64&&(ee+=7,B>>>=7),B>=8&&(ee+=4,B>>>=4),B>=2&&(ee+=2,B>>>=2),ee+B},w.prototype._zeroBits=function(L){if(0===L)return 26;var B=L,ee=0;return 0==(8191&B)&&(ee+=13,B>>>=13),0==(127&B)&&(ee+=7,B>>>=7),0==(15&B)&&(ee+=4,B>>>=4),0==(3&B)&&(ee+=2,B>>>=2),0==(1&B)&&ee++,ee},w.prototype.bitLength=function(){var B=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+B},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var L=0,B=0;B<this.length;B++){var ee=this._zeroBits(this.words[B]);if(L+=ee,26!==ee)break}return L},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(L){return 0!==this.negative?this.abs().inotn(L).iaddn(1):this.clone()},w.prototype.fromTwos=function(L){return this.testn(L-1)?this.notn(L).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(L){for(;this.length<L.length;)this.words[this.length++]=0;for(var B=0;B<L.length;B++)this.words[B]=this.words[B]|L.words[B];return this.strip()},w.prototype.ior=function(L){return x(0==(this.negative|L.negative)),this.iuor(L)},w.prototype.or=function(L){return this.length>L.length?this.clone().ior(L):L.clone().ior(this)},w.prototype.uor=function(L){return this.length>L.length?this.clone().iuor(L):L.clone().iuor(this)},w.prototype.iuand=function(L){var B;B=this.length>L.length?L:this;for(var ee=0;ee<B.length;ee++)this.words[ee]=this.words[ee]&L.words[ee];return this.length=B.length,this.strip()},w.prototype.iand=function(L){return x(0==(this.negative|L.negative)),this.iuand(L)},w.prototype.and=function(L){return this.length>L.length?this.clone().iand(L):L.clone().iand(this)},w.prototype.uand=function(L){return this.length>L.length?this.clone().iuand(L):L.clone().iuand(this)},w.prototype.iuxor=function(L){var B,ee;this.length>L.length?(B=this,ee=L):(B=L,ee=this);for(var N=0;N<ee.length;N++)this.words[N]=B.words[N]^ee.words[N];if(this!==B)for(;N<B.length;N++)this.words[N]=B.words[N];return this.length=B.length,this.strip()},w.prototype.ixor=function(L){return x(0==(this.negative|L.negative)),this.iuxor(L)},w.prototype.xor=function(L){return this.length>L.length?this.clone().ixor(L):L.clone().ixor(this)},w.prototype.uxor=function(L){return this.length>L.length?this.clone().iuxor(L):L.clone().iuxor(this)},w.prototype.inotn=function(L){x("number"==typeof L&&L>=0);var B=0|Math.ceil(L/26),ee=L%26;this._expand(B),ee>0&&B--;for(var N=0;N<B;N++)this.words[N]=67108863&~this.words[N];return ee>0&&(this.words[N]=~this.words[N]&67108863>>26-ee),this.strip()},w.prototype.notn=function(L){return this.clone().inotn(L)},w.prototype.setn=function(L,B){x("number"==typeof L&&L>=0);var ee=L/26|0,N=L%26;return this._expand(ee+1),this.words[ee]=B?this.words[ee]|1<<N:this.words[ee]&~(1<<N),this.strip()},w.prototype.iadd=function(L){var B,ee,N;if(0!==this.negative&&0===L.negative)return this.negative=0,B=this.isub(L),this.negative^=1,this._normSign();if(0===this.negative&&0!==L.negative)return L.negative=0,B=this.isub(L),L.negative=1,B._normSign();this.length>L.length?(ee=this,N=L):(ee=L,N=this);for(var V=0,U=0;U<N.length;U++)this.words[U]=67108863&(B=(0|ee.words[U])+(0|N.words[U])+V),V=B>>>26;for(;0!==V&&U<ee.length;U++)this.words[U]=67108863&(B=(0|ee.words[U])+V),V=B>>>26;if(this.length=ee.length,0!==V)this.words[this.length]=V,this.length++;else if(ee!==this)for(;U<ee.length;U++)this.words[U]=ee.words[U];return this},w.prototype.add=function(L){var B;return 0!==L.negative&&0===this.negative?(L.negative=0,B=this.sub(L),L.negative^=1,B):0===L.negative&&0!==this.negative?(this.negative=0,B=L.sub(this),this.negative=1,B):this.length>L.length?this.clone().iadd(L):L.clone().iadd(this)},w.prototype.isub=function(L){if(0!==L.negative){L.negative=0;var B=this.iadd(L);return L.negative=1,B._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(L),this.negative=1,this._normSign();var ee,N,V=this.cmp(L);if(0===V)return this.negative=0,this.length=1,this.words[0]=0,this;V>0?(ee=this,N=L):(ee=L,N=this);for(var U=0,Q=0;Q<N.length;Q++)U=(B=(0|ee.words[Q])-(0|N.words[Q])+U)>>26,this.words[Q]=67108863&B;for(;0!==U&&Q<ee.length;Q++)U=(B=(0|ee.words[Q])+U)>>26,this.words[Q]=67108863&B;if(0===U&&Q<ee.length&&ee!==this)for(;Q<ee.length;Q++)this.words[Q]=ee.words[Q];return this.length=Math.max(this.length,Q),ee!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(L){return this.clone().isub(L)};var g=function(L,B,ee){var N,V,U,Q=L.words,Z=B.words,K=ee.words,ne=0,ue=0|Q[0],ce=8191&ue,de=ue>>>13,pe=0|Q[1],_e=8191&pe,me=pe>>>13,q=0|Q[2],oe=8191&q,se=q>>>13,ve=0|Q[3],Se=8191&ve,De=ve>>>13,qe=0|Q[4],je=8191&qe,Ye=qe>>>13,st=0|Q[5],ct=8191&st,ht=st>>>13,sn=0|Q[6],bt=8191&sn,It=sn>>>13,ln=0|Q[7],nt=8191&ln,Xe=ln>>>13,Ae=0|Q[8],Pe=8191&Ae,We=Ae>>>13,ot=0|Q[9],Ue=8191&ot,Ne=ot>>>13,$e=0|Z[0],at=8191&$e,lt=$e>>>13,$t=0|Z[1],Et=8191&$t,xt=$t>>>13,Pn=0|Z[2],cn=8191&Pn,un=Pn>>>13,Qr=0|Z[3],Cn=8191&Qr,Tn=Qr>>>13,rr=0|Z[4],ft=8191&rr,Me=rr>>>13,ke=0|Z[5],Fe=8191&ke,Ke=ke>>>13,Qe=0|Z[6],wt=8191&Qe,Ht=Qe>>>13,Le=0|Z[7],He=8191&Le,Be=Le>>>13,St=0|Z[8],_t=8191&St,Vt=St>>>13,Ln=0|Z[9],Wt=8191&Ln,pn=Ln>>>13;ee.negative=L.negative^B.negative,ee.length=19;var Ze=(ne+(N=Math.imul(ce,at))|0)+((8191&(V=(V=Math.imul(ce,lt))+Math.imul(de,at)|0))<<13)|0;ne=((U=Math.imul(de,lt))+(V>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,N=Math.imul(_e,at),V=(V=Math.imul(_e,lt))+Math.imul(me,at)|0,U=Math.imul(me,lt);var ze=(ne+(N=N+Math.imul(ce,Et)|0)|0)+((8191&(V=(V=V+Math.imul(ce,xt)|0)+Math.imul(de,Et)|0))<<13)|0;ne=((U=U+Math.imul(de,xt)|0)+(V>>>13)|0)+(ze>>>26)|0,ze&=67108863,N=Math.imul(oe,at),V=(V=Math.imul(oe,lt))+Math.imul(se,at)|0,U=Math.imul(se,lt),N=N+Math.imul(_e,Et)|0,V=(V=V+Math.imul(_e,xt)|0)+Math.imul(me,Et)|0,U=U+Math.imul(me,xt)|0;var pt=(ne+(N=N+Math.imul(ce,cn)|0)|0)+((8191&(V=(V=V+Math.imul(ce,un)|0)+Math.imul(de,cn)|0))<<13)|0;ne=((U=U+Math.imul(de,un)|0)+(V>>>13)|0)+(pt>>>26)|0,pt&=67108863,N=Math.imul(Se,at),V=(V=Math.imul(Se,lt))+Math.imul(De,at)|0,U=Math.imul(De,lt),N=N+Math.imul(oe,Et)|0,V=(V=V+Math.imul(oe,xt)|0)+Math.imul(se,Et)|0,U=U+Math.imul(se,xt)|0,N=N+Math.imul(_e,cn)|0,V=(V=V+Math.imul(_e,un)|0)+Math.imul(me,cn)|0,U=U+Math.imul(me,un)|0;var At=(ne+(N=N+Math.imul(ce,Cn)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Tn)|0)+Math.imul(de,Cn)|0))<<13)|0;ne=((U=U+Math.imul(de,Tn)|0)+(V>>>13)|0)+(At>>>26)|0,At&=67108863,N=Math.imul(je,at),V=(V=Math.imul(je,lt))+Math.imul(Ye,at)|0,U=Math.imul(Ye,lt),N=N+Math.imul(Se,Et)|0,V=(V=V+Math.imul(Se,xt)|0)+Math.imul(De,Et)|0,U=U+Math.imul(De,xt)|0,N=N+Math.imul(oe,cn)|0,V=(V=V+Math.imul(oe,un)|0)+Math.imul(se,cn)|0,U=U+Math.imul(se,un)|0,N=N+Math.imul(_e,Cn)|0,V=(V=V+Math.imul(_e,Tn)|0)+Math.imul(me,Cn)|0,U=U+Math.imul(me,Tn)|0;var tn=(ne+(N=N+Math.imul(ce,ft)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Me)|0)+Math.imul(de,ft)|0))<<13)|0;ne=((U=U+Math.imul(de,Me)|0)+(V>>>13)|0)+(tn>>>26)|0,tn&=67108863,N=Math.imul(ct,at),V=(V=Math.imul(ct,lt))+Math.imul(ht,at)|0,U=Math.imul(ht,lt),N=N+Math.imul(je,Et)|0,V=(V=V+Math.imul(je,xt)|0)+Math.imul(Ye,Et)|0,U=U+Math.imul(Ye,xt)|0,N=N+Math.imul(Se,cn)|0,V=(V=V+Math.imul(Se,un)|0)+Math.imul(De,cn)|0,U=U+Math.imul(De,un)|0,N=N+Math.imul(oe,Cn)|0,V=(V=V+Math.imul(oe,Tn)|0)+Math.imul(se,Cn)|0,U=U+Math.imul(se,Tn)|0,N=N+Math.imul(_e,ft)|0,V=(V=V+Math.imul(_e,Me)|0)+Math.imul(me,ft)|0,U=U+Math.imul(me,Me)|0;var vn=(ne+(N=N+Math.imul(ce,Fe)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Ke)|0)+Math.imul(de,Fe)|0))<<13)|0;ne=((U=U+Math.imul(de,Ke)|0)+(V>>>13)|0)+(vn>>>26)|0,vn&=67108863,N=Math.imul(bt,at),V=(V=Math.imul(bt,lt))+Math.imul(It,at)|0,U=Math.imul(It,lt),N=N+Math.imul(ct,Et)|0,V=(V=V+Math.imul(ct,xt)|0)+Math.imul(ht,Et)|0,U=U+Math.imul(ht,xt)|0,N=N+Math.imul(je,cn)|0,V=(V=V+Math.imul(je,un)|0)+Math.imul(Ye,cn)|0,U=U+Math.imul(Ye,un)|0,N=N+Math.imul(Se,Cn)|0,V=(V=V+Math.imul(Se,Tn)|0)+Math.imul(De,Cn)|0,U=U+Math.imul(De,Tn)|0,N=N+Math.imul(oe,ft)|0,V=(V=V+Math.imul(oe,Me)|0)+Math.imul(se,ft)|0,U=U+Math.imul(se,Me)|0,N=N+Math.imul(_e,Fe)|0,V=(V=V+Math.imul(_e,Ke)|0)+Math.imul(me,Fe)|0,U=U+Math.imul(me,Ke)|0;var Vn=(ne+(N=N+Math.imul(ce,wt)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Ht)|0)+Math.imul(de,wt)|0))<<13)|0;ne=((U=U+Math.imul(de,Ht)|0)+(V>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,N=Math.imul(nt,at),V=(V=Math.imul(nt,lt))+Math.imul(Xe,at)|0,U=Math.imul(Xe,lt),N=N+Math.imul(bt,Et)|0,V=(V=V+Math.imul(bt,xt)|0)+Math.imul(It,Et)|0,U=U+Math.imul(It,xt)|0,N=N+Math.imul(ct,cn)|0,V=(V=V+Math.imul(ct,un)|0)+Math.imul(ht,cn)|0,U=U+Math.imul(ht,un)|0,N=N+Math.imul(je,Cn)|0,V=(V=V+Math.imul(je,Tn)|0)+Math.imul(Ye,Cn)|0,U=U+Math.imul(Ye,Tn)|0,N=N+Math.imul(Se,ft)|0,V=(V=V+Math.imul(Se,Me)|0)+Math.imul(De,ft)|0,U=U+Math.imul(De,Me)|0,N=N+Math.imul(oe,Fe)|0,V=(V=V+Math.imul(oe,Ke)|0)+Math.imul(se,Fe)|0,U=U+Math.imul(se,Ke)|0,N=N+Math.imul(_e,wt)|0,V=(V=V+Math.imul(_e,Ht)|0)+Math.imul(me,wt)|0,U=U+Math.imul(me,Ht)|0;var lr=(ne+(N=N+Math.imul(ce,He)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Be)|0)+Math.imul(de,He)|0))<<13)|0;ne=((U=U+Math.imul(de,Be)|0)+(V>>>13)|0)+(lr>>>26)|0,lr&=67108863,N=Math.imul(Pe,at),V=(V=Math.imul(Pe,lt))+Math.imul(We,at)|0,U=Math.imul(We,lt),N=N+Math.imul(nt,Et)|0,V=(V=V+Math.imul(nt,xt)|0)+Math.imul(Xe,Et)|0,U=U+Math.imul(Xe,xt)|0,N=N+Math.imul(bt,cn)|0,V=(V=V+Math.imul(bt,un)|0)+Math.imul(It,cn)|0,U=U+Math.imul(It,un)|0,N=N+Math.imul(ct,Cn)|0,V=(V=V+Math.imul(ct,Tn)|0)+Math.imul(ht,Cn)|0,U=U+Math.imul(ht,Tn)|0,N=N+Math.imul(je,ft)|0,V=(V=V+Math.imul(je,Me)|0)+Math.imul(Ye,ft)|0,U=U+Math.imul(Ye,Me)|0,N=N+Math.imul(Se,Fe)|0,V=(V=V+Math.imul(Se,Ke)|0)+Math.imul(De,Fe)|0,U=U+Math.imul(De,Ke)|0,N=N+Math.imul(oe,wt)|0,V=(V=V+Math.imul(oe,Ht)|0)+Math.imul(se,wt)|0,U=U+Math.imul(se,Ht)|0,N=N+Math.imul(_e,He)|0,V=(V=V+Math.imul(_e,Be)|0)+Math.imul(me,He)|0,U=U+Math.imul(me,Be)|0;var xn=(ne+(N=N+Math.imul(ce,_t)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Vt)|0)+Math.imul(de,_t)|0))<<13)|0;ne=((U=U+Math.imul(de,Vt)|0)+(V>>>13)|0)+(xn>>>26)|0,xn&=67108863,N=Math.imul(Ue,at),V=(V=Math.imul(Ue,lt))+Math.imul(Ne,at)|0,U=Math.imul(Ne,lt),N=N+Math.imul(Pe,Et)|0,V=(V=V+Math.imul(Pe,xt)|0)+Math.imul(We,Et)|0,U=U+Math.imul(We,xt)|0,N=N+Math.imul(nt,cn)|0,V=(V=V+Math.imul(nt,un)|0)+Math.imul(Xe,cn)|0,U=U+Math.imul(Xe,un)|0,N=N+Math.imul(bt,Cn)|0,V=(V=V+Math.imul(bt,Tn)|0)+Math.imul(It,Cn)|0,U=U+Math.imul(It,Tn)|0,N=N+Math.imul(ct,ft)|0,V=(V=V+Math.imul(ct,Me)|0)+Math.imul(ht,ft)|0,U=U+Math.imul(ht,Me)|0,N=N+Math.imul(je,Fe)|0,V=(V=V+Math.imul(je,Ke)|0)+Math.imul(Ye,Fe)|0,U=U+Math.imul(Ye,Ke)|0,N=N+Math.imul(Se,wt)|0,V=(V=V+Math.imul(Se,Ht)|0)+Math.imul(De,wt)|0,U=U+Math.imul(De,Ht)|0,N=N+Math.imul(oe,He)|0,V=(V=V+Math.imul(oe,Be)|0)+Math.imul(se,He)|0,U=U+Math.imul(se,Be)|0,N=N+Math.imul(_e,_t)|0,V=(V=V+Math.imul(_e,Vt)|0)+Math.imul(me,_t)|0,U=U+Math.imul(me,Vt)|0;var Dr=(ne+(N=N+Math.imul(ce,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(ce,pn)|0)+Math.imul(de,Wt)|0))<<13)|0;ne=((U=U+Math.imul(de,pn)|0)+(V>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,N=Math.imul(Ue,Et),V=(V=Math.imul(Ue,xt))+Math.imul(Ne,Et)|0,U=Math.imul(Ne,xt),N=N+Math.imul(Pe,cn)|0,V=(V=V+Math.imul(Pe,un)|0)+Math.imul(We,cn)|0,U=U+Math.imul(We,un)|0,N=N+Math.imul(nt,Cn)|0,V=(V=V+Math.imul(nt,Tn)|0)+Math.imul(Xe,Cn)|0,U=U+Math.imul(Xe,Tn)|0,N=N+Math.imul(bt,ft)|0,V=(V=V+Math.imul(bt,Me)|0)+Math.imul(It,ft)|0,U=U+Math.imul(It,Me)|0,N=N+Math.imul(ct,Fe)|0,V=(V=V+Math.imul(ct,Ke)|0)+Math.imul(ht,Fe)|0,U=U+Math.imul(ht,Ke)|0,N=N+Math.imul(je,wt)|0,V=(V=V+Math.imul(je,Ht)|0)+Math.imul(Ye,wt)|0,U=U+Math.imul(Ye,Ht)|0,N=N+Math.imul(Se,He)|0,V=(V=V+Math.imul(Se,Be)|0)+Math.imul(De,He)|0,U=U+Math.imul(De,Be)|0,N=N+Math.imul(oe,_t)|0,V=(V=V+Math.imul(oe,Vt)|0)+Math.imul(se,_t)|0,U=U+Math.imul(se,Vt)|0;var Re=(ne+(N=N+Math.imul(_e,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(_e,pn)|0)+Math.imul(me,Wt)|0))<<13)|0;ne=((U=U+Math.imul(me,pn)|0)+(V>>>13)|0)+(Re>>>26)|0,Re&=67108863,N=Math.imul(Ue,cn),V=(V=Math.imul(Ue,un))+Math.imul(Ne,cn)|0,U=Math.imul(Ne,un),N=N+Math.imul(Pe,Cn)|0,V=(V=V+Math.imul(Pe,Tn)|0)+Math.imul(We,Cn)|0,U=U+Math.imul(We,Tn)|0,N=N+Math.imul(nt,ft)|0,V=(V=V+Math.imul(nt,Me)|0)+Math.imul(Xe,ft)|0,U=U+Math.imul(Xe,Me)|0,N=N+Math.imul(bt,Fe)|0,V=(V=V+Math.imul(bt,Ke)|0)+Math.imul(It,Fe)|0,U=U+Math.imul(It,Ke)|0,N=N+Math.imul(ct,wt)|0,V=(V=V+Math.imul(ct,Ht)|0)+Math.imul(ht,wt)|0,U=U+Math.imul(ht,Ht)|0,N=N+Math.imul(je,He)|0,V=(V=V+Math.imul(je,Be)|0)+Math.imul(Ye,He)|0,U=U+Math.imul(Ye,Be)|0,N=N+Math.imul(Se,_t)|0,V=(V=V+Math.imul(Se,Vt)|0)+Math.imul(De,_t)|0,U=U+Math.imul(De,Vt)|0;var Je=(ne+(N=N+Math.imul(oe,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(oe,pn)|0)+Math.imul(se,Wt)|0))<<13)|0;ne=((U=U+Math.imul(se,pn)|0)+(V>>>13)|0)+(Je>>>26)|0,Je&=67108863,N=Math.imul(Ue,Cn),V=(V=Math.imul(Ue,Tn))+Math.imul(Ne,Cn)|0,U=Math.imul(Ne,Tn),N=N+Math.imul(Pe,ft)|0,V=(V=V+Math.imul(Pe,Me)|0)+Math.imul(We,ft)|0,U=U+Math.imul(We,Me)|0,N=N+Math.imul(nt,Fe)|0,V=(V=V+Math.imul(nt,Ke)|0)+Math.imul(Xe,Fe)|0,U=U+Math.imul(Xe,Ke)|0,N=N+Math.imul(bt,wt)|0,V=(V=V+Math.imul(bt,Ht)|0)+Math.imul(It,wt)|0,U=U+Math.imul(It,Ht)|0,N=N+Math.imul(ct,He)|0,V=(V=V+Math.imul(ct,Be)|0)+Math.imul(ht,He)|0,U=U+Math.imul(ht,Be)|0,N=N+Math.imul(je,_t)|0,V=(V=V+Math.imul(je,Vt)|0)+Math.imul(Ye,_t)|0,U=U+Math.imul(Ye,Vt)|0;var Ot=(ne+(N=N+Math.imul(Se,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(Se,pn)|0)+Math.imul(De,Wt)|0))<<13)|0;ne=((U=U+Math.imul(De,pn)|0)+(V>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,N=Math.imul(Ue,ft),V=(V=Math.imul(Ue,Me))+Math.imul(Ne,ft)|0,U=Math.imul(Ne,Me),N=N+Math.imul(Pe,Fe)|0,V=(V=V+Math.imul(Pe,Ke)|0)+Math.imul(We,Fe)|0,U=U+Math.imul(We,Ke)|0,N=N+Math.imul(nt,wt)|0,V=(V=V+Math.imul(nt,Ht)|0)+Math.imul(Xe,wt)|0,U=U+Math.imul(Xe,Ht)|0,N=N+Math.imul(bt,He)|0,V=(V=V+Math.imul(bt,Be)|0)+Math.imul(It,He)|0,U=U+Math.imul(It,Be)|0,N=N+Math.imul(ct,_t)|0,V=(V=V+Math.imul(ct,Vt)|0)+Math.imul(ht,_t)|0,U=U+Math.imul(ht,Vt)|0;var vt=(ne+(N=N+Math.imul(je,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(je,pn)|0)+Math.imul(Ye,Wt)|0))<<13)|0;ne=((U=U+Math.imul(Ye,pn)|0)+(V>>>13)|0)+(vt>>>26)|0,vt&=67108863,N=Math.imul(Ue,Fe),V=(V=Math.imul(Ue,Ke))+Math.imul(Ne,Fe)|0,U=Math.imul(Ne,Ke),N=N+Math.imul(Pe,wt)|0,V=(V=V+Math.imul(Pe,Ht)|0)+Math.imul(We,wt)|0,U=U+Math.imul(We,Ht)|0,N=N+Math.imul(nt,He)|0,V=(V=V+Math.imul(nt,Be)|0)+Math.imul(Xe,He)|0,U=U+Math.imul(Xe,Be)|0,N=N+Math.imul(bt,_t)|0,V=(V=V+Math.imul(bt,Vt)|0)+Math.imul(It,_t)|0,U=U+Math.imul(It,Vt)|0;var Rt=(ne+(N=N+Math.imul(ct,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(ct,pn)|0)+Math.imul(ht,Wt)|0))<<13)|0;ne=((U=U+Math.imul(ht,pn)|0)+(V>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,N=Math.imul(Ue,wt),V=(V=Math.imul(Ue,Ht))+Math.imul(Ne,wt)|0,U=Math.imul(Ne,Ht),N=N+Math.imul(Pe,He)|0,V=(V=V+Math.imul(Pe,Be)|0)+Math.imul(We,He)|0,U=U+Math.imul(We,Be)|0,N=N+Math.imul(nt,_t)|0,V=(V=V+Math.imul(nt,Vt)|0)+Math.imul(Xe,_t)|0,U=U+Math.imul(Xe,Vt)|0;var mn=(ne+(N=N+Math.imul(bt,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(bt,pn)|0)+Math.imul(It,Wt)|0))<<13)|0;ne=((U=U+Math.imul(It,pn)|0)+(V>>>13)|0)+(mn>>>26)|0,mn&=67108863,N=Math.imul(Ue,He),V=(V=Math.imul(Ue,Be))+Math.imul(Ne,He)|0,U=Math.imul(Ne,Be),N=N+Math.imul(Pe,_t)|0,V=(V=V+Math.imul(Pe,Vt)|0)+Math.imul(We,_t)|0,U=U+Math.imul(We,Vt)|0;var hn=(ne+(N=N+Math.imul(nt,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(nt,pn)|0)+Math.imul(Xe,Wt)|0))<<13)|0;ne=((U=U+Math.imul(Xe,pn)|0)+(V>>>13)|0)+(hn>>>26)|0,hn&=67108863,N=Math.imul(Ue,_t),V=(V=Math.imul(Ue,Vt))+Math.imul(Ne,_t)|0,U=Math.imul(Ne,Vt);var Hn=(ne+(N=N+Math.imul(Pe,Wt)|0)|0)+((8191&(V=(V=V+Math.imul(Pe,pn)|0)+Math.imul(We,Wt)|0))<<13)|0;ne=((U=U+Math.imul(We,pn)|0)+(V>>>13)|0)+(Hn>>>26)|0,Hn&=67108863;var Fn=(ne+(N=Math.imul(Ue,Wt))|0)+((8191&(V=(V=Math.imul(Ue,pn))+Math.imul(Ne,Wt)|0))<<13)|0;return ne=((U=Math.imul(Ne,pn))+(V>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,K[0]=Ze,K[1]=ze,K[2]=pt,K[3]=At,K[4]=tn,K[5]=vn,K[6]=Vn,K[7]=lr,K[8]=xn,K[9]=Dr,K[10]=Re,K[11]=Je,K[12]=Ot,K[13]=vt,K[14]=Rt,K[15]=mn,K[16]=hn,K[17]=Hn,K[18]=Fn,0!==ne&&(K[19]=ne,ee.length++),ee};function y(L,B,ee){return(new b).mulp(L,B,ee)}function b(L,B){this.x=L,this.y=B}Math.imul||(g=m),w.prototype.mulTo=function(L,B){var ee=this.length+L.length;return 10===this.length&&10===L.length?g(this,L,B):ee<63?m(this,L,B):ee<1024?function(N,V,U){U.negative=V.negative^N.negative,U.length=N.length+V.length;for(var Q=0,Z=0,K=0;K<U.length-1;K++){var ne=Z;Z=0;for(var ue=67108863&Q,ce=Math.min(K,V.length-1),de=Math.max(0,K-N.length+1);de<=ce;de++){var _e=(0|N.words[K-de])*(0|V.words[de]),me=67108863&_e;ue=67108863&(me=me+ue|0),Z+=(ne=(ne=ne+(_e/67108864|0)|0)+(me>>>26)|0)>>>26,ne&=67108863}U.words[K]=ue,Q=ne,ne=Z}return 0!==Q?U.words[K]=Q:U.length--,U.strip()}(this,L,B):y(this,L,B)},b.prototype.makeRBT=function(L){for(var B=new Array(L),ee=w.prototype._countBits(L)-1,N=0;N<L;N++)B[N]=this.revBin(N,ee,L);return B},b.prototype.revBin=function(L,B,ee){if(0===L||L===ee-1)return L;for(var N=0,V=0;V<B;V++)N|=(1&L)<<B-V-1,L>>=1;return N},b.prototype.permute=function(L,B,ee,N,V,U){for(var Q=0;Q<U;Q++)N[Q]=B[L[Q]],V[Q]=ee[L[Q]]},b.prototype.transform=function(L,B,ee,N,V,U){this.permute(U,L,B,ee,N,V);for(var Q=1;Q<V;Q<<=1)for(var Z=Q<<1,K=Math.cos(2*Math.PI/Z),ne=Math.sin(2*Math.PI/Z),ue=0;ue<V;ue+=Z)for(var ce=K,de=ne,pe=0;pe<Q;pe++){var _e=ee[ue+pe],me=N[ue+pe],q=ee[ue+pe+Q],oe=N[ue+pe+Q],se=ce*q-de*oe;oe=ce*oe+de*q,ee[ue+pe]=_e+(q=se),N[ue+pe]=me+oe,ee[ue+pe+Q]=_e-q,N[ue+pe+Q]=me-oe,pe!==Z&&(se=K*ce-ne*de,de=K*de+ne*ce,ce=se)}},b.prototype.guessLen13b=function(L,B){var ee=1|Math.max(B,L),N=1&ee,V=0;for(ee=ee/2|0;ee;ee>>>=1)V++;return 1<<V+1+N},b.prototype.conjugate=function(L,B,ee){if(!(ee<=1))for(var N=0;N<ee/2;N++){var V=L[N];L[N]=L[ee-N-1],L[ee-N-1]=V,V=B[N],B[N]=-B[ee-N-1],B[ee-N-1]=-V}},b.prototype.normalize13b=function(L,B){for(var ee=0,N=0;N<B/2;N++){var V=8192*Math.round(L[2*N+1]/B)+Math.round(L[2*N]/B)+ee;L[N]=67108863&V,ee=V<67108864?0:V/67108864|0}return L},b.prototype.convert13b=function(L,B,ee,N){for(var V=0,U=0;U<B;U++)ee[2*U]=8191&(V+=0|L[U]),ee[2*U+1]=8191&(V>>>=13),V>>>=13;for(U=2*B;U<N;++U)ee[U]=0;x(0===V),x(0==(-8192&V))},b.prototype.stub=function(L){for(var B=new Array(L),ee=0;ee<L;ee++)B[ee]=0;return B},b.prototype.mulp=function(L,B,ee){var N=2*this.guessLen13b(L.length,B.length),V=this.makeRBT(N),U=this.stub(N),Q=new Array(N),Z=new Array(N),K=new Array(N),ne=new Array(N),ue=new Array(N),ce=new Array(N),de=ee.words;de.length=N,this.convert13b(L.words,L.length,Q,N),this.convert13b(B.words,B.length,ne,N),this.transform(Q,U,Z,K,N,V),this.transform(ne,U,ue,ce,N,V);for(var pe=0;pe<N;pe++){var _e=Z[pe]*ue[pe]-K[pe]*ce[pe];K[pe]=Z[pe]*ce[pe]+K[pe]*ue[pe],Z[pe]=_e}return this.conjugate(Z,K,N),this.transform(Z,K,de,U,N,V),this.conjugate(de,U,N),this.normalize13b(de,N),ee.negative=L.negative^B.negative,ee.length=L.length+B.length,ee.strip()},w.prototype.mul=function(L){var B=new w(null);return B.words=new Array(this.length+L.length),this.mulTo(L,B)},w.prototype.mulf=function(L){var B=new w(null);return B.words=new Array(this.length+L.length),y(this,L,B)},w.prototype.imul=function(L){return this.clone().mulTo(L,this)},w.prototype.imuln=function(L){x("number"==typeof L),x(L<67108864);for(var B=0,ee=0;ee<this.length;ee++){var N=(0|this.words[ee])*L,V=(67108863&N)+(67108863&B);B>>=26,B+=N/67108864|0,B+=V>>>26,this.words[ee]=67108863&V}return 0!==B&&(this.words[ee]=B,this.length++),this},w.prototype.muln=function(L){return this.clone().imuln(L)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(L){var B=function(U){for(var Q=new Array(U.bitLength()),Z=0;Z<Q.length;Z++){var ne=Z%26;Q[Z]=(U.words[Z/26|0]&1<<ne)>>>ne}return Q}(L);if(0===B.length)return new w(1);for(var ee=this,N=0;N<B.length&&0===B[N];N++,ee=ee.sqr());if(++N<B.length)for(var V=ee.sqr();N<B.length;N++,V=V.sqr())0!==B[N]&&(ee=ee.mul(V));return ee},w.prototype.iushln=function(L){x("number"==typeof L&&L>=0);var B,ee=L%26,N=(L-ee)/26,V=67108863>>>26-ee<<26-ee;if(0!==ee){var U=0;for(B=0;B<this.length;B++){var Q=this.words[B]&V;this.words[B]=(0|this.words[B])-Q<<ee|U,U=Q>>>26-ee}U&&(this.words[B]=U,this.length++)}if(0!==N){for(B=this.length-1;B>=0;B--)this.words[B+N]=this.words[B];for(B=0;B<N;B++)this.words[B]=0;this.length+=N}return this.strip()},w.prototype.ishln=function(L){return x(0===this.negative),this.iushln(L)},w.prototype.iushrn=function(L,B,ee){var N;x("number"==typeof L&&L>=0),N=B?(B-B%26)/26:0;var V=L%26,U=Math.min((L-V)/26,this.length),Q=67108863^67108863>>>V<<V,Z=ee;if(N-=U,N=Math.max(0,N),Z){for(var K=0;K<U;K++)Z.words[K]=this.words[K];Z.length=U}if(0!==U)if(this.length>U)for(this.length-=U,K=0;K<this.length;K++)this.words[K]=this.words[K+U];else this.words[0]=0,this.length=1;var ne=0;for(K=this.length-1;K>=0&&(0!==ne||K>=N);K--){var ue=0|this.words[K];this.words[K]=ne<<26-V|ue>>>V,ne=ue&Q}return Z&&0!==ne&&(Z.words[Z.length++]=ne),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(L,B,ee){return x(0===this.negative),this.iushrn(L,B,ee)},w.prototype.shln=function(L){return this.clone().ishln(L)},w.prototype.ushln=function(L){return this.clone().iushln(L)},w.prototype.shrn=function(L){return this.clone().ishrn(L)},w.prototype.ushrn=function(L){return this.clone().iushrn(L)},w.prototype.testn=function(L){x("number"==typeof L&&L>=0);var B=L%26,ee=(L-B)/26;return!(this.length<=ee||!(this.words[ee]&1<<B))},w.prototype.imaskn=function(L){x("number"==typeof L&&L>=0);var B=L%26,ee=(L-B)/26;return x(0===this.negative,"imaskn works only with positive numbers"),this.length<=ee?this:(0!==B&&ee++,this.length=Math.min(ee,this.length),0!==B&&(this.words[this.length-1]&=67108863^67108863>>>B<<B),this.strip())},w.prototype.maskn=function(L){return this.clone().imaskn(L)},w.prototype.iaddn=function(L){return x("number"==typeof L),x(L<67108864),L<0?this.isubn(-L):0!==this.negative?1===this.length&&(0|this.words[0])<L?(this.words[0]=L-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(L),this.negative=1,this):this._iaddn(L)},w.prototype._iaddn=function(L){this.words[0]+=L;for(var B=0;B<this.length&&this.words[B]>=67108864;B++)this.words[B]-=67108864,B===this.length-1?this.words[B+1]=1:this.words[B+1]++;return this.length=Math.max(this.length,B+1),this},w.prototype.isubn=function(L){if(x("number"==typeof L),x(L<67108864),L<0)return this.iaddn(-L);if(0!==this.negative)return this.negative=0,this.iaddn(L),this.negative=1,this;if(this.words[0]-=L,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var B=0;B<this.length&&this.words[B]<0;B++)this.words[B]+=67108864,this.words[B+1]-=1;return this.strip()},w.prototype.addn=function(L){return this.clone().iaddn(L)},w.prototype.subn=function(L){return this.clone().isubn(L)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(L,B,ee){var N,V;this._expand(L.length+ee);var Q=0;for(N=0;N<L.length;N++){V=(0|this.words[N+ee])+Q;var Z=(0|L.words[N])*B;Q=((V-=67108863&Z)>>26)-(Z/67108864|0),this.words[N+ee]=67108863&V}for(;N<this.length-ee;N++)Q=(V=(0|this.words[N+ee])+Q)>>26,this.words[N+ee]=67108863&V;if(0===Q)return this.strip();for(x(-1===Q),Q=0,N=0;N<this.length;N++)Q=(V=-(0|this.words[N])+Q)>>26,this.words[N]=67108863&V;return this.negative=1,this.strip()},w.prototype._wordDiv=function(L,B){var ee,N=this.clone(),V=L,U=0|V.words[V.length-1];0!=(ee=26-this._countBits(U))&&(V=V.ushln(ee),N.iushln(ee),U=0|V.words[V.length-1]);var Q,Z=N.length-V.length;if("mod"!==B){(Q=new w(null)).length=Z+1,Q.words=new Array(Q.length);for(var K=0;K<Q.length;K++)Q.words[K]=0}var ne=N.clone()._ishlnsubmul(V,1,Z);0===ne.negative&&(N=ne,Q&&(Q.words[Z]=1));for(var ue=Z-1;ue>=0;ue--){var ce=67108864*(0|N.words[V.length+ue])+(0|N.words[V.length+ue-1]);for(ce=Math.min(ce/U|0,67108863),N._ishlnsubmul(V,ce,ue);0!==N.negative;)ce--,N.negative=0,N._ishlnsubmul(V,1,ue),N.isZero()||(N.negative^=1);Q&&(Q.words[ue]=ce)}return Q&&Q.strip(),N.strip(),"div"!==B&&0!==ee&&N.iushrn(ee),{div:Q||null,mod:N}},w.prototype.divmod=function(L,B,ee){return x(!L.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===L.negative?(U=this.neg().divmod(L,B),"mod"!==B&&(N=U.div.neg()),"div"!==B&&(V=U.mod.neg(),ee&&0!==V.negative&&V.iadd(L)),{div:N,mod:V}):0===this.negative&&0!==L.negative?(U=this.divmod(L.neg(),B),"mod"!==B&&(N=U.div.neg()),{div:N,mod:U.mod}):0!=(this.negative&L.negative)?(U=this.neg().divmod(L.neg(),B),"div"!==B&&(V=U.mod.neg(),ee&&0!==V.negative&&V.isub(L)),{div:U.div,mod:V}):L.length>this.length||this.cmp(L)<0?{div:new w(0),mod:this}:1===L.length?"div"===B?{div:this.divn(L.words[0]),mod:null}:"mod"===B?{div:null,mod:new w(this.modn(L.words[0]))}:{div:this.divn(L.words[0]),mod:new w(this.modn(L.words[0]))}:this._wordDiv(L,B);var N,V,U},w.prototype.div=function(L){return this.divmod(L,"div",!1).div},w.prototype.mod=function(L){return this.divmod(L,"mod",!1).mod},w.prototype.umod=function(L){return this.divmod(L,"mod",!0).mod},w.prototype.divRound=function(L){var B=this.divmod(L);if(B.mod.isZero())return B.div;var ee=0!==B.div.negative?B.mod.isub(L):B.mod,N=L.ushrn(1),V=L.andln(1),U=ee.cmp(N);return U<0||1===V&&0===U?B.div:0!==B.div.negative?B.div.isubn(1):B.div.iaddn(1)},w.prototype.modn=function(L){x(L<=67108863);for(var B=(1<<26)%L,ee=0,N=this.length-1;N>=0;N--)ee=(B*ee+(0|this.words[N]))%L;return ee},w.prototype.idivn=function(L){x(L<=67108863);for(var B=0,ee=this.length-1;ee>=0;ee--){var N=(0|this.words[ee])+67108864*B;this.words[ee]=N/L|0,B=N%L}return this.strip()},w.prototype.divn=function(L){return this.clone().idivn(L)},w.prototype.egcd=function(L){x(0===L.negative),x(!L.isZero());var B=this,ee=L.clone();B=0!==B.negative?B.umod(L):B.clone();for(var N=new w(1),V=new w(0),U=new w(0),Q=new w(1),Z=0;B.isEven()&&ee.isEven();)B.iushrn(1),ee.iushrn(1),++Z;for(var K=ee.clone(),ne=B.clone();!B.isZero();){for(var ue=0,ce=1;0==(B.words[0]&ce)&&ue<26;++ue,ce<<=1);if(ue>0)for(B.iushrn(ue);ue-- >0;)(N.isOdd()||V.isOdd())&&(N.iadd(K),V.isub(ne)),N.iushrn(1),V.iushrn(1);for(var de=0,pe=1;0==(ee.words[0]&pe)&&de<26;++de,pe<<=1);if(de>0)for(ee.iushrn(de);de-- >0;)(U.isOdd()||Q.isOdd())&&(U.iadd(K),Q.isub(ne)),U.iushrn(1),Q.iushrn(1);B.cmp(ee)>=0?(B.isub(ee),N.isub(U),V.isub(Q)):(ee.isub(B),U.isub(N),Q.isub(V))}return{a:U,b:Q,gcd:ee.iushln(Z)}},w.prototype._invmp=function(L){x(0===L.negative),x(!L.isZero());var B=this,ee=L.clone();B=0!==B.negative?B.umod(L):B.clone();for(var N,V=new w(1),U=new w(0),Q=ee.clone();B.cmpn(1)>0&&ee.cmpn(1)>0;){for(var Z=0,K=1;0==(B.words[0]&K)&&Z<26;++Z,K<<=1);if(Z>0)for(B.iushrn(Z);Z-- >0;)V.isOdd()&&V.iadd(Q),V.iushrn(1);for(var ne=0,ue=1;0==(ee.words[0]&ue)&&ne<26;++ne,ue<<=1);if(ne>0)for(ee.iushrn(ne);ne-- >0;)U.isOdd()&&U.iadd(Q),U.iushrn(1);B.cmp(ee)>=0?(B.isub(ee),V.isub(U)):(ee.isub(B),U.isub(V))}return(N=0===B.cmpn(1)?V:U).cmpn(0)<0&&N.iadd(L),N},w.prototype.gcd=function(L){if(this.isZero())return L.abs();if(L.isZero())return this.abs();var B=this.clone(),ee=L.clone();B.negative=0,ee.negative=0;for(var N=0;B.isEven()&&ee.isEven();N++)B.iushrn(1),ee.iushrn(1);for(;;){for(;B.isEven();)B.iushrn(1);for(;ee.isEven();)ee.iushrn(1);var V=B.cmp(ee);if(V<0){var U=B;B=ee,ee=U}else if(0===V||0===ee.cmpn(1))break;B.isub(ee)}return ee.iushln(N)},w.prototype.invm=function(L){return this.egcd(L).a.umod(L)},w.prototype.isEven=function(){return 0==(1&this.words[0])},w.prototype.isOdd=function(){return 1==(1&this.words[0])},w.prototype.andln=function(L){return this.words[0]&L},w.prototype.bincn=function(L){x("number"==typeof L);var B=L%26,ee=(L-B)/26,N=1<<B;if(this.length<=ee)return this._expand(ee+1),this.words[ee]|=N,this;for(var V=N,U=ee;0!==V&&U<this.length;U++){var Q=0|this.words[U];V=(Q+=V)>>>26,this.words[U]=Q&=67108863}return 0!==V&&(this.words[U]=V,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(L){var B,ee=L<0;if(0!==this.negative&&!ee)return-1;if(0===this.negative&&ee)return 1;if(this.strip(),this.length>1)B=1;else{ee&&(L=-L),x(L<=67108863,"Number is too big");var N=0|this.words[0];B=N===L?0:N<L?-1:1}return 0!==this.negative?0|-B:B},w.prototype.cmp=function(L){if(0!==this.negative&&0===L.negative)return-1;if(0===this.negative&&0!==L.negative)return 1;var B=this.ucmp(L);return 0!==this.negative?0|-B:B},w.prototype.ucmp=function(L){if(this.length>L.length)return 1;if(this.length<L.length)return-1;for(var B=0,ee=this.length-1;ee>=0;ee--){var N=0|this.words[ee],V=0|L.words[ee];if(N!==V){N<V?B=-1:N>V&&(B=1);break}}return B},w.prototype.gtn=function(L){return 1===this.cmpn(L)},w.prototype.gt=function(L){return 1===this.cmp(L)},w.prototype.gten=function(L){return this.cmpn(L)>=0},w.prototype.gte=function(L){return this.cmp(L)>=0},w.prototype.ltn=function(L){return-1===this.cmpn(L)},w.prototype.lt=function(L){return-1===this.cmp(L)},w.prototype.lten=function(L){return this.cmpn(L)<=0},w.prototype.lte=function(L){return this.cmp(L)<=0},w.prototype.eqn=function(L){return 0===this.cmpn(L)},w.prototype.eq=function(L){return 0===this.cmp(L)},w.red=function(L){return new j(L)},w.prototype.toRed=function(L){return x(!this.red,"Already a number in reduction context"),x(0===this.negative,"red works only with positives"),L.convertTo(this)._forceRed(L)},w.prototype.fromRed=function(){return x(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(L){return this.red=L,this},w.prototype.forceRed=function(L){return x(!this.red,"Already a number in reduction context"),this._forceRed(L)},w.prototype.redAdd=function(L){return x(this.red,"redAdd works only with red numbers"),this.red.add(this,L)},w.prototype.redIAdd=function(L){return x(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,L)},w.prototype.redSub=function(L){return x(this.red,"redSub works only with red numbers"),this.red.sub(this,L)},w.prototype.redISub=function(L){return x(this.red,"redISub works only with red numbers"),this.red.isub(this,L)},w.prototype.redShl=function(L){return x(this.red,"redShl works only with red numbers"),this.red.shl(this,L)},w.prototype.redMul=function(L){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.mul(this,L)},w.prototype.redIMul=function(L){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,L),this.red.imul(this,L)},w.prototype.redSqr=function(){return x(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return x(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return x(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return x(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return x(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(L){return x(this.red&&!L.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,L)};var S={k256:null,p224:null,p192:null,p25519:null};function A(L,B){this.name=L,this.p=new w(B,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function P(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function X(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function J(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(L){if("string"==typeof L){var B=w._prime(L);this.m=B.p,this.prime=B}else x(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}function $(L){j.call(this,L),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var L=new w(null);return L.words=new Array(Math.ceil(this.n/13)),L},A.prototype.ireduce=function(L){var B,ee=L;do{this.split(ee,this.tmp),B=(ee=(ee=this.imulK(ee)).iadd(this.tmp)).bitLength()}while(B>this.n);var N=B<this.n?-1:ee.ucmp(this.p);return 0===N?(ee.words[0]=0,ee.length=1):N>0?ee.isub(this.p):void 0!==ee.strip?ee.strip():ee._strip(),ee},A.prototype.split=function(L,B){L.iushrn(this.n,0,B)},A.prototype.imulK=function(L){return L.imul(this.k)},O(P,A),P.prototype.split=function(L,B){for(var ee=Math.min(L.length,9),N=0;N<ee;N++)B.words[N]=L.words[N];if(B.length=ee,L.length<=9)return L.words[0]=0,void(L.length=1);var V=L.words[9];for(B.words[B.length++]=4194303&V,N=10;N<L.length;N++){var U=0|L.words[N];L.words[N-10]=(4194303&U)<<4|V>>>22,V=U}L.words[N-10]=V>>>=22,L.length-=0===V&&L.length>10?10:9},P.prototype.imulK=function(L){L.words[L.length]=0,L.words[L.length+1]=0,L.length+=2;for(var B=0,ee=0;ee<L.length;ee++){var N=0|L.words[ee];L.words[ee]=67108863&(B+=977*N),B=64*N+(B/67108864|0)}return 0===L.words[L.length-1]&&(L.length--,0===L.words[L.length-1]&&L.length--),L},O(H,A),O(X,A),O(J,A),J.prototype.imulK=function(L){for(var B=0,ee=0;ee<L.length;ee++){var N=19*(0|L.words[ee])+B,V=67108863&N;N>>>=26,L.words[ee]=V,B=N}return 0!==B&&(L.words[L.length++]=B),L},w._prime=function(L){if(S[L])return S[L];var B;if("k256"===L)B=new P;else if("p224"===L)B=new H;else if("p192"===L)B=new X;else{if("p25519"!==L)throw new Error("Unknown prime "+L);B=new J}return S[L]=B,B},j.prototype._verify1=function(L){x(0===L.negative,"red works only with positives"),x(L.red,"red works only with red numbers")},j.prototype._verify2=function(L,B){x(0==(L.negative|B.negative),"red works only with positives"),x(L.red&&L.red===B.red,"red works only with red numbers")},j.prototype.imod=function(L){return this.prime?this.prime.ireduce(L)._forceRed(this):L.umod(this.m)._forceRed(this)},j.prototype.neg=function(L){return L.isZero()?L.clone():this.m.sub(L)._forceRed(this)},j.prototype.add=function(L,B){this._verify2(L,B);var ee=L.add(B);return ee.cmp(this.m)>=0&&ee.isub(this.m),ee._forceRed(this)},j.prototype.iadd=function(L,B){this._verify2(L,B);var ee=L.iadd(B);return ee.cmp(this.m)>=0&&ee.isub(this.m),ee},j.prototype.sub=function(L,B){this._verify2(L,B);var ee=L.sub(B);return ee.cmpn(0)<0&&ee.iadd(this.m),ee._forceRed(this)},j.prototype.isub=function(L,B){this._verify2(L,B);var ee=L.isub(B);return ee.cmpn(0)<0&&ee.iadd(this.m),ee},j.prototype.shl=function(L,B){return this._verify1(L),this.imod(L.ushln(B))},j.prototype.imul=function(L,B){return this._verify2(L,B),this.imod(L.imul(B))},j.prototype.mul=function(L,B){return this._verify2(L,B),this.imod(L.mul(B))},j.prototype.isqr=function(L){return this.imul(L,L.clone())},j.prototype.sqr=function(L){return this.mul(L,L)},j.prototype.sqrt=function(L){if(L.isZero())return L.clone();var B=this.m.andln(3);if(x(B%2==1),3===B){var ee=this.m.add(new w(1)).iushrn(2);return this.pow(L,ee)}for(var N=this.m.subn(1),V=0;!N.isZero()&&0===N.andln(1);)V++,N.iushrn(1);x(!N.isZero());var U=new w(1).toRed(this),Q=U.redNeg(),Z=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new w(2*K*K).toRed(this);0!==this.pow(K,Z).cmp(Q);)K.redIAdd(Q);for(var ne=this.pow(K,N),ue=this.pow(L,N.addn(1).iushrn(1)),ce=this.pow(L,N),de=V;0!==ce.cmp(U);){for(var pe=ce,_e=0;0!==pe.cmp(U);_e++)pe=pe.redSqr();x(_e<de);var me=this.pow(ne,new w(1).iushln(de-_e-1));ue=ue.redMul(me),ne=me.redSqr(),ce=ce.redMul(ne),de=_e}return ue},j.prototype.invm=function(L){var B=L._invmp(this.m);return 0!==B.negative?(B.negative=0,this.imod(B).redNeg()):this.imod(B)},j.prototype.pow=function(L,B){if(B.isZero())return new w(1).toRed(this);if(0===B.cmpn(1))return L.clone();var ee=new Array(16);ee[0]=new w(1).toRed(this),ee[1]=L;for(var N=2;N<ee.length;N++)ee[N]=this.mul(ee[N-1],L);var V=ee[0],U=0,Q=0,Z=B.bitLength()%26;for(0===Z&&(Z=26),N=B.length-1;N>=0;N--){for(var K=B.words[N],ne=Z-1;ne>=0;ne--){var ue=K>>ne&1;V!==ee[0]&&(V=this.sqr(V)),0!==ue||0!==U?(U<<=1,U|=ue,(4==++Q||0===N&&0===ne)&&(V=this.mul(V,ee[U]),Q=0,U=0)):Q=0}Z=26}return V},j.prototype.convertTo=function(L){var B=L.umod(this.m);return B===L?B.clone():B},j.prototype.convertFrom=function(L){var B=L.clone();return B.red=null,B},w.mont=function(L){return new $(L)},O($,j),$.prototype.convertTo=function(L){return this.imod(L.ushln(this.shift))},$.prototype.convertFrom=function(L){var B=this.imod(L.mul(this.rinv));return B.red=null,B},$.prototype.imul=function(L,B){if(L.isZero()||B.isZero())return L.words[0]=0,L.length=1,L;var ee=L.imul(B),N=ee.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=ee.isub(N).iushrn(this.shift),U=V;return V.cmp(this.m)>=0?U=V.isub(this.m):V.cmpn(0)<0&&(U=V.iadd(this.m)),U._forceRed(this)},$.prototype.mul=function(L,B){if(L.isZero()||B.isZero())return new w(0)._forceRed(this);var ee=L.mul(B),N=ee.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=ee.isub(N).iushrn(this.shift),U=V;return V.cmp(this.m)>=0?U=V.isub(this.m):V.cmpn(0)<0&&(U=V.iadd(this.m)),U._forceRed(this)},$.prototype.invm=function(L){return this.imod(L._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===te||te)},{buffer:185}],182:[function(T,te,W){"use strict";W.byteLength=function(f){var d=E(f),c=d[1];return 3*(d[0]+c)/4-c},W.toByteArray=function(f){var d,u,H,c=E(f),m=c[0],g=c[1],y=new M(3*(m+(H=g))/4-H),b=0,S=g>0?m-4:m;for(u=0;u<S;u+=4)d=R[f.charCodeAt(u)]<<18|R[f.charCodeAt(u+1)]<<12|R[f.charCodeAt(u+2)]<<6|R[f.charCodeAt(u+3)],y[b++]=d>>16&255,y[b++]=d>>8&255,y[b++]=255&d;return 2===g&&(d=R[f.charCodeAt(u)]<<2|R[f.charCodeAt(u+1)]>>4,y[b++]=255&d),1===g&&(d=R[f.charCodeAt(u)]<<10|R[f.charCodeAt(u+1)]<<4|R[f.charCodeAt(u+2)]>>2,y[b++]=d>>8&255,y[b++]=255&d),y},W.fromByteArray=function(f){for(var d,u=f.length,c=u%3,m=[],g=0,y=u-c;g<y;g+=16383)m.push(C(f,g,g+16383>y?y:g+16383));return 1===c?m.push(k[(d=f[u-1])>>2]+k[d<<4&63]+"=="):2===c&&m.push(k[(d=(f[u-2]<<8)+f[u-1])>>10]+k[d>>4&63]+k[d<<2&63]+"="),m.join("")};for(var k=[],R=[],M=typeof Uint8Array<"u"?Uint8Array:Array,x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,w=x.length;O<w;++O)k[O]=x[O],R[x.charCodeAt(O)]=O;function E(f){var d=f.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=f.indexOf("=");return-1===u&&(u=d),[u,u===d?0:4-u%4]}function C(f,d,u){for(var m,g=[],y=d;y<u;y+=3)g.push(k[(m=(f[y]<<16&16711680)+(f[y+1]<<8&65280)+(255&f[y+2]))>>18&63]+k[m>>12&63]+k[m>>6&63]+k[63&m]);return g.join("")}R["-".charCodeAt(0)]=62,R["_".charCodeAt(0)]=63},{}],183:[function(T,te,W){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(R)}!function(R,M){function x(N,V){if(!N)throw new Error(V||"Assertion failed")}function O(N,V){N.super_=V;var U=function(){};U.prototype=V.prototype,N.prototype=new U,N.prototype.constructor=N}function w(N,V,U){if(w.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,null!==N&&("le"!==V&&"be"!==V||(U=V,V=10),this._init(N||0,V||10,U||"be"))}var E;"object"===k(R)?R.exports=w:(void 0).BN=w,w.BN=w,w.wordSize=26;try{E=T("buffer").Buffer}catch{}function C(N,V,U){for(var Q=0,Z=Math.min(N.length,U),K=0,ne=V;ne<Z;ne++){var ue,ce=N.charCodeAt(ne)-48;Q<<=4,Q|=ue=ce>=49&&ce<=54?ce-49+10:ce>=17&&ce<=22?ce-17+10:ce,K|=ue}return x(!(240&K),"Invalid character in "+N),Q}function f(N,V,U,Q){for(var Z=0,K=0,ne=Math.min(N.length,U),ue=V;ue<ne;ue++){var ce=N.charCodeAt(ue)-48;Z*=Q,K=ce>=49?ce-49+10:ce>=17?ce-17+10:ce,x(ce>=0&&K<Q,"Invalid character"),Z+=K}return Z}function d(N,V){N.words=V.words,N.length=V.length,N.negative=V.negative,N.red=V.red}if(w.isBN=function(N){return N instanceof w||null!==N&&"object"===k(N)&&N.constructor.wordSize===w.wordSize&&Array.isArray(N.words)},w.max=function(N,V){return N.cmp(V)>0?N:V},w.min=function(N,V){return N.cmp(V)<0?N:V},w.prototype._init=function(N,V,U){if("number"==typeof N)return this._initNumber(N,V,U);if("object"===k(N))return this._initArray(N,V,U);"hex"===V&&(V=16),x(V===(0|V)&&V>=2&&V<=36);var Q=0;"-"===(N=N.toString().replace(/\s+/g,""))[0]&&Q++,16===V?this._parseHex(N,Q):this._parseBase(N,V,Q),"-"===N[0]&&(this.negative=1),this._strip(),"le"===U&&this._initArray(this.toArray(),V,U)},w.prototype._initNumber=function(N,V,U){N<0&&(this.negative=1,N=-N),N<67108864?(this.words=[67108863&N],this.length=1):N<4503599627370496?(this.words=[67108863&N,N/67108864&67108863],this.length=2):(x(N<9007199254740992),this.words=[67108863&N,N/67108864&67108863,1],this.length=3),"le"===U&&this._initArray(this.toArray(),V,U)},w.prototype._initArray=function(N,V,U){if(x("number"==typeof N.length),N.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(N.length/3),this.words=new Array(this.length);for(var Q=0;Q<this.length;Q++)this.words[Q]=0;var Z,K,ne=0;if("be"===U)for(Q=N.length-1,Z=0;Q>=0;Q-=3)this.words[Z]|=(K=N[Q]|N[Q-1]<<8|N[Q-2]<<16)<<ne&67108863,this.words[Z+1]=K>>>26-ne&67108863,(ne+=24)>=26&&(ne-=26,Z++);else if("le"===U)for(Q=0,Z=0;Q<N.length;Q+=3)this.words[Z]|=(K=N[Q]|N[Q+1]<<8|N[Q+2]<<16)<<ne&67108863,this.words[Z+1]=K>>>26-ne&67108863,(ne+=24)>=26&&(ne-=26,Z++);return this._strip()},w.prototype._parseHex=function(N,V){this.length=Math.ceil((N.length-V)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var Q,Z,K=0;for(U=N.length-6,Q=0;U>=V;U-=6)Z=C(N,U,U+6),this.words[Q]|=Z<<K&67108863,this.words[Q+1]|=Z>>>26-K&4194303,(K+=24)>=26&&(K-=26,Q++);U+6!==V&&(Z=C(N,V,U+6),this.words[Q]|=Z<<K&67108863,this.words[Q+1]|=Z>>>26-K&4194303),this._strip()},w.prototype._parseBase=function(N,V,U){this.words=[0],this.length=1;for(var Q=0,Z=1;Z<=67108863;Z*=V)Q++;Q--,Z=Z/V|0;for(var K=N.length-U,ne=K%Q,ue=Math.min(K,K-ne)+U,ce=0,de=U;de<ue;de+=Q)ce=f(N,de,de+Q,V),this.imuln(Z),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce);if(0!==ne){var pe=1;for(ce=f(N,de,N.length,V),de=0;de<ne;de++)pe*=V;this.imuln(pe),this.words[0]+ce<67108864?this.words[0]+=ce:this._iaddn(ce)}},w.prototype.copy=function(N){N.words=new Array(this.length);for(var V=0;V<this.length;V++)N.words[V]=this.words[V];N.length=this.length,N.negative=this.negative,N.red=this.red},w.prototype._move=function(N){d(N,this)},w.prototype.clone=function(){var N=new w(null);return this.copy(N),N},w.prototype._expand=function(N){for(;this.length<N;)this.words[this.length++]=0;return this},w.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{w.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch{w.prototype.inspect=u}else w.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(N,V,U){U.negative=V.negative^N.negative;var Q=N.length+V.length|0;U.length=Q,Q=Q-1|0;var Z=0|N.words[0],K=0|V.words[0],ne=Z*K,ce=ne/67108864|0;U.words[0]=67108863&ne;for(var de=1;de<Q;de++){for(var pe=ce>>>26,_e=67108863&ce,me=Math.min(de,V.length-1),q=Math.max(0,de-N.length+1);q<=me;q++)pe+=(ne=(Z=0|N.words[de-q|0])*(K=0|V.words[q])+_e)/67108864|0,_e=67108863&ne;U.words[de]=0|_e,ce=0|pe}return 0!==ce?U.words[de]=0|ce:U.length--,U._strip()}w.prototype.toString=function(N,V){var U;if(V=0|V||1,16===(N=N||10)||"hex"===N){U="";for(var Q=0,Z=0,K=0;K<this.length;K++){var ne=this.words[K],ue=(16777215&(ne<<Q|Z)).toString(16);U=0!=(Z=ne>>>24-Q&16777215)||K!==this.length-1?c[6-ue.length]+ue+U:ue+U,(Q+=2)>=26&&(Q-=26,K--)}for(0!==Z&&(U=Z.toString(16)+U);U.length%V!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}if(N===(0|N)&&N>=2&&N<=36){var ce=m[N],de=g[N];U="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var _e=pe.modrn(de).toString(N);U=(pe=pe.idivn(de)).isZero()?_e+U:c[ce-_e.length]+_e+U}for(this.isZero()&&(U="0"+U);U.length%V!=0;)U="0"+U;return 0!==this.negative&&(U="-"+U),U}x(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var N=this.words[0];return 2===this.length?N+=67108864*this.words[1]:3===this.length&&1===this.words[2]?N+=4503599627370496+67108864*this.words[1]:this.length>2&&x(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-N:N},w.prototype.toJSON=function(){return this.toString(16,2)},E&&(w.prototype.toBuffer=function(N,V){return this.toArrayLike(E,N,V)}),w.prototype.toArray=function(N,V){return this.toArrayLike(Array,N,V)},w.prototype.toArrayLike=function(N,V,U){this._strip();var Q=this.byteLength(),Z=U||Math.max(1,Q);x(Q<=Z,"byte array longer than desired length"),x(Z>0,"Requested array length <= 0");var ne,ue,K=(ue=Z,(ne=N).allocUnsafe?ne.allocUnsafe(ue):new ne(ue));return this["_toArrayLike"+("le"===V?"LE":"BE")](K,Q),K},w.prototype._toArrayLikeLE=function(N,V){for(var U=0,Q=0,Z=0,K=0;Z<this.length;Z++){var ne=this.words[Z]<<K|Q;N[U++]=255&ne,U<N.length&&(N[U++]=ne>>8&255),U<N.length&&(N[U++]=ne>>16&255),6===K?(U<N.length&&(N[U++]=ne>>24&255),Q=0,K=0):(Q=ne>>>24,K+=2)}if(U<N.length)for(N[U++]=Q;U<N.length;)N[U++]=0},w.prototype._toArrayLikeBE=function(N,V){for(var U=N.length-1,Q=0,Z=0,K=0;Z<this.length;Z++){var ne=this.words[Z]<<K|Q;N[U--]=255&ne,U>=0&&(N[U--]=ne>>8&255),U>=0&&(N[U--]=ne>>16&255),6===K?(U>=0&&(N[U--]=ne>>24&255),Q=0,K=0):(Q=ne>>>24,K+=2)}if(U>=0)for(N[U--]=Q;U>=0;)N[U--]=0},w.prototype._countBits=Math.clz32?function(N){return 32-Math.clz32(N)}:function(N){var V=N,U=0;return V>=4096&&(U+=13,V>>>=13),V>=64&&(U+=7,V>>>=7),V>=8&&(U+=4,V>>>=4),V>=2&&(U+=2,V>>>=2),U+V},w.prototype._zeroBits=function(N){if(0===N)return 26;var V=N,U=0;return 0==(8191&V)&&(U+=13,V>>>=13),0==(127&V)&&(U+=7,V>>>=7),0==(15&V)&&(U+=4,V>>>=4),0==(3&V)&&(U+=2,V>>>=2),0==(1&V)&&U++,U},w.prototype.bitLength=function(){var V=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+V},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var N=0,V=0;V<this.length;V++){var U=this._zeroBits(this.words[V]);if(N+=U,26!==U)break}return N},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(N){return 0!==this.negative?this.abs().inotn(N).iaddn(1):this.clone()},w.prototype.fromTwos=function(N){return this.testn(N-1)?this.notn(N).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(N){for(;this.length<N.length;)this.words[this.length++]=0;for(var V=0;V<N.length;V++)this.words[V]=this.words[V]|N.words[V];return this._strip()},w.prototype.ior=function(N){return x(0==(this.negative|N.negative)),this.iuor(N)},w.prototype.or=function(N){return this.length>N.length?this.clone().ior(N):N.clone().ior(this)},w.prototype.uor=function(N){return this.length>N.length?this.clone().iuor(N):N.clone().iuor(this)},w.prototype.iuand=function(N){var V;V=this.length>N.length?N:this;for(var U=0;U<V.length;U++)this.words[U]=this.words[U]&N.words[U];return this.length=V.length,this._strip()},w.prototype.iand=function(N){return x(0==(this.negative|N.negative)),this.iuand(N)},w.prototype.and=function(N){return this.length>N.length?this.clone().iand(N):N.clone().iand(this)},w.prototype.uand=function(N){return this.length>N.length?this.clone().iuand(N):N.clone().iuand(this)},w.prototype.iuxor=function(N){var V,U;this.length>N.length?(V=this,U=N):(V=N,U=this);for(var Q=0;Q<U.length;Q++)this.words[Q]=V.words[Q]^U.words[Q];if(this!==V)for(;Q<V.length;Q++)this.words[Q]=V.words[Q];return this.length=V.length,this._strip()},w.prototype.ixor=function(N){return x(0==(this.negative|N.negative)),this.iuxor(N)},w.prototype.xor=function(N){return this.length>N.length?this.clone().ixor(N):N.clone().ixor(this)},w.prototype.uxor=function(N){return this.length>N.length?this.clone().iuxor(N):N.clone().iuxor(this)},w.prototype.inotn=function(N){x("number"==typeof N&&N>=0);var V=0|Math.ceil(N/26),U=N%26;this._expand(V),U>0&&V--;for(var Q=0;Q<V;Q++)this.words[Q]=67108863&~this.words[Q];return U>0&&(this.words[Q]=~this.words[Q]&67108863>>26-U),this._strip()},w.prototype.notn=function(N){return this.clone().inotn(N)},w.prototype.setn=function(N,V){x("number"==typeof N&&N>=0);var U=N/26|0,Q=N%26;return this._expand(U+1),this.words[U]=V?this.words[U]|1<<Q:this.words[U]&~(1<<Q),this._strip()},w.prototype.iadd=function(N){var V,U,Q;if(0!==this.negative&&0===N.negative)return this.negative=0,V=this.isub(N),this.negative^=1,this._normSign();if(0===this.negative&&0!==N.negative)return N.negative=0,V=this.isub(N),N.negative=1,V._normSign();this.length>N.length?(U=this,Q=N):(U=N,Q=this);for(var Z=0,K=0;K<Q.length;K++)this.words[K]=67108863&(V=(0|U.words[K])+(0|Q.words[K])+Z),Z=V>>>26;for(;0!==Z&&K<U.length;K++)this.words[K]=67108863&(V=(0|U.words[K])+Z),Z=V>>>26;if(this.length=U.length,0!==Z)this.words[this.length]=Z,this.length++;else if(U!==this)for(;K<U.length;K++)this.words[K]=U.words[K];return this},w.prototype.add=function(N){var V;return 0!==N.negative&&0===this.negative?(N.negative=0,V=this.sub(N),N.negative^=1,V):0===N.negative&&0!==this.negative?(this.negative=0,V=N.sub(this),this.negative=1,V):this.length>N.length?this.clone().iadd(N):N.clone().iadd(this)},w.prototype.isub=function(N){if(0!==N.negative){N.negative=0;var V=this.iadd(N);return N.negative=1,V._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(N),this.negative=1,this._normSign();var U,Q,Z=this.cmp(N);if(0===Z)return this.negative=0,this.length=1,this.words[0]=0,this;Z>0?(U=this,Q=N):(U=N,Q=this);for(var K=0,ne=0;ne<Q.length;ne++)K=(V=(0|U.words[ne])-(0|Q.words[ne])+K)>>26,this.words[ne]=67108863&V;for(;0!==K&&ne<U.length;ne++)K=(V=(0|U.words[ne])+K)>>26,this.words[ne]=67108863&V;if(0===K&&ne<U.length&&U!==this)for(;ne<U.length;ne++)this.words[ne]=U.words[ne];return this.length=Math.max(this.length,ne),U!==this&&(this.negative=1),this._strip()},w.prototype.sub=function(N){return this.clone().isub(N)};var b=function(N,V,U){var Q,Z,K,ne=N.words,ue=V.words,ce=U.words,de=0,pe=0|ne[0],_e=8191&pe,me=pe>>>13,q=0|ne[1],oe=8191&q,se=q>>>13,ve=0|ne[2],Se=8191&ve,De=ve>>>13,qe=0|ne[3],je=8191&qe,Ye=qe>>>13,st=0|ne[4],ct=8191&st,ht=st>>>13,sn=0|ne[5],bt=8191&sn,It=sn>>>13,ln=0|ne[6],nt=8191&ln,Xe=ln>>>13,Ae=0|ne[7],Pe=8191&Ae,We=Ae>>>13,ot=0|ne[8],Ue=8191&ot,Ne=ot>>>13,$e=0|ne[9],at=8191&$e,lt=$e>>>13,$t=0|ue[0],Et=8191&$t,xt=$t>>>13,Pn=0|ue[1],cn=8191&Pn,un=Pn>>>13,Qr=0|ue[2],Cn=8191&Qr,Tn=Qr>>>13,rr=0|ue[3],ft=8191&rr,Me=rr>>>13,ke=0|ue[4],Fe=8191&ke,Ke=ke>>>13,Qe=0|ue[5],wt=8191&Qe,Ht=Qe>>>13,Le=0|ue[6],He=8191&Le,Be=Le>>>13,St=0|ue[7],_t=8191&St,Vt=St>>>13,Ln=0|ue[8],Wt=8191&Ln,pn=Ln>>>13,Ze=0|ue[9],ze=8191&Ze,pt=Ze>>>13;U.negative=N.negative^V.negative,U.length=19;var At=(de+(Q=Math.imul(_e,Et))|0)+((8191&(Z=(Z=Math.imul(_e,xt))+Math.imul(me,Et)|0))<<13)|0;de=((K=Math.imul(me,xt))+(Z>>>13)|0)+(At>>>26)|0,At&=67108863,Q=Math.imul(oe,Et),Z=(Z=Math.imul(oe,xt))+Math.imul(se,Et)|0,K=Math.imul(se,xt);var tn=(de+(Q=Q+Math.imul(_e,cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,un)|0)+Math.imul(me,cn)|0))<<13)|0;de=((K=K+Math.imul(me,un)|0)+(Z>>>13)|0)+(tn>>>26)|0,tn&=67108863,Q=Math.imul(Se,Et),Z=(Z=Math.imul(Se,xt))+Math.imul(De,Et)|0,K=Math.imul(De,xt),Q=Q+Math.imul(oe,cn)|0,Z=(Z=Z+Math.imul(oe,un)|0)+Math.imul(se,cn)|0,K=K+Math.imul(se,un)|0;var vn=(de+(Q=Q+Math.imul(_e,Cn)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,Tn)|0)+Math.imul(me,Cn)|0))<<13)|0;de=((K=K+Math.imul(me,Tn)|0)+(Z>>>13)|0)+(vn>>>26)|0,vn&=67108863,Q=Math.imul(je,Et),Z=(Z=Math.imul(je,xt))+Math.imul(Ye,Et)|0,K=Math.imul(Ye,xt),Q=Q+Math.imul(Se,cn)|0,Z=(Z=Z+Math.imul(Se,un)|0)+Math.imul(De,cn)|0,K=K+Math.imul(De,un)|0,Q=Q+Math.imul(oe,Cn)|0,Z=(Z=Z+Math.imul(oe,Tn)|0)+Math.imul(se,Cn)|0,K=K+Math.imul(se,Tn)|0;var Vn=(de+(Q=Q+Math.imul(_e,ft)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,Me)|0)+Math.imul(me,ft)|0))<<13)|0;de=((K=K+Math.imul(me,Me)|0)+(Z>>>13)|0)+(Vn>>>26)|0,Vn&=67108863,Q=Math.imul(ct,Et),Z=(Z=Math.imul(ct,xt))+Math.imul(ht,Et)|0,K=Math.imul(ht,xt),Q=Q+Math.imul(je,cn)|0,Z=(Z=Z+Math.imul(je,un)|0)+Math.imul(Ye,cn)|0,K=K+Math.imul(Ye,un)|0,Q=Q+Math.imul(Se,Cn)|0,Z=(Z=Z+Math.imul(Se,Tn)|0)+Math.imul(De,Cn)|0,K=K+Math.imul(De,Tn)|0,Q=Q+Math.imul(oe,ft)|0,Z=(Z=Z+Math.imul(oe,Me)|0)+Math.imul(se,ft)|0,K=K+Math.imul(se,Me)|0;var lr=(de+(Q=Q+Math.imul(_e,Fe)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,Ke)|0)+Math.imul(me,Fe)|0))<<13)|0;de=((K=K+Math.imul(me,Ke)|0)+(Z>>>13)|0)+(lr>>>26)|0,lr&=67108863,Q=Math.imul(bt,Et),Z=(Z=Math.imul(bt,xt))+Math.imul(It,Et)|0,K=Math.imul(It,xt),Q=Q+Math.imul(ct,cn)|0,Z=(Z=Z+Math.imul(ct,un)|0)+Math.imul(ht,cn)|0,K=K+Math.imul(ht,un)|0,Q=Q+Math.imul(je,Cn)|0,Z=(Z=Z+Math.imul(je,Tn)|0)+Math.imul(Ye,Cn)|0,K=K+Math.imul(Ye,Tn)|0,Q=Q+Math.imul(Se,ft)|0,Z=(Z=Z+Math.imul(Se,Me)|0)+Math.imul(De,ft)|0,K=K+Math.imul(De,Me)|0,Q=Q+Math.imul(oe,Fe)|0,Z=(Z=Z+Math.imul(oe,Ke)|0)+Math.imul(se,Fe)|0,K=K+Math.imul(se,Ke)|0;var xn=(de+(Q=Q+Math.imul(_e,wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,Ht)|0)+Math.imul(me,wt)|0))<<13)|0;de=((K=K+Math.imul(me,Ht)|0)+(Z>>>13)|0)+(xn>>>26)|0,xn&=67108863,Q=Math.imul(nt,Et),Z=(Z=Math.imul(nt,xt))+Math.imul(Xe,Et)|0,K=Math.imul(Xe,xt),Q=Q+Math.imul(bt,cn)|0,Z=(Z=Z+Math.imul(bt,un)|0)+Math.imul(It,cn)|0,K=K+Math.imul(It,un)|0,Q=Q+Math.imul(ct,Cn)|0,Z=(Z=Z+Math.imul(ct,Tn)|0)+Math.imul(ht,Cn)|0,K=K+Math.imul(ht,Tn)|0,Q=Q+Math.imul(je,ft)|0,Z=(Z=Z+Math.imul(je,Me)|0)+Math.imul(Ye,ft)|0,K=K+Math.imul(Ye,Me)|0,Q=Q+Math.imul(Se,Fe)|0,Z=(Z=Z+Math.imul(Se,Ke)|0)+Math.imul(De,Fe)|0,K=K+Math.imul(De,Ke)|0,Q=Q+Math.imul(oe,wt)|0,Z=(Z=Z+Math.imul(oe,Ht)|0)+Math.imul(se,wt)|0,K=K+Math.imul(se,Ht)|0;var Dr=(de+(Q=Q+Math.imul(_e,He)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,Be)|0)+Math.imul(me,He)|0))<<13)|0;de=((K=K+Math.imul(me,Be)|0)+(Z>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,Q=Math.imul(Pe,Et),Z=(Z=Math.imul(Pe,xt))+Math.imul(We,Et)|0,K=Math.imul(We,xt),Q=Q+Math.imul(nt,cn)|0,Z=(Z=Z+Math.imul(nt,un)|0)+Math.imul(Xe,cn)|0,K=K+Math.imul(Xe,un)|0,Q=Q+Math.imul(bt,Cn)|0,Z=(Z=Z+Math.imul(bt,Tn)|0)+Math.imul(It,Cn)|0,K=K+Math.imul(It,Tn)|0,Q=Q+Math.imul(ct,ft)|0,Z=(Z=Z+Math.imul(ct,Me)|0)+Math.imul(ht,ft)|0,K=K+Math.imul(ht,Me)|0,Q=Q+Math.imul(je,Fe)|0,Z=(Z=Z+Math.imul(je,Ke)|0)+Math.imul(Ye,Fe)|0,K=K+Math.imul(Ye,Ke)|0,Q=Q+Math.imul(Se,wt)|0,Z=(Z=Z+Math.imul(Se,Ht)|0)+Math.imul(De,wt)|0,K=K+Math.imul(De,Ht)|0,Q=Q+Math.imul(oe,He)|0,Z=(Z=Z+Math.imul(oe,Be)|0)+Math.imul(se,He)|0,K=K+Math.imul(se,Be)|0;var Re=(de+(Q=Q+Math.imul(_e,_t)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,Vt)|0)+Math.imul(me,_t)|0))<<13)|0;de=((K=K+Math.imul(me,Vt)|0)+(Z>>>13)|0)+(Re>>>26)|0,Re&=67108863,Q=Math.imul(Ue,Et),Z=(Z=Math.imul(Ue,xt))+Math.imul(Ne,Et)|0,K=Math.imul(Ne,xt),Q=Q+Math.imul(Pe,cn)|0,Z=(Z=Z+Math.imul(Pe,un)|0)+Math.imul(We,cn)|0,K=K+Math.imul(We,un)|0,Q=Q+Math.imul(nt,Cn)|0,Z=(Z=Z+Math.imul(nt,Tn)|0)+Math.imul(Xe,Cn)|0,K=K+Math.imul(Xe,Tn)|0,Q=Q+Math.imul(bt,ft)|0,Z=(Z=Z+Math.imul(bt,Me)|0)+Math.imul(It,ft)|0,K=K+Math.imul(It,Me)|0,Q=Q+Math.imul(ct,Fe)|0,Z=(Z=Z+Math.imul(ct,Ke)|0)+Math.imul(ht,Fe)|0,K=K+Math.imul(ht,Ke)|0,Q=Q+Math.imul(je,wt)|0,Z=(Z=Z+Math.imul(je,Ht)|0)+Math.imul(Ye,wt)|0,K=K+Math.imul(Ye,Ht)|0,Q=Q+Math.imul(Se,He)|0,Z=(Z=Z+Math.imul(Se,Be)|0)+Math.imul(De,He)|0,K=K+Math.imul(De,Be)|0,Q=Q+Math.imul(oe,_t)|0,Z=(Z=Z+Math.imul(oe,Vt)|0)+Math.imul(se,_t)|0,K=K+Math.imul(se,Vt)|0;var Je=(de+(Q=Q+Math.imul(_e,Wt)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,pn)|0)+Math.imul(me,Wt)|0))<<13)|0;de=((K=K+Math.imul(me,pn)|0)+(Z>>>13)|0)+(Je>>>26)|0,Je&=67108863,Q=Math.imul(at,Et),Z=(Z=Math.imul(at,xt))+Math.imul(lt,Et)|0,K=Math.imul(lt,xt),Q=Q+Math.imul(Ue,cn)|0,Z=(Z=Z+Math.imul(Ue,un)|0)+Math.imul(Ne,cn)|0,K=K+Math.imul(Ne,un)|0,Q=Q+Math.imul(Pe,Cn)|0,Z=(Z=Z+Math.imul(Pe,Tn)|0)+Math.imul(We,Cn)|0,K=K+Math.imul(We,Tn)|0,Q=Q+Math.imul(nt,ft)|0,Z=(Z=Z+Math.imul(nt,Me)|0)+Math.imul(Xe,ft)|0,K=K+Math.imul(Xe,Me)|0,Q=Q+Math.imul(bt,Fe)|0,Z=(Z=Z+Math.imul(bt,Ke)|0)+Math.imul(It,Fe)|0,K=K+Math.imul(It,Ke)|0,Q=Q+Math.imul(ct,wt)|0,Z=(Z=Z+Math.imul(ct,Ht)|0)+Math.imul(ht,wt)|0,K=K+Math.imul(ht,Ht)|0,Q=Q+Math.imul(je,He)|0,Z=(Z=Z+Math.imul(je,Be)|0)+Math.imul(Ye,He)|0,K=K+Math.imul(Ye,Be)|0,Q=Q+Math.imul(Se,_t)|0,Z=(Z=Z+Math.imul(Se,Vt)|0)+Math.imul(De,_t)|0,K=K+Math.imul(De,Vt)|0,Q=Q+Math.imul(oe,Wt)|0,Z=(Z=Z+Math.imul(oe,pn)|0)+Math.imul(se,Wt)|0,K=K+Math.imul(se,pn)|0;var Ot=(de+(Q=Q+Math.imul(_e,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(_e,pt)|0)+Math.imul(me,ze)|0))<<13)|0;de=((K=K+Math.imul(me,pt)|0)+(Z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Q=Math.imul(at,cn),Z=(Z=Math.imul(at,un))+Math.imul(lt,cn)|0,K=Math.imul(lt,un),Q=Q+Math.imul(Ue,Cn)|0,Z=(Z=Z+Math.imul(Ue,Tn)|0)+Math.imul(Ne,Cn)|0,K=K+Math.imul(Ne,Tn)|0,Q=Q+Math.imul(Pe,ft)|0,Z=(Z=Z+Math.imul(Pe,Me)|0)+Math.imul(We,ft)|0,K=K+Math.imul(We,Me)|0,Q=Q+Math.imul(nt,Fe)|0,Z=(Z=Z+Math.imul(nt,Ke)|0)+Math.imul(Xe,Fe)|0,K=K+Math.imul(Xe,Ke)|0,Q=Q+Math.imul(bt,wt)|0,Z=(Z=Z+Math.imul(bt,Ht)|0)+Math.imul(It,wt)|0,K=K+Math.imul(It,Ht)|0,Q=Q+Math.imul(ct,He)|0,Z=(Z=Z+Math.imul(ct,Be)|0)+Math.imul(ht,He)|0,K=K+Math.imul(ht,Be)|0,Q=Q+Math.imul(je,_t)|0,Z=(Z=Z+Math.imul(je,Vt)|0)+Math.imul(Ye,_t)|0,K=K+Math.imul(Ye,Vt)|0,Q=Q+Math.imul(Se,Wt)|0,Z=(Z=Z+Math.imul(Se,pn)|0)+Math.imul(De,Wt)|0,K=K+Math.imul(De,pn)|0;var vt=(de+(Q=Q+Math.imul(oe,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(oe,pt)|0)+Math.imul(se,ze)|0))<<13)|0;de=((K=K+Math.imul(se,pt)|0)+(Z>>>13)|0)+(vt>>>26)|0,vt&=67108863,Q=Math.imul(at,Cn),Z=(Z=Math.imul(at,Tn))+Math.imul(lt,Cn)|0,K=Math.imul(lt,Tn),Q=Q+Math.imul(Ue,ft)|0,Z=(Z=Z+Math.imul(Ue,Me)|0)+Math.imul(Ne,ft)|0,K=K+Math.imul(Ne,Me)|0,Q=Q+Math.imul(Pe,Fe)|0,Z=(Z=Z+Math.imul(Pe,Ke)|0)+Math.imul(We,Fe)|0,K=K+Math.imul(We,Ke)|0,Q=Q+Math.imul(nt,wt)|0,Z=(Z=Z+Math.imul(nt,Ht)|0)+Math.imul(Xe,wt)|0,K=K+Math.imul(Xe,Ht)|0,Q=Q+Math.imul(bt,He)|0,Z=(Z=Z+Math.imul(bt,Be)|0)+Math.imul(It,He)|0,K=K+Math.imul(It,Be)|0,Q=Q+Math.imul(ct,_t)|0,Z=(Z=Z+Math.imul(ct,Vt)|0)+Math.imul(ht,_t)|0,K=K+Math.imul(ht,Vt)|0,Q=Q+Math.imul(je,Wt)|0,Z=(Z=Z+Math.imul(je,pn)|0)+Math.imul(Ye,Wt)|0,K=K+Math.imul(Ye,pn)|0;var Rt=(de+(Q=Q+Math.imul(Se,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Se,pt)|0)+Math.imul(De,ze)|0))<<13)|0;de=((K=K+Math.imul(De,pt)|0)+(Z>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,Q=Math.imul(at,ft),Z=(Z=Math.imul(at,Me))+Math.imul(lt,ft)|0,K=Math.imul(lt,Me),Q=Q+Math.imul(Ue,Fe)|0,Z=(Z=Z+Math.imul(Ue,Ke)|0)+Math.imul(Ne,Fe)|0,K=K+Math.imul(Ne,Ke)|0,Q=Q+Math.imul(Pe,wt)|0,Z=(Z=Z+Math.imul(Pe,Ht)|0)+Math.imul(We,wt)|0,K=K+Math.imul(We,Ht)|0,Q=Q+Math.imul(nt,He)|0,Z=(Z=Z+Math.imul(nt,Be)|0)+Math.imul(Xe,He)|0,K=K+Math.imul(Xe,Be)|0,Q=Q+Math.imul(bt,_t)|0,Z=(Z=Z+Math.imul(bt,Vt)|0)+Math.imul(It,_t)|0,K=K+Math.imul(It,Vt)|0,Q=Q+Math.imul(ct,Wt)|0,Z=(Z=Z+Math.imul(ct,pn)|0)+Math.imul(ht,Wt)|0,K=K+Math.imul(ht,pn)|0;var mn=(de+(Q=Q+Math.imul(je,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(je,pt)|0)+Math.imul(Ye,ze)|0))<<13)|0;de=((K=K+Math.imul(Ye,pt)|0)+(Z>>>13)|0)+(mn>>>26)|0,mn&=67108863,Q=Math.imul(at,Fe),Z=(Z=Math.imul(at,Ke))+Math.imul(lt,Fe)|0,K=Math.imul(lt,Ke),Q=Q+Math.imul(Ue,wt)|0,Z=(Z=Z+Math.imul(Ue,Ht)|0)+Math.imul(Ne,wt)|0,K=K+Math.imul(Ne,Ht)|0,Q=Q+Math.imul(Pe,He)|0,Z=(Z=Z+Math.imul(Pe,Be)|0)+Math.imul(We,He)|0,K=K+Math.imul(We,Be)|0,Q=Q+Math.imul(nt,_t)|0,Z=(Z=Z+Math.imul(nt,Vt)|0)+Math.imul(Xe,_t)|0,K=K+Math.imul(Xe,Vt)|0,Q=Q+Math.imul(bt,Wt)|0,Z=(Z=Z+Math.imul(bt,pn)|0)+Math.imul(It,Wt)|0,K=K+Math.imul(It,pn)|0;var hn=(de+(Q=Q+Math.imul(ct,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(ct,pt)|0)+Math.imul(ht,ze)|0))<<13)|0;de=((K=K+Math.imul(ht,pt)|0)+(Z>>>13)|0)+(hn>>>26)|0,hn&=67108863,Q=Math.imul(at,wt),Z=(Z=Math.imul(at,Ht))+Math.imul(lt,wt)|0,K=Math.imul(lt,Ht),Q=Q+Math.imul(Ue,He)|0,Z=(Z=Z+Math.imul(Ue,Be)|0)+Math.imul(Ne,He)|0,K=K+Math.imul(Ne,Be)|0,Q=Q+Math.imul(Pe,_t)|0,Z=(Z=Z+Math.imul(Pe,Vt)|0)+Math.imul(We,_t)|0,K=K+Math.imul(We,Vt)|0,Q=Q+Math.imul(nt,Wt)|0,Z=(Z=Z+Math.imul(nt,pn)|0)+Math.imul(Xe,Wt)|0,K=K+Math.imul(Xe,pn)|0;var Hn=(de+(Q=Q+Math.imul(bt,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(bt,pt)|0)+Math.imul(It,ze)|0))<<13)|0;de=((K=K+Math.imul(It,pt)|0)+(Z>>>13)|0)+(Hn>>>26)|0,Hn&=67108863,Q=Math.imul(at,He),Z=(Z=Math.imul(at,Be))+Math.imul(lt,He)|0,K=Math.imul(lt,Be),Q=Q+Math.imul(Ue,_t)|0,Z=(Z=Z+Math.imul(Ue,Vt)|0)+Math.imul(Ne,_t)|0,K=K+Math.imul(Ne,Vt)|0,Q=Q+Math.imul(Pe,Wt)|0,Z=(Z=Z+Math.imul(Pe,pn)|0)+Math.imul(We,Wt)|0,K=K+Math.imul(We,pn)|0;var Fn=(de+(Q=Q+Math.imul(nt,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(nt,pt)|0)+Math.imul(Xe,ze)|0))<<13)|0;de=((K=K+Math.imul(Xe,pt)|0)+(Z>>>13)|0)+(Fn>>>26)|0,Fn&=67108863,Q=Math.imul(at,_t),Z=(Z=Math.imul(at,Vt))+Math.imul(lt,_t)|0,K=Math.imul(lt,Vt),Q=Q+Math.imul(Ue,Wt)|0,Z=(Z=Z+Math.imul(Ue,pn)|0)+Math.imul(Ne,Wt)|0,K=K+Math.imul(Ne,pn)|0;var Sn=(de+(Q=Q+Math.imul(Pe,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Pe,pt)|0)+Math.imul(We,ze)|0))<<13)|0;de=((K=K+Math.imul(We,pt)|0)+(Z>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,Q=Math.imul(at,Wt),Z=(Z=Math.imul(at,pn))+Math.imul(lt,Wt)|0,K=Math.imul(lt,pn);var kn=(de+(Q=Q+Math.imul(Ue,ze)|0)|0)+((8191&(Z=(Z=Z+Math.imul(Ue,pt)|0)+Math.imul(Ne,ze)|0))<<13)|0;de=((K=K+Math.imul(Ne,pt)|0)+(Z>>>13)|0)+(kn>>>26)|0,kn&=67108863;var Tr=(de+(Q=Math.imul(at,ze))|0)+((8191&(Z=(Z=Math.imul(at,pt))+Math.imul(lt,ze)|0))<<13)|0;return de=((K=Math.imul(lt,pt))+(Z>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,ce[0]=At,ce[1]=tn,ce[2]=vn,ce[3]=Vn,ce[4]=lr,ce[5]=xn,ce[6]=Dr,ce[7]=Re,ce[8]=Je,ce[9]=Ot,ce[10]=vt,ce[11]=Rt,ce[12]=mn,ce[13]=hn,ce[14]=Hn,ce[15]=Fn,ce[16]=Sn,ce[17]=kn,ce[18]=Tr,0!==de&&(ce[19]=de,U.length++),U};function S(N,V,U){U.negative=V.negative^N.negative,U.length=N.length+V.length;for(var Q=0,Z=0,K=0;K<U.length-1;K++){var ne=Z;Z=0;for(var ue=67108863&Q,ce=Math.min(K,V.length-1),de=Math.max(0,K-N.length+1);de<=ce;de++){var _e=(0|N.words[K-de])*(0|V.words[de]),me=67108863&_e;ue=67108863&(me=me+ue|0),Z+=(ne=(ne=ne+(_e/67108864|0)|0)+(me>>>26)|0)>>>26,ne&=67108863}U.words[K]=ue,Q=ne,ne=Z}return 0!==Q?U.words[K]=Q:U.length--,U._strip()}function A(N,V,U){return S(N,V,U)}function P(N,V){this.x=N,this.y=V}Math.imul||(b=y),w.prototype.mulTo=function(N,V){var U=this.length+N.length;return 10===this.length&&10===N.length?b(this,N,V):U<63?y(this,N,V):U<1024?S(this,N,V):A(this,N,V)},P.prototype.makeRBT=function(N){for(var V=new Array(N),U=w.prototype._countBits(N)-1,Q=0;Q<N;Q++)V[Q]=this.revBin(Q,U,N);return V},P.prototype.revBin=function(N,V,U){if(0===N||N===U-1)return N;for(var Q=0,Z=0;Z<V;Z++)Q|=(1&N)<<V-Z-1,N>>=1;return Q},P.prototype.permute=function(N,V,U,Q,Z,K){for(var ne=0;ne<K;ne++)Q[ne]=V[N[ne]],Z[ne]=U[N[ne]]},P.prototype.transform=function(N,V,U,Q,Z,K){this.permute(K,N,V,U,Q,Z);for(var ne=1;ne<Z;ne<<=1)for(var ue=ne<<1,ce=Math.cos(2*Math.PI/ue),de=Math.sin(2*Math.PI/ue),pe=0;pe<Z;pe+=ue)for(var _e=ce,me=de,q=0;q<ne;q++){var oe=U[pe+q],se=Q[pe+q],ve=U[pe+q+ne],Se=Q[pe+q+ne],De=_e*ve-me*Se;Se=_e*Se+me*ve,U[pe+q]=oe+(ve=De),Q[pe+q]=se+Se,U[pe+q+ne]=oe-ve,Q[pe+q+ne]=se-Se,q!==ue&&(De=ce*_e-de*me,me=ce*me+de*_e,_e=De)}},P.prototype.guessLen13b=function(N,V){var U=1|Math.max(V,N),Q=1&U,Z=0;for(U=U/2|0;U;U>>>=1)Z++;return 1<<Z+1+Q},P.prototype.conjugate=function(N,V,U){if(!(U<=1))for(var Q=0;Q<U/2;Q++){var Z=N[Q];N[Q]=N[U-Q-1],N[U-Q-1]=Z,Z=V[Q],V[Q]=-V[U-Q-1],V[U-Q-1]=-Z}},P.prototype.normalize13b=function(N,V){for(var U=0,Q=0;Q<V/2;Q++){var Z=8192*Math.round(N[2*Q+1]/V)+Math.round(N[2*Q]/V)+U;N[Q]=67108863&Z,U=Z<67108864?0:Z/67108864|0}return N},P.prototype.convert13b=function(N,V,U,Q){for(var Z=0,K=0;K<V;K++)U[2*K]=8191&(Z+=0|N[K]),U[2*K+1]=8191&(Z>>>=13),Z>>>=13;for(K=2*V;K<Q;++K)U[K]=0;x(0===Z),x(0==(-8192&Z))},P.prototype.stub=function(N){for(var V=new Array(N),U=0;U<N;U++)V[U]=0;return V},P.prototype.mulp=function(N,V,U){var Q=2*this.guessLen13b(N.length,V.length),Z=this.makeRBT(Q),K=this.stub(Q),ne=new Array(Q),ue=new Array(Q),ce=new Array(Q),de=new Array(Q),pe=new Array(Q),_e=new Array(Q),me=U.words;me.length=Q,this.convert13b(N.words,N.length,ne,Q),this.convert13b(V.words,V.length,de,Q),this.transform(ne,K,ue,ce,Q,Z),this.transform(de,K,pe,_e,Q,Z);for(var q=0;q<Q;q++){var oe=ue[q]*pe[q]-ce[q]*_e[q];ce[q]=ue[q]*_e[q]+ce[q]*pe[q],ue[q]=oe}return this.conjugate(ue,ce,Q),this.transform(ue,ce,me,K,Q,Z),this.conjugate(me,K,Q),this.normalize13b(me,Q),U.negative=N.negative^V.negative,U.length=N.length+V.length,U._strip()},w.prototype.mul=function(N){var V=new w(null);return V.words=new Array(this.length+N.length),this.mulTo(N,V)},w.prototype.mulf=function(N){var V=new w(null);return V.words=new Array(this.length+N.length),A(this,N,V)},w.prototype.imul=function(N){return this.clone().mulTo(N,this)},w.prototype.imuln=function(N){var V=N<0;V&&(N=-N),x("number"==typeof N),x(N<67108864);for(var U=0,Q=0;Q<this.length;Q++){var Z=(0|this.words[Q])*N,K=(67108863&Z)+(67108863&U);U>>=26,U+=Z/67108864|0,U+=K>>>26,this.words[Q]=67108863&K}return 0!==U&&(this.words[Q]=U,this.length++),V?this.ineg():this},w.prototype.muln=function(N){return this.clone().imuln(N)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(N){var V=function(K){for(var ne=new Array(K.bitLength()),ue=0;ue<ne.length;ue++)ne[ue]=K.words[ue/26|0]>>>ue%26&1;return ne}(N);if(0===V.length)return new w(1);for(var U=this,Q=0;Q<V.length&&0===V[Q];Q++,U=U.sqr());if(++Q<V.length)for(var Z=U.sqr();Q<V.length;Q++,Z=Z.sqr())0!==V[Q]&&(U=U.mul(Z));return U},w.prototype.iushln=function(N){x("number"==typeof N&&N>=0);var V,U=N%26,Q=(N-U)/26,Z=67108863>>>26-U<<26-U;if(0!==U){var K=0;for(V=0;V<this.length;V++){var ne=this.words[V]&Z;this.words[V]=(0|this.words[V])-ne<<U|K,K=ne>>>26-U}K&&(this.words[V]=K,this.length++)}if(0!==Q){for(V=this.length-1;V>=0;V--)this.words[V+Q]=this.words[V];for(V=0;V<Q;V++)this.words[V]=0;this.length+=Q}return this._strip()},w.prototype.ishln=function(N){return x(0===this.negative),this.iushln(N)},w.prototype.iushrn=function(N,V,U){var Q;x("number"==typeof N&&N>=0),Q=V?(V-V%26)/26:0;var Z=N%26,K=Math.min((N-Z)/26,this.length),ne=67108863^67108863>>>Z<<Z,ue=U;if(Q-=K,Q=Math.max(0,Q),ue){for(var ce=0;ce<K;ce++)ue.words[ce]=this.words[ce];ue.length=K}if(0!==K)if(this.length>K)for(this.length-=K,ce=0;ce<this.length;ce++)this.words[ce]=this.words[ce+K];else this.words[0]=0,this.length=1;var de=0;for(ce=this.length-1;ce>=0&&(0!==de||ce>=Q);ce--){var pe=0|this.words[ce];this.words[ce]=de<<26-Z|pe>>>Z,de=pe&ne}return ue&&0!==de&&(ue.words[ue.length++]=de),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},w.prototype.ishrn=function(N,V,U){return x(0===this.negative),this.iushrn(N,V,U)},w.prototype.shln=function(N){return this.clone().ishln(N)},w.prototype.ushln=function(N){return this.clone().iushln(N)},w.prototype.shrn=function(N){return this.clone().ishrn(N)},w.prototype.ushrn=function(N){return this.clone().iushrn(N)},w.prototype.testn=function(N){x("number"==typeof N&&N>=0);var V=N%26,U=(N-V)/26;return!(this.length<=U||!(this.words[U]&1<<V))},w.prototype.imaskn=function(N){x("number"==typeof N&&N>=0);var V=N%26,U=(N-V)/26;return x(0===this.negative,"imaskn works only with positive numbers"),this.length<=U?this:(0!==V&&U++,this.length=Math.min(U,this.length),0!==V&&(this.words[this.length-1]&=67108863^67108863>>>V<<V),this._strip())},w.prototype.maskn=function(N){return this.clone().imaskn(N)},w.prototype.iaddn=function(N){return x("number"==typeof N),x(N<67108864),N<0?this.isubn(-N):0!==this.negative?1===this.length&&(0|this.words[0])<=N?(this.words[0]=N-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(N),this.negative=1,this):this._iaddn(N)},w.prototype._iaddn=function(N){this.words[0]+=N;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},w.prototype.isubn=function(N){if(x("number"==typeof N),x(N<67108864),N<0)return this.iaddn(-N);if(0!==this.negative)return this.negative=0,this.iaddn(N),this.negative=1,this;if(this.words[0]-=N,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this._strip()},w.prototype.addn=function(N){return this.clone().iaddn(N)},w.prototype.subn=function(N){return this.clone().isubn(N)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(N,V,U){var Q,Z;this._expand(N.length+U);var ne=0;for(Q=0;Q<N.length;Q++){Z=(0|this.words[Q+U])+ne;var ue=(0|N.words[Q])*V;ne=((Z-=67108863&ue)>>26)-(ue/67108864|0),this.words[Q+U]=67108863&Z}for(;Q<this.length-U;Q++)ne=(Z=(0|this.words[Q+U])+ne)>>26,this.words[Q+U]=67108863&Z;if(0===ne)return this._strip();for(x(-1===ne),ne=0,Q=0;Q<this.length;Q++)ne=(Z=-(0|this.words[Q])+ne)>>26,this.words[Q]=67108863&Z;return this.negative=1,this._strip()},w.prototype._wordDiv=function(N,V){var U,Q=this.clone(),Z=N,K=0|Z.words[Z.length-1];0!=(U=26-this._countBits(K))&&(Z=Z.ushln(U),Q.iushln(U),K=0|Z.words[Z.length-1]);var ne,ue=Q.length-Z.length;if("mod"!==V){(ne=new w(null)).length=ue+1,ne.words=new Array(ne.length);for(var ce=0;ce<ne.length;ce++)ne.words[ce]=0}var de=Q.clone()._ishlnsubmul(Z,1,ue);0===de.negative&&(Q=de,ne&&(ne.words[ue]=1));for(var pe=ue-1;pe>=0;pe--){var _e=67108864*(0|Q.words[Z.length+pe])+(0|Q.words[Z.length+pe-1]);for(_e=Math.min(_e/K|0,67108863),Q._ishlnsubmul(Z,_e,pe);0!==Q.negative;)_e--,Q.negative=0,Q._ishlnsubmul(Z,1,pe),Q.isZero()||(Q.negative^=1);ne&&(ne.words[pe]=_e)}return ne&&ne._strip(),Q._strip(),"div"!==V&&0!==U&&Q.iushrn(U),{div:ne||null,mod:Q}},w.prototype.divmod=function(N,V,U){return x(!N.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===N.negative?(K=this.neg().divmod(N,V),"mod"!==V&&(Q=K.div.neg()),"div"!==V&&(Z=K.mod.neg(),U&&0!==Z.negative&&Z.iadd(N)),{div:Q,mod:Z}):0===this.negative&&0!==N.negative?(K=this.divmod(N.neg(),V),"mod"!==V&&(Q=K.div.neg()),{div:Q,mod:K.mod}):0!=(this.negative&N.negative)?(K=this.neg().divmod(N.neg(),V),"div"!==V&&(Z=K.mod.neg(),U&&0!==Z.negative&&Z.isub(N)),{div:K.div,mod:Z}):N.length>this.length||this.cmp(N)<0?{div:new w(0),mod:this}:1===N.length?"div"===V?{div:this.divn(N.words[0]),mod:null}:"mod"===V?{div:null,mod:new w(this.modrn(N.words[0]))}:{div:this.divn(N.words[0]),mod:new w(this.modrn(N.words[0]))}:this._wordDiv(N,V);var Q,Z,K},w.prototype.div=function(N){return this.divmod(N,"div",!1).div},w.prototype.mod=function(N){return this.divmod(N,"mod",!1).mod},w.prototype.umod=function(N){return this.divmod(N,"mod",!0).mod},w.prototype.divRound=function(N){var V=this.divmod(N);if(V.mod.isZero())return V.div;var U=0!==V.div.negative?V.mod.isub(N):V.mod,Q=N.ushrn(1),Z=N.andln(1),K=U.cmp(Q);return K<0||1===Z&&0===K?V.div:0!==V.div.negative?V.div.isubn(1):V.div.iaddn(1)},w.prototype.modrn=function(N){var V=N<0;V&&(N=-N),x(N<=67108863);for(var U=(1<<26)%N,Q=0,Z=this.length-1;Z>=0;Z--)Q=(U*Q+(0|this.words[Z]))%N;return V?-Q:Q},w.prototype.modn=function(N){return this.modrn(N)},w.prototype.idivn=function(N){var V=N<0;V&&(N=-N),x(N<=67108863);for(var U=0,Q=this.length-1;Q>=0;Q--){var Z=(0|this.words[Q])+67108864*U;this.words[Q]=Z/N|0,U=Z%N}return this._strip(),V?this.ineg():this},w.prototype.divn=function(N){return this.clone().idivn(N)},w.prototype.egcd=function(N){x(0===N.negative),x(!N.isZero());var V=this,U=N.clone();V=0!==V.negative?V.umod(N):V.clone();for(var Q=new w(1),Z=new w(0),K=new w(0),ne=new w(1),ue=0;V.isEven()&&U.isEven();)V.iushrn(1),U.iushrn(1),++ue;for(var ce=U.clone(),de=V.clone();!V.isZero();){for(var pe=0,_e=1;0==(V.words[0]&_e)&&pe<26;++pe,_e<<=1);if(pe>0)for(V.iushrn(pe);pe-- >0;)(Q.isOdd()||Z.isOdd())&&(Q.iadd(ce),Z.isub(de)),Q.iushrn(1),Z.iushrn(1);for(var me=0,q=1;0==(U.words[0]&q)&&me<26;++me,q<<=1);if(me>0)for(U.iushrn(me);me-- >0;)(K.isOdd()||ne.isOdd())&&(K.iadd(ce),ne.isub(de)),K.iushrn(1),ne.iushrn(1);V.cmp(U)>=0?(V.isub(U),Q.isub(K),Z.isub(ne)):(U.isub(V),K.isub(Q),ne.isub(Z))}return{a:K,b:ne,gcd:U.iushln(ue)}},w.prototype._invmp=function(N){x(0===N.negative),x(!N.isZero());var V=this,U=N.clone();V=0!==V.negative?V.umod(N):V.clone();for(var Q,Z=new w(1),K=new w(0),ne=U.clone();V.cmpn(1)>0&&U.cmpn(1)>0;){for(var ue=0,ce=1;0==(V.words[0]&ce)&&ue<26;++ue,ce<<=1);if(ue>0)for(V.iushrn(ue);ue-- >0;)Z.isOdd()&&Z.iadd(ne),Z.iushrn(1);for(var de=0,pe=1;0==(U.words[0]&pe)&&de<26;++de,pe<<=1);if(de>0)for(U.iushrn(de);de-- >0;)K.isOdd()&&K.iadd(ne),K.iushrn(1);V.cmp(U)>=0?(V.isub(U),Z.isub(K)):(U.isub(V),K.isub(Z))}return(Q=0===V.cmpn(1)?Z:K).cmpn(0)<0&&Q.iadd(N),Q},w.prototype.gcd=function(N){if(this.isZero())return N.abs();if(N.isZero())return this.abs();var V=this.clone(),U=N.clone();V.negative=0,U.negative=0;for(var Q=0;V.isEven()&&U.isEven();Q++)V.iushrn(1),U.iushrn(1);for(;;){for(;V.isEven();)V.iushrn(1);for(;U.isEven();)U.iushrn(1);var Z=V.cmp(U);if(Z<0){var K=V;V=U,U=K}else if(0===Z||0===U.cmpn(1))break;V.isub(U)}return U.iushln(Q)},w.prototype.invm=function(N){return this.egcd(N).a.umod(N)},w.prototype.isEven=function(){return 0==(1&this.words[0])},w.prototype.isOdd=function(){return 1==(1&this.words[0])},w.prototype.andln=function(N){return this.words[0]&N},w.prototype.bincn=function(N){x("number"==typeof N);var V=N%26,U=(N-V)/26,Q=1<<V;if(this.length<=U)return this._expand(U+1),this.words[U]|=Q,this;for(var Z=Q,K=U;0!==Z&&K<this.length;K++){var ne=0|this.words[K];Z=(ne+=Z)>>>26,this.words[K]=ne&=67108863}return 0!==Z&&(this.words[K]=Z,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(N){var V,U=N<0;if(0!==this.negative&&!U)return-1;if(0===this.negative&&U)return 1;if(this._strip(),this.length>1)V=1;else{U&&(N=-N),x(N<=67108863,"Number is too big");var Q=0|this.words[0];V=Q===N?0:Q<N?-1:1}return 0!==this.negative?0|-V:V},w.prototype.cmp=function(N){if(0!==this.negative&&0===N.negative)return-1;if(0===this.negative&&0!==N.negative)return 1;var V=this.ucmp(N);return 0!==this.negative?0|-V:V},w.prototype.ucmp=function(N){if(this.length>N.length)return 1;if(this.length<N.length)return-1;for(var V=0,U=this.length-1;U>=0;U--){var Q=0|this.words[U],Z=0|N.words[U];if(Q!==Z){Q<Z?V=-1:Q>Z&&(V=1);break}}return V},w.prototype.gtn=function(N){return 1===this.cmpn(N)},w.prototype.gt=function(N){return 1===this.cmp(N)},w.prototype.gten=function(N){return this.cmpn(N)>=0},w.prototype.gte=function(N){return this.cmp(N)>=0},w.prototype.ltn=function(N){return-1===this.cmpn(N)},w.prototype.lt=function(N){return-1===this.cmp(N)},w.prototype.lten=function(N){return this.cmpn(N)<=0},w.prototype.lte=function(N){return this.cmp(N)<=0},w.prototype.eqn=function(N){return 0===this.cmpn(N)},w.prototype.eq=function(N){return 0===this.cmp(N)},w.red=function(N){return new B(N)},w.prototype.toRed=function(N){return x(!this.red,"Already a number in reduction context"),x(0===this.negative,"red works only with positives"),N.convertTo(this)._forceRed(N)},w.prototype.fromRed=function(){return x(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(N){return this.red=N,this},w.prototype.forceRed=function(N){return x(!this.red,"Already a number in reduction context"),this._forceRed(N)},w.prototype.redAdd=function(N){return x(this.red,"redAdd works only with red numbers"),this.red.add(this,N)},w.prototype.redIAdd=function(N){return x(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,N)},w.prototype.redSub=function(N){return x(this.red,"redSub works only with red numbers"),this.red.sub(this,N)},w.prototype.redISub=function(N){return x(this.red,"redISub works only with red numbers"),this.red.isub(this,N)},w.prototype.redShl=function(N){return x(this.red,"redShl works only with red numbers"),this.red.shl(this,N)},w.prototype.redMul=function(N){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.mul(this,N)},w.prototype.redIMul=function(N){return x(this.red,"redMul works only with red numbers"),this.red._verify2(this,N),this.red.imul(this,N)},w.prototype.redSqr=function(){return x(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return x(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return x(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return x(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return x(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(N){return x(this.red&&!N.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,N)};var H={k256:null,p224:null,p192:null,p25519:null};function X(N,V){this.name=N,this.p=new w(V,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function J(){X.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){X.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){X.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function L(){X.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function B(N){if("string"==typeof N){var V=w._prime(N);this.m=V.p,this.prime=V}else x(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}function ee(N){B.call(this,N),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}X.prototype._tmp=function(){var N=new w(null);return N.words=new Array(Math.ceil(this.n/13)),N},X.prototype.ireduce=function(N){var V,U=N;do{this.split(U,this.tmp),V=(U=(U=this.imulK(U)).iadd(this.tmp)).bitLength()}while(V>this.n);var Q=V<this.n?-1:U.ucmp(this.p);return 0===Q?(U.words[0]=0,U.length=1):Q>0?U.isub(this.p):void 0!==U.strip?U.strip():U._strip(),U},X.prototype.split=function(N,V){N.iushrn(this.n,0,V)},X.prototype.imulK=function(N){return N.imul(this.k)},O(J,X),J.prototype.split=function(N,V){for(var U=Math.min(N.length,9),Q=0;Q<U;Q++)V.words[Q]=N.words[Q];if(V.length=U,N.length<=9)return N.words[0]=0,void(N.length=1);var Z=N.words[9];for(V.words[V.length++]=4194303&Z,Q=10;Q<N.length;Q++){var K=0|N.words[Q];N.words[Q-10]=(4194303&K)<<4|Z>>>22,Z=K}N.words[Q-10]=Z>>>=22,N.length-=0===Z&&N.length>10?10:9},J.prototype.imulK=function(N){N.words[N.length]=0,N.words[N.length+1]=0,N.length+=2;for(var V=0,U=0;U<N.length;U++){var Q=0|N.words[U];N.words[U]=67108863&(V+=977*Q),V=64*Q+(V/67108864|0)}return 0===N.words[N.length-1]&&(N.length--,0===N.words[N.length-1]&&N.length--),N},O(j,X),O($,X),O(L,X),L.prototype.imulK=function(N){for(var V=0,U=0;U<N.length;U++){var Q=19*(0|N.words[U])+V,Z=67108863&Q;Q>>>=26,N.words[U]=Z,V=Q}return 0!==V&&(N.words[N.length++]=V),N},w._prime=function(N){if(H[N])return H[N];var V;if("k256"===N)V=new J;else if("p224"===N)V=new j;else if("p192"===N)V=new $;else{if("p25519"!==N)throw new Error("Unknown prime "+N);V=new L}return H[N]=V,V},B.prototype._verify1=function(N){x(0===N.negative,"red works only with positives"),x(N.red,"red works only with red numbers")},B.prototype._verify2=function(N,V){x(0==(N.negative|V.negative),"red works only with positives"),x(N.red&&N.red===V.red,"red works only with red numbers")},B.prototype.imod=function(N){return this.prime?this.prime.ireduce(N)._forceRed(this):(d(N,N.umod(this.m)._forceRed(this)),N)},B.prototype.neg=function(N){return N.isZero()?N.clone():this.m.sub(N)._forceRed(this)},B.prototype.add=function(N,V){this._verify2(N,V);var U=N.add(V);return U.cmp(this.m)>=0&&U.isub(this.m),U._forceRed(this)},B.prototype.iadd=function(N,V){this._verify2(N,V);var U=N.iadd(V);return U.cmp(this.m)>=0&&U.isub(this.m),U},B.prototype.sub=function(N,V){this._verify2(N,V);var U=N.sub(V);return U.cmpn(0)<0&&U.iadd(this.m),U._forceRed(this)},B.prototype.isub=function(N,V){this._verify2(N,V);var U=N.isub(V);return U.cmpn(0)<0&&U.iadd(this.m),U},B.prototype.shl=function(N,V){return this._verify1(N),this.imod(N.ushln(V))},B.prototype.imul=function(N,V){return this._verify2(N,V),this.imod(N.imul(V))},B.prototype.mul=function(N,V){return this._verify2(N,V),this.imod(N.mul(V))},B.prototype.isqr=function(N){return this.imul(N,N.clone())},B.prototype.sqr=function(N){return this.mul(N,N)},B.prototype.sqrt=function(N){if(N.isZero())return N.clone();var V=this.m.andln(3);if(x(V%2==1),3===V){var U=this.m.add(new w(1)).iushrn(2);return this.pow(N,U)}for(var Q=this.m.subn(1),Z=0;!Q.isZero()&&0===Q.andln(1);)Z++,Q.iushrn(1);x(!Q.isZero());var K=new w(1).toRed(this),ne=K.redNeg(),ue=this.m.subn(1).iushrn(1),ce=this.m.bitLength();for(ce=new w(2*ce*ce).toRed(this);0!==this.pow(ce,ue).cmp(ne);)ce.redIAdd(ne);for(var de=this.pow(ce,Q),pe=this.pow(N,Q.addn(1).iushrn(1)),_e=this.pow(N,Q),me=Z;0!==_e.cmp(K);){for(var q=_e,oe=0;0!==q.cmp(K);oe++)q=q.redSqr();x(oe<me);var se=this.pow(de,new w(1).iushln(me-oe-1));pe=pe.redMul(se),de=se.redSqr(),_e=_e.redMul(de),me=oe}return pe},B.prototype.invm=function(N){var V=N._invmp(this.m);return 0!==V.negative?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},B.prototype.pow=function(N,V){if(V.isZero())return new w(1).toRed(this);if(0===V.cmpn(1))return N.clone();var U=new Array(16);U[0]=new w(1).toRed(this),U[1]=N;for(var Q=2;Q<U.length;Q++)U[Q]=this.mul(U[Q-1],N);var Z=U[0],K=0,ne=0,ue=V.bitLength()%26;for(0===ue&&(ue=26),Q=V.length-1;Q>=0;Q--){for(var ce=V.words[Q],de=ue-1;de>=0;de--){var pe=ce>>de&1;Z!==U[0]&&(Z=this.sqr(Z)),0!==pe||0!==K?(K<<=1,K|=pe,(4==++ne||0===Q&&0===de)&&(Z=this.mul(Z,U[K]),ne=0,K=0)):ne=0}ue=26}return Z},B.prototype.convertTo=function(N){var V=N.umod(this.m);return V===N?V.clone():V},B.prototype.convertFrom=function(N){var V=N.clone();return V.red=null,V},w.mont=function(N){return new ee(N)},O(ee,B),ee.prototype.convertTo=function(N){return this.imod(N.ushln(this.shift))},ee.prototype.convertFrom=function(N){var V=this.imod(N.mul(this.rinv));return V.red=null,V},ee.prototype.imul=function(N,V){if(N.isZero()||V.isZero())return N.words[0]=0,N.length=1,N;var U=N.imul(V),Q=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=U.isub(Q).iushrn(this.shift),K=Z;return Z.cmp(this.m)>=0?K=Z.isub(this.m):Z.cmpn(0)<0&&(K=Z.iadd(this.m)),K._forceRed(this)},ee.prototype.mul=function(N,V){if(N.isZero()||V.isZero())return new w(0)._forceRed(this);var U=N.mul(V),Q=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Z=U.isub(Q).iushrn(this.shift),K=Z;return Z.cmp(this.m)>=0?K=Z.isub(this.m):Z.cmpn(0)<0&&(K=Z.iadd(this.m)),K._forceRed(this)},ee.prototype.invm=function(N){return this.imod(N._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===te||te)},{buffer:185}],184:[function(T,te,W){"use strict";function k(O){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(O)}var R;function M(O){this.rand=O}if(te.exports=function(O){return R||(R=new M(null)),R.generate(O)},te.exports.Rand=M,M.prototype.generate=function(O){return this._rand(O)},M.prototype._rand=function(O){if(this.rand.getBytes)return this.rand.getBytes(O);for(var w=new Uint8Array(O),E=0;E<w.length;E++)w[E]=this.rand.getByte();return w},"object"===(typeof self>"u"?"undefined":k(self)))self.crypto&&self.crypto.getRandomValues?M.prototype._rand=function(O){var w=new Uint8Array(O);return self.crypto.getRandomValues(w),w}:self.msCrypto&&self.msCrypto.getRandomValues?M.prototype._rand=function(O){var w=new Uint8Array(O);return self.msCrypto.getRandomValues(w),w}:"object"===(typeof window>"u"?"undefined":k(window))&&(M.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var x=T("crypto");if("function"!=typeof x.randomBytes)throw new Error("Not supported");M.prototype._rand=function(O){return x.randomBytes(O)}}catch{}},{crypto:185}],185:[function(T,te,W){},{}],186:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer;function R(C){k.isBuffer(C)||(C=k.from(C));for(var f=C.length/4|0,d=new Array(f),u=0;u<f;u++)d[u]=C.readUInt32BE(4*u);return d}function M(C){for(;0<C.length;C++)C[0]=0}function x(C,f,d,u,c){for(var m,g,y,b,S=d[0],A=d[1],P=d[2],H=d[3],X=C[0]^f[0],J=C[1]^f[1],j=C[2]^f[2],$=C[3]^f[3],L=4,B=1;B<c;B++)m=S[X>>>24]^A[J>>>16&255]^P[j>>>8&255]^H[255&$]^f[L++],g=S[J>>>24]^A[j>>>16&255]^P[$>>>8&255]^H[255&X]^f[L++],y=S[j>>>24]^A[$>>>16&255]^P[X>>>8&255]^H[255&J]^f[L++],b=S[$>>>24]^A[X>>>16&255]^P[J>>>8&255]^H[255&j]^f[L++],X=m,J=g,j=y,$=b;return m=(u[X>>>24]<<24|u[J>>>16&255]<<16|u[j>>>8&255]<<8|u[255&$])^f[L++],g=(u[J>>>24]<<24|u[j>>>16&255]<<16|u[$>>>8&255]<<8|u[255&X])^f[L++],y=(u[j>>>24]<<24|u[$>>>16&255]<<16|u[X>>>8&255]<<8|u[255&J])^f[L++],b=(u[$>>>24]<<24|u[X>>>16&255]<<16|u[J>>>8&255]<<8|u[255&j])^f[L++],[m>>>=0,g>>>=0,y>>>=0,b>>>=0]}var O=[0,1,2,4,8,16,32,64,128,27,54],w=function(){for(var C=new Array(256),f=0;f<256;f++)C[f]=f<128?f<<1:f<<1^283;for(var d=[],u=[],c=[[],[],[],[]],m=[[],[],[],[]],g=0,y=0,b=0;b<256;++b){var S=y^y<<1^y<<2^y<<3^y<<4;d[g]=S=S>>>8^255&S^99,u[S]=g;var A=C[g],P=C[A],H=C[P],X=257*C[S]^16843008*S;c[0][g]=X<<24|X>>>8,c[1][g]=X<<16|X>>>16,c[2][g]=X<<8|X>>>24,c[3][g]=X,m[0][S]=(X=16843009*H^65537*P^257*A^16843008*g)<<24|X>>>8,m[1][S]=X<<16|X>>>16,m[2][S]=X<<8|X>>>24,m[3][S]=X,0===g?g=y=1:(g=A^C[C[C[H^A]]],y^=C[C[y]])}return{SBOX:d,INV_SBOX:u,SUB_MIX:c,INV_SUB_MIX:m}}();function E(C){this._key=R(C),this._reset()}E.blockSize=16,E.keySize=32,E.prototype.blockSize=E.blockSize,E.prototype.keySize=E.keySize,E.prototype._reset=function(){for(var C=this._key,f=C.length,d=f+6,u=4*(d+1),c=[],m=0;m<f;m++)c[m]=C[m];for(m=f;m<u;m++){var g=c[m-1];m%f==0?(g=w.SBOX[(g=g<<8|g>>>24)>>>24]<<24|w.SBOX[g>>>16&255]<<16|w.SBOX[g>>>8&255]<<8|w.SBOX[255&g],g^=O[m/f|0]<<24):f>6&&m%f==4&&(g=w.SBOX[g>>>24]<<24|w.SBOX[g>>>16&255]<<16|w.SBOX[g>>>8&255]<<8|w.SBOX[255&g]),c[m]=c[m-f]^g}for(var y=[],b=0;b<u;b++){var S=u-b,A=c[S-(b%4?0:4)];y[b]=b<4||S<=4?A:w.INV_SUB_MIX[0][w.SBOX[A>>>24]]^w.INV_SUB_MIX[1][w.SBOX[A>>>16&255]]^w.INV_SUB_MIX[2][w.SBOX[A>>>8&255]]^w.INV_SUB_MIX[3][w.SBOX[255&A]]}this._nRounds=d,this._keySchedule=c,this._invKeySchedule=y},E.prototype.encryptBlockRaw=function(C){return x(C=R(C),this._keySchedule,w.SUB_MIX,w.SBOX,this._nRounds)},E.prototype.encryptBlock=function(C){var f=this.encryptBlockRaw(C),d=k.allocUnsafe(16);return d.writeUInt32BE(f[0],0),d.writeUInt32BE(f[1],4),d.writeUInt32BE(f[2],8),d.writeUInt32BE(f[3],12),d},E.prototype.decryptBlock=function(C){var f=(C=R(C))[1];C[1]=C[3],C[3]=f;var d=x(C,this._invKeySchedule,w.INV_SUB_MIX,w.INV_SBOX,this._nRounds),u=k.allocUnsafe(16);return u.writeUInt32BE(d[0],0),u.writeUInt32BE(d[3],4),u.writeUInt32BE(d[2],8),u.writeUInt32BE(d[1],12),u},E.prototype.scrub=function(){M(this._keySchedule),M(this._invKeySchedule),M(this._key)},te.exports.AES=E},{"safe-buffer":494}],187:[function(T,te,W){"use strict";var k=T("./aes"),R=T("safe-buffer").Buffer,M=T("cipher-base"),x=T("inherits"),O=T("./ghash"),w=T("buffer-xor"),E=T("./incr32");function C(f,d,u,c){M.call(this);var m=R.alloc(4,0);this._cipher=new k.AES(d);var g=this._cipher.encryptBlock(m);this._ghash=new O(g),u=function(y,b,S){if(12===b.length)return y._finID=R.concat([b,R.from([0,0,0,1])]),R.concat([b,R.from([0,0,0,2])]);var A=new O(S),P=b.length,H=P%16;A.update(b),H&&A.update(R.alloc(H=16-H,0)),A.update(R.alloc(8,0));var X=8*P,J=R.alloc(8);J.writeUIntBE(X,0,8),A.update(J),y._finID=A.state;var j=R.from(y._finID);return E(j),j}(this,u,g),this._prev=R.from(u),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=c,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}x(C,M),C.prototype._update=function(f){if(!this._called&&this._alen){var d=16-this._alen%16;d<16&&(d=R.alloc(d,0),this._ghash.update(d))}this._called=!0;var u=this._mode.encrypt(this,f);return this._ghash.update(this._decrypt?f:u),this._len+=f.length,u},C.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=w(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(d,u){var c=0;d.length!==u.length&&c++;for(var m=Math.min(d.length,u.length),g=0;g<m;++g)c+=d[g]^u[g];return c}(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},C.prototype.getAuthTag=function(){if(this._decrypt||!R.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},C.prototype.setAuthTag=function(f){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=f},C.prototype.setAAD=function(f){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(f),this._alen+=f.length},te.exports=C},{"./aes":186,"./ghash":191,"./incr32":192,"buffer-xor":217,"cipher-base":218,inherits:387,"safe-buffer":494}],188:[function(T,te,W){"use strict";var k=T("./encrypter"),R=T("./decrypter"),M=T("./modes/list.json");W.createCipher=W.Cipher=k.createCipher,W.createCipheriv=W.Cipheriv=k.createCipheriv,W.createDecipher=W.Decipher=R.createDecipher,W.createDecipheriv=W.Decipheriv=R.createDecipheriv,W.listCiphers=W.getCiphers=function(){return Object.keys(M)}},{"./decrypter":189,"./encrypter":190,"./modes/list.json":200}],189:[function(T,te,W){"use strict";var k=T("./authCipher"),R=T("safe-buffer").Buffer,M=T("./modes"),x=T("./streamCipher"),O=T("cipher-base"),w=T("./aes"),E=T("evp_bytestokey");function C(u,c,m){O.call(this),this._cache=new f,this._last=void 0,this._cipher=new w.AES(c),this._prev=R.from(m),this._mode=u,this._autopadding=!0}function f(){this.cache=R.allocUnsafe(0)}function d(u,c,m){var g=M[u.toLowerCase()];if(!g)throw new TypeError("invalid suite type");if("string"==typeof m&&(m=R.from(m)),"GCM"!==g.mode&&m.length!==g.iv)throw new TypeError("invalid iv length "+m.length);if("string"==typeof c&&(c=R.from(c)),c.length!==g.key/8)throw new TypeError("invalid key length "+c.length);return"stream"===g.type?new x(g.module,c,m,!0):"auth"===g.type?new k(g.module,c,m,!0):new C(g.module,c,m)}T("inherits")(C,O),C.prototype._update=function(u){var c,m;this._cache.add(u);for(var g=[];c=this._cache.get(this._autopadding);)m=this._mode.decrypt(this,c),g.push(m);return R.concat(g)},C.prototype._final=function(){var u=this._cache.flush();if(this._autopadding)return function(c){var m=c[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var g=-1;++g<m;)if(c[g+(16-m)]!==m)throw new Error("unable to decrypt data");if(16!==m)return c.slice(0,16-m)}(this._mode.decrypt(this,u));if(u)throw new Error("data not multiple of block length")},C.prototype.setAutoPadding=function(u){return this._autopadding=!!u,this},f.prototype.add=function(u){this.cache=R.concat([this.cache,u])},f.prototype.get=function(u){var c;if(u){if(this.cache.length>16)return c=this.cache.slice(0,16),this.cache=this.cache.slice(16),c}else if(this.cache.length>=16)return c=this.cache.slice(0,16),this.cache=this.cache.slice(16),c;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},W.createDecipher=function(u,c){var m=M[u.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var g=E(c,!1,m.key,m.iv);return d(u,g.key,g.iv)},W.createDecipheriv=d},{"./aes":186,"./authCipher":187,"./modes":199,"./streamCipher":202,"cipher-base":218,evp_bytestokey:368,inherits:387,"safe-buffer":494}],190:[function(T,te,W){"use strict";var k=T("./modes"),R=T("./authCipher"),M=T("safe-buffer").Buffer,x=T("./streamCipher"),O=T("cipher-base"),w=T("./aes"),E=T("evp_bytestokey");function C(c,m,g){O.call(this),this._cache=new d,this._cipher=new w.AES(m),this._prev=M.from(g),this._mode=c,this._autopadding=!0}T("inherits")(C,O),C.prototype._update=function(c){var m,g;this._cache.add(c);for(var y=[];m=this._cache.get();)g=this._mode.encrypt(this,m),y.push(g);return M.concat(y)};var f=M.alloc(16,16);function d(){this.cache=M.allocUnsafe(0)}function u(c,m,g){var y=k[c.toLowerCase()];if(!y)throw new TypeError("invalid suite type");if("string"==typeof m&&(m=M.from(m)),m.length!==y.key/8)throw new TypeError("invalid key length "+m.length);if("string"==typeof g&&(g=M.from(g)),"GCM"!==y.mode&&g.length!==y.iv)throw new TypeError("invalid iv length "+g.length);return"stream"===y.type?new x(y.module,m,g):"auth"===y.type?new R(y.module,m,g):new C(y.module,m,g)}C.prototype._final=function(){var c=this._cache.flush();if(this._autopadding)return c=this._mode.encrypt(this,c),this._cipher.scrub(),c;if(!c.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},C.prototype.setAutoPadding=function(c){return this._autopadding=!!c,this},d.prototype.add=function(c){this.cache=M.concat([this.cache,c])},d.prototype.get=function(){if(this.cache.length>15){var c=this.cache.slice(0,16);return this.cache=this.cache.slice(16),c}return null},d.prototype.flush=function(){for(var c=16-this.cache.length,m=M.allocUnsafe(c),g=-1;++g<c;)m.writeUInt8(c,g);return M.concat([this.cache,m])},W.createCipheriv=u,W.createCipher=function(c,m){var g=k[c.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var y=E(m,!1,g.key,g.iv);return u(c,y.key,y.iv)}},{"./aes":186,"./authCipher":187,"./modes":199,"./streamCipher":202,"cipher-base":218,evp_bytestokey:368,inherits:387,"safe-buffer":494}],191:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=k.alloc(16,0);function M(O){var w=k.allocUnsafe(16);return w.writeUInt32BE(O[0]>>>0,0),w.writeUInt32BE(O[1]>>>0,4),w.writeUInt32BE(O[2]>>>0,8),w.writeUInt32BE(O[3]>>>0,12),w}function x(O){this.h=O,this.state=k.alloc(16,0),this.cache=k.allocUnsafe(0)}x.prototype.ghash=function(O){for(var w=-1;++w<O.length;)this.state[w]^=O[w];this._multiply()},x.prototype._multiply=function(){for(var O,w,E,C=[(O=this.h).readUInt32BE(0),O.readUInt32BE(4),O.readUInt32BE(8),O.readUInt32BE(12)],f=[0,0,0,0],d=-1;++d<128;){for(0!=(this.state[~~(d/8)]&1<<7-d%8)&&(f[0]^=C[0],f[1]^=C[1],f[2]^=C[2],f[3]^=C[3]),E=0!=(1&C[3]),w=3;w>0;w--)C[w]=C[w]>>>1|(1&C[w-1])<<31;C[0]=C[0]>>>1,E&&(C[0]=C[0]^225<<24)}this.state=M(f)},x.prototype.update=function(O){var w;for(this.cache=k.concat([this.cache,O]);this.cache.length>=16;)w=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(w)},x.prototype.final=function(O,w){return this.cache.length&&this.ghash(k.concat([this.cache,R],16)),this.ghash(M([0,O,0,w])),this.state},te.exports=x},{"safe-buffer":494}],192:[function(T,te,W){"use strict";te.exports=function(k){for(var R,M=k.length;M--;){if(255!==(R=k.readUInt8(M))){R++,k.writeUInt8(R,M);break}k.writeUInt8(0,M)}}},{}],193:[function(T,te,W){"use strict";var k=T("buffer-xor");W.encrypt=function(R,M){var x=k(M,R._prev);return R._prev=R._cipher.encryptBlock(x),R._prev},W.decrypt=function(R,M){var x=R._prev;R._prev=M;var O=R._cipher.decryptBlock(M);return k(O,x)}},{"buffer-xor":217}],194:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("buffer-xor");function M(x,O,w){var E=O.length,C=R(O,x._cache);return x._cache=x._cache.slice(E),x._prev=k.concat([x._prev,w?O:C]),C}W.encrypt=function(x,O,w){for(var E,C=k.allocUnsafe(0);O.length;){if(0===x._cache.length&&(x._cache=x._cipher.encryptBlock(x._prev),x._prev=k.allocUnsafe(0)),!(x._cache.length<=O.length)){C=k.concat([C,M(x,O,w)]);break}C=k.concat([C,M(x,O.slice(0,E=x._cache.length),w)]),O=O.slice(E)}return C}},{"buffer-xor":217,"safe-buffer":494}],195:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer;function R(x,O,w){for(var E,C,f=-1,d=0;++f<8;)E=O&1<<7-f?128:0,d+=(128&(C=x._cipher.encryptBlock(x._prev)[0]^E))>>f%8,x._prev=M(x._prev,w?E:C);return d}function M(x,O){var w=x.length,E=-1,C=k.allocUnsafe(x.length);for(x=k.concat([x,k.from([O])]);++E<w;)C[E]=x[E]<<1|x[E+1]>>7;return C}W.encrypt=function(x,O,w){for(var E=O.length,C=k.allocUnsafe(E),f=-1;++f<E;)C[f]=R(x,O[f],w);return C}},{"safe-buffer":494}],196:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer;function R(M,x,O){var w=M._cipher.encryptBlock(M._prev)[0]^x;return M._prev=k.concat([M._prev.slice(1),k.from([O?x:w])]),w}W.encrypt=function(M,x,O){for(var w=x.length,E=k.allocUnsafe(w),C=-1;++C<w;)E[C]=R(M,x[C],O);return E}},{"safe-buffer":494}],197:[function(T,te,W){"use strict";var k=T("buffer-xor"),R=T("safe-buffer").Buffer,M=T("../incr32");function x(O){var w=O._cipher.encryptBlockRaw(O._prev);return M(O._prev),w}W.encrypt=function(O,w){var E=Math.ceil(w.length/16),C=O._cache.length;O._cache=R.concat([O._cache,R.allocUnsafe(16*E)]);for(var f=0;f<E;f++){var d=x(O),u=C+16*f;O._cache.writeUInt32BE(d[0],u+0),O._cache.writeUInt32BE(d[1],u+4),O._cache.writeUInt32BE(d[2],u+8),O._cache.writeUInt32BE(d[3],u+12)}var c=O._cache.slice(0,w.length);return O._cache=O._cache.slice(w.length),k(w,c)}},{"../incr32":192,"buffer-xor":217,"safe-buffer":494}],198:[function(T,te,W){"use strict";W.encrypt=function(k,R){return k._cipher.encryptBlock(R)},W.decrypt=function(k,R){return k._cipher.decryptBlock(R)}},{}],199:[function(T,te,W){"use strict";var k={ECB:T("./ecb"),CBC:T("./cbc"),CFB:T("./cfb"),CFB8:T("./cfb8"),CFB1:T("./cfb1"),OFB:T("./ofb"),CTR:T("./ctr"),GCM:T("./ctr")},R=T("./list.json");for(var M in R)R[M].module=k[R[M].mode];te.exports=R},{"./cbc":193,"./cfb":194,"./cfb1":195,"./cfb8":196,"./ctr":197,"./ecb":198,"./list.json":200,"./ofb":201}],200:[function(T,te,W){te.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],201:[function(T,te,W){(function(k){"use strict";var R=T("buffer-xor");function M(x){return x._prev=x._cipher.encryptBlock(x._prev),x._prev}W.encrypt=function(x,O){for(;x._cache.length<O.length;)x._cache=k.concat([x._cache,M(x)]);var w=x._cache.slice(0,O.length);return x._cache=x._cache.slice(O.length),R(O,w)}}).call(this,T("buffer").Buffer)},{buffer:216,"buffer-xor":217}],202:[function(T,te,W){"use strict";var k=T("./aes"),R=T("safe-buffer").Buffer,M=T("cipher-base");function x(O,w,E,C){M.call(this),this._cipher=new k.AES(w),this._prev=R.from(E),this._cache=R.allocUnsafe(0),this._secCache=R.allocUnsafe(0),this._decrypt=C,this._mode=O}T("inherits")(x,M),x.prototype._update=function(O){return this._mode.encrypt(this,O,this._decrypt)},x.prototype._final=function(){this._cipher.scrub()},te.exports=x},{"./aes":186,"cipher-base":218,inherits:387,"safe-buffer":494}],203:[function(T,te,W){"use strict";var k=T("browserify-des"),R=T("browserify-aes/browser"),M=T("browserify-aes/modes"),x=T("browserify-des/modes"),O=T("evp_bytestokey");function w(C,f,d){if(C=C.toLowerCase(),M[C])return R.createCipheriv(C,f,d);if(x[C])return new k({key:f,iv:d,mode:C});throw new TypeError("invalid suite type")}function E(C,f,d){if(C=C.toLowerCase(),M[C])return R.createDecipheriv(C,f,d);if(x[C])return new k({key:f,iv:d,mode:C,decrypt:!0});throw new TypeError("invalid suite type")}W.createCipher=W.Cipher=function(C,f){var d,u;if(C=C.toLowerCase(),M[C])d=M[C].key,u=M[C].iv;else{if(!x[C])throw new TypeError("invalid suite type");d=8*x[C].key,u=x[C].iv}var c=O(f,!1,d,u);return w(C,c.key,c.iv)},W.createCipheriv=W.Cipheriv=w,W.createDecipher=W.Decipher=function(C,f){var d,u;if(C=C.toLowerCase(),M[C])d=M[C].key,u=M[C].iv;else{if(!x[C])throw new TypeError("invalid suite type");d=8*x[C].key,u=x[C].iv}var c=O(f,!1,d,u);return E(C,c.key,c.iv)},W.createDecipheriv=W.Decipheriv=E,W.listCiphers=W.getCiphers=function(){return Object.keys(x).concat(R.getCiphers())}},{"browserify-aes/browser":188,"browserify-aes/modes":199,"browserify-des":204,"browserify-des/modes":205,evp_bytestokey:368}],204:[function(T,te,W){"use strict";var k=T("cipher-base"),R=T("des.js"),M=T("inherits"),x=T("safe-buffer").Buffer,O={"des-ede3-cbc":R.CBC.instantiate(R.EDE),"des-ede3":R.EDE,"des-ede-cbc":R.CBC.instantiate(R.EDE),"des-ede":R.EDE,"des-cbc":R.CBC.instantiate(R.DES),"des-ecb":R.DES};function w(E){k.call(this);var C,f=E.mode.toLowerCase(),d=O[f];C=E.decrypt?"decrypt":"encrypt";var u=E.key;x.isBuffer(u)||(u=x.from(u)),"des-ede"!==f&&"des-ede-cbc"!==f||(u=x.concat([u,u.slice(0,8)]));var c=E.iv;x.isBuffer(c)||(c=x.from(c)),this._des=d.create({key:u,iv:c,type:C})}O.des=O["des-cbc"],O.des3=O["des-ede3-cbc"],te.exports=w,M(w,k),w.prototype._update=function(E){return x.from(this._des.update(E))},w.prototype._final=function(){return x.from(this._des.final())}},{"cipher-base":218,"des.js":339,inherits:387,"safe-buffer":494}],205:[function(T,te,W){"use strict";W["des-ecb"]={key:8,iv:0},W["des-cbc"]=W.des={key:8,iv:8},W["des-ede3-cbc"]=W.des3={key:24,iv:8},W["des-ede3"]={key:24,iv:0},W["des-ede-cbc"]={key:16,iv:8},W["des-ede"]={key:16,iv:0}},{}],206:[function(T,te,W){(function(k){"use strict";var R=T("bn.js"),M=T("randombytes");function x(w,E){var P,H,C={blinder:(H=O(P=E)).toRed(R.mont(P.modulus)).redPow(new R(P.publicExponent)).fromRed(),unblinder:H.invm(P.modulus)},f=E.modulus.byteLength(),d=(R.mont(E.modulus),new R(w).mul(C.blinder).umod(E.modulus)),u=d.toRed(R.mont(E.prime1)),c=d.toRed(R.mont(E.prime2)),m=E.coefficient,g=E.prime1,y=E.prime2,b=u.redPow(E.exponent1),S=c.redPow(E.exponent2);b=b.fromRed(),S=S.fromRed();var A=b.isub(S).imul(m).umod(g);return A.imul(y),S.iadd(A),new k(S.imul(C.unblinder).umod(E.modulus).toArray(!1,f))}function O(w){for(var E=w.modulus.byteLength(),C=new R(M(E));C.cmp(w.modulus)>=0||!C.umod(w.prime1)||!C.umod(w.prime2);)C=new R(M(E));return C}te.exports=x,x.getr=O}).call(this,T("buffer").Buffer)},{"bn.js":207,buffer:216,randombytes:475}],207:[function(T,te,W){arguments[4][181][0].apply(W,arguments)},{buffer:185,dup:181}],208:[function(T,te,W){"use strict";te.exports=T("./browser/algorithms.json")},{"./browser/algorithms.json":209}],209:[function(T,te,W){te.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],210:[function(T,te,W){te.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],211:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("create-hash"),M=T("readable-stream"),x=T("inherits"),O=T("./sign"),w=T("./verify"),E=T("./algorithms.json");function C(c){M.Writable.call(this);var m=E[c];if(!m)throw new Error("Unknown message digest");this._hashType=m.hash,this._hash=R(m.hash),this._tag=m.id,this._signType=m.sign}function f(c){M.Writable.call(this);var m=E[c];if(!m)throw new Error("Unknown message digest");this._hash=R(m.hash),this._tag=m.id,this._signType=m.sign}function d(c){return new C(c)}function u(c){return new f(c)}Object.keys(E).forEach(function(c){E[c].id=k.from(E[c].id,"hex"),E[c.toLowerCase()]=E[c]}),x(C,M.Writable),C.prototype._write=function(c,m,g){this._hash.update(c),g()},C.prototype.update=function(c,m){return"string"==typeof c&&(c=k.from(c,m)),this._hash.update(c),this},C.prototype.sign=function(c,m){this.end();var g=this._hash.digest(),y=O(g,c,this._hashType,this._signType,this._tag);return m?y.toString(m):y},x(f,M.Writable),f.prototype._write=function(c,m,g){this._hash.update(c),g()},f.prototype.update=function(c,m){return"string"==typeof c&&(c=k.from(c,m)),this._hash.update(c),this},f.prototype.verify=function(c,m,g){"string"==typeof m&&(m=k.from(m,g)),this.end();var y=this._hash.digest();return w(m,y,c,this._signType,this._tag)},te.exports={Sign:d,Verify:u,createSign:d,createVerify:u}},{"./algorithms.json":209,"./sign":212,"./verify":213,"create-hash":331,inherits:387,"readable-stream":491,"safe-buffer":214}],212:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("create-hmac"),M=T("browserify-rsa"),x=T("elliptic").ec,O=T("bn.js"),w=T("parse-asn1"),E=T("./curves.json");function C(c,m,g,y){if((c=k.from(c.toArray())).length<m.byteLength()){var b=k.alloc(m.byteLength()-c.length);c=k.concat([b,c])}var S=g.length,A=function(X,J){X=(X=f(X,J)).mod(J);var j=k.from(X.toArray());if(j.length<J.byteLength()){var $=k.alloc(J.byteLength()-j.length);j=k.concat([$,j])}return j}(g,m),P=k.alloc(S);P.fill(1);var H=k.alloc(S);return H=R(y,H).update(P).update(k.from([0])).update(c).update(A).digest(),P=R(y,H).update(P).digest(),{k:H=R(y,H).update(P).update(k.from([1])).update(c).update(A).digest(),v:P=R(y,H).update(P).digest()}}function f(c,m){var g=new O(c),y=(c.length<<3)-m.bitLength();return y>0&&g.ishrn(y),g}function d(c,m,g){var y,b;do{for(y=k.alloc(0);8*y.length<c.bitLength();)m.v=R(g,m.k).update(m.v).digest(),y=k.concat([y,m.v]);b=f(y,c),m.k=R(g,m.k).update(m.v).update(k.from([0])).digest(),m.v=R(g,m.k).update(m.v).digest()}while(-1!==b.cmp(c));return b}function u(c,m,g,y){return c.toRed(O.mont(g)).redPow(m).fromRed().mod(y)}te.exports=function(c,m,g,y,b){var S=w(m);if(S.curve){if("ecdsa"!==y&&"ecdsa/rsa"!==y)throw new Error("wrong private key type");return function(X,J){var j=E[J.curve.join(".")];if(!j)throw new Error("unknown curve "+J.curve.join("."));var $=new x(j).keyFromPrivate(J.privateKey).sign(X);return k.from($.toDER())}(c,S)}if("dsa"===S.type){if("dsa"!==y)throw new Error("wrong private key type");return function(X,J,j){for(var $,L=J.params.priv_key,B=J.params.p,ee=J.params.q,N=J.params.g,V=new O(0),U=f(X,ee).mod(ee),Q=!1,Z=C(L,ee,X,j);!1===Q;)V=u(N,$=d(ee,Z,j),B,ee),0===(Q=$.invm(ee).imul(U.add(L.mul(V))).mod(ee)).cmpn(0)&&(Q=!1,V=new O(0));return function(K,ne){K=K.toArray(),ne=ne.toArray(),128&K[0]&&(K=[0].concat(K)),128&ne[0]&&(ne=[0].concat(ne));var ue=[48,K.length+ne.length+4,2,K.length];return ue=ue.concat(K,[2,ne.length],ne),k.from(ue)}(V,Q)}(c,S,g)}if("rsa"!==y&&"ecdsa/rsa"!==y)throw new Error("wrong private key type");c=k.concat([b,c]);for(var A=S.modulus.byteLength(),P=[0,1];c.length+P.length+1<A;)P.push(255);P.push(0);for(var H=-1;++H<c.length;)P.push(c[H]);return M(P,S)},te.exports.getKey=C,te.exports.makeKey=d},{"./curves.json":210,"bn.js":183,"browserify-rsa":206,"create-hmac":333,elliptic:350,"parse-asn1":459,"safe-buffer":214}],213:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("bn.js"),M=T("elliptic").ec,x=T("parse-asn1"),O=T("./curves.json");function w(E,C){if(E.cmpn(0)<=0)throw new Error("invalid sig");if(E.cmp(C)>=C)throw new Error("invalid sig")}te.exports=function(E,C,f,d,u){var c=x(f);if("ec"===c.type){if("ecdsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");return function(P,H,X){var J=O[X.data.algorithm.curve.join(".")];if(!J)throw new Error("unknown curve "+X.data.algorithm.curve.join("."));return new M(J).verify(H,P,X.data.subjectPrivateKey.data)}(E,C,c)}if("dsa"===c.type){if("dsa"!==d)throw new Error("wrong public key type");return function(P,H,X){var J=X.data.p,j=X.data.q,$=X.data.g,L=X.data.pub_key,B=x.signature.decode(P,"der"),ee=B.s,N=B.r;w(ee,j),w(N,j);var V=R.mont(J),U=ee.invm(j);return 0===$.toRed(V).redPow(new R(H).mul(U).mod(j)).fromRed().mul(L.toRed(V).redPow(N.mul(U).mod(j)).fromRed()).mod(J).mod(j).cmp(N)}(E,C,c)}if("rsa"!==d&&"ecdsa/rsa"!==d)throw new Error("wrong public key type");C=k.concat([u,C]);for(var m=c.modulus.byteLength(),g=[1],y=0;C.length+g.length+2<m;)g.push(255),y++;g.push(0);for(var b=-1;++b<C.length;)g.push(C[b]);g=k.from(g);var S=R.mont(c.modulus);E=(E=new R(E).toRed(S)).redPow(new R(c.publicExponent)),E=k.from(E.fromRed().toArray());var A=y<8?1:0;for(m=Math.min(E.length,g.length),E.length!==g.length&&(A=1),b=-1;++b<m;)A|=E[b]^g[b];return 0===A}},{"./curves.json":210,"bn.js":183,elliptic:350,"parse-asn1":459,"safe-buffer":214}],214:[function(T,te,W){"use strict";var k=T("buffer"),R=k.Buffer;function M(O,w){for(var E in O)w[E]=O[E]}function x(O,w,E){return R(O,w,E)}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?te.exports=k:(M(k,W),W.Buffer=x),x.prototype=Object.create(R.prototype),M(R,x),x.from=function(O,w,E){if("number"==typeof O)throw new TypeError("Argument must not be a number");return R(O,w,E)},x.alloc=function(O,w,E){if("number"!=typeof O)throw new TypeError("Argument must be a number");var C=R(O);return void 0!==w?"string"==typeof E?C.fill(w,E):C.fill(w):C.fill(0),C},x.allocUnsafe=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return R(O)},x.allocUnsafeSlow=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return k.SlowBuffer(O)}},{buffer:216}],215:[function(T,te,W){arguments[4][185][0].apply(W,arguments)},{dup:185}],216:[function(T,te,W){(function(w){"use strict";function R(q){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&"function"==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe})(q)}var M=T("base64-js"),x=T("ieee754");function O(q){if(q>2147483647)throw new RangeError('The value "'+q+'" is invalid for option "size"');var oe=new Uint8Array(q);return oe.__proto__=w.prototype,oe}function w(q,oe,se){if("number"==typeof q){if("string"==typeof oe)throw new TypeError('The "string" argument must be of type string. Received type number');return f(q)}return E(q,oe,se)}function E(q,oe,se){if("string"==typeof q)return function(De,qe){if("string"==typeof qe&&""!==qe||(qe="utf8"),!w.isEncoding(qe))throw new TypeError("Unknown encoding: "+qe);var je=0|c(De,qe),Ye=O(je),st=Ye.write(De,qe);return st!==je&&(Ye=Ye.slice(0,st)),Ye}(q,oe);if(ArrayBuffer.isView(q))return d(q);if(null==q)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+R(q));if(_e(q,ArrayBuffer)||q&&_e(q.buffer,ArrayBuffer))return function(De,qe,je){if(qe<0||De.byteLength<qe)throw new RangeError('"offset" is outside of buffer bounds');if(De.byteLength<qe+(je||0))throw new RangeError('"length" is outside of buffer bounds');var Ye;return(Ye=void 0===qe&&void 0===je?new Uint8Array(De):void 0===je?new Uint8Array(De,qe):new Uint8Array(De,qe,je)).__proto__=w.prototype,Ye}(q,oe,se);if("number"==typeof q)throw new TypeError('The "value" argument must not be of type number. Received type number');var ve=q.valueOf&&q.valueOf();if(null!=ve&&ve!==q)return w.from(ve,oe,se);var Se=function(De){if(w.isBuffer(De)){var qe=0|u(De.length),je=O(qe);return 0===je.length||De.copy(je,0,0,qe),je}return void 0!==De.length?"number"!=typeof De.length||me(De.length)?O(0):d(De):"Buffer"===De.type&&Array.isArray(De.data)?d(De.data):void 0}(q);if(Se)return Se;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof q[Symbol.toPrimitive])return w.from(q[Symbol.toPrimitive]("string"),oe,se);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+R(q))}function C(q){if("number"!=typeof q)throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function f(q){return C(q),O(q<0?0:0|u(q))}function d(q){for(var oe=q.length<0?0:0|u(q.length),se=O(oe),ve=0;ve<oe;ve+=1)se[ve]=255&q[ve];return se}function u(q){if(q>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|q}function c(q,oe){if(w.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||_e(q,ArrayBuffer))return q.byteLength;if("string"!=typeof q)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+R(q));var se=q.length,ve=arguments.length>2&&!0===arguments[2];if(!ve&&0===se)return 0;for(var Se=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return se;case"utf8":case"utf-8":return ce(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*se;case"hex":return se>>>1;case"base64":return de(q).length;default:if(Se)return ve?-1:ce(q).length;oe=(""+oe).toLowerCase(),Se=!0}}function m(q,oe,se){var ve=!1;if((void 0===oe||oe<0)&&(oe=0),oe>this.length||((void 0===se||se>this.length)&&(se=this.length),se<=0)||(se>>>=0)<=(oe>>>=0))return"";for(q||(q="utf8");;)switch(q){case"hex":return ee(this,oe,se);case"utf8":case"utf-8":return $(this,oe,se);case"ascii":return L(this,oe,se);case"latin1":case"binary":return B(this,oe,se);case"base64":return j(this,oe,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,oe,se);default:if(ve)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),ve=!0}}function g(q,oe,se){var ve=q[oe];q[oe]=q[se],q[se]=ve}function y(q,oe,se,ve,Se){if(0===q.length)return-1;if("string"==typeof se?(ve=se,se=0):se>2147483647?se=2147483647:se<-2147483648&&(se=-2147483648),me(se=+se)&&(se=Se?0:q.length-1),se<0&&(se=q.length+se),se>=q.length){if(Se)return-1;se=q.length-1}else if(se<0){if(!Se)return-1;se=0}if("string"==typeof oe&&(oe=w.from(oe,ve)),w.isBuffer(oe))return 0===oe.length?-1:b(q,oe,se,ve,Se);if("number"==typeof oe)return oe&=255,"function"==typeof Uint8Array.prototype.indexOf?Se?Uint8Array.prototype.indexOf.call(q,oe,se):Uint8Array.prototype.lastIndexOf.call(q,oe,se):b(q,[oe],se,ve,Se);throw new TypeError("val must be string, number or Buffer")}function b(q,oe,se,ve,Se){var De,qe=1,je=q.length,Ye=oe.length;if(void 0!==ve&&("ucs2"===(ve=String(ve).toLowerCase())||"ucs-2"===ve||"utf16le"===ve||"utf-16le"===ve)){if(q.length<2||oe.length<2)return-1;qe=2,je/=2,Ye/=2,se/=2}function st(bt,It){return 1===qe?bt[It]:bt.readUInt16BE(It*qe)}if(Se){var ct=-1;for(De=se;De<je;De++)if(st(q,De)===st(oe,-1===ct?0:De-ct)){if(-1===ct&&(ct=De),De-ct+1===Ye)return ct*qe}else-1!==ct&&(De-=De-ct),ct=-1}else for(se+Ye>je&&(se=je-Ye),De=se;De>=0;De--){for(var ht=!0,sn=0;sn<Ye;sn++)if(st(q,De+sn)!==st(oe,sn)){ht=!1;break}if(ht)return De}return-1}function S(q,oe,se,ve){se=Number(se)||0;var Se=q.length-se;ve?(ve=Number(ve))>Se&&(ve=Se):ve=Se;var De=oe.length;ve>De/2&&(ve=De/2);for(var qe=0;qe<ve;++qe){var je=parseInt(oe.substr(2*qe,2),16);if(me(je))return qe;q[se+qe]=je}return qe}function A(q,oe,se,ve){return pe(ce(oe,q.length-se),q,se,ve)}function P(q,oe,se,ve){return pe(function(Se){for(var De=[],qe=0;qe<Se.length;++qe)De.push(255&Se.charCodeAt(qe));return De}(oe),q,se,ve)}function H(q,oe,se,ve){return P(q,oe,se,ve)}function X(q,oe,se,ve){return pe(de(oe),q,se,ve)}function J(q,oe,se,ve){return pe(function(Se,De){for(var qe,je,st=[],ct=0;ct<Se.length&&!((De-=2)<0);++ct)je=(qe=Se.charCodeAt(ct))>>8,st.push(qe%256),st.push(je);return st}(oe,q.length-se),q,se,ve)}function j(q,oe,se){return M.fromByteArray(0===oe&&se===q.length?q:q.slice(oe,se))}function $(q,oe,se){se=Math.min(q.length,se);for(var ve=[],Se=oe;Se<se;){var De,qe,je,Ye,st=q[Se],ct=null,ht=st>239?4:st>223?3:st>191?2:1;if(Se+ht<=se)switch(ht){case 1:st<128&&(ct=st);break;case 2:128==(192&(De=q[Se+1]))&&(Ye=(31&st)<<6|63&De)>127&&(ct=Ye);break;case 3:qe=q[Se+2],128==(192&(De=q[Se+1]))&&128==(192&qe)&&(Ye=(15&st)<<12|(63&De)<<6|63&qe)>2047&&(Ye<55296||Ye>57343)&&(ct=Ye);break;case 4:qe=q[Se+2],je=q[Se+3],128==(192&(De=q[Se+1]))&&128==(192&qe)&&128==(192&je)&&(Ye=(15&st)<<18|(63&De)<<12|(63&qe)<<6|63&je)>65535&&Ye<1114112&&(ct=Ye)}null===ct?(ct=65533,ht=1):ct>65535&&(ve.push((ct-=65536)>>>10&1023|55296),ct=56320|1023&ct),ve.push(ct),Se+=ht}return function(sn){var bt=sn.length;if(bt<=4096)return String.fromCharCode.apply(String,sn);for(var It="",ln=0;ln<bt;)It+=String.fromCharCode.apply(String,sn.slice(ln,ln+=4096));return It}(ve)}function L(q,oe,se){var ve="";se=Math.min(q.length,se);for(var Se=oe;Se<se;++Se)ve+=String.fromCharCode(127&q[Se]);return ve}function B(q,oe,se){var ve="";se=Math.min(q.length,se);for(var Se=oe;Se<se;++Se)ve+=String.fromCharCode(q[Se]);return ve}function ee(q,oe,se){var ve=q.length;(!oe||oe<0)&&(oe=0),(!se||se<0||se>ve)&&(se=ve);for(var Se="",De=oe;De<se;++De)Se+=ue(q[De]);return Se}function N(q,oe,se){for(var ve=q.slice(oe,se),Se="",De=0;De<ve.length;De+=2)Se+=String.fromCharCode(ve[De]+256*ve[De+1]);return Se}function V(q,oe,se){if(q%1!=0||q<0)throw new RangeError("offset is not uint");if(q+oe>se)throw new RangeError("Trying to access beyond buffer length")}function U(q,oe,se,ve,Se,De){if(!w.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Se||oe<De)throw new RangeError('"value" argument is out of bounds');if(se+ve>q.length)throw new RangeError("Index out of range")}function Q(q,oe,se,ve,Se,De){if(se+ve>q.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("Index out of range")}function Z(q,oe,se,ve,Se){return oe=+oe,se>>>=0,Se||Q(q,0,se,4),x.write(q,oe,se,ve,23,4),se+4}function K(q,oe,se,ve,Se){return oe=+oe,se>>>=0,Se||Q(q,0,se,8),x.write(q,oe,se,ve,52,8),se+8}W.Buffer=w,W.SlowBuffer=function(q){return+q!=q&&(q=0),w.alloc(+q)},W.INSPECT_MAX_BYTES=50,W.kMaxLength=2147483647,(w.TYPED_ARRAY_SUPPORT=function(){try{var q=new Uint8Array(1);return q.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===q.foo()}catch{return!1}}())||typeof console>"u"||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),w.poolSize=8192,w.from=function(q,oe,se){return E(q,oe,se)},w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,w.alloc=function(q,oe,se){return Se=oe,De=se,C(ve=q),ve<=0?O(ve):void 0!==Se?"string"==typeof De?O(ve).fill(Se,De):O(ve).fill(Se):O(ve);var ve,Se,De},w.allocUnsafe=function(q){return f(q)},w.allocUnsafeSlow=function(q){return f(q)},w.isBuffer=function(q){return null!=q&&!0===q._isBuffer&&q!==w.prototype},w.compare=function(q,oe){if(_e(q,Uint8Array)&&(q=w.from(q,q.offset,q.byteLength)),_e(oe,Uint8Array)&&(oe=w.from(oe,oe.offset,oe.byteLength)),!w.isBuffer(q)||!w.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===oe)return 0;for(var se=q.length,ve=oe.length,Se=0,De=Math.min(se,ve);Se<De;++Se)if(q[Se]!==oe[Se]){se=q[Se],ve=oe[Se];break}return se<ve?-1:ve<se?1:0},w.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(q,oe){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(0===q.length)return w.alloc(0);var se;if(void 0===oe)for(oe=0,se=0;se<q.length;++se)oe+=q[se].length;var ve=w.allocUnsafe(oe),Se=0;for(se=0;se<q.length;++se){var De=q[se];if(_e(De,Uint8Array)&&(De=w.from(De)),!w.isBuffer(De))throw new TypeError('"list" argument must be an Array of Buffers');De.copy(ve,Se),Se+=De.length}return ve},w.byteLength=c,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<q;oe+=2)g(this,oe,oe+1);return this},w.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<q;oe+=4)g(this,oe,oe+3),g(this,oe+1,oe+2);return this},w.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<q;oe+=8)g(this,oe,oe+7),g(this,oe+1,oe+6),g(this,oe+2,oe+5),g(this,oe+3,oe+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){var q=this.length;return 0===q?"":0===arguments.length?$(this,0,q):m.apply(this,arguments)},w.prototype.equals=function(q){if(!w.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q||0===w.compare(this,q)},w.prototype.inspect=function(){var q="",oe=W.INSPECT_MAX_BYTES;return q=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(q+=" ... "),"<Buffer "+q+">"},w.prototype.compare=function(q,oe,se,ve,Se){if(_e(q,Uint8Array)&&(q=w.from(q,q.offset,q.byteLength)),!w.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+R(q));if(void 0===oe&&(oe=0),void 0===se&&(se=q?q.length:0),void 0===ve&&(ve=0),void 0===Se&&(Se=this.length),oe<0||se>q.length||ve<0||Se>this.length)throw new RangeError("out of range index");if(ve>=Se&&oe>=se)return 0;if(ve>=Se)return-1;if(oe>=se)return 1;if(this===q)return 0;for(var De=(Se>>>=0)-(ve>>>=0),qe=(se>>>=0)-(oe>>>=0),je=Math.min(De,qe),Ye=this.slice(ve,Se),st=q.slice(oe,se),ct=0;ct<je;++ct)if(Ye[ct]!==st[ct]){De=Ye[ct],qe=st[ct];break}return De<qe?-1:qe<De?1:0},w.prototype.includes=function(q,oe,se){return-1!==this.indexOf(q,oe,se)},w.prototype.indexOf=function(q,oe,se){return y(this,q,oe,se,!0)},w.prototype.lastIndexOf=function(q,oe,se){return y(this,q,oe,se,!1)},w.prototype.write=function(q,oe,se,ve){if(void 0===oe)ve="utf8",se=this.length,oe=0;else if(void 0===se&&"string"==typeof oe)ve=oe,se=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(se)?(se>>>=0,void 0===ve&&(ve="utf8")):(ve=se,se=void 0)}var Se=this.length-oe;if((void 0===se||se>Se)&&(se=Se),q.length>0&&(se<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");ve||(ve="utf8");for(var De=!1;;)switch(ve){case"hex":return S(this,q,oe,se);case"utf8":case"utf-8":return A(this,q,oe,se);case"ascii":return P(this,q,oe,se);case"latin1":case"binary":return H(this,q,oe,se);case"base64":return X(this,q,oe,se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,q,oe,se);default:if(De)throw new TypeError("Unknown encoding: "+ve);ve=(""+ve).toLowerCase(),De=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},w.prototype.slice=function(q,oe){var se=this.length;(q=~~q)<0?(q+=se)<0&&(q=0):q>se&&(q=se),(oe=void 0===oe?se:~~oe)<0?(oe+=se)<0&&(oe=0):oe>se&&(oe=se),oe<q&&(oe=q);var ve=this.subarray(q,oe);return ve.__proto__=w.prototype,ve},w.prototype.readUIntLE=function(q,oe,se){q>>>=0,oe>>>=0,se||V(q,oe,this.length);for(var ve=this[q],Se=1,De=0;++De<oe&&(Se*=256);)ve+=this[q+De]*Se;return ve},w.prototype.readUIntBE=function(q,oe,se){q>>>=0,oe>>>=0,se||V(q,oe,this.length);for(var ve=this[q+--oe],Se=1;oe>0&&(Se*=256);)ve+=this[q+--oe]*Se;return ve},w.prototype.readUInt8=function(q,oe){return q>>>=0,oe||V(q,1,this.length),this[q]},w.prototype.readUInt16LE=function(q,oe){return q>>>=0,oe||V(q,2,this.length),this[q]|this[q+1]<<8},w.prototype.readUInt16BE=function(q,oe){return q>>>=0,oe||V(q,2,this.length),this[q]<<8|this[q+1]},w.prototype.readUInt32LE=function(q,oe){return q>>>=0,oe||V(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+16777216*this[q+3]},w.prototype.readUInt32BE=function(q,oe){return q>>>=0,oe||V(q,4,this.length),16777216*this[q]+(this[q+1]<<16|this[q+2]<<8|this[q+3])},w.prototype.readIntLE=function(q,oe,se){q>>>=0,oe>>>=0,se||V(q,oe,this.length);for(var ve=this[q],Se=1,De=0;++De<oe&&(Se*=256);)ve+=this[q+De]*Se;return ve>=(Se*=128)&&(ve-=Math.pow(2,8*oe)),ve},w.prototype.readIntBE=function(q,oe,se){q>>>=0,oe>>>=0,se||V(q,oe,this.length);for(var ve=oe,Se=1,De=this[q+--ve];ve>0&&(Se*=256);)De+=this[q+--ve]*Se;return De>=(Se*=128)&&(De-=Math.pow(2,8*oe)),De},w.prototype.readInt8=function(q,oe){return q>>>=0,oe||V(q,1,this.length),128&this[q]?-1*(255-this[q]+1):this[q]},w.prototype.readInt16LE=function(q,oe){q>>>=0,oe||V(q,2,this.length);var se=this[q]|this[q+1]<<8;return 32768&se?4294901760|se:se},w.prototype.readInt16BE=function(q,oe){q>>>=0,oe||V(q,2,this.length);var se=this[q+1]|this[q]<<8;return 32768&se?4294901760|se:se},w.prototype.readInt32LE=function(q,oe){return q>>>=0,oe||V(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},w.prototype.readInt32BE=function(q,oe){return q>>>=0,oe||V(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},w.prototype.readFloatLE=function(q,oe){return q>>>=0,oe||V(q,4,this.length),x.read(this,q,!0,23,4)},w.prototype.readFloatBE=function(q,oe){return q>>>=0,oe||V(q,4,this.length),x.read(this,q,!1,23,4)},w.prototype.readDoubleLE=function(q,oe){return q>>>=0,oe||V(q,8,this.length),x.read(this,q,!0,52,8)},w.prototype.readDoubleBE=function(q,oe){return q>>>=0,oe||V(q,8,this.length),x.read(this,q,!1,52,8)},w.prototype.writeUIntLE=function(q,oe,se,ve){q=+q,oe>>>=0,se>>>=0,ve||U(this,q,oe,se,Math.pow(2,8*se)-1,0);var Se=1,De=0;for(this[oe]=255&q;++De<se&&(Se*=256);)this[oe+De]=q/Se&255;return oe+se},w.prototype.writeUIntBE=function(q,oe,se,ve){q=+q,oe>>>=0,se>>>=0,ve||U(this,q,oe,se,Math.pow(2,8*se)-1,0);var Se=se-1,De=1;for(this[oe+Se]=255&q;--Se>=0&&(De*=256);)this[oe+Se]=q/De&255;return oe+se},w.prototype.writeUInt8=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,1,255,0),this[oe]=255&q,oe+1},w.prototype.writeUInt16LE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,2,65535,0),this[oe]=255&q,this[oe+1]=q>>>8,oe+2},w.prototype.writeUInt16BE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,2,65535,0),this[oe]=q>>>8,this[oe+1]=255&q,oe+2},w.prototype.writeUInt32LE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,4,4294967295,0),this[oe+3]=q>>>24,this[oe+2]=q>>>16,this[oe+1]=q>>>8,this[oe]=255&q,oe+4},w.prototype.writeUInt32BE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,4,4294967295,0),this[oe]=q>>>24,this[oe+1]=q>>>16,this[oe+2]=q>>>8,this[oe+3]=255&q,oe+4},w.prototype.writeIntLE=function(q,oe,se,ve){if(q=+q,oe>>>=0,!ve){var Se=Math.pow(2,8*se-1);U(this,q,oe,se,Se-1,-Se)}var De=0,qe=1,je=0;for(this[oe]=255&q;++De<se&&(qe*=256);)q<0&&0===je&&0!==this[oe+De-1]&&(je=1),this[oe+De]=(q/qe>>0)-je&255;return oe+se},w.prototype.writeIntBE=function(q,oe,se,ve){if(q=+q,oe>>>=0,!ve){var Se=Math.pow(2,8*se-1);U(this,q,oe,se,Se-1,-Se)}var De=se-1,qe=1,je=0;for(this[oe+De]=255&q;--De>=0&&(qe*=256);)q<0&&0===je&&0!==this[oe+De+1]&&(je=1),this[oe+De]=(q/qe>>0)-je&255;return oe+se},w.prototype.writeInt8=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,1,127,-128),q<0&&(q=255+q+1),this[oe]=255&q,oe+1},w.prototype.writeInt16LE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,2,32767,-32768),this[oe]=255&q,this[oe+1]=q>>>8,oe+2},w.prototype.writeInt16BE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,2,32767,-32768),this[oe]=q>>>8,this[oe+1]=255&q,oe+2},w.prototype.writeInt32LE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,4,2147483647,-2147483648),this[oe]=255&q,this[oe+1]=q>>>8,this[oe+2]=q>>>16,this[oe+3]=q>>>24,oe+4},w.prototype.writeInt32BE=function(q,oe,se){return q=+q,oe>>>=0,se||U(this,q,oe,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[oe]=q>>>24,this[oe+1]=q>>>16,this[oe+2]=q>>>8,this[oe+3]=255&q,oe+4},w.prototype.writeFloatLE=function(q,oe,se){return Z(this,q,oe,!0,se)},w.prototype.writeFloatBE=function(q,oe,se){return Z(this,q,oe,!1,se)},w.prototype.writeDoubleLE=function(q,oe,se){return K(this,q,oe,!0,se)},w.prototype.writeDoubleBE=function(q,oe,se){return K(this,q,oe,!1,se)},w.prototype.copy=function(q,oe,se,ve){if(!w.isBuffer(q))throw new TypeError("argument should be a Buffer");if(se||(se=0),ve||0===ve||(ve=this.length),oe>=q.length&&(oe=q.length),oe||(oe=0),ve>0&&ve<se&&(ve=se),ve===se||0===q.length||0===this.length)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(se<0||se>=this.length)throw new RangeError("Index out of range");if(ve<0)throw new RangeError("sourceEnd out of bounds");ve>this.length&&(ve=this.length),q.length-oe<ve-se&&(ve=q.length-oe+se);var Se=ve-se;if(this===q&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(oe,se,ve);else if(this===q&&se<oe&&oe<ve)for(var De=Se-1;De>=0;--De)q[De+oe]=this[De+se];else Uint8Array.prototype.set.call(q,this.subarray(se,ve),oe);return Se},w.prototype.fill=function(q,oe,se,ve){if("string"==typeof q){if("string"==typeof oe?(ve=oe,oe=0,se=this.length):"string"==typeof se&&(ve=se,se=this.length),void 0!==ve&&"string"!=typeof ve)throw new TypeError("encoding must be a string");if("string"==typeof ve&&!w.isEncoding(ve))throw new TypeError("Unknown encoding: "+ve);if(1===q.length){var Se=q.charCodeAt(0);("utf8"===ve&&Se<128||"latin1"===ve)&&(q=Se)}}else"number"==typeof q&&(q&=255);if(oe<0||this.length<oe||this.length<se)throw new RangeError("Out of range index");if(se<=oe)return this;var De;if(oe>>>=0,se=void 0===se?this.length:se>>>0,q||(q=0),"number"==typeof q)for(De=oe;De<se;++De)this[De]=q;else{var qe=w.isBuffer(q)?q:w.from(q,ve),je=qe.length;if(0===je)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(De=0;De<se-oe;++De)this[De+oe]=qe[De%je]}return this};var ne=/[^+/0-9A-Za-z-_]/g;function ue(q){return q<16?"0"+q.toString(16):q.toString(16)}function ce(q,oe){var se;oe=oe||1/0;for(var ve=q.length,Se=null,De=[],qe=0;qe<ve;++qe){if((se=q.charCodeAt(qe))>55295&&se<57344){if(!Se){if(se>56319){(oe-=3)>-1&&De.push(239,191,189);continue}if(qe+1===ve){(oe-=3)>-1&&De.push(239,191,189);continue}Se=se;continue}if(se<56320){(oe-=3)>-1&&De.push(239,191,189),Se=se;continue}se=65536+(Se-55296<<10|se-56320)}else Se&&(oe-=3)>-1&&De.push(239,191,189);if(Se=null,se<128){if((oe-=1)<0)break;De.push(se)}else if(se<2048){if((oe-=2)<0)break;De.push(se>>6|192,63&se|128)}else if(se<65536){if((oe-=3)<0)break;De.push(se>>12|224,se>>6&63|128,63&se|128)}else{if(!(se<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;De.push(se>>18|240,se>>12&63|128,se>>6&63|128,63&se|128)}}return De}function de(q){return M.toByteArray(function(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(ne,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(q))}function pe(q,oe,se,ve){for(var Se=0;Se<ve&&!(Se+se>=oe.length||Se>=q.length);++Se)oe[Se+se]=q[Se];return Se}function _e(q,oe){return q instanceof oe||null!=q&&null!=q.constructor&&null!=q.constructor.name&&q.constructor.name===oe.name}function me(q){return q!=q}}).call(this,T("buffer").Buffer)},{"base64-js":182,buffer:216,ieee754:385}],217:[function(T,te,W){(function(k){"use strict";te.exports=function(R,M){for(var x=Math.min(R.length,M.length),O=new k(x),w=0;w<x;++w)O[w]=R[w]^M[w];return O}}).call(this,T("buffer").Buffer)},{buffer:216}],218:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("stream").Transform,M=T("string_decoder").StringDecoder;function x(O){R.call(this),this.hashMode="string"==typeof O,this.hashMode?this[O]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}T("inherits")(x,R),x.prototype.update=function(O,w,E){"string"==typeof O&&(O=k.from(O,w));var C=this._update(O);return this.hashMode?this:(E&&(C=this._toString(C,E)),C)},x.prototype.setAutoPadding=function(){},x.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},x.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},x.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},x.prototype._transform=function(O,w,E){var C;try{this.hashMode?this._update(O):this.push(this._update(O))}catch(f){C=f}finally{E(C)}},x.prototype._flush=function(O){var w;try{this.push(this.__final())}catch(E){w=E}O(w)},x.prototype._finalOrDigest=function(O){var w=this.__final()||k.alloc(0);return O&&(w=this._toString(w,O,!0)),w},x.prototype._toString=function(O,w,E){if(this._decoder||(this._decoder=new M(w),this._encoding=w),this._encoding!==w)throw new Error("can't switch encodings");var C=this._decoder.write(O);return E&&(C+=this._decoder.end()),C},te.exports=x},{inherits:387,"safe-buffer":494,stream:506,string_decoder:520}],219:[function(T,te,W){te.exports=function(k){if("function"!=typeof k)throw TypeError(String(k)+" is not a function");return k}},{}],220:[function(T,te,W){var k=T("../internals/is-object");te.exports=function(R){if(!k(R)&&null!==R)throw TypeError("Can't set "+String(R)+" as a prototype");return R}},{"../internals/is-object":263}],221:[function(T,te,W){var k=T("../internals/well-known-symbol"),R=T("../internals/object-create"),M=T("../internals/object-define-property"),x=k("unscopables"),O=Array.prototype;null==O[x]&&M.f(O,x,{configurable:!0,value:R(null)}),te.exports=function(w){O[x][w]=!0}},{"../internals/object-create":276,"../internals/object-define-property":278,"../internals/well-known-symbol":314}],222:[function(T,te,W){te.exports=function(k,R,M){if(!(k instanceof R))throw TypeError("Incorrect "+(M?M+" ":"")+"invocation");return k}},{}],223:[function(T,te,W){var k=T("../internals/is-object");te.exports=function(R){if(!k(R))throw TypeError(String(R)+" is not an object");return R}},{"../internals/is-object":263}],224:[function(T,te,W){var k=T("../internals/to-indexed-object"),R=T("../internals/to-length"),M=T("../internals/to-absolute-index"),x=function(O){return function(w,E,C){var f,d=k(w),u=R(d.length),c=M(C,u);if(O&&E!=E){for(;u>c;)if((f=d[c++])!=f)return!0}else for(;u>c;c++)if((O||c in d)&&d[c]===E)return O||c||0;return!O&&-1}};te.exports={includes:x(!0),indexOf:x(!1)}},{"../internals/to-absolute-index":304,"../internals/to-indexed-object":305,"../internals/to-length":307}],225:[function(T,te,W){var k=T("../internals/function-bind-context"),R=T("../internals/indexed-object"),M=T("../internals/to-object"),x=T("../internals/to-length"),O=T("../internals/array-species-create"),w=[].push,E=function(C){var f=1==C,d=2==C,u=3==C,c=4==C,m=6==C,g=5==C||m;return function(y,b,S,A){for(var P,H,X=M(y),J=R(X),j=k(b,S,3),$=x(J.length),L=0,B=A||O,ee=f?B(y,$):d?B(y,0):void 0;$>L;L++)if((g||L in J)&&(H=j(P=J[L],L,X),C))if(f)ee[L]=H;else if(H)switch(C){case 3:return!0;case 5:return P;case 6:return L;case 2:w.call(ee,P)}else if(c)return!1;return m?-1:u||c?c:ee}};te.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6)}},{"../internals/array-species-create":227,"../internals/function-bind-context":248,"../internals/indexed-object":257,"../internals/to-length":307,"../internals/to-object":308}],226:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/fails"),M=T("../internals/has"),x=Object.defineProperty,O={},w=function(E){throw E};te.exports=function(E,C){if(M(O,E))return O[E];C||(C={});var f=[][E],d=!!M(C,"ACCESSORS")&&C.ACCESSORS,u=M(C,0)?C[0]:w,c=M(C,1)?C[1]:void 0;return O[E]=!!f&&!R(function(){if(d&&!k)return!0;var m={length:-1};d?x(m,1,{enumerable:!0,get:w}):m[1]=1,f.call(m,u,c)})}},{"../internals/descriptors":240,"../internals/fails":247,"../internals/has":252}],227:[function(T,te,W){var k=T("../internals/is-object"),R=T("../internals/is-array"),M=T("../internals/well-known-symbol")("species");te.exports=function(x,O){var w;return R(x)&&("function"!=typeof(w=x.constructor)||w!==Array&&!R(w.prototype)?k(w)&&null===(w=w[M])&&(w=void 0):w=void 0),new(void 0===w?Array:w)(0===O?0:O)}},{"../internals/is-array":261,"../internals/is-object":263,"../internals/well-known-symbol":314}],228:[function(T,te,W){var k=T("../internals/an-object");te.exports=function(R,M,x,O){try{return O?M(k(x)[0],x[1]):M(x)}catch(E){var w=R.return;throw void 0!==w&&k(w.call(R)),E}}},{"../internals/an-object":223}],229:[function(T,te,W){var k=T("../internals/well-known-symbol")("iterator"),R=!1;try{var M=0,x={next:function(){return{done:!!M++}},return:function(){R=!0}};x[k]=function(){return this},Array.from(x,function(){throw 2})}catch{}te.exports=function(O,w){if(!w&&!R)return!1;var E=!1;try{var C={};C[k]=function(){return{next:function(){return{done:E=!0}}}},O(C)}catch{}return E}},{"../internals/well-known-symbol":314}],230:[function(T,te,W){var k={}.toString;te.exports=function(R){return k.call(R).slice(8,-1)}},{}],231:[function(T,te,W){var k=T("../internals/to-string-tag-support"),R=T("../internals/classof-raw"),M=T("../internals/well-known-symbol")("toStringTag"),x="Arguments"==R(function(){return arguments}());te.exports=k?R:function(O){var w,E,C;return void 0===O?"Undefined":null===O?"Null":"string"==typeof(E=function(f,d){try{return f[d]}catch{}}(w=Object(O),M))?E:x?R(w):"Object"==(C=R(w))&&"function"==typeof w.callee?"Arguments":C}},{"../internals/classof-raw":230,"../internals/to-string-tag-support":310,"../internals/well-known-symbol":314}],232:[function(T,te,W){var k=T("../internals/has"),R=T("../internals/own-keys"),M=T("../internals/object-get-own-property-descriptor"),x=T("../internals/object-define-property");te.exports=function(O,w){for(var E=R(w),C=x.f,f=M.f,d=0;d<E.length;d++){var u=E[d];k(O,u)||C(O,u,f(w,u))}}},{"../internals/has":252,"../internals/object-define-property":278,"../internals/object-get-own-property-descriptor":279,"../internals/own-keys":289}],233:[function(T,te,W){var k=T("../internals/well-known-symbol")("match");te.exports=function(R){var M=/./;try{"/./"[R](M)}catch{try{return M[k]=!1,"/./"[R](M)}catch{}}return!1}},{"../internals/well-known-symbol":314}],234:[function(T,te,W){var k=T("../internals/fails");te.exports=!k(function(){function R(){}return R.prototype.constructor=null,Object.getPrototypeOf(new R)!==R.prototype})},{"../internals/fails":247}],235:[function(T,te,W){"use strict";var k=T("../internals/iterators-core").IteratorPrototype,R=T("../internals/object-create"),M=T("../internals/create-property-descriptor"),x=T("../internals/set-to-string-tag"),O=T("../internals/iterators"),w=function(){return this};te.exports=function(E,C,f){var d=C+" Iterator";return E.prototype=R(k,{next:M(1,f)}),x(E,d,!1,!0),O[d]=w,E}},{"../internals/create-property-descriptor":237,"../internals/iterators":268,"../internals/iterators-core":267,"../internals/object-create":276,"../internals/set-to-string-tag":298}],236:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/object-define-property"),M=T("../internals/create-property-descriptor");te.exports=k?function(x,O,w){return R.f(x,O,M(1,w))}:function(x,O,w){return x[O]=w,x}},{"../internals/create-property-descriptor":237,"../internals/descriptors":240,"../internals/object-define-property":278}],237:[function(T,te,W){te.exports=function(k,R){return{enumerable:!(1&k),configurable:!(2&k),writable:!(4&k),value:R}}},{}],238:[function(T,te,W){"use strict";var k=T("../internals/export"),R=T("../internals/create-iterator-constructor"),M=T("../internals/object-get-prototype-of"),x=T("../internals/object-set-prototype-of"),O=T("../internals/set-to-string-tag"),w=T("../internals/create-non-enumerable-property"),E=T("../internals/redefine"),C=T("../internals/well-known-symbol"),f=T("../internals/is-pure"),d=T("../internals/iterators"),u=T("../internals/iterators-core"),c=u.IteratorPrototype,m=u.BUGGY_SAFARI_ITERATORS,g=C("iterator"),y=function(){return this};te.exports=function(b,S,A,P,H,X,J){R(A,S,P);var j,$,L,B=function(K){if(K===H&&Q)return Q;if(!m&&K in V)return V[K];switch(K){case"keys":case"values":case"entries":return function(){return new A(this,K)}}return function(){return new A(this)}},ee=S+" Iterator",N=!1,V=b.prototype,U=V[g]||V["@@iterator"]||H&&V[H],Q=!m&&U||B(H),Z="Array"==S&&V.entries||U;if(Z&&(j=M(Z.call(new b)),c!==Object.prototype&&j.next&&(f||M(j)===c||(x?x(j,c):"function"!=typeof j[g]&&w(j,g,y)),O(j,ee,!0,!0),f&&(d[ee]=y))),"values"==H&&U&&"values"!==U.name&&(N=!0,Q=function(){return U.call(this)}),f&&!J||V[g]===Q||w(V,g,Q),d[S]=Q,H)if($={values:B("values"),keys:X?Q:B("keys"),entries:B("entries")},J)for(L in $)(m||N||!(L in V))&&E(V,L,$[L]);else k({target:S,proto:!0,forced:m||N},$);return $}},{"../internals/create-iterator-constructor":235,"../internals/create-non-enumerable-property":236,"../internals/export":246,"../internals/is-pure":264,"../internals/iterators":268,"../internals/iterators-core":267,"../internals/object-get-prototype-of":283,"../internals/object-set-prototype-of":287,"../internals/redefine":294,"../internals/set-to-string-tag":298,"../internals/well-known-symbol":314}],239:[function(T,te,W){var k=T("../internals/path"),R=T("../internals/has"),M=T("../internals/well-known-symbol-wrapped"),x=T("../internals/object-define-property").f;te.exports=function(O){var w=k.Symbol||(k.Symbol={});R(w,O)||x(w,O,{value:M.f(O)})}},{"../internals/has":252,"../internals/object-define-property":278,"../internals/path":290,"../internals/well-known-symbol-wrapped":313}],240:[function(T,te,W){var k=T("../internals/fails");te.exports=!k(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},{"../internals/fails":247}],241:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/is-object"),M=k.document,x=R(M)&&R(M.createElement);te.exports=function(O){return x?M.createElement(O):{}}},{"../internals/global":251,"../internals/is-object":263}],242:[function(T,te,W){var k=T("../internals/engine-user-agent");te.exports=/(iphone|ipod|ipad).*applewebkit/i.test(k)},{"../internals/engine-user-agent":243}],243:[function(T,te,W){var k=T("../internals/get-built-in");te.exports=k("navigator","userAgent")||""},{"../internals/get-built-in":249}],244:[function(T,te,W){var k,R,M=T("../internals/global"),x=T("../internals/engine-user-agent"),O=M.process,w=O&&O.versions,E=w&&w.v8;E?R=(k=E.split("."))[0]+k[1]:x&&(!(k=x.match(/Edge\/(\d+)/))||k[1]>=74)&&(k=x.match(/Chrome\/(\d+)/))&&(R=k[1]),te.exports=R&&+R},{"../internals/engine-user-agent":243,"../internals/global":251}],245:[function(T,te,W){te.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],246:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/object-get-own-property-descriptor").f,M=T("../internals/create-non-enumerable-property"),x=T("../internals/redefine"),O=T("../internals/set-global"),w=T("../internals/copy-constructor-properties"),E=T("../internals/is-forced");te.exports=function(C,f){var d,u,c,m,g,y=C.target,b=C.global,S=C.stat;if(d=b?k:S?k[y]||O(y,{}):(k[y]||{}).prototype)for(u in f){if(m=f[u],c=C.noTargetGet?(g=R(d,u))&&g.value:d[u],!E(b?u:y+(S?".":"#")+u,C.forced)&&void 0!==c){if(typeof m==typeof c)continue;w(m,c)}(C.sham||c&&c.sham)&&M(m,"sham",!0),x(d,u,m,C)}}},{"../internals/copy-constructor-properties":232,"../internals/create-non-enumerable-property":236,"../internals/global":251,"../internals/is-forced":262,"../internals/object-get-own-property-descriptor":279,"../internals/redefine":294,"../internals/set-global":296}],247:[function(T,te,W){te.exports=function(k){try{return!!k()}catch{return!0}}},{}],248:[function(T,te,W){var k=T("../internals/a-function");te.exports=function(R,M,x){if(k(R),void 0===M)return R;switch(x){case 0:return function(){return R.call(M)};case 1:return function(O){return R.call(M,O)};case 2:return function(O,w){return R.call(M,O,w)};case 3:return function(O,w,E){return R.call(M,O,w,E)}}return function(){return R.apply(M,arguments)}}},{"../internals/a-function":219}],249:[function(T,te,W){var k=T("../internals/path"),R=T("../internals/global"),M=function(x){return"function"==typeof x?x:void 0};te.exports=function(x,O){return arguments.length<2?M(k[x])||M(R[x]):k[x]&&k[x][O]||R[x]&&R[x][O]}},{"../internals/global":251,"../internals/path":290}],250:[function(T,te,W){var k=T("../internals/classof"),R=T("../internals/iterators"),M=T("../internals/well-known-symbol")("iterator");te.exports=function(x){if(null!=x)return x[M]||x["@@iterator"]||R[k(x)]}},{"../internals/classof":231,"../internals/iterators":268,"../internals/well-known-symbol":314}],251:[function(T,te,W){(function(k){var R=function(M){return M&&M.Math==Math&&M};te.exports=R("object"==typeof globalThis&&globalThis)||R("object"==typeof window&&window)||R("object"==typeof self&&self)||R("object"==typeof k&&k)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],252:[function(T,te,W){var k={}.hasOwnProperty;te.exports=function(R,M){return k.call(R,M)}},{}],253:[function(T,te,W){te.exports={}},{}],254:[function(T,te,W){var k=T("../internals/global");te.exports=function(R,M){var x=k.console;x&&x.error&&(1===arguments.length?x.error(R):x.error(R,M))}},{"../internals/global":251}],255:[function(T,te,W){var k=T("../internals/get-built-in");te.exports=k("document","documentElement")},{"../internals/get-built-in":249}],256:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/fails"),M=T("../internals/document-create-element");te.exports=!k&&!R(function(){return 7!=Object.defineProperty(M("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":240,"../internals/document-create-element":241,"../internals/fails":247}],257:[function(T,te,W){var k=T("../internals/fails"),R=T("../internals/classof-raw"),M="".split;te.exports=k(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return"String"==R(x)?M.call(x,""):Object(x)}:Object},{"../internals/classof-raw":230,"../internals/fails":247}],258:[function(T,te,W){var k=T("../internals/shared-store"),R=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(M){return R.call(M)}),te.exports=k.inspectSource},{"../internals/shared-store":300}],259:[function(T,te,W){var k,R,M,x=T("../internals/native-weak-map"),O=T("../internals/global"),w=T("../internals/is-object"),E=T("../internals/create-non-enumerable-property"),C=T("../internals/has"),f=T("../internals/shared-key"),d=T("../internals/hidden-keys");if(x){var c=new(0,O.WeakMap),m=c.get,g=c.has,y=c.set;k=function(S,A){return y.call(c,S,A),A},R=function(S){return m.call(c,S)||{}},M=function(S){return g.call(c,S)}}else{var b=f("state");d[b]=!0,k=function(S,A){return E(S,b,A),A},R=function(S){return C(S,b)?S[b]:{}},M=function(S){return C(S,b)}}te.exports={set:k,get:R,has:M,enforce:function(S){return M(S)?R(S):k(S,{})},getterFor:function(S){return function(A){var P;if(!w(A)||(P=R(A)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return P}}}},{"../internals/create-non-enumerable-property":236,"../internals/global":251,"../internals/has":252,"../internals/hidden-keys":253,"../internals/is-object":263,"../internals/native-weak-map":272,"../internals/shared-key":299}],260:[function(T,te,W){var k=T("../internals/well-known-symbol"),R=T("../internals/iterators"),M=k("iterator"),x=Array.prototype;te.exports=function(O){return void 0!==O&&(R.Array===O||x[M]===O)}},{"../internals/iterators":268,"../internals/well-known-symbol":314}],261:[function(T,te,W){var k=T("../internals/classof-raw");te.exports=Array.isArray||function(R){return"Array"==k(R)}},{"../internals/classof-raw":230}],262:[function(T,te,W){var k=T("../internals/fails"),R=/#|\.prototype\./,M=function(C,f){var d=O[x(C)];return d==E||d!=w&&("function"==typeof f?k(f):!!f)},x=M.normalize=function(C){return String(C).replace(R,".").toLowerCase()},O=M.data={},w=M.NATIVE="N",E=M.POLYFILL="P";te.exports=M},{"../internals/fails":247}],263:[function(T,te,W){te.exports=function(k){return"object"==typeof k?null!==k:"function"==typeof k}},{}],264:[function(T,te,W){te.exports=!1},{}],265:[function(T,te,W){var k=T("../internals/is-object"),R=T("../internals/classof-raw"),M=T("../internals/well-known-symbol")("match");te.exports=function(x){var O;return k(x)&&(void 0!==(O=x[M])?!!O:"RegExp"==R(x))}},{"../internals/classof-raw":230,"../internals/is-object":263,"../internals/well-known-symbol":314}],266:[function(T,te,W){var k=T("../internals/an-object"),R=T("../internals/is-array-iterator-method"),M=T("../internals/to-length"),x=T("../internals/function-bind-context"),O=T("../internals/get-iterator-method"),w=T("../internals/call-with-safe-iteration-closing"),E=function(C,f){this.stopped=C,this.result=f};(te.exports=function(C,f,d,u,c){var m,g,y,b,S,A,P,H=x(f,d,u?2:1);if(c)m=C;else{if("function"!=typeof(g=O(C)))throw TypeError("Target is not iterable");if(R(g)){for(y=0,b=M(C.length);b>y;y++)if((S=u?H(k(P=C[y])[0],P[1]):H(C[y]))&&S instanceof E)return S;return new E(!1)}m=g.call(C)}for(A=m.next;!(P=A.call(m)).done;)if("object"==typeof(S=w(m,H,P.value,u))&&S&&S instanceof E)return S;return new E(!1)}).stop=function(C){return new E(!0,C)}},{"../internals/an-object":223,"../internals/call-with-safe-iteration-closing":228,"../internals/function-bind-context":248,"../internals/get-iterator-method":250,"../internals/is-array-iterator-method":260,"../internals/to-length":307}],267:[function(T,te,W){"use strict";var k,R,M,x=T("../internals/object-get-prototype-of"),O=T("../internals/create-non-enumerable-property"),w=T("../internals/has"),E=T("../internals/well-known-symbol"),C=T("../internals/is-pure"),f=E("iterator"),d=!1;[].keys&&("next"in(M=[].keys())?(R=x(x(M)))!==Object.prototype&&(k=R):d=!0),null==k&&(k={}),C||w(k,f)||O(k,f,function(){return this}),te.exports={IteratorPrototype:k,BUGGY_SAFARI_ITERATORS:d}},{"../internals/create-non-enumerable-property":236,"../internals/has":252,"../internals/is-pure":264,"../internals/object-get-prototype-of":283,"../internals/well-known-symbol":314}],268:[function(T,te,W){arguments[4][253][0].apply(W,arguments)},{dup:253}],269:[function(T,te,W){var k,R,M,x,O,w,E,C,f=T("../internals/global"),d=T("../internals/object-get-own-property-descriptor").f,u=T("../internals/classof-raw"),c=T("../internals/task").set,m=T("../internals/engine-is-ios"),g=f.MutationObserver||f.WebKitMutationObserver,y=f.process,b=f.Promise,S="process"==u(y),A=d(f,"queueMicrotask"),P=A&&A.value;P||(k=function(){var H,X;for(S&&(H=y.domain)&&H.exit();R;){X=R.fn,R=R.next;try{X()}catch(J){throw R?x():M=void 0,J}}M=void 0,H&&H.enter()},S?x=function(){y.nextTick(k)}:g&&!m?(O=!0,w=document.createTextNode(""),new g(k).observe(w,{characterData:!0}),x=function(){w.data=O=!O}):b&&b.resolve?(E=b.resolve(void 0),C=E.then,x=function(){C.call(E,k)}):x=function(){c.call(f,k)}),te.exports=P||function(H){var X={fn:H,next:void 0};M&&(M.next=X),R||(R=X,x()),M=X}},{"../internals/classof-raw":230,"../internals/engine-is-ios":242,"../internals/global":251,"../internals/object-get-own-property-descriptor":279,"../internals/task":303}],270:[function(T,te,W){var k=T("../internals/global");te.exports=k.Promise},{"../internals/global":251}],271:[function(T,te,W){var k=T("../internals/fails");te.exports=!!Object.getOwnPropertySymbols&&!k(function(){return!String(Symbol())})},{"../internals/fails":247}],272:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/inspect-source"),M=k.WeakMap;te.exports="function"==typeof M&&/native code/.test(R(M))},{"../internals/global":251,"../internals/inspect-source":258}],273:[function(T,te,W){"use strict";var k=T("../internals/a-function"),R=function(M){var x,O;this.promise=new M(function(w,E){if(void 0!==x||void 0!==O)throw TypeError("Bad Promise constructor");x=w,O=E}),this.resolve=k(x),this.reject=k(O)};te.exports.f=function(M){return new R(M)}},{"../internals/a-function":219}],274:[function(T,te,W){var k=T("../internals/is-regexp");te.exports=function(R){if(k(R))throw TypeError("The method doesn't accept regular expressions");return R}},{"../internals/is-regexp":265}],275:[function(T,te,W){"use strict";var k=T("../internals/descriptors"),R=T("../internals/fails"),M=T("../internals/object-keys"),x=T("../internals/object-get-own-property-symbols"),O=T("../internals/object-property-is-enumerable"),w=T("../internals/to-object"),E=T("../internals/indexed-object"),C=Object.assign,f=Object.defineProperty;te.exports=!C||R(function(){if(k&&1!==C({b:1},C(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var d={},u={},c=Symbol();return d[c]=7,"abcdefghijklmnopqrst".split("").forEach(function(m){u[m]=m}),7!=C({},d)[c]||"abcdefghijklmnopqrst"!=M(C({},u)).join("")})?function(d,u){for(var c=w(d),m=arguments.length,g=1,y=x.f,b=O.f;m>g;)for(var S,A=E(arguments[g++]),P=y?M(A).concat(y(A)):M(A),H=P.length,X=0;H>X;)S=P[X++],k&&!b.call(A,S)||(c[S]=A[S]);return c}:C},{"../internals/descriptors":240,"../internals/fails":247,"../internals/indexed-object":257,"../internals/object-get-own-property-symbols":282,"../internals/object-keys":285,"../internals/object-property-is-enumerable":286,"../internals/to-object":308}],276:[function(T,te,W){var k,R=T("../internals/an-object"),M=T("../internals/object-define-properties"),x=T("../internals/enum-bug-keys"),O=T("../internals/hidden-keys"),w=T("../internals/html"),E=T("../internals/document-create-element"),f=T("../internals/shared-key")("IE_PROTO"),d=function(){},u=function(m){return"<script>"+m+"<\/script>"},c=function(){try{k=document.domain&&new ActiveXObject("htmlfile")}catch{}var m,g;c=k?function(b){b.write(u("")),b.close();var S=b.parentWindow.Object;return b=null,S}(k):((g=E("iframe")).style.display="none",w.appendChild(g),g.src=String("javascript:"),(m=g.contentWindow.document).open(),m.write(u("document.F=Object")),m.close(),m.F);for(var y=x.length;y--;)delete c.prototype[x[y]];return c()};O[f]=!0,te.exports=Object.create||function(m,g){var y;return null!==m?(d.prototype=R(m),y=new d,d.prototype=null,y[f]=m):y=c(),void 0===g?y:M(y,g)}},{"../internals/an-object":223,"../internals/document-create-element":241,"../internals/enum-bug-keys":245,"../internals/hidden-keys":253,"../internals/html":255,"../internals/object-define-properties":277,"../internals/shared-key":299}],277:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/object-define-property"),M=T("../internals/an-object"),x=T("../internals/object-keys");te.exports=k?Object.defineProperties:function(O,w){M(O);for(var E,C=x(w),f=C.length,d=0;f>d;)R.f(O,E=C[d++],w[E]);return O}},{"../internals/an-object":223,"../internals/descriptors":240,"../internals/object-define-property":278,"../internals/object-keys":285}],278:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/ie8-dom-define"),M=T("../internals/an-object"),x=T("../internals/to-primitive"),O=Object.defineProperty;W.f=k?O:function(w,E,C){if(M(w),E=x(E,!0),M(C),R)try{return O(w,E,C)}catch{}if("get"in C||"set"in C)throw TypeError("Accessors not supported");return"value"in C&&(w[E]=C.value),w}},{"../internals/an-object":223,"../internals/descriptors":240,"../internals/ie8-dom-define":256,"../internals/to-primitive":309}],279:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/object-property-is-enumerable"),M=T("../internals/create-property-descriptor"),x=T("../internals/to-indexed-object"),O=T("../internals/to-primitive"),w=T("../internals/has"),E=T("../internals/ie8-dom-define"),C=Object.getOwnPropertyDescriptor;W.f=k?C:function(f,d){if(f=x(f),d=O(d,!0),E)try{return C(f,d)}catch{}if(w(f,d))return M(!R.f.call(f,d),f[d])}},{"../internals/create-property-descriptor":237,"../internals/descriptors":240,"../internals/has":252,"../internals/ie8-dom-define":256,"../internals/object-property-is-enumerable":286,"../internals/to-indexed-object":305,"../internals/to-primitive":309}],280:[function(T,te,W){var k=T("../internals/to-indexed-object"),R=T("../internals/object-get-own-property-names").f,M={}.toString,x="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];te.exports.f=function(O){return x&&"[object Window]"==M.call(O)?function(w){try{return R(w)}catch{return x.slice()}}(O):R(k(O))}},{"../internals/object-get-own-property-names":281,"../internals/to-indexed-object":305}],281:[function(T,te,W){var k=T("../internals/object-keys-internal"),R=T("../internals/enum-bug-keys").concat("length","prototype");W.f=Object.getOwnPropertyNames||function(M){return k(M,R)}},{"../internals/enum-bug-keys":245,"../internals/object-keys-internal":284}],282:[function(T,te,W){W.f=Object.getOwnPropertySymbols},{}],283:[function(T,te,W){var k=T("../internals/has"),R=T("../internals/to-object"),M=T("../internals/shared-key"),x=T("../internals/correct-prototype-getter"),O=M("IE_PROTO"),w=Object.prototype;te.exports=x?Object.getPrototypeOf:function(E){return E=R(E),k(E,O)?E[O]:"function"==typeof E.constructor&&E instanceof E.constructor?E.constructor.prototype:E instanceof Object?w:null}},{"../internals/correct-prototype-getter":234,"../internals/has":252,"../internals/shared-key":299,"../internals/to-object":308}],284:[function(T,te,W){var k=T("../internals/has"),R=T("../internals/to-indexed-object"),M=T("../internals/array-includes").indexOf,x=T("../internals/hidden-keys");te.exports=function(O,w){var E,C=R(O),f=0,d=[];for(E in C)!k(x,E)&&k(C,E)&&d.push(E);for(;w.length>f;)k(C,E=w[f++])&&(~M(d,E)||d.push(E));return d}},{"../internals/array-includes":224,"../internals/has":252,"../internals/hidden-keys":253,"../internals/to-indexed-object":305}],285:[function(T,te,W){var k=T("../internals/object-keys-internal"),R=T("../internals/enum-bug-keys");te.exports=Object.keys||function(M){return k(M,R)}},{"../internals/enum-bug-keys":245,"../internals/object-keys-internal":284}],286:[function(T,te,W){"use strict";var k={}.propertyIsEnumerable,R=Object.getOwnPropertyDescriptor,M=R&&!k.call({1:2},1);W.f=M?function(x){var O=R(this,x);return!!O&&O.enumerable}:k},{}],287:[function(T,te,W){var k=T("../internals/an-object"),R=T("../internals/a-possible-prototype");te.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var M,x=!1,O={};try{(M=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(O,[]),x=O instanceof Array}catch{}return function(w,E){return k(w),R(E),x?M.call(w,E):w.__proto__=E,w}}():void 0)},{"../internals/a-possible-prototype":220,"../internals/an-object":223}],288:[function(T,te,W){var k=T("../internals/descriptors"),R=T("../internals/object-keys"),M=T("../internals/to-indexed-object"),x=T("../internals/object-property-is-enumerable").f,O=function(w){return function(E){for(var C,f=M(E),d=R(f),u=d.length,c=0,m=[];u>c;)C=d[c++],k&&!x.call(f,C)||m.push(w?[C,f[C]]:f[C]);return m}};te.exports={entries:O(!0),values:O(!1)}},{"../internals/descriptors":240,"../internals/object-keys":285,"../internals/object-property-is-enumerable":286,"../internals/to-indexed-object":305}],289:[function(T,te,W){var k=T("../internals/get-built-in"),R=T("../internals/object-get-own-property-names"),M=T("../internals/object-get-own-property-symbols"),x=T("../internals/an-object");te.exports=k("Reflect","ownKeys")||function(O){var w=R.f(x(O)),E=M.f;return E?w.concat(E(O)):w}},{"../internals/an-object":223,"../internals/get-built-in":249,"../internals/object-get-own-property-names":281,"../internals/object-get-own-property-symbols":282}],290:[function(T,te,W){var k=T("../internals/global");te.exports=k},{"../internals/global":251}],291:[function(T,te,W){te.exports=function(k){try{return{error:!1,value:k()}}catch(R){return{error:!0,value:R}}}},{}],292:[function(T,te,W){var k=T("../internals/an-object"),R=T("../internals/is-object"),M=T("../internals/new-promise-capability");te.exports=function(x,O){if(k(x),R(O)&&O.constructor===x)return O;var w=M.f(x);return(0,w.resolve)(O),w.promise}},{"../internals/an-object":223,"../internals/is-object":263,"../internals/new-promise-capability":273}],293:[function(T,te,W){var k=T("../internals/redefine");te.exports=function(R,M,x){for(var O in M)k(R,O,M[O],x);return R}},{"../internals/redefine":294}],294:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/create-non-enumerable-property"),M=T("../internals/has"),x=T("../internals/set-global"),O=T("../internals/inspect-source"),w=T("../internals/internal-state"),E=w.get,C=w.enforce,f=String(String).split("String");(te.exports=function(d,u,c,m){var g=!!m&&!!m.unsafe,y=!!m&&!!m.enumerable,b=!!m&&!!m.noTargetGet;"function"==typeof c&&("string"!=typeof u||M(c,"name")||R(c,"name",u),C(c).source=f.join("string"==typeof u?u:"")),d!==k?(g?!b&&d[u]&&(y=!0):delete d[u],y?d[u]=c:R(d,u,c)):y?d[u]=c:x(u,c)})(Function.prototype,"toString",function(){return"function"==typeof this&&E(this).source||O(this)})},{"../internals/create-non-enumerable-property":236,"../internals/global":251,"../internals/has":252,"../internals/inspect-source":258,"../internals/internal-state":259,"../internals/set-global":296}],295:[function(T,te,W){te.exports=function(k){if(null==k)throw TypeError("Can't call method on "+k);return k}},{}],296:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/create-non-enumerable-property");te.exports=function(M,x){try{R(k,M,x)}catch{k[M]=x}return x}},{"../internals/create-non-enumerable-property":236,"../internals/global":251}],297:[function(T,te,W){"use strict";var k=T("../internals/get-built-in"),R=T("../internals/object-define-property"),M=T("../internals/well-known-symbol"),x=T("../internals/descriptors"),O=M("species");te.exports=function(w){var E=k(w);x&&E&&!E[O]&&(0,R.f)(E,O,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":240,"../internals/get-built-in":249,"../internals/object-define-property":278,"../internals/well-known-symbol":314}],298:[function(T,te,W){var k=T("../internals/object-define-property").f,R=T("../internals/has"),M=T("../internals/well-known-symbol")("toStringTag");te.exports=function(x,O,w){x&&!R(x=w?x:x.prototype,M)&&k(x,M,{configurable:!0,value:O})}},{"../internals/has":252,"../internals/object-define-property":278,"../internals/well-known-symbol":314}],299:[function(T,te,W){var k=T("../internals/shared"),R=T("../internals/uid"),M=k("keys");te.exports=function(x){return M[x]||(M[x]=R(x))}},{"../internals/shared":301,"../internals/uid":311}],300:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/set-global"),M=k["__core-js_shared__"]||R("__core-js_shared__",{});te.exports=M},{"../internals/global":251,"../internals/set-global":296}],301:[function(T,te,W){var k=T("../internals/is-pure"),R=T("../internals/shared-store");(te.exports=function(M,x){return R[M]||(R[M]=void 0!==x?x:{})})("versions",[]).push({version:"3.6.5",mode:k?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":264,"../internals/shared-store":300}],302:[function(T,te,W){var k=T("../internals/an-object"),R=T("../internals/a-function"),M=T("../internals/well-known-symbol")("species");te.exports=function(x,O){var w,E=k(x).constructor;return void 0===E||null==(w=k(E)[M])?O:R(w)}},{"../internals/a-function":219,"../internals/an-object":223,"../internals/well-known-symbol":314}],303:[function(T,te,W){var k,R,M,x=T("../internals/global"),O=T("../internals/fails"),w=T("../internals/classof-raw"),E=T("../internals/function-bind-context"),C=T("../internals/html"),f=T("../internals/document-create-element"),d=T("../internals/engine-is-ios"),u=x.location,c=x.setImmediate,m=x.clearImmediate,g=x.process,y=x.MessageChannel,b=x.Dispatch,S=0,A={},P=function(j){if(A.hasOwnProperty(j)){var $=A[j];delete A[j],$()}},H=function(j){return function(){P(j)}},X=function(j){P(j.data)},J=function(j){x.postMessage(j+"",u.protocol+"//"+u.host)};c&&m||(c=function(j){for(var $=[],L=1;arguments.length>L;)$.push(arguments[L++]);return A[++S]=function(){("function"==typeof j?j:Function(j)).apply(void 0,$)},k(S),S},m=function(j){delete A[j]},"process"==w(g)?k=function(j){g.nextTick(H(j))}:b&&b.now?k=function(j){b.now(H(j))}:y&&!d?(M=(R=new y).port2,R.port1.onmessage=X,k=E(M.postMessage,M,1)):!x.addEventListener||"function"!=typeof postMessage||x.importScripts||O(J)||"file:"===u.protocol?k="onreadystatechange"in f("script")?function(j){C.appendChild(f("script")).onreadystatechange=function(){C.removeChild(this),P(j)}}:function(j){setTimeout(H(j),0)}:(k=J,x.addEventListener("message",X,!1))),te.exports={set:c,clear:m}},{"../internals/classof-raw":230,"../internals/document-create-element":241,"../internals/engine-is-ios":242,"../internals/fails":247,"../internals/function-bind-context":248,"../internals/global":251,"../internals/html":255}],304:[function(T,te,W){var k=T("../internals/to-integer"),R=Math.max,M=Math.min;te.exports=function(x,O){var w=k(x);return w<0?R(w+O,0):M(w,O)}},{"../internals/to-integer":306}],305:[function(T,te,W){var k=T("../internals/indexed-object"),R=T("../internals/require-object-coercible");te.exports=function(M){return k(R(M))}},{"../internals/indexed-object":257,"../internals/require-object-coercible":295}],306:[function(T,te,W){var k=Math.ceil,R=Math.floor;te.exports=function(M){return isNaN(M=+M)?0:(M>0?R:k)(M)}},{}],307:[function(T,te,W){var k=T("../internals/to-integer"),R=Math.min;te.exports=function(M){return M>0?R(k(M),9007199254740991):0}},{"../internals/to-integer":306}],308:[function(T,te,W){var k=T("../internals/require-object-coercible");te.exports=function(R){return Object(k(R))}},{"../internals/require-object-coercible":295}],309:[function(T,te,W){var k=T("../internals/is-object");te.exports=function(R,M){if(!k(R))return R;var x,O;if(M&&"function"==typeof(x=R.toString)&&!k(O=x.call(R))||"function"==typeof(x=R.valueOf)&&!k(O=x.call(R))||!M&&"function"==typeof(x=R.toString)&&!k(O=x.call(R)))return O;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":263}],310:[function(T,te,W){var k={};k[T("../internals/well-known-symbol")("toStringTag")]="z",te.exports="[object z]"===String(k)},{"../internals/well-known-symbol":314}],311:[function(T,te,W){var k=0,R=Math.random();te.exports=function(M){return"Symbol("+String(void 0===M?"":M)+")_"+(++k+R).toString(36)}},{}],312:[function(T,te,W){var k=T("../internals/native-symbol");te.exports=k&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":271}],313:[function(T,te,W){var k=T("../internals/well-known-symbol");W.f=k},{"../internals/well-known-symbol":314}],314:[function(T,te,W){var k=T("../internals/global"),R=T("../internals/shared"),M=T("../internals/has"),x=T("../internals/uid"),O=T("../internals/native-symbol"),w=T("../internals/use-symbol-as-uid"),E=R("wks"),C=k.Symbol,f=w?C:C&&C.withoutSetter||x;te.exports=function(d){return M(E,d)||(E[d]=O&&M(C,d)?C[d]:f("Symbol."+d)),E[d]}},{"../internals/global":251,"../internals/has":252,"../internals/native-symbol":271,"../internals/shared":301,"../internals/uid":311,"../internals/use-symbol-as-uid":312}],315:[function(T,te,W){"use strict";var k=T("../internals/export"),R=T("../internals/array-iteration").findIndex,M=T("../internals/add-to-unscopables"),x=T("../internals/array-method-uses-to-length"),O=!0,w=x("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){O=!1}),k({target:"Array",proto:!0,forced:O||!w},{findIndex:function(E){return R(this,E,arguments.length>1?arguments[1]:void 0)}}),M("findIndex")},{"../internals/add-to-unscopables":221,"../internals/array-iteration":225,"../internals/array-method-uses-to-length":226,"../internals/export":246}],316:[function(T,te,W){"use strict";var k=T("../internals/export"),R=T("../internals/array-iteration").find,M=T("../internals/add-to-unscopables"),x=T("../internals/array-method-uses-to-length"),O=!0,w=x("find");"find"in[]&&Array(1).find(function(){O=!1}),k({target:"Array",proto:!0,forced:O||!w},{find:function(E){return R(this,E,arguments.length>1?arguments[1]:void 0)}}),M("find")},{"../internals/add-to-unscopables":221,"../internals/array-iteration":225,"../internals/array-method-uses-to-length":226,"../internals/export":246}],317:[function(T,te,W){"use strict";var k=T("../internals/export"),R=T("../internals/array-includes").includes,M=T("../internals/add-to-unscopables");k({target:"Array",proto:!0,forced:!T("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(x){return R(this,x,arguments.length>1?arguments[1]:void 0)}}),M("includes")},{"../internals/add-to-unscopables":221,"../internals/array-includes":224,"../internals/array-method-uses-to-length":226,"../internals/export":246}],318:[function(T,te,W){"use strict";var k=T("../internals/to-indexed-object"),R=T("../internals/add-to-unscopables"),M=T("../internals/iterators"),x=T("../internals/internal-state"),O=T("../internals/define-iterator"),w=x.set,E=x.getterFor("Array Iterator");te.exports=O(Array,"Array",function(C,f){w(this,{type:"Array Iterator",target:k(C),index:0,kind:f})},function(){var C=E(this),f=C.target,d=C.kind,u=C.index++;return!f||u>=f.length?(C.target=void 0,{value:void 0,done:!0}):"keys"==d?{value:u,done:!1}:"values"==d?{value:f[u],done:!1}:{value:[u,f[u]],done:!1}},"values"),M.Arguments=M.Array,R("keys"),R("values"),R("entries")},{"../internals/add-to-unscopables":221,"../internals/define-iterator":238,"../internals/internal-state":259,"../internals/iterators":268,"../internals/to-indexed-object":305}],319:[function(T,te,W){T("../internals/export")({target:"Number",stat:!0},{isNaN:function(k){return k!=k}})},{"../internals/export":246}],320:[function(T,te,W){var k=T("../internals/export"),R=T("../internals/object-assign");k({target:"Object",stat:!0,forced:Object.assign!==R},{assign:R})},{"../internals/export":246,"../internals/object-assign":275}],321:[function(T,te,W){var k=T("../internals/export"),R=T("../internals/to-object"),M=T("../internals/object-keys");k({target:"Object",stat:!0,forced:T("../internals/fails")(function(){M(1)})},{keys:function(x){return M(R(x))}})},{"../internals/export":246,"../internals/fails":247,"../internals/object-keys":285,"../internals/to-object":308}],322:[function(T,te,W){var k=T("../internals/export"),R=T("../internals/object-to-array").values;k({target:"Object",stat:!0},{values:function(M){return R(M)}})},{"../internals/export":246,"../internals/object-to-array":288}],323:[function(T,te,W){"use strict";var k,R,M,x,O=T("../internals/export"),w=T("../internals/is-pure"),E=T("../internals/global"),C=T("../internals/get-built-in"),f=T("../internals/native-promise-constructor"),d=T("../internals/redefine"),u=T("../internals/redefine-all"),c=T("../internals/set-to-string-tag"),m=T("../internals/set-species"),g=T("../internals/is-object"),y=T("../internals/a-function"),b=T("../internals/an-instance"),S=T("../internals/classof-raw"),A=T("../internals/inspect-source"),P=T("../internals/iterate"),H=T("../internals/check-correctness-of-iteration"),X=T("../internals/species-constructor"),J=T("../internals/task").set,j=T("../internals/microtask"),$=T("../internals/promise-resolve"),L=T("../internals/host-report-errors"),B=T("../internals/new-promise-capability"),ee=T("../internals/perform"),N=T("../internals/internal-state"),V=T("../internals/is-forced"),U=T("../internals/well-known-symbol"),Q=T("../internals/engine-v8-version"),Z=U("species"),K="Promise",ne=N.get,ue=N.set,ce=N.getterFor(K),de=f,pe=E.TypeError,_e=E.document,me=E.process,q=C("fetch"),oe=B.f,se=oe,ve="process"==S(me),Se=!!(_e&&_e.createEvent&&E.dispatchEvent),De=V(K,function(){if(A(de)===String(de)&&(66===Q||!ve&&"function"!=typeof PromiseRejectionEvent)||w&&!de.prototype.finally)return!0;if(Q>=51&&/native code/.test(de))return!1;var nt=de.resolve(1),Xe=function(Ae){Ae(function(){},function(){})};return(nt.constructor={})[Z]=Xe,!(nt.then(function(){})instanceof Xe)}),qe=De||!H(function(nt){de.all(nt).catch(function(){})}),je=function(nt){var Xe;return!(!g(nt)||"function"!=typeof(Xe=nt.then))&&Xe},Ye=function(nt,Xe,Ae){if(!Xe.notified){Xe.notified=!0;var Pe=Xe.reactions;j(function(){for(var We=Xe.value,ot=1==Xe.state,Ue=0;Pe.length>Ue;){var Ne,$e,at,lt=Pe[Ue++],$t=ot?lt.ok:lt.fail,Et=lt.resolve,xt=lt.reject,Pn=lt.domain;try{$t?(ot||(2===Xe.rejection&&sn(nt,Xe),Xe.rejection=1),!0===$t?Ne=We:(Pn&&Pn.enter(),Ne=$t(We),Pn&&(Pn.exit(),at=!0)),Ne===lt.promise?xt(pe("Promise-chain cycle")):($e=je(Ne))?$e.call(Ne,Et,xt):Et(Ne)):xt(We)}catch(cn){Pn&&!at&&Pn.exit(),xt(cn)}}Xe.reactions=[],Xe.notified=!1,Ae&&!Xe.rejection&&ct(nt,Xe)})}},st=function(nt,Xe,Ae){var Pe,We;Se?((Pe=_e.createEvent("Event")).promise=Xe,Pe.reason=Ae,Pe.initEvent(nt,!1,!0),E.dispatchEvent(Pe)):Pe={promise:Xe,reason:Ae},(We=E["on"+nt])?We(Pe):"unhandledrejection"===nt&&L("Unhandled promise rejection",Ae)},ct=function(nt,Xe){J.call(E,function(){var Ae,Pe=Xe.value;if(ht(Xe)&&(Ae=ee(function(){ve?me.emit("unhandledRejection",Pe,nt):st("unhandledrejection",nt,Pe)}),Xe.rejection=ve||ht(Xe)?2:1,Ae.error))throw Ae.value})},ht=function(nt){return 1!==nt.rejection&&!nt.parent},sn=function(nt,Xe){J.call(E,function(){ve?me.emit("rejectionHandled",nt):st("rejectionhandled",nt,Xe.value)})},bt=function(nt,Xe,Ae,Pe){return function(We){nt(Xe,Ae,We,Pe)}},It=function(nt,Xe,Ae,Pe){Xe.done||(Xe.done=!0,Pe&&(Xe=Pe),Xe.value=Ae,Xe.state=2,Ye(nt,Xe,!0))},ln=function(nt,Xe,Ae,Pe){if(!Xe.done){Xe.done=!0,Pe&&(Xe=Pe);try{if(nt===Ae)throw pe("Promise can't be resolved itself");var We=je(Ae);We?j(function(){var ot={done:!1};try{We.call(Ae,bt(ln,nt,ot,Xe),bt(It,nt,ot,Xe))}catch(Ue){It(nt,ot,Ue,Xe)}}):(Xe.value=Ae,Xe.state=1,Ye(nt,Xe,!1))}catch(ot){It(nt,{done:!1},ot,Xe)}}};De&&(de=function(nt){b(this,de,K),y(nt),k.call(this);var Xe=ne(this);try{nt(bt(ln,this,Xe),bt(It,this,Xe))}catch(Ae){It(this,Xe,Ae)}},(k=function(nt){ue(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=u(de.prototype,{then:function(nt,Xe){var Ae=ce(this),Pe=oe(X(this,de));return Pe.ok="function"!=typeof nt||nt,Pe.fail="function"==typeof Xe&&Xe,Pe.domain=ve?me.domain:void 0,Ae.parent=!0,Ae.reactions.push(Pe),0!=Ae.state&&Ye(this,Ae,!1),Pe.promise},catch:function(nt){return this.then(void 0,nt)}}),R=function(){var nt=new k,Xe=ne(nt);this.promise=nt,this.resolve=bt(ln,nt,Xe),this.reject=bt(It,nt,Xe)},B.f=oe=function(nt){return nt===de||nt===M?new R(nt):se(nt)},w||"function"!=typeof f||(x=f.prototype.then,d(f.prototype,"then",function(nt,Xe){var Ae=this;return new de(function(Pe,We){x.call(Ae,Pe,We)}).then(nt,Xe)},{unsafe:!0}),"function"==typeof q&&O({global:!0,enumerable:!0,forced:!0},{fetch:function(nt){return $(de,q.apply(E,arguments))}}))),O({global:!0,wrap:!0,forced:De},{Promise:de}),c(de,K,!1,!0),m(K),M=C(K),O({target:K,stat:!0,forced:De},{reject:function(nt){var Xe=oe(this);return Xe.reject.call(void 0,nt),Xe.promise}}),O({target:K,stat:!0,forced:w||De},{resolve:function(nt){return $(w&&this===M?de:this,nt)}}),O({target:K,stat:!0,forced:qe},{all:function(nt){var Xe=this,Ae=oe(Xe),Pe=Ae.resolve,We=Ae.reject,ot=ee(function(){var Ue=y(Xe.resolve),Ne=[],$e=0,at=1;P(nt,function(lt){var $t=$e++,Et=!1;Ne.push(void 0),at++,Ue.call(Xe,lt).then(function(xt){Et||(Et=!0,Ne[$t]=xt,--at||Pe(Ne))},We)}),--at||Pe(Ne)});return ot.error&&We(ot.value),Ae.promise},race:function(nt){var Xe=this,Ae=oe(Xe),Pe=Ae.reject,We=ee(function(){var ot=y(Xe.resolve);P(nt,function(Ue){ot.call(Xe,Ue).then(Ae.resolve,Pe)})});return We.error&&Pe(We.value),Ae.promise}})},{"../internals/a-function":219,"../internals/an-instance":222,"../internals/check-correctness-of-iteration":229,"../internals/classof-raw":230,"../internals/engine-v8-version":244,"../internals/export":246,"../internals/get-built-in":249,"../internals/global":251,"../internals/host-report-errors":254,"../internals/inspect-source":258,"../internals/internal-state":259,"../internals/is-forced":262,"../internals/is-object":263,"../internals/is-pure":264,"../internals/iterate":266,"../internals/microtask":269,"../internals/native-promise-constructor":270,"../internals/new-promise-capability":273,"../internals/perform":291,"../internals/promise-resolve":292,"../internals/redefine":294,"../internals/redefine-all":293,"../internals/set-species":297,"../internals/set-to-string-tag":298,"../internals/species-constructor":302,"../internals/task":303,"../internals/well-known-symbol":314}],324:[function(T,te,W){var k=T("../internals/export"),R=T("../internals/to-absolute-index"),M=String.fromCharCode,x=String.fromCodePoint;k({target:"String",stat:!0,forced:!!x&&1!=x.length},{fromCodePoint:function(O){for(var w,E=[],C=arguments.length,f=0;C>f;){if(w=+arguments[f++],R(w,1114111)!==w)throw RangeError(w+" is not a valid code point");E.push(w<65536?M(w):M(55296+((w-=65536)>>10),w%1024+56320))}return E.join("")}})},{"../internals/export":246,"../internals/to-absolute-index":304}],325:[function(T,te,W){"use strict";var k=T("../internals/export"),R=T("../internals/not-a-regexp"),M=T("../internals/require-object-coercible");k({target:"String",proto:!0,forced:!T("../internals/correct-is-regexp-logic")("includes")},{includes:function(x){return!!~String(M(this)).indexOf(R(x),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":233,"../internals/export":246,"../internals/not-a-regexp":274,"../internals/require-object-coercible":295}],326:[function(T,te,W){T("../internals/define-well-known-symbol")("asyncIterator")},{"../internals/define-well-known-symbol":239}],327:[function(T,te,W){"use strict";var k=T("../internals/export"),R=T("../internals/global"),M=T("../internals/get-built-in"),x=T("../internals/is-pure"),O=T("../internals/descriptors"),w=T("../internals/native-symbol"),E=T("../internals/use-symbol-as-uid"),C=T("../internals/fails"),f=T("../internals/has"),d=T("../internals/is-array"),u=T("../internals/is-object"),c=T("../internals/an-object"),m=T("../internals/to-object"),g=T("../internals/to-indexed-object"),y=T("../internals/to-primitive"),b=T("../internals/create-property-descriptor"),S=T("../internals/object-create"),A=T("../internals/object-keys"),P=T("../internals/object-get-own-property-names"),H=T("../internals/object-get-own-property-names-external"),X=T("../internals/object-get-own-property-symbols"),J=T("../internals/object-get-own-property-descriptor"),j=T("../internals/object-define-property"),$=T("../internals/object-property-is-enumerable"),L=T("../internals/create-non-enumerable-property"),B=T("../internals/redefine"),ee=T("../internals/shared"),N=T("../internals/shared-key"),V=T("../internals/hidden-keys"),U=T("../internals/uid"),Q=T("../internals/well-known-symbol"),Z=T("../internals/well-known-symbol-wrapped"),K=T("../internals/define-well-known-symbol"),ne=T("../internals/set-to-string-tag"),ue=T("../internals/internal-state"),ce=T("../internals/array-iteration").forEach,de=N("hidden"),pe=Q("toPrimitive"),_e=ue.set,me=ue.getterFor("Symbol"),q=Object.prototype,oe=R.Symbol,se=M("JSON","stringify"),ve=J.f,Se=j.f,De=H.f,qe=$.f,je=ee("symbols"),Ye=ee("op-symbols"),st=ee("string-to-symbol-registry"),ct=ee("symbol-to-string-registry"),ht=ee("wks"),sn=R.QObject,bt=!sn||!sn.prototype||!sn.prototype.findChild,It=O&&C(function(){return 7!=S(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a})?function(Ne,$e,at){var lt=ve(q,$e);lt&&delete q[$e],Se(Ne,$e,at),lt&&Ne!==q&&Se(q,$e,lt)}:Se,ln=function(Ne,$e){var at=je[Ne]=S(oe.prototype);return _e(at,{type:"Symbol",tag:Ne,description:$e}),O||(at.description=$e),at},nt=E?function(Ne){return"symbol"==typeof Ne}:function(Ne){return Object(Ne)instanceof oe},Xe=function(Ne,$e,at){Ne===q&&Xe(Ye,$e,at),c(Ne);var lt=y($e,!0);return c(at),f(je,lt)?(at.enumerable?(f(Ne,de)&&Ne[de][lt]&&(Ne[de][lt]=!1),at=S(at,{enumerable:b(0,!1)})):(f(Ne,de)||Se(Ne,de,b(1,{})),Ne[de][lt]=!0),It(Ne,lt,at)):Se(Ne,lt,at)},Ae=function(Ne,$e){c(Ne);var at=g($e),lt=A(at).concat(Ue(at));return ce(lt,function($t){O&&!Pe.call(at,$t)||Xe(Ne,$t,at[$t])}),Ne},Pe=function(Ne){var $e=y(Ne,!0),at=qe.call(this,$e);return!(this===q&&f(je,$e)&&!f(Ye,$e))&&(!(at||!f(this,$e)||!f(je,$e)||f(this,de)&&this[de][$e])||at)},We=function(Ne,$e){var at=g(Ne),lt=y($e,!0);if(at!==q||!f(je,lt)||f(Ye,lt)){var $t=ve(at,lt);return!$t||!f(je,lt)||f(at,de)&&at[de][lt]||($t.enumerable=!0),$t}},ot=function(Ne){var $e=De(g(Ne)),at=[];return ce($e,function(lt){f(je,lt)||f(V,lt)||at.push(lt)}),at},Ue=function(Ne){var $e=Ne===q,at=De($e?Ye:g(Ne)),lt=[];return ce(at,function($t){!f(je,$t)||$e&&!f(q,$t)||lt.push(je[$t])}),lt};w||(B((oe=function(){if(this instanceof oe)throw TypeError("Symbol is not a constructor");var Ne=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,$e=U(Ne),at=function(lt){this===q&&at.call(Ye,lt),f(this,de)&&f(this[de],$e)&&(this[de][$e]=!1),It(this,$e,b(1,lt))};return O&&bt&&It(q,$e,{configurable:!0,set:at}),ln($e,Ne)}).prototype,"toString",function(){return me(this).tag}),B(oe,"withoutSetter",function(Ne){return ln(U(Ne),Ne)}),$.f=Pe,j.f=Xe,J.f=We,P.f=H.f=ot,X.f=Ue,Z.f=function(Ne){return ln(Q(Ne),Ne)},O&&(Se(oe.prototype,"description",{configurable:!0,get:function(){return me(this).description}}),x||B(q,"propertyIsEnumerable",Pe,{unsafe:!0}))),k({global:!0,wrap:!0,forced:!w,sham:!w},{Symbol:oe}),ce(A(ht),function(Ne){K(Ne)}),k({target:"Symbol",stat:!0,forced:!w},{for:function(Ne){var $e=String(Ne);if(f(st,$e))return st[$e];var at=oe($e);return st[$e]=at,ct[at]=$e,at},keyFor:function(Ne){if(!nt(Ne))throw TypeError(Ne+" is not a symbol");if(f(ct,Ne))return ct[Ne]},useSetter:function(){bt=!0},useSimple:function(){bt=!1}}),k({target:"Object",stat:!0,forced:!w,sham:!O},{create:function(Ne,$e){return void 0===$e?S(Ne):Ae(S(Ne),$e)},defineProperty:Xe,defineProperties:Ae,getOwnPropertyDescriptor:We}),k({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:ot,getOwnPropertySymbols:Ue}),k({target:"Object",stat:!0,forced:C(function(){X.f(1)})},{getOwnPropertySymbols:function(Ne){return X.f(m(Ne))}}),se&&k({target:"JSON",stat:!0,forced:!w||C(function(){var Ne=oe();return"[null]"!=se([Ne])||"{}"!=se({a:Ne})||"{}"!=se(Object(Ne))})},{stringify:function(Ne,$e,at){for(var lt,$t=[Ne],Et=1;arguments.length>Et;)$t.push(arguments[Et++]);if(lt=$e,(u($e)||void 0!==Ne)&&!nt(Ne))return d($e)||($e=function(xt,Pn){if("function"==typeof lt&&(Pn=lt.call(this,xt,Pn)),!nt(Pn))return Pn}),$t[1]=$e,se.apply(null,$t)}}),oe.prototype[pe]||L(oe.prototype,pe,oe.prototype.valueOf),ne(oe,"Symbol"),V[de]=!0},{"../internals/an-object":223,"../internals/array-iteration":225,"../internals/create-non-enumerable-property":236,"../internals/create-property-descriptor":237,"../internals/define-well-known-symbol":239,"../internals/descriptors":240,"../internals/export":246,"../internals/fails":247,"../internals/get-built-in":249,"../internals/global":251,"../internals/has":252,"../internals/hidden-keys":253,"../internals/internal-state":259,"../internals/is-array":261,"../internals/is-object":263,"../internals/is-pure":264,"../internals/native-symbol":271,"../internals/object-create":276,"../internals/object-define-property":278,"../internals/object-get-own-property-descriptor":279,"../internals/object-get-own-property-names":281,"../internals/object-get-own-property-names-external":280,"../internals/object-get-own-property-symbols":282,"../internals/object-keys":285,"../internals/object-property-is-enumerable":286,"../internals/redefine":294,"../internals/set-to-string-tag":298,"../internals/shared":301,"../internals/shared-key":299,"../internals/to-indexed-object":305,"../internals/to-object":308,"../internals/to-primitive":309,"../internals/uid":311,"../internals/use-symbol-as-uid":312,"../internals/well-known-symbol":314,"../internals/well-known-symbol-wrapped":313}],328:[function(T,te,W){(function(k){"use strict";function R(x){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(x)}function M(x){return Object.prototype.toString.call(x)}W.isArray=function(x){return Array.isArray?Array.isArray(x):"[object Array]"===M(x)},W.isBoolean=function(x){return"boolean"==typeof x},W.isNull=function(x){return null===x},W.isNullOrUndefined=function(x){return null==x},W.isNumber=function(x){return"number"==typeof x},W.isString=function(x){return"string"==typeof x},W.isSymbol=function(x){return"symbol"===R(x)},W.isUndefined=function(x){return void 0===x},W.isRegExp=function(x){return"[object RegExp]"===M(x)},W.isObject=function(x){return"object"===R(x)&&null!==x},W.isDate=function(x){return"[object Date]"===M(x)},W.isError=function(x){return"[object Error]"===M(x)||x instanceof Error},W.isFunction=function(x){return"function"==typeof x},W.isPrimitive=function(x){return null===x||"boolean"==typeof x||"number"==typeof x||"string"==typeof x||"symbol"===R(x)||void 0===x},W.isBuffer=k.isBuffer}).call(this,{isBuffer:T("../../is-buffer/index.js")})},{"../../is-buffer/index.js":388}],329:[function(T,te,W){(function(k){"use strict";var R=T("elliptic"),M=T("bn.js");te.exports=function(E){return new O(E)};var x={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function O(E){this.curveType=x[E],this.curveType||(this.curveType={name:E}),this.curve=new R.ec(this.curveType.name),this.keys=void 0}function w(E,C,f){Array.isArray(E)||(E=E.toArray());var d=new k(E);if(f&&d.length<f){var u=new k(f-d.length);u.fill(0),d=k.concat([u,d])}return C?d.toString(C):d}x.p224=x.secp224r1,x.p256=x.secp256r1=x.prime256v1,x.p192=x.secp192r1=x.prime192v1,x.p384=x.secp384r1,x.p521=x.secp521r1,O.prototype.generateKeys=function(E,C){return this.keys=this.curve.genKeyPair(),this.getPublicKey(E,C)},O.prototype.computeSecret=function(E,C,f){return C=C||"utf8",k.isBuffer(E)||(E=new k(E,C)),w(this.curve.keyFromPublic(E).getPublic().mul(this.keys.getPrivate()).getX(),f,this.curveType.byteLength)},O.prototype.getPublicKey=function(E,C){var f=this.keys.getPublic("compressed"===C,!0);return"hybrid"===C&&(f[0]=f[f.length-1]%2?7:6),w(f,E)},O.prototype.getPrivateKey=function(E){return w(this.keys.getPrivate(),E)},O.prototype.setPublicKey=function(E,C){return C=C||"utf8",k.isBuffer(E)||(E=new k(E,C)),this.keys._importPublic(E),this},O.prototype.setPrivateKey=function(E,C){C=C||"utf8",k.isBuffer(E)||(E=new k(E,C));var f=new M(E);return f=f.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(f),this}}).call(this,T("buffer").Buffer)},{"bn.js":330,buffer:216,elliptic:350}],330:[function(T,te,W){arguments[4][181][0].apply(W,arguments)},{buffer:185,dup:181}],331:[function(T,te,W){"use strict";var k=T("inherits"),R=T("md5.js"),M=T("ripemd160"),x=T("sha.js"),O=T("cipher-base");function w(E){O.call(this,"digest"),this._hash=E}k(w,O),w.prototype._update=function(E){this._hash.update(E)},w.prototype._final=function(){return this._hash.digest()},te.exports=function(E){return"md5"===(E=E.toLowerCase())?new R:"rmd160"===E||"ripemd160"===E?new M:new w(x(E))}},{"cipher-base":218,inherits:387,"md5.js":434,ripemd160:493,"sha.js":499}],332:[function(T,te,W){"use strict";var k=T("md5.js");te.exports=function(R){return(new k).update(R).digest()}},{"md5.js":434}],333:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./legacy"),M=T("cipher-base"),x=T("safe-buffer").Buffer,O=T("create-hash/md5"),w=T("ripemd160"),E=T("sha.js"),C=x.alloc(128);function f(d,u){M.call(this,"digest"),"string"==typeof u&&(u=x.from(u));var c="sha512"===d||"sha384"===d?128:64;this._alg=d,this._key=u,u.length>c?u=("rmd160"===d?new w:E(d)).update(u).digest():u.length<c&&(u=x.concat([u,C],c));for(var m=this._ipad=x.allocUnsafe(c),g=this._opad=x.allocUnsafe(c),y=0;y<c;y++)m[y]=54^u[y],g[y]=92^u[y];this._hash="rmd160"===d?new w:E(d),this._hash.update(m)}k(f,M),f.prototype._update=function(d){this._hash.update(d)},f.prototype._final=function(){var d=this._hash.digest();return("rmd160"===this._alg?new w:E(this._alg)).update(this._opad).update(d).digest()},te.exports=function(d,u){return"rmd160"===(d=d.toLowerCase())||"ripemd160"===d?new f("rmd160",u):"md5"===d?new R(O,u):new f(d,u)}},{"./legacy":334,"cipher-base":218,"create-hash/md5":332,inherits:387,ripemd160:493,"safe-buffer":494,"sha.js":499}],334:[function(T,te,W){"use strict";var k=T("inherits"),R=T("safe-buffer").Buffer,M=T("cipher-base"),x=R.alloc(128);function O(w,E){M.call(this,"digest"),"string"==typeof E&&(E=R.from(E)),this._alg=w,this._key=E,E.length>64?E=w(E):E.length<64&&(E=R.concat([E,x],64));for(var C=this._ipad=R.allocUnsafe(64),f=this._opad=R.allocUnsafe(64),d=0;d<64;d++)C[d]=54^E[d],f[d]=92^E[d];this._hash=[C]}k(O,M),O.prototype._update=function(w){this._hash.push(w)},O.prototype._final=function(){var w=this._alg(R.concat(this._hash));return this._alg(R.concat([this._opad,w]))},te.exports=O},{"cipher-base":218,inherits:387,"safe-buffer":494}],335:[function(T,te,W){"use strict";W.randomBytes=W.rng=W.pseudoRandomBytes=W.prng=T("randombytes"),W.createHash=W.Hash=T("create-hash"),W.createHmac=W.Hmac=T("create-hmac");var k=T("browserify-sign/algos"),R=Object.keys(k),M=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(R);W.getHashes=function(){return M};var x=T("pbkdf2");W.pbkdf2=x.pbkdf2,W.pbkdf2Sync=x.pbkdf2Sync;var O=T("browserify-cipher");W.Cipher=O.Cipher,W.createCipher=O.createCipher,W.Cipheriv=O.Cipheriv,W.createCipheriv=O.createCipheriv,W.Decipher=O.Decipher,W.createDecipher=O.createDecipher,W.Decipheriv=O.Decipheriv,W.createDecipheriv=O.createDecipheriv,W.getCiphers=O.getCiphers,W.listCiphers=O.listCiphers;var w=T("diffie-hellman");W.DiffieHellmanGroup=w.DiffieHellmanGroup,W.createDiffieHellmanGroup=w.createDiffieHellmanGroup,W.getDiffieHellman=w.getDiffieHellman,W.createDiffieHellman=w.createDiffieHellman,W.DiffieHellman=w.DiffieHellman;var E=T("browserify-sign");W.createSign=E.createSign,W.Sign=E.Sign,W.createVerify=E.createVerify,W.Verify=E.Verify,W.createECDH=T("create-ecdh");var C=T("public-encrypt");W.publicEncrypt=C.publicEncrypt,W.privateEncrypt=C.privateEncrypt,W.publicDecrypt=C.publicDecrypt,W.privateDecrypt=C.privateDecrypt;var f=T("randomfill");W.randomFill=f.randomFill,W.randomFillSync=f.randomFillSync,W.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},W.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":203,"browserify-sign":211,"browserify-sign/algos":208,"create-ecdh":329,"create-hash":331,"create-hmac":333,"diffie-hellman":345,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],336:[function(T,te,W){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(R)}var M;M=function(){var R="millisecond",M="second",x="minute",O="hour",w="day",E="week",C="month",f="quarter",d="year",u="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,m=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g=function(L,B,ee){var N=String(L);return!N||N.length>=B?L:""+Array(B+1-N.length).join(ee)+L},y={s:g,z:function(L){var B=-L.utcOffset(),ee=Math.abs(B),N=Math.floor(ee/60),V=ee%60;return(B<=0?"+":"-")+g(N,2,"0")+":"+g(V,2,"0")},m:function L(B,ee){if(B.date()<ee.date())return-L(ee,B);var N=12*(ee.year()-B.year())+(ee.month()-B.month()),V=B.add(N,C),U=ee-V<0,Q=B.add(N+(U?-1:1),C);return+(-(N+(ee-V)/(U?V-Q:Q-V))||0)},a:function(L){return L<0?Math.ceil(L)||0:Math.floor(L)},p:function(L){return{M:C,y:d,w:E,d:w,D:u,h:O,m:x,s:M,ms:R,Q:f}[L]||String(L||"").toLowerCase().replace(/s$/,"")},u:function(L){return void 0===L}},b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},S="en",A={};A[S]=b;var P=function(L){return L instanceof j},H=function(L,B,ee){var N;if(!L)return S;if("string"==typeof L)A[L]&&(N=L),B&&(A[L]=B,N=L);else{var V=L.name;A[V]=L,N=V}return!ee&&N&&(S=N),N||!ee&&S},X=function(L,B){if(P(L))return L.clone();var ee="object"==k(B)?B:{};return ee.date=L,ee.args=arguments,new j(ee)},J=y;J.l=H,J.i=P,J.w=function(L,B){return X(L,{locale:B.$L,utc:B.$u,$offset:B.$offset})};var j=function(){function L(ee){this.$L=this.$L||H(ee.locale,null,!0),this.parse(ee)}var B=L.prototype;return B.parse=function(ee){this.$d=function(N){var V=N.date,U=N.utc;if(null===V)return new Date(NaN);if(J.u(V))return new Date;if(V instanceof Date)return new Date(V);if("string"==typeof V&&!/Z$/i.test(V)){var Q=V.match(c);if(Q){var Z=Q[2]-1||0,K=(Q[7]||"0").substring(0,3);return U?new Date(Date.UTC(Q[1],Z,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,K)):new Date(Q[1],Z,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,K)}}return new Date(V)}(ee),this.init()},B.init=function(){var ee=this.$d;this.$y=ee.getFullYear(),this.$M=ee.getMonth(),this.$D=ee.getDate(),this.$W=ee.getDay(),this.$H=ee.getHours(),this.$m=ee.getMinutes(),this.$s=ee.getSeconds(),this.$ms=ee.getMilliseconds()},B.$utils=function(){return J},B.isValid=function(){return"Invalid Date"!==this.$d.toString()},B.isSame=function(ee,N){var V=X(ee);return this.startOf(N)<=V&&V<=this.endOf(N)},B.isAfter=function(ee,N){return X(ee)<this.startOf(N)},B.isBefore=function(ee,N){return this.endOf(N)<X(ee)},B.$g=function(ee,N,V){return J.u(ee)?this[N]:this.set(V,ee)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(ee,N){var V=this,U=!!J.u(N)||N,Q=J.p(ee),Z=function(me,q){var oe=J.w(V.$u?Date.UTC(V.$y,q,me):new Date(V.$y,q,me),V);return U?oe:oe.endOf(w)},K=function(me,q){return J.w(V.toDate()[me].apply(V.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(q)),V)},ne=this.$W,ue=this.$M,ce=this.$D,de="set"+(this.$u?"UTC":"");switch(Q){case d:return U?Z(1,0):Z(31,11);case C:return U?Z(1,ue):Z(0,ue+1);case E:var pe=this.$locale().weekStart||0,_e=(ne<pe?ne+7:ne)-pe;return Z(U?ce-_e:ce+(6-_e),ue);case w:case u:return K(de+"Hours",0);case O:return K(de+"Minutes",1);case x:return K(de+"Seconds",2);case M:return K(de+"Milliseconds",3);default:return this.clone()}},B.endOf=function(ee){return this.startOf(ee,!1)},B.$set=function(ee,N){var V,U=J.p(ee),Q="set"+(this.$u?"UTC":""),Z=(V={},V[w]=Q+"Date",V[u]=Q+"Date",V[C]=Q+"Month",V[d]=Q+"FullYear",V[O]=Q+"Hours",V[x]=Q+"Minutes",V[M]=Q+"Seconds",V[R]=Q+"Milliseconds",V)[U],K=U===w?this.$D+(N-this.$W):N;if(U===C||U===d){var ne=this.clone().set(u,1);ne.$d[Z](K),ne.init(),this.$d=ne.set(u,Math.min(this.$D,ne.daysInMonth())).$d}else Z&&this.$d[Z](K);return this.init(),this},B.set=function(ee,N){return this.clone().$set(ee,N)},B.get=function(ee){return this[J.p(ee)]()},B.add=function(ee,N){var V,U=this;ee=Number(ee);var Q=J.p(N),Z=function(ue){var ce=X(U);return J.w(ce.date(ce.date()+Math.round(ue*ee)),U)};if(Q===C)return this.set(C,this.$M+ee);if(Q===d)return this.set(d,this.$y+ee);if(Q===w)return Z(1);if(Q===E)return Z(7);var K=(V={},V[x]=6e4,V[O]=36e5,V[M]=1e3,V)[Q]||1,ne=this.$d.getTime()+ee*K;return J.w(ne,this)},B.subtract=function(ee,N){return this.add(-1*ee,N)},B.format=function(ee){var N=this;if(!this.isValid())return"Invalid Date";var V=ee||"YYYY-MM-DDTHH:mm:ssZ",U=J.z(this),Q=this.$locale(),Z=this.$H,K=this.$m,ne=this.$M,ue=Q.weekdays,ce=Q.months,de=function(q,oe,se,ve){return q&&(q[oe]||q(N,V))||se[oe].substr(0,ve)},pe=function(q){return J.s(Z%12||12,q,"0")},_e=Q.meridiem||function(q,oe,se){var ve=q<12?"AM":"PM";return se?ve.toLowerCase():ve},me={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ne+1,MM:J.s(ne+1,2,"0"),MMM:de(Q.monthsShort,ne,ce,3),MMMM:de(ce,ne),D:this.$D,DD:J.s(this.$D,2,"0"),d:String(this.$W),dd:de(Q.weekdaysMin,this.$W,ue,2),ddd:de(Q.weekdaysShort,this.$W,ue,3),dddd:ue[this.$W],H:String(Z),HH:J.s(Z,2,"0"),h:pe(1),hh:pe(2),a:_e(Z,K,!0),A:_e(Z,K,!1),m:String(K),mm:J.s(K,2,"0"),s:String(this.$s),ss:J.s(this.$s,2,"0"),SSS:J.s(this.$ms,3,"0"),Z:U};return V.replace(m,function(q,oe){return oe||me[q]||U.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(ee,N,V){var U,Q=J.p(N),Z=X(ee),K=6e4*(Z.utcOffset()-this.utcOffset()),ne=this-Z,ue=J.m(this,Z);return ue=(U={},U[d]=ue/12,U[C]=ue,U[f]=ue/3,U[E]=(ne-K)/6048e5,U[w]=(ne-K)/864e5,U[O]=ne/36e5,U[x]=ne/6e4,U[M]=ne/1e3,U)[Q]||ne,V?ue:J.a(ue)},B.daysInMonth=function(){return this.endOf(C).$D},B.$locale=function(){return A[this.$L]},B.locale=function(ee,N){if(!ee)return this.$L;var V=this.clone(),U=H(ee,N,!0);return U&&(V.$L=U),V},B.clone=function(){return J.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},L}(),$=j.prototype;return X.prototype=$,[["$ms",R],["$s",M],["$m",x],["$H",O],["$W",w],["$M",C],["$y",d],["$D",u]].forEach(function(L){$[L[1]]=function(B){return this.$g(B,L[0],L[1])}}),X.extend=function(L,B){return L(B,j,X),X},X.locale=H,X.isDayjs=P,X.unix=function(L){return X(1e3*L)},X.en=A[S],X.Ls=A,X},"object"==(void 0===W?"undefined":k(W))&&void 0!==te?te.exports=M():(void 0).dayjs=M()},{}],337:[function(T,te,W){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(R)}var M;M=function(){var R,M=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,x=/\d\d/,O=/\d\d?/,w=/\d*[^\s\d-:/()]+/,E=function(c){return function(m){this[c]=+m}},C=[/[+-]\d\d:?\d\d/,function(c){var m,g;(this.zone||(this.zone={})).offset=0==(g=60*(m=c.match(/([+-]|\d\d)/g))[1]+ +m[2])?0:"+"===m[0]?-g:g}],f=function(c){var m=R[c];return m&&(m.indexOf?m:m.s.concat(m.f))},d={A:[/[AP]M/,function(c){this.afternoon="PM"===c}],a:[/[ap]m/,function(c){this.afternoon="pm"===c}],S:[/\d/,function(c){this.milliseconds=100*+c}],SS:[x,function(c){this.milliseconds=10*+c}],SSS:[/\d{3}/,function(c){this.milliseconds=+c}],s:[O,E("seconds")],ss:[O,E("seconds")],m:[O,E("minutes")],mm:[O,E("minutes")],H:[O,E("hours")],h:[O,E("hours")],HH:[O,E("hours")],hh:[O,E("hours")],D:[O,E("day")],DD:[x,E("day")],Do:[w,function(c){var m=R.ordinal,g=c.match(/\d+/);if(this.day=g[0],m)for(var y=1;y<=31;y+=1)m(y).replace(/\[|\]/g,"")===c&&(this.day=y)}],M:[O,E("month")],MM:[x,E("month")],MMM:[w,function(c){var m=f("months"),g=(f("monthsShort")||m.map(function(y){return y.substr(0,3)})).indexOf(c)+1;if(g<1)throw new Error;this.month=g%12||g}],MMMM:[w,function(c){var m=f("months").indexOf(c)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,E("year")],YY:[x,function(c){this.year=(c=+c)+(c>68?1900:2e3)}],YYYY:[/\d{4}/,E("year")],Z:C,ZZ:C};return function(c,m,g){var y=m.prototype,b=y.parse;y.parse=function(S){var A=S.date,P=S.utc,H=S.args;this.$u=P;var X=H[1];if("string"==typeof X){var J=!0===H[2],j=!0===H[3],$=J||j,L=H[2];j&&(L=H[2]),J||(R=L?g.Ls[L]:this.$locale()),this.$d=function(c,m,g){try{var y=function(Z){for(var K=Z.match(M),ne=K.length,ue=0;ue<ne;ue+=1){var ce=K[ue],de=d[ce],_e=de&&de[1];K[ue]=_e?{regex:de&&de[0],parser:_e}:ce.replace(/^\[|\]$/g,"")}return function(me){for(var q={},oe=0,se=0;oe<ne;oe+=1){var ve=K[oe];if("string"==typeof ve)se+=ve.length;else{var Se=ve.regex,De=ve.parser,qe=me.substr(se),je=Se.exec(qe)[0];De.call(q,je),me=me.replace(je,"")}}return function(Ye){var st=Ye.afternoon;if(void 0!==st){var ct=Ye.hours;st?ct<12&&(Ye.hours+=12):12===ct&&(Ye.hours=0),delete Ye.afternoon}}(q),q}}(m)(c),b=y.year,S=y.month,A=y.day,P=y.hours,H=y.minutes,X=y.seconds,J=y.milliseconds,j=y.zone,$=new Date,L=A||(b||S?1:$.getDate()),B=b||$.getFullYear(),ee=0;b&&!S||(ee=S>0?S-1:$.getMonth());var N=P||0,V=H||0,U=X||0,Q=J||0;return j?new Date(Date.UTC(B,ee,L,N,V,U,Q+60*j.offset*1e3)):g?new Date(Date.UTC(B,ee,L,N,V,U,Q)):new Date(B,ee,L,N,V,U,Q)}catch{return new Date("")}}(A,X,P),this.init(),L&&!0!==L&&(this.$L=this.locale(L).$L),$&&A!==this.format(X)&&(this.$d=new Date(""))}else if(X instanceof Array)for(var B=X.length,ee=1;ee<=B;ee+=1){H[1]=X[ee-1];var N=g.apply(this,H);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}ee===B&&(this.$d=new Date(""))}else b.call(this,S)}}},"object"==(void 0===W?"undefined":k(W))&&void 0!==te?te.exports=M():(void 0).dayjs_plugin_customParseFormat=M()},{}],338:[function(T,te,W){"use strict";function k(M){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(M)}var R;R=function(){return function(M,x,O){var w=(new Date).getTimezoneOffset(),E=x.prototype;O.utc=function(g){return new x({date:g,utc:!0,args:arguments})},E.utc=function(){return O(this.toDate(),{locale:this.$L,utc:!0})},E.local=function(){return O(this.toDate(),{locale:this.$L,utc:!1})};var C=E.parse;E.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),C.call(this,g)};var f=E.init;E.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else f.call(this)};var d=E.utcOffset;E.utcOffset=function(g,y){var b=this.$utils().u;if(b(g))return this.$u?0:b(this.$offset)?d.call(this):this.$offset;var S=Math.abs(g)<=16?60*g:g,A=this;return y?(A.$offset=S,A.$u=0===g,A):(0!==g?(A=this.local().add(S+w,"minute")).$offset=S:A=this.utc(),A)};var u=E.format;E.format=function(g){return u.call(this,g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},E.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+w;return this.$d.valueOf()-6e4*g},E.isUTC=function(){return!!this.$u},E.toISOString=function(){return this.toDate().toISOString()},E.toString=function(){return this.toDate().toUTCString()};var c=E.toDate;E.toDate=function(g){return"s"===g&&this.$offset?O(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var m=E.diff;E.diff=function(g,y,b){var S=this.local(),A=O(g).local();return m.call(S,A,y,b)}}},"object"==(void 0===W?"undefined":k(W))&&void 0!==te?te.exports=R():(void 0).dayjs_plugin_utc=R()},{}],339:[function(T,te,W){"use strict";W.utils=T("./des/utils"),W.Cipher=T("./des/cipher"),W.DES=T("./des/des"),W.CBC=T("./des/cbc"),W.EDE=T("./des/ede")},{"./des/cbc":340,"./des/cipher":341,"./des/des":342,"./des/ede":343,"./des/utils":344}],340:[function(T,te,W){"use strict";var k=T("minimalistic-assert"),R=T("inherits"),M={};function x(O){k.equal(O.length,8,"Invalid IV length"),this.iv=new Array(8);for(var w=0;w<this.iv.length;w++)this.iv[w]=O[w]}W.instantiate=function(O){function w(d){O.call(this,d),this._cbcInit()}R(w,O);for(var E=Object.keys(M),C=0;C<E.length;C++){var f=E[C];w.prototype[f]=M[f]}return w.create=function(d){return new w(d)},w},M._cbcInit=function(){var O=new x(this.options.iv);this._cbcState=O},M._update=function(O,w,E,C){var d=this.constructor.super_.prototype,u=this._cbcState.iv;if("encrypt"===this.type){for(var c=0;c<this.blockSize;c++)u[c]^=O[w+c];for(d._update.call(this,u,0,E,C),c=0;c<this.blockSize;c++)u[c]=E[C+c]}else{for(d._update.call(this,O,w,E,C),c=0;c<this.blockSize;c++)E[C+c]^=u[c];for(c=0;c<this.blockSize;c++)u[c]=O[w+c]}}},{inherits:387,"minimalistic-assert":437}],341:[function(T,te,W){"use strict";var k=T("minimalistic-assert");function R(M){this.options=M,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}te.exports=R,R.prototype._init=function(){},R.prototype.update=function(M){return 0===M.length?[]:"decrypt"===this.type?this._updateDecrypt(M):this._updateEncrypt(M)},R.prototype._buffer=function(M,x){for(var O=Math.min(this.buffer.length-this.bufferOff,M.length-x),w=0;w<O;w++)this.buffer[this.bufferOff+w]=M[x+w];return this.bufferOff+=O,O},R.prototype._flushBuffer=function(M,x){return this._update(this.buffer,0,M,x),this.bufferOff=0,this.blockSize},R.prototype._updateEncrypt=function(M){var x=0,O=0,E=new Array(((this.bufferOff+M.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(x+=this._buffer(M,x),this.bufferOff===this.buffer.length&&(O+=this._flushBuffer(E,O)));for(var C=M.length-(M.length-x)%this.blockSize;x<C;x+=this.blockSize)this._update(M,x,E,O),O+=this.blockSize;for(;x<M.length;x++,this.bufferOff++)this.buffer[this.bufferOff]=M[x];return E},R.prototype._updateDecrypt=function(M){for(var x=0,O=0,w=Math.ceil((this.bufferOff+M.length)/this.blockSize)-1,E=new Array(w*this.blockSize);w>0;w--)x+=this._buffer(M,x),O+=this._flushBuffer(E,O);return x+=this._buffer(M,x),E},R.prototype.final=function(M){var x,O;return M&&(x=this.update(M)),O="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),x?x.concat(O):O},R.prototype._pad=function(M,x){if(0===x)return!1;for(;x<M.length;)M[x++]=0;return!0},R.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var M=new Array(this.blockSize);return this._update(this.buffer,0,M,0),M},R.prototype._unpad=function(M){return M},R.prototype._finalDecrypt=function(){k.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var M=new Array(this.blockSize);return this._flushBuffer(M,0),this._unpad(M)}},{"minimalistic-assert":437}],342:[function(T,te,W){"use strict";var k=T("minimalistic-assert"),R=T("inherits"),M=T("./utils"),x=T("./cipher");function O(){this.tmp=new Array(2),this.keys=null}function w(C){x.call(this,C);var f=new O;this._desState=f,this.deriveKeys(f,C.key)}R(w,x),te.exports=w,w.create=function(C){return new w(C)};var E=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];w.prototype.deriveKeys=function(C,f){C.keys=new Array(32),k.equal(f.length,this.blockSize,"Invalid key length");var d=M.readUInt32BE(f,0),u=M.readUInt32BE(f,4);M.pc1(d,u,C.tmp,0),d=C.tmp[0],u=C.tmp[1];for(var c=0;c<C.keys.length;c+=2){var m=E[c>>>1];d=M.r28shl(d,m),u=M.r28shl(u,m),M.pc2(d,u,C.keys,c)}},w.prototype._update=function(C,f,d,u){var c=this._desState,m=M.readUInt32BE(C,f),g=M.readUInt32BE(C,f+4);M.ip(m,g,c.tmp,0),m=c.tmp[0],g=c.tmp[1],"encrypt"===this.type?this._encrypt(c,m,g,c.tmp,0):this._decrypt(c,m,g,c.tmp,0),g=c.tmp[1],M.writeUInt32BE(d,m=c.tmp[0],u),M.writeUInt32BE(d,g,u+4)},w.prototype._pad=function(C,f){for(var d=C.length-f,u=f;u<C.length;u++)C[u]=d;return!0},w.prototype._unpad=function(C){for(var f=C[C.length-1],d=C.length-f;d<C.length;d++)k.equal(C[d],f);return C.slice(0,C.length-f)},w.prototype._encrypt=function(C,f,d,u,c){for(var m=f,g=d,y=0;y<C.keys.length;y+=2){var b=C.keys[y],S=C.keys[y+1];M.expand(g,C.tmp,0);var A=M.substitute(b^=C.tmp[0],S^=C.tmp[1]),P=g;g=(m^M.permute(A))>>>0,m=P}M.rip(g,m,u,c)},w.prototype._decrypt=function(C,f,d,u,c){for(var m=d,g=f,y=C.keys.length-2;y>=0;y-=2){var b=C.keys[y],S=C.keys[y+1];M.expand(m,C.tmp,0);var A=M.substitute(b^=C.tmp[0],S^=C.tmp[1]),P=m;m=(g^M.permute(A))>>>0,g=P}M.rip(m,g,u,c)}},{"./cipher":341,"./utils":344,inherits:387,"minimalistic-assert":437}],343:[function(T,te,W){"use strict";var k=T("minimalistic-assert"),R=T("inherits"),M=T("./cipher"),x=T("./des");function O(E,C){k.equal(C.length,24,"Invalid key length");var f=C.slice(0,8),d=C.slice(8,16),u=C.slice(16,24);this.ciphers="encrypt"===E?[x.create({type:"encrypt",key:f}),x.create({type:"decrypt",key:d}),x.create({type:"encrypt",key:u})]:[x.create({type:"decrypt",key:u}),x.create({type:"encrypt",key:d}),x.create({type:"decrypt",key:f})]}function w(E){M.call(this,E);var C=new O(this.type,this.options.key);this._edeState=C}R(w,M),te.exports=w,w.create=function(E){return new w(E)},w.prototype._update=function(E,C,f,d){var u=this._edeState;u.ciphers[0]._update(E,C,f,d),u.ciphers[1]._update(f,d,f,d),u.ciphers[2]._update(f,d,f,d)},w.prototype._pad=x.prototype._pad,w.prototype._unpad=x.prototype._unpad},{"./cipher":341,"./des":342,inherits:387,"minimalistic-assert":437}],344:[function(T,te,W){"use strict";W.readUInt32BE=function(x,O){return(x[0+O]<<24|x[1+O]<<16|x[2+O]<<8|x[3+O])>>>0},W.writeUInt32BE=function(x,O,w){x[0+w]=O>>>24,x[1+w]=O>>>16&255,x[2+w]=O>>>8&255,x[3+w]=255&O},W.ip=function(x,O,w,E){for(var C=0,f=0,d=6;d>=0;d-=2){for(var u=0;u<=24;u+=8)C<<=1,C|=O>>>u+d&1;for(u=0;u<=24;u+=8)C<<=1,C|=x>>>u+d&1}for(d=6;d>=0;d-=2){for(u=1;u<=25;u+=8)f<<=1,f|=O>>>u+d&1;for(u=1;u<=25;u+=8)f<<=1,f|=x>>>u+d&1}w[E+0]=C>>>0,w[E+1]=f>>>0},W.rip=function(x,O,w,E){for(var C=0,f=0,d=0;d<4;d++)for(var u=24;u>=0;u-=8)C<<=1,C|=O>>>u+d&1,C<<=1,C|=x>>>u+d&1;for(d=4;d<8;d++)for(u=24;u>=0;u-=8)f<<=1,f|=O>>>u+d&1,f<<=1,f|=x>>>u+d&1;w[E+0]=C>>>0,w[E+1]=f>>>0},W.pc1=function(x,O,w,E){for(var C=0,f=0,d=7;d>=5;d--){for(var u=0;u<=24;u+=8)C<<=1,C|=O>>u+d&1;for(u=0;u<=24;u+=8)C<<=1,C|=x>>u+d&1}for(u=0;u<=24;u+=8)C<<=1,C|=O>>u+d&1;for(d=1;d<=3;d++){for(u=0;u<=24;u+=8)f<<=1,f|=O>>u+d&1;for(u=0;u<=24;u+=8)f<<=1,f|=x>>u+d&1}for(u=0;u<=24;u+=8)f<<=1,f|=x>>u+d&1;w[E+0]=C>>>0,w[E+1]=f>>>0},W.r28shl=function(x,O){return x<<O&268435455|x>>>28-O};var k=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];W.pc2=function(x,O,w,E){for(var C=0,f=0,d=k.length>>>1,u=0;u<d;u++)C<<=1,C|=x>>>k[u]&1;for(u=d;u<k.length;u++)f<<=1,f|=O>>>k[u]&1;w[E+0]=C>>>0,w[E+1]=f>>>0},W.expand=function(x,O,w){var E=0,C=0;E=(1&x)<<5|x>>>27;for(var f=23;f>=15;f-=4)E<<=6,E|=x>>>f&63;for(f=11;f>=3;f-=4)C|=x>>>f&63,C<<=6;C|=(31&x)<<1|x>>>31,O[w+0]=E>>>0,O[w+1]=C>>>0};var R=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];W.substitute=function(x,O){for(var w=0,E=0;E<4;E++)w<<=4,w|=R[64*E+(x>>>18-6*E&63)];for(E=0;E<4;E++)w<<=4,w|=R[256+64*E+(O>>>18-6*E&63)];return w>>>0};var M=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];W.permute=function(x){for(var O=0,w=0;w<M.length;w++)O<<=1,O|=x>>>M[w]&1;return O>>>0},W.padSplit=function(x,O,w){for(var E=x.toString(2);E.length<O;)E="0"+E;for(var C=[],f=0;f<O;f+=w)C.push(E.slice(f,f+w));return C.join(" ")}},{}],345:[function(T,te,W){(function(k){"use strict";var R=T("./lib/generatePrime"),M=T("./lib/primes.json"),x=T("./lib/dh"),O={binary:!0,hex:!0,base64:!0};W.DiffieHellmanGroup=W.createDiffieHellmanGroup=W.getDiffieHellman=function(w){var E=new k(M[w].prime,"hex"),C=new k(M[w].gen,"hex");return new x(E,C)},W.createDiffieHellman=W.DiffieHellman=function w(E,C,f,d){return k.isBuffer(C)||void 0===O[C]?w(E,"binary",C,f):(C=C||"binary",d=d||"binary",f=f||new k([2]),k.isBuffer(f)||(f=new k(f,d)),"number"==typeof E?new x(R(E,f),f,!0):(k.isBuffer(E)||(E=new k(E,C)),new x(E,f,!0)))}}).call(this,T("buffer").Buffer)},{"./lib/dh":346,"./lib/generatePrime":347,"./lib/primes.json":348,buffer:216}],346:[function(T,te,W){(function(k){"use strict";var R=T("bn.js"),M=new(T("miller-rabin")),x=new R(24),O=new R(11),w=new R(10),E=new R(3),C=new R(7),f=T("./generatePrime"),d=T("randombytes");function u(b,S){return S=S||"utf8",k.isBuffer(b)||(b=new k(b,S)),this._pub=new R(b),this}function c(b,S){return S=S||"utf8",k.isBuffer(b)||(b=new k(b,S)),this._priv=new R(b),this}te.exports=g;var m={};function g(b,S,A){this.setGenerator(S),this.__prime=new R(b),this._prime=R.mont(this.__prime),this._primeLen=b.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,A?(this.setPublicKey=u,this.setPrivateKey=c):this._primeCode=8}function y(b,S){var A=new k(b.toArray());return S?A.toString(S):A}Object.defineProperty(g.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(b,S){var A=S.toString("hex"),P=[A,b.toString(16)].join("_");if(P in m)return m[P];var H,X=0;if(b.isEven()||!f.simpleSieve||!f.fermatTest(b)||!M.test(b))return X+=1,m[P]=X+="02"===A||"05"===A?8:4,X;switch(M.test(b.shrn(1))||(X+=2),A){case"02":b.mod(x).cmp(O)&&(X+=8);break;case"05":(H=b.mod(w)).cmp(E)&&H.cmp(C)&&(X+=8);break;default:X+=4}return m[P]=X,X}(this.__prime,this.__gen)),this._primeCode}}),g.prototype.generateKeys=function(){return this._priv||(this._priv=new R(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},g.prototype.computeSecret=function(b){var S=(b=(b=new R(b)).toRed(this._prime)).redPow(this._priv).fromRed(),A=new k(S.toArray()),P=this.getPrime();if(A.length<P.length){var H=new k(P.length-A.length);H.fill(0),A=k.concat([H,A])}return A},g.prototype.getPublicKey=function(b){return y(this._pub,b)},g.prototype.getPrivateKey=function(b){return y(this._priv,b)},g.prototype.getPrime=function(b){return y(this.__prime,b)},g.prototype.getGenerator=function(b){return y(this._gen,b)},g.prototype.setGenerator=function(b,S){return S=S||"utf8",k.isBuffer(b)||(b=new k(b,S)),this.__gen=b,this._gen=new R(b),this}}).call(this,T("buffer").Buffer)},{"./generatePrime":347,"bn.js":349,buffer:216,"miller-rabin":435,randombytes:475}],347:[function(T,te,W){"use strict";var k=T("randombytes");te.exports=b,b.simpleSieve=g,b.fermatTest=y;var R=T("bn.js"),M=new R(24),x=new(T("miller-rabin")),O=new R(1),w=new R(2),E=new R(5),C=(new R(16),new R(8),new R(10)),f=new R(3),d=(new R(7),new R(11)),u=new R(4),c=(new R(12),null);function g(S){for(var A=function m(){if(null!==c)return c;var S=[];S[0]=2;for(var A=1,P=3;P<1048576;P+=2){for(var H=Math.ceil(Math.sqrt(P)),X=0;X<A&&S[X]<=H&&P%S[X]!=0;X++);A!==X&&S[X]<=H||(S[A++]=P)}return c=S,S}(),P=0;P<A.length;P++)if(0===S.modn(A[P]))return 0===S.cmpn(A[P]);return!0}function y(S){var A=R.mont(S);return 0===w.toRed(A).redPow(S.subn(1)).fromRed().cmpn(1)}function b(S,A){if(S<16)return new R(2===A||5===A?[140,123]:[140,39]);var P,H;for(A=new R(A);;){for(P=new R(k(Math.ceil(S/8)));P.bitLength()>S;)P.ishrn(1);if(P.isEven()&&P.iadd(O),P.testn(1)||P.iadd(w),A.cmp(w)){if(!A.cmp(E))for(;P.mod(C).cmp(f);)P.iadd(u)}else for(;P.mod(M).cmp(d);)P.iadd(u);if(g(H=P.shrn(1))&&g(P)&&y(H)&&y(P)&&x.test(H)&&x.test(P))return P}}},{"bn.js":349,"miller-rabin":435,randombytes:475}],348:[function(T,te,W){te.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],349:[function(T,te,W){arguments[4][181][0].apply(W,arguments)},{buffer:185,dup:181}],350:[function(T,te,W){"use strict";var k=W;k.version=T("../package.json").version,k.utils=T("./elliptic/utils"),k.rand=T("brorand"),k.curve=T("./elliptic/curve"),k.curves=T("./elliptic/curves"),k.ec=T("./elliptic/ec"),k.eddsa=T("./elliptic/eddsa")},{"../package.json":366,"./elliptic/curve":353,"./elliptic/curves":356,"./elliptic/ec":357,"./elliptic/eddsa":360,"./elliptic/utils":364,brorand:184}],351:[function(T,te,W){"use strict";var k=T("bn.js"),R=T("../utils"),M=R.getNAF,x=R.getJSF,O=R.assert;function w(C,f){this.type=C,this.p=new k(f.p,16),this.red=f.prime?k.red(f.prime):k.mont(this.p),this.zero=new k(0).toRed(this.red),this.one=new k(1).toRed(this.red),this.two=new k(2).toRed(this.red),this.n=f.n&&new k(f.n,16),this.g=f.g&&this.pointFromJSON(f.g,f.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function E(C,f){this.curve=C,this.type=f,this.precomputed=null}te.exports=w,w.prototype.point=function(){throw new Error("Not implemented")},w.prototype.validate=function(){throw new Error("Not implemented")},w.prototype._fixedNafMul=function(C,f){O(C.precomputed);var d=C._getDoubles(),u=M(f,1,this._bitLength),c=(1<<d.step+1)-(d.step%2==0?2:1);c/=3;for(var m=[],g=0;g<u.length;g+=d.step){var y=0;for(f=g+d.step-1;f>=g;f--)y=(y<<1)+u[f];m.push(y)}for(var b=this.jpoint(null,null,null),S=this.jpoint(null,null,null),A=c;A>0;A--){for(g=0;g<m.length;g++)(y=m[g])===A?S=S.mixedAdd(d.points[g]):y===-A&&(S=S.mixedAdd(d.points[g].neg()));b=b.add(S)}return b.toP()},w.prototype._wnafMul=function(C,f){for(var d=4,u=C._getNAFPoints(d),c=u.points,m=M(f,d=u.wnd,this._bitLength),g=this.jpoint(null,null,null),y=m.length-1;y>=0;y--){for(f=0;y>=0&&0===m[y];y--)f++;if(y>=0&&f++,g=g.dblp(f),y<0)break;var b=m[y];O(0!==b),g="affine"===C.type?g.mixedAdd(b>0?c[b-1>>1]:c[-b-1>>1].neg()):g.add(b>0?c[b-1>>1]:c[-b-1>>1].neg())}return"affine"===C.type?g.toP():g},w.prototype._wnafMulAdd=function(C,f,d,u,c){for(var m=this._wnafT1,g=this._wnafT2,y=this._wnafT3,b=0,S=0;S<u;S++){var A=(Q=f[S])._getNAFPoints(C);m[S]=A.wnd,g[S]=A.points}for(S=u-1;S>=1;S-=2){var P=S-1,H=S;if(1===m[P]&&1===m[H]){var X=[f[P],null,null,f[H]];0===f[P].y.cmp(f[H].y)?(X[1]=f[P].add(f[H]),X[2]=f[P].toJ().mixedAdd(f[H].neg())):0===f[P].y.cmp(f[H].y.redNeg())?(X[1]=f[P].toJ().mixedAdd(f[H]),X[2]=f[P].add(f[H].neg())):(X[1]=f[P].toJ().mixedAdd(f[H]),X[2]=f[P].toJ().mixedAdd(f[H].neg()));var J=[-3,-1,-5,-7,0,7,5,1,3],j=x(d[P],d[H]);b=Math.max(j[0].length,b),y[P]=new Array(b),y[H]=new Array(b);for(var $=0;$<b;$++)y[P][$]=J[3*(1+(0|j[0][$]))+(1+(0|j[1][$]))],y[H][$]=0,g[P]=X}else y[P]=M(d[P],m[P],this._bitLength),y[H]=M(d[H],m[H],this._bitLength),b=Math.max(y[P].length,b),b=Math.max(y[H].length,b)}var ee=this.jpoint(null,null,null),N=this._wnafT4;for(S=b;S>=0;S--){for(var V=0;S>=0;){var U=!0;for($=0;$<u;$++)N[$]=0|y[$][S],0!==N[$]&&(U=!1);if(!U)break;V++,S--}if(S>=0&&V++,ee=ee.dblp(V),S<0)break;for($=0;$<u;$++){var Q,Z=N[$];0!==Z&&(Z>0?Q=g[$][Z-1>>1]:Z<0&&(Q=g[$][-Z-1>>1].neg()),ee="affine"===Q.type?ee.mixedAdd(Q):ee.add(Q))}}for(S=0;S<u;S++)g[S]=null;return c?ee:ee.toP()},w.BasePoint=E,E.prototype.eq=function(){throw new Error("Not implemented")},E.prototype.validate=function(){return this.curve.validate(this)},w.prototype.decodePoint=function(C,f){C=R.toArray(C,f);var d=this.p.byteLength();if((4===C[0]||6===C[0]||7===C[0])&&C.length-1==2*d)return 6===C[0]?O(C[C.length-1]%2==0):7===C[0]&&O(C[C.length-1]%2==1),this.point(C.slice(1,1+d),C.slice(1+d,1+2*d));if((2===C[0]||3===C[0])&&C.length-1===d)return this.pointFromX(C.slice(1,1+d),3===C[0]);throw new Error("Unknown point format")},E.prototype.encodeCompressed=function(C){return this.encode(C,!0)},E.prototype._encode=function(C){var f=this.curve.p.byteLength(),d=this.getX().toArray("be",f);return C?[this.getY().isEven()?2:3].concat(d):[4].concat(d,this.getY().toArray("be",f))},E.prototype.encode=function(C,f){return R.encode(this._encode(f),C)},E.prototype.precompute=function(C){if(this.precomputed)return this;var f={doubles:null,naf:null,beta:null};return f.naf=this._getNAFPoints(8),f.doubles=this._getDoubles(4,C),f.beta=this._getBeta(),this.precomputed=f,this},E.prototype._hasDoubles=function(C){if(!this.precomputed)return!1;var f=this.precomputed.doubles;return!!f&&f.points.length>=Math.ceil((C.bitLength()+1)/f.step)},E.prototype._getDoubles=function(C,f){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var d=[this],u=this,c=0;c<f;c+=C){for(var m=0;m<C;m++)u=u.dbl();d.push(u)}return{step:C,points:d}},E.prototype._getNAFPoints=function(C){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var f=[this],d=(1<<C)-1,u=1===d?null:this.dbl(),c=1;c<d;c++)f[c]=f[c-1].add(u);return{wnd:C,points:f}},E.prototype._getBeta=function(){return null},E.prototype.dblp=function(C){for(var f=this,d=0;d<C;d++)f=f.dbl();return f}},{"../utils":364,"bn.js":365}],352:[function(T,te,W){"use strict";var k=T("../utils"),R=T("bn.js"),M=T("inherits"),x=T("./base"),O=k.assert;function w(C){this.twisted=1!=(0|C.a),this.mOneA=this.twisted&&-1==(0|C.a),this.extended=this.mOneA,x.call(this,"edwards",C),this.a=new R(C.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new R(C.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new R(C.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),O(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|C.c)}function E(C,f,d,u,c){x.BasePoint.call(this,C,"projective"),null===f&&null===d&&null===u?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new R(f,16),this.y=new R(d,16),this.z=u?new R(u,16):this.curve.one,this.t=c&&new R(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}M(w,x),te.exports=w,w.prototype._mulA=function(C){return this.mOneA?C.redNeg():this.a.redMul(C)},w.prototype._mulC=function(C){return this.oneC?C:this.c.redMul(C)},w.prototype.jpoint=function(C,f,d,u){return this.point(C,f,d,u)},w.prototype.pointFromX=function(C,f){(C=new R(C,16)).red||(C=C.toRed(this.red));var d=C.redSqr(),u=this.c2.redSub(this.a.redMul(d)),c=this.one.redSub(this.c2.redMul(this.d).redMul(d)),m=u.redMul(c.redInvm()),g=m.redSqrt();if(0!==g.redSqr().redSub(m).cmp(this.zero))throw new Error("invalid point");var y=g.fromRed().isOdd();return(f&&!y||!f&&y)&&(g=g.redNeg()),this.point(C,g)},w.prototype.pointFromY=function(C,f){(C=new R(C,16)).red||(C=C.toRed(this.red));var d=C.redSqr(),u=d.redSub(this.c2),c=d.redMul(this.d).redMul(this.c2).redSub(this.a),m=u.redMul(c.redInvm());if(0===m.cmp(this.zero)){if(f)throw new Error("invalid point");return this.point(this.zero,C)}var g=m.redSqrt();if(0!==g.redSqr().redSub(m).cmp(this.zero))throw new Error("invalid point");return g.fromRed().isOdd()!==f&&(g=g.redNeg()),this.point(g,C)},w.prototype.validate=function(C){if(C.isInfinity())return!0;C.normalize();var f=C.x.redSqr(),d=C.y.redSqr(),u=f.redMul(this.a).redAdd(d),c=this.c2.redMul(this.one.redAdd(this.d.redMul(f).redMul(d)));return 0===u.cmp(c)},M(E,x.BasePoint),w.prototype.pointFromJSON=function(C){return E.fromJSON(this,C)},w.prototype.point=function(C,f,d,u){return new E(this,C,f,d,u)},E.fromJSON=function(C,f){return new E(C,f[0],f[1],f[2])},E.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},E.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},E.prototype._extDbl=function(){var C=this.x.redSqr(),f=this.y.redSqr(),d=this.z.redSqr();d=d.redIAdd(d);var u=this.curve._mulA(C),c=this.x.redAdd(this.y).redSqr().redISub(C).redISub(f),m=u.redAdd(f),g=m.redSub(d),y=u.redSub(f),b=c.redMul(g),S=m.redMul(y),A=c.redMul(y),P=g.redMul(m);return this.curve.point(b,S,P,A)},E.prototype._projDbl=function(){var C,f,d,u=this.x.redAdd(this.y).redSqr(),c=this.x.redSqr(),m=this.y.redSqr();if(this.curve.twisted){var g=(S=this.curve._mulA(c)).redAdd(m);if(this.zOne)C=u.redSub(c).redSub(m).redMul(g.redSub(this.curve.two)),f=g.redMul(S.redSub(m)),d=g.redSqr().redSub(g).redSub(g);else{var y=this.z.redSqr(),b=g.redSub(y).redISub(y);C=u.redSub(c).redISub(m).redMul(b),f=g.redMul(S.redSub(m)),d=g.redMul(b)}}else{var S=c.redAdd(m);y=this.curve._mulC(this.z).redSqr(),b=S.redSub(y).redSub(y),C=this.curve._mulC(u.redISub(S)).redMul(b),f=this.curve._mulC(S).redMul(c.redISub(m)),d=S.redMul(b)}return this.curve.point(C,f,d)},E.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},E.prototype._extAdd=function(C){var f=this.y.redSub(this.x).redMul(C.y.redSub(C.x)),d=this.y.redAdd(this.x).redMul(C.y.redAdd(C.x)),u=this.t.redMul(this.curve.dd).redMul(C.t),c=this.z.redMul(C.z.redAdd(C.z)),m=d.redSub(f),g=c.redSub(u),y=c.redAdd(u),b=d.redAdd(f),S=m.redMul(g),A=y.redMul(b),P=m.redMul(b),H=g.redMul(y);return this.curve.point(S,A,H,P)},E.prototype._projAdd=function(C){var f,d,u=this.z.redMul(C.z),c=u.redSqr(),m=this.x.redMul(C.x),g=this.y.redMul(C.y),y=this.curve.d.redMul(m).redMul(g),b=c.redSub(y),S=c.redAdd(y),A=this.x.redAdd(this.y).redMul(C.x.redAdd(C.y)).redISub(m).redISub(g),P=u.redMul(b).redMul(A);return this.curve.twisted?(f=u.redMul(S).redMul(g.redSub(this.curve._mulA(m))),d=b.redMul(S)):(f=u.redMul(S).redMul(g.redSub(m)),d=this.curve._mulC(b).redMul(S)),this.curve.point(P,f,d)},E.prototype.add=function(C){return this.isInfinity()?C:C.isInfinity()?this:this.curve.extended?this._extAdd(C):this._projAdd(C)},E.prototype.mul=function(C){return this._hasDoubles(C)?this.curve._fixedNafMul(this,C):this.curve._wnafMul(this,C)},E.prototype.mulAdd=function(C,f,d){return this.curve._wnafMulAdd(1,[this,f],[C,d],2,!1)},E.prototype.jmulAdd=function(C,f,d){return this.curve._wnafMulAdd(1,[this,f],[C,d],2,!0)},E.prototype.normalize=function(){if(this.zOne)return this;var C=this.z.redInvm();return this.x=this.x.redMul(C),this.y=this.y.redMul(C),this.t&&(this.t=this.t.redMul(C)),this.z=this.curve.one,this.zOne=!0,this},E.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},E.prototype.getX=function(){return this.normalize(),this.x.fromRed()},E.prototype.getY=function(){return this.normalize(),this.y.fromRed()},E.prototype.eq=function(C){return this===C||0===this.getX().cmp(C.getX())&&0===this.getY().cmp(C.getY())},E.prototype.eqXToP=function(C){var f=C.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(f))return!0;for(var d=C.clone(),u=this.curve.redN.redMul(this.z);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(f.redIAdd(u),0===this.x.cmp(f))return!0}},E.prototype.toP=E.prototype.normalize,E.prototype.mixedAdd=E.prototype.add},{"../utils":364,"./base":351,"bn.js":365,inherits:387}],353:[function(T,te,W){"use strict";var k=W;k.base=T("./base"),k.short=T("./short"),k.mont=T("./mont"),k.edwards=T("./edwards")},{"./base":351,"./edwards":352,"./mont":354,"./short":355}],354:[function(T,te,W){"use strict";var k=T("bn.js"),R=T("inherits"),M=T("./base"),x=T("../utils");function O(E){M.call(this,"mont",E),this.a=new k(E.a,16).toRed(this.red),this.b=new k(E.b,16).toRed(this.red),this.i4=new k(4).toRed(this.red).redInvm(),this.two=new k(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function w(E,C,f){M.BasePoint.call(this,E,"projective"),null===C&&null===f?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new k(C,16),this.z=new k(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}R(O,M),te.exports=O,O.prototype.validate=function(E){var C=E.normalize().x,f=C.redSqr(),d=f.redMul(C).redAdd(f.redMul(this.a)).redAdd(C);return 0===d.redSqrt().redSqr().cmp(d)},R(w,M.BasePoint),O.prototype.decodePoint=function(E,C){return this.point(x.toArray(E,C),1)},O.prototype.point=function(E,C){return new w(this,E,C)},O.prototype.pointFromJSON=function(E){return w.fromJSON(this,E)},w.prototype.precompute=function(){},w.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},w.fromJSON=function(E,C){return new w(E,C[0],C[1]||E.one)},w.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},w.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},w.prototype.dbl=function(){var E=this.x.redAdd(this.z).redSqr(),C=this.x.redSub(this.z).redSqr(),f=E.redSub(C),d=E.redMul(C),u=f.redMul(C.redAdd(this.curve.a24.redMul(f)));return this.curve.point(d,u)},w.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.diffAdd=function(E,C){var f=this.x.redAdd(this.z),d=this.x.redSub(this.z),u=E.x.redAdd(E.z),c=E.x.redSub(E.z).redMul(f),m=u.redMul(d),g=C.z.redMul(c.redAdd(m).redSqr()),y=C.x.redMul(c.redISub(m).redSqr());return this.curve.point(g,y)},w.prototype.mul=function(E){for(var C=E.clone(),f=this,d=this.curve.point(null,null),u=[];0!==C.cmpn(0);C.iushrn(1))u.push(C.andln(1));for(var c=u.length-1;c>=0;c--)0===u[c]?(f=f.diffAdd(d,this),d=d.dbl()):(d=f.diffAdd(d,this),f=f.dbl());return d},w.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},w.prototype.eq=function(E){return 0===this.getX().cmp(E.getX())},w.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},w.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":364,"./base":351,"bn.js":365,inherits:387}],355:[function(T,te,W){"use strict";var k=T("../utils"),R=T("bn.js"),M=T("inherits"),x=T("./base"),O=k.assert;function w(f){x.call(this,"short",f),this.a=new R(f.a,16).toRed(this.red),this.b=new R(f.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(f),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function E(f,d,u,c){x.BasePoint.call(this,f,"affine"),null===d&&null===u?(this.x=null,this.y=null,this.inf=!0):(this.x=new R(d,16),this.y=new R(u,16),c&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function C(f,d,u,c){x.BasePoint.call(this,f,"jacobian"),null===d&&null===u&&null===c?(this.x=this.curve.one,this.y=this.curve.one,this.z=new R(0)):(this.x=new R(d,16),this.y=new R(u,16),this.z=new R(c,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}M(w,x),te.exports=w,w.prototype._getEndomorphism=function(f){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var d,u;if(f.beta)d=new R(f.beta,16).toRed(this.red);else{var c=this._getEndoRoots(this.p);d=(d=c[0].cmp(c[1])<0?c[0]:c[1]).toRed(this.red)}if(f.lambda)u=new R(f.lambda,16);else{var m=this._getEndoRoots(this.n);0===this.g.mul(m[0]).x.cmp(this.g.x.redMul(d))?u=m[0]:O(0===this.g.mul(u=m[1]).x.cmp(this.g.x.redMul(d)))}return{beta:d,lambda:u,basis:f.basis?f.basis.map(function(g){return{a:new R(g.a,16),b:new R(g.b,16)}}):this._getEndoBasis(u)}}},w.prototype._getEndoRoots=function(f){var d=f===this.p?this.red:R.mont(f),u=new R(2).toRed(d).redInvm(),c=u.redNeg(),m=new R(3).toRed(d).redNeg().redSqrt().redMul(u);return[c.redAdd(m).fromRed(),c.redSub(m).fromRed()]},w.prototype._getEndoBasis=function(f){for(var d,u,c,m,g,y,b,S,A,P=this.n.ushrn(Math.floor(this.n.bitLength()/2)),H=f,X=this.n.clone(),J=new R(1),j=new R(0),$=new R(0),L=new R(1),B=0;0!==H.cmpn(0);){var ee=X.div(H);S=X.sub(ee.mul(H)),A=$.sub(ee.mul(J));var N=L.sub(ee.mul(j));if(!c&&S.cmp(P)<0)d=b.neg(),u=J,c=S.neg(),m=A;else if(c&&2==++B)break;b=S,X=H,H=S,$=J,J=A,L=j,j=N}g=S.neg(),y=A;var V=c.sqr().add(m.sqr());return g.sqr().add(y.sqr()).cmp(V)>=0&&(g=d,y=u),c.negative&&(c=c.neg(),m=m.neg()),g.negative&&(g=g.neg(),y=y.neg()),[{a:c,b:m},{a:g,b:y}]},w.prototype._endoSplit=function(f){var d=this.endo.basis,u=d[0],c=d[1],m=c.b.mul(f).divRound(this.n),g=u.b.neg().mul(f).divRound(this.n),y=m.mul(u.a),b=g.mul(c.a),S=m.mul(u.b),A=g.mul(c.b);return{k1:f.sub(y).sub(b),k2:S.add(A).neg()}},w.prototype.pointFromX=function(f,d){(f=new R(f,16)).red||(f=f.toRed(this.red));var u=f.redSqr().redMul(f).redIAdd(f.redMul(this.a)).redIAdd(this.b),c=u.redSqrt();if(0!==c.redSqr().redSub(u).cmp(this.zero))throw new Error("invalid point");var m=c.fromRed().isOdd();return(d&&!m||!d&&m)&&(c=c.redNeg()),this.point(f,c)},w.prototype.validate=function(f){if(f.inf)return!0;var d=f.x,u=f.y,c=this.a.redMul(d),m=d.redSqr().redMul(d).redIAdd(c).redIAdd(this.b);return 0===u.redSqr().redISub(m).cmpn(0)},w.prototype._endoWnafMulAdd=function(f,d,u){for(var c=this._endoWnafT1,m=this._endoWnafT2,g=0;g<f.length;g++){var y=this._endoSplit(d[g]),b=f[g],S=b._getBeta();y.k1.negative&&(y.k1.ineg(),b=b.neg(!0)),y.k2.negative&&(y.k2.ineg(),S=S.neg(!0)),c[2*g]=b,c[2*g+1]=S,m[2*g]=y.k1,m[2*g+1]=y.k2}for(var A=this._wnafMulAdd(1,c,m,2*g,u),P=0;P<2*g;P++)c[P]=null,m[P]=null;return A},M(E,x.BasePoint),w.prototype.point=function(f,d,u){return new E(this,f,d,u)},w.prototype.pointFromJSON=function(f,d){return E.fromJSON(this,f,d)},E.prototype._getBeta=function(){if(this.curve.endo){var f=this.precomputed;if(f&&f.beta)return f.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(f){var u=this.curve,c=function(m){return u.point(m.x.redMul(u.endo.beta),m.y)};f.beta=d,d.precomputed={beta:null,naf:f.naf&&{wnd:f.naf.wnd,points:f.naf.points.map(c)},doubles:f.doubles&&{step:f.doubles.step,points:f.doubles.points.map(c)}}}return d}},E.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},E.fromJSON=function(f,d,u){"string"==typeof d&&(d=JSON.parse(d));var c=f.point(d[0],d[1],u);if(!d[2])return c;function m(y){return f.point(y[0],y[1],u)}var g=d[2];return c.precomputed={beta:null,doubles:g.doubles&&{step:g.doubles.step,points:[c].concat(g.doubles.points.map(m))},naf:g.naf&&{wnd:g.naf.wnd,points:[c].concat(g.naf.points.map(m))}},c},E.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},E.prototype.isInfinity=function(){return this.inf},E.prototype.add=function(f){if(this.inf)return f;if(f.inf)return this;if(this.eq(f))return this.dbl();if(this.neg().eq(f))return this.curve.point(null,null);if(0===this.x.cmp(f.x))return this.curve.point(null,null);var d=this.y.redSub(f.y);0!==d.cmpn(0)&&(d=d.redMul(this.x.redSub(f.x).redInvm()));var u=d.redSqr().redISub(this.x).redISub(f.x),c=d.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,c)},E.prototype.dbl=function(){if(this.inf)return this;var f=this.y.redAdd(this.y);if(0===f.cmpn(0))return this.curve.point(null,null);var d=this.curve.a,u=this.x.redSqr(),c=f.redInvm(),m=u.redAdd(u).redIAdd(u).redIAdd(d).redMul(c),g=m.redSqr().redISub(this.x.redAdd(this.x)),y=m.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,y)},E.prototype.getX=function(){return this.x.fromRed()},E.prototype.getY=function(){return this.y.fromRed()},E.prototype.mul=function(f){return f=new R(f,16),this.isInfinity()?this:this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve.endo?this.curve._endoWnafMulAdd([this],[f]):this.curve._wnafMul(this,f)},E.prototype.mulAdd=function(f,d,u){var c=[this,d],m=[f,u];return this.curve.endo?this.curve._endoWnafMulAdd(c,m):this.curve._wnafMulAdd(1,c,m,2)},E.prototype.jmulAdd=function(f,d,u){var c=[this,d],m=[f,u];return this.curve.endo?this.curve._endoWnafMulAdd(c,m,!0):this.curve._wnafMulAdd(1,c,m,2,!0)},E.prototype.eq=function(f){return this===f||this.inf===f.inf&&(this.inf||0===this.x.cmp(f.x)&&0===this.y.cmp(f.y))},E.prototype.neg=function(f){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(f&&this.precomputed){var u=this.precomputed,c=function(m){return m.neg()};d.precomputed={naf:u.naf&&{wnd:u.naf.wnd,points:u.naf.points.map(c)},doubles:u.doubles&&{step:u.doubles.step,points:u.doubles.points.map(c)}}}return d},E.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},M(C,x.BasePoint),w.prototype.jpoint=function(f,d,u){return new C(this,f,d,u)},C.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var f=this.z.redInvm(),d=f.redSqr(),u=this.x.redMul(d),c=this.y.redMul(d).redMul(f);return this.curve.point(u,c)},C.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},C.prototype.add=function(f){if(this.isInfinity())return f;if(f.isInfinity())return this;var d=f.z.redSqr(),u=this.z.redSqr(),c=this.x.redMul(d),m=f.x.redMul(u),g=this.y.redMul(d.redMul(f.z)),y=f.y.redMul(u.redMul(this.z)),b=c.redSub(m),S=g.redSub(y);if(0===b.cmpn(0))return 0!==S.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var A=b.redSqr(),P=A.redMul(b),H=c.redMul(A),X=S.redSqr().redIAdd(P).redISub(H).redISub(H),J=S.redMul(H.redISub(X)).redISub(g.redMul(P)),j=this.z.redMul(f.z).redMul(b);return this.curve.jpoint(X,J,j)},C.prototype.mixedAdd=function(f){if(this.isInfinity())return f.toJ();if(f.isInfinity())return this;var d=this.z.redSqr(),u=this.x,c=f.x.redMul(d),m=this.y,g=f.y.redMul(d).redMul(this.z),y=u.redSub(c),b=m.redSub(g);if(0===y.cmpn(0))return 0!==b.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var S=y.redSqr(),A=S.redMul(y),P=u.redMul(S),H=b.redSqr().redIAdd(A).redISub(P).redISub(P),X=b.redMul(P.redISub(H)).redISub(m.redMul(A)),J=this.z.redMul(y);return this.curve.jpoint(H,X,J)},C.prototype.dblp=function(f){if(0===f)return this;if(this.isInfinity())return this;if(!f)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var d=this,u=0;u<f;u++)d=d.dbl();return d}var c=this.curve.a,m=this.curve.tinv,g=this.x,y=this.y,b=this.z,S=b.redSqr().redSqr(),A=y.redAdd(y);for(u=0;u<f;u++){var P=g.redSqr(),H=A.redSqr(),X=H.redSqr(),J=P.redAdd(P).redIAdd(P).redIAdd(c.redMul(S)),j=g.redMul(H),$=J.redSqr().redISub(j.redAdd(j)),L=j.redISub($),B=J.redMul(L);B=B.redIAdd(B).redISub(X);var ee=A.redMul(b);u+1<f&&(S=S.redMul(X)),g=$,b=ee,A=B}return this.curve.jpoint(g,A.redMul(m),b)},C.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},C.prototype._zeroDbl=function(){var f,d,u;if(this.zOne){var c=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(c).redISub(g);y=y.redIAdd(y);var b=c.redAdd(c).redIAdd(c),S=b.redSqr().redISub(y).redISub(y),A=g.redIAdd(g);A=(A=A.redIAdd(A)).redIAdd(A),f=S,d=b.redMul(y.redISub(S)).redISub(A),u=this.y.redAdd(this.y)}else{var P=this.x.redSqr(),H=this.y.redSqr(),X=H.redSqr(),J=this.x.redAdd(H).redSqr().redISub(P).redISub(X);J=J.redIAdd(J);var j=P.redAdd(P).redIAdd(P),$=j.redSqr(),L=X.redIAdd(X);L=(L=L.redIAdd(L)).redIAdd(L),f=$.redISub(J).redISub(J),d=j.redMul(J.redISub(f)).redISub(L),u=(u=this.y.redMul(this.z)).redIAdd(u)}return this.curve.jpoint(f,d,u)},C.prototype._threeDbl=function(){var f,d,u;if(this.zOne){var c=this.x.redSqr(),m=this.y.redSqr(),g=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(c).redISub(g);y=y.redIAdd(y);var b=c.redAdd(c).redIAdd(c).redIAdd(this.curve.a),S=b.redSqr().redISub(y).redISub(y);f=S;var A=g.redIAdd(g);A=(A=A.redIAdd(A)).redIAdd(A),d=b.redMul(y.redISub(S)).redISub(A),u=this.y.redAdd(this.y)}else{var P=this.z.redSqr(),H=this.y.redSqr(),X=this.x.redMul(H),J=this.x.redSub(P).redMul(this.x.redAdd(P));J=J.redAdd(J).redIAdd(J);var j=X.redIAdd(X),$=(j=j.redIAdd(j)).redAdd(j);f=J.redSqr().redISub($),u=this.y.redAdd(this.z).redSqr().redISub(H).redISub(P);var L=H.redSqr();L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L),d=J.redMul(j.redISub(f)).redISub(L)}return this.curve.jpoint(f,d,u)},C.prototype._dbl=function(){var f=this.curve.a,d=this.x,u=this.y,c=this.z,m=c.redSqr().redSqr(),g=d.redSqr(),y=u.redSqr(),b=g.redAdd(g).redIAdd(g).redIAdd(f.redMul(m)),S=d.redAdd(d),A=(S=S.redIAdd(S)).redMul(y),P=b.redSqr().redISub(A.redAdd(A)),H=A.redISub(P),X=y.redSqr();X=(X=(X=X.redIAdd(X)).redIAdd(X)).redIAdd(X);var J=b.redMul(H).redISub(X),j=u.redAdd(u).redMul(c);return this.curve.jpoint(P,J,j)},C.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var f=this.x.redSqr(),d=this.y.redSqr(),u=this.z.redSqr(),c=d.redSqr(),m=f.redAdd(f).redIAdd(f),g=m.redSqr(),y=this.x.redAdd(d).redSqr().redISub(f).redISub(c),b=(y=(y=(y=y.redIAdd(y)).redAdd(y).redIAdd(y)).redISub(g)).redSqr(),S=c.redIAdd(c);S=(S=(S=S.redIAdd(S)).redIAdd(S)).redIAdd(S);var A=m.redIAdd(y).redSqr().redISub(g).redISub(b).redISub(S),P=d.redMul(A);P=(P=P.redIAdd(P)).redIAdd(P);var H=this.x.redMul(b).redISub(P);H=(H=H.redIAdd(H)).redIAdd(H);var X=this.y.redMul(A.redMul(S.redISub(A)).redISub(y.redMul(b)));X=(X=(X=X.redIAdd(X)).redIAdd(X)).redIAdd(X);var J=this.z.redAdd(y).redSqr().redISub(u).redISub(b);return this.curve.jpoint(H,X,J)},C.prototype.mul=function(f,d){return f=new R(f,d),this.curve._wnafMul(this,f)},C.prototype.eq=function(f){if("affine"===f.type)return this.eq(f.toJ());if(this===f)return!0;var d=this.z.redSqr(),u=f.z.redSqr();if(0!==this.x.redMul(u).redISub(f.x.redMul(d)).cmpn(0))return!1;var c=d.redMul(this.z),m=u.redMul(f.z);return 0===this.y.redMul(m).redISub(f.y.redMul(c)).cmpn(0)},C.prototype.eqXToP=function(f){var d=this.z.redSqr(),u=f.toRed(this.curve.red).redMul(d);if(0===this.x.cmp(u))return!0;for(var c=f.clone(),m=this.curve.redN.redMul(d);;){if(c.iadd(this.curve.n),c.cmp(this.curve.p)>=0)return!1;if(u.redIAdd(m),0===this.x.cmp(u))return!0}},C.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},C.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":364,"./base":351,"bn.js":365,inherits:387}],356:[function(T,te,W){"use strict";var k,R=W,M=T("hash.js"),x=T("./curve"),O=T("./utils").assert;function w(C){this.curve="short"===C.type?new x.short(C):"edwards"===C.type?new x.edwards(C):new x.mont(C),this.g=this.curve.g,this.n=this.curve.n,this.hash=C.hash,O(this.g.validate(),"Invalid curve"),O(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function E(C,f){Object.defineProperty(R,C,{configurable:!0,enumerable:!0,get:function(){var d=new w(f);return Object.defineProperty(R,C,{configurable:!0,enumerable:!0,value:d}),d}})}R.PresetCurve=w,E("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:M.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),E("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:M.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),E("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:M.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),E("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:M.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),E("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:M.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),E("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:M.sha256,gRed:!1,g:["9"]}),E("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:M.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{k=T("./precomputed/secp256k1")}catch{k=void 0}E("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:M.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",k]})},{"./curve":353,"./precomputed/secp256k1":363,"./utils":364,"hash.js":372}],357:[function(T,te,W){"use strict";function k(u){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}var R=T("bn.js"),M=T("hmac-drbg"),x=T("../utils"),O=T("../curves"),w=T("brorand"),E=x.assert,C=T("./key"),f=T("./signature");function d(u){if(!(this instanceof d))return new d(u);"string"==typeof u&&(E(O.hasOwnProperty(u),"Unknown curve "+u),u=O[u]),u instanceof O.PresetCurve&&(u={curve:u}),this.curve=u.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=u.curve.g,this.g.precompute(u.curve.n.bitLength()+1),this.hash=u.hash||u.curve.hash}te.exports=d,d.prototype.keyPair=function(u){return new C(this,u)},d.prototype.keyFromPrivate=function(u,c){return C.fromPrivate(this,u,c)},d.prototype.keyFromPublic=function(u,c){return C.fromPublic(this,u,c)},d.prototype.genKeyPair=function(u){u||(u={});for(var c=new M({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||w(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new R(2));;){var y=new R(c.generate(m));if(!(y.cmp(g)>0))return y.iaddn(1),this.keyFromPrivate(y)}},d.prototype._truncateToN=function(u,c){var m=8*u.byteLength()-this.n.bitLength();return m>0&&(u=u.ushrn(m)),!c&&u.cmp(this.n)>=0?u.sub(this.n):u},d.prototype.sign=function(u,c,m,g){"object"===k(m)&&(g=m,m=null),g||(g={}),c=this.keyFromPrivate(c,m),u=this._truncateToN(new R(u,16));for(var y=this.n.byteLength(),b=c.getPrivate().toArray("be",y),S=u.toArray("be",y),A=new M({hash:this.hash,entropy:b,nonce:S,pers:g.pers,persEnc:g.persEnc||"utf8"}),P=this.n.sub(new R(1)),H=0;;H++){var X=g.k?g.k(H):new R(A.generate(this.n.byteLength()));if(!((X=this._truncateToN(X,!0)).cmpn(1)<=0||X.cmp(P)>=0)){var J=this.g.mul(X);if(!J.isInfinity()){var j=J.getX(),$=j.umod(this.n);if(0!==$.cmpn(0)){var L=X.invm(this.n).mul($.mul(c.getPrivate()).iadd(u));if(0!==(L=L.umod(this.n)).cmpn(0)){var B=(J.getY().isOdd()?1:0)|(0!==j.cmp($)?2:0);return g.canonical&&L.cmp(this.nh)>0&&(L=this.n.sub(L),B^=1),new f({r:$,s:L,recoveryParam:B})}}}}}},d.prototype.verify=function(u,c,m,g){u=this._truncateToN(new R(u,16)),m=this.keyFromPublic(m,g);var y=(c=new f(c,"hex")).r,b=c.s;if(y.cmpn(1)<0||y.cmp(this.n)>=0||b.cmpn(1)<0||b.cmp(this.n)>=0)return!1;var S,A=b.invm(this.n),P=A.mul(u).umod(this.n),H=A.mul(y).umod(this.n);return this.curve._maxwellTrick?!(S=this.g.jmulAdd(P,m.getPublic(),H)).isInfinity()&&S.eqXToP(y):!(S=this.g.mulAdd(P,m.getPublic(),H)).isInfinity()&&0===S.getX().umod(this.n).cmp(y)},d.prototype.recoverPubKey=function(u,c,m,g){E((3&m)===m,"The recovery param is more than two bits"),c=new f(c,g);var y=this.n,b=new R(u),S=c.r,A=c.s,P=1&m,H=m>>1;if(S.cmp(this.curve.p.umod(this.curve.n))>=0&&H)throw new Error("Unable to find sencond key candinate");S=this.curve.pointFromX(H?S.add(this.curve.n):S,P);var X=c.r.invm(y),J=y.sub(b).mul(X).umod(y),j=A.mul(X).umod(y);return this.g.mulAdd(J,S,j)},d.prototype.getKeyRecoveryParam=function(u,c,m,g){if(null!==(c=new f(c,g)).recoveryParam)return c.recoveryParam;for(var y=0;y<4;y++){var b;try{b=this.recoverPubKey(u,c,y)}catch{continue}if(b.eq(m))return y}throw new Error("Unable to find valid recovery factor")}},{"../curves":356,"../utils":364,"./key":358,"./signature":359,"bn.js":365,brorand:184,"hmac-drbg":384}],358:[function(T,te,W){"use strict";var k=T("bn.js"),R=T("../utils").assert;function M(x,O){this.ec=x,this.priv=null,this.pub=null,O.priv&&this._importPrivate(O.priv,O.privEnc),O.pub&&this._importPublic(O.pub,O.pubEnc)}te.exports=M,M.fromPublic=function(x,O,w){return O instanceof M?O:new M(x,{pub:O,pubEnc:w})},M.fromPrivate=function(x,O,w){return O instanceof M?O:new M(x,{priv:O,privEnc:w})},M.prototype.validate=function(){var x=this.getPublic();return x.isInfinity()?{result:!1,reason:"Invalid public key"}:x.validate()?x.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},M.prototype.getPublic=function(x,O){return"string"==typeof x&&(O=x,x=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),O?this.pub.encode(O,x):this.pub},M.prototype.getPrivate=function(x){return"hex"===x?this.priv.toString(16,2):this.priv},M.prototype._importPrivate=function(x,O){this.priv=new k(x,O||16),this.priv=this.priv.umod(this.ec.curve.n)},M.prototype._importPublic=function(x,O){if(x.x||x.y)return"mont"===this.ec.curve.type?R(x.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||R(x.x&&x.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(x.x,x.y));this.pub=this.ec.curve.decodePoint(x,O)},M.prototype.derive=function(x){return x.mul(this.priv).getX()},M.prototype.sign=function(x,O,w){return this.ec.sign(x,this,O,w)},M.prototype.verify=function(x,O){return this.ec.verify(x,O,this)},M.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":364,"bn.js":365}],359:[function(T,te,W){"use strict";var k=T("bn.js"),R=T("../utils"),M=R.assert;function x(f,d){if(f instanceof x)return f;this._importDER(f,d)||(M(f.r&&f.s,"Signature without r or s"),this.r=new k(f.r,16),this.s=new k(f.s,16),this.recoveryParam=void 0===f.recoveryParam?null:f.recoveryParam)}function O(){this.place=0}function w(f,d){var u=f[d.place++];if(!(128&u))return u;var c=15&u;if(0===c||c>4)return!1;for(var m=0,g=0,y=d.place;g<c;g++,y++)m<<=8,m|=f[y],m>>>=0;return!(m<=127)&&(d.place=y,m)}function E(f){for(var d=0,u=f.length-1;!f[d]&&!(128&f[d+1])&&d<u;)d++;return 0===d?f:f.slice(d)}function C(f,d){if(d<128)f.push(d);else{var u=1+(Math.log(d)/Math.LN2>>>3);for(f.push(128|u);--u;)f.push(d>>>(u<<3)&255);f.push(d)}}te.exports=x,x.prototype._importDER=function(f,d){f=R.toArray(f,d);var u=new O;if(48!==f[u.place++])return!1;var c=w(f,u);if(!1===c||c+u.place!==f.length||2!==f[u.place++])return!1;var m=w(f,u);if(!1===m)return!1;var g=f.slice(u.place,m+u.place);if(u.place+=m,2!==f[u.place++])return!1;var y=w(f,u);if(!1===y||f.length!==y+u.place)return!1;var b=f.slice(u.place,y+u.place);if(0===g[0]){if(!(128&g[1]))return!1;g=g.slice(1)}if(0===b[0]){if(!(128&b[1]))return!1;b=b.slice(1)}return this.r=new k(g),this.s=new k(b),this.recoveryParam=null,!0},x.prototype.toDER=function(f){var d=this.r.toArray(),u=this.s.toArray();for(128&d[0]&&(d=[0].concat(d)),128&u[0]&&(u=[0].concat(u)),d=E(d),u=E(u);!(u[0]||128&u[1]);)u=u.slice(1);var c=[2];C(c,d.length),(c=c.concat(d)).push(2),C(c,u.length);var m=c.concat(u),g=[48];return C(g,m.length),g=g.concat(m),R.encode(g,f)}},{"../utils":364,"bn.js":365}],360:[function(T,te,W){"use strict";var k=T("hash.js"),R=T("../curves"),M=T("../utils"),x=M.assert,O=M.parseBytes,w=T("./key"),E=T("./signature");function C(f){if(x("ed25519"===f,"only tested with ed25519 so far"),!(this instanceof C))return new C(f);this.curve=f=R[f].curve,this.g=f.g,this.g.precompute(f.n.bitLength()+1),this.pointClass=f.point().constructor,this.encodingLength=Math.ceil(f.n.bitLength()/8),this.hash=k.sha512}te.exports=C,C.prototype.sign=function(f,d){f=O(f);var u=this.keyFromSecret(d),c=this.hashInt(u.messagePrefix(),f),m=this.g.mul(c),g=this.encodePoint(m),y=this.hashInt(g,u.pubBytes(),f).mul(u.priv()),b=c.add(y).umod(this.curve.n);return this.makeSignature({R:m,S:b,Rencoded:g})},C.prototype.verify=function(f,d,u){f=O(f),d=this.makeSignature(d);var c=this.keyFromPublic(u),m=this.hashInt(d.Rencoded(),c.pubBytes(),f),g=this.g.mul(d.S());return d.R().add(c.pub().mul(m)).eq(g)},C.prototype.hashInt=function(){for(var f=this.hash(),d=0;d<arguments.length;d++)f.update(arguments[d]);return M.intFromLE(f.digest()).umod(this.curve.n)},C.prototype.keyFromPublic=function(f){return w.fromPublic(this,f)},C.prototype.keyFromSecret=function(f){return w.fromSecret(this,f)},C.prototype.makeSignature=function(f){return f instanceof E?f:new E(this,f)},C.prototype.encodePoint=function(f){var d=f.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=f.getX().isOdd()?128:0,d},C.prototype.decodePoint=function(f){var d=(f=M.parseBytes(f)).length-1,u=f.slice(0,d).concat(-129&f[d]),c=0!=(128&f[d]),m=M.intFromLE(u);return this.curve.pointFromY(m,c)},C.prototype.encodeInt=function(f){return f.toArray("le",this.encodingLength)},C.prototype.decodeInt=function(f){return M.intFromLE(f)},C.prototype.isPoint=function(f){return f instanceof this.pointClass}},{"../curves":356,"../utils":364,"./key":361,"./signature":362,"hash.js":372}],361:[function(T,te,W){"use strict";var k=T("../utils"),R=k.assert,M=k.parseBytes,x=k.cachedProperty;function O(w,E){this.eddsa=w,this._secret=M(E.secret),w.isPoint(E.pub)?this._pub=E.pub:this._pubBytes=M(E.pub)}O.fromPublic=function(w,E){return E instanceof O?E:new O(w,{pub:E})},O.fromSecret=function(w,E){return E instanceof O?E:new O(w,{secret:E})},O.prototype.secret=function(){return this._secret},x(O,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),x(O,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),x(O,"privBytes",function(){var w=this.eddsa,E=this.hash(),C=w.encodingLength-1,f=E.slice(0,w.encodingLength);return f[0]&=248,f[C]&=127,f[C]|=64,f}),x(O,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),x(O,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),x(O,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),O.prototype.sign=function(w){return R(this._secret,"KeyPair can only verify"),this.eddsa.sign(w,this)},O.prototype.verify=function(w,E){return this.eddsa.verify(w,E,this)},O.prototype.getSecret=function(w){return R(this._secret,"KeyPair is public only"),k.encode(this.secret(),w)},O.prototype.getPublic=function(w){return k.encode(this.pubBytes(),w)},te.exports=O},{"../utils":364}],362:[function(T,te,W){"use strict";function k(C){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}var R=T("bn.js"),M=T("../utils"),x=M.assert,O=M.cachedProperty,w=M.parseBytes;function E(C,f){this.eddsa=C,"object"!==k(f)&&(f=w(f)),Array.isArray(f)&&(f={R:f.slice(0,C.encodingLength),S:f.slice(C.encodingLength)}),x(f.R&&f.S,"Signature without R or S"),C.isPoint(f.R)&&(this._R=f.R),f.S instanceof R&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}O(E,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),O(E,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),O(E,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),O(E,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),E.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},E.prototype.toHex=function(){return M.encode(this.toBytes(),"hex").toUpperCase()},te.exports=E},{"../utils":364,"bn.js":365}],363:[function(T,te,W){"use strict";te.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],364:[function(T,te,W){"use strict";var k=W,R=T("bn.js"),M=T("minimalistic-assert"),x=T("minimalistic-crypto-utils");k.assert=M,k.toArray=x.toArray,k.zero2=x.zero2,k.toHex=x.toHex,k.encode=x.encode,k.getNAF=function(O,w,E){var C=new Array(Math.max(O.bitLength(),E)+1);C.fill(0);for(var f=1<<w+1,d=O.clone(),u=0;u<C.length;u++){var c,m=d.andln(f-1);d.isOdd()?d.isubn(c=m>(f>>1)-1?(f>>1)-m:m):c=0,C[u]=c,d.iushrn(1)}return C},k.getJSF=function(O,w){var E=[[],[]];O=O.clone(),w=w.clone();for(var C=0,f=0;O.cmpn(-C)>0||w.cmpn(-f)>0;){var d,u,c,m=O.andln(3)+C&3,g=w.andln(3)+f&3;3===m&&(m=-1),3===g&&(g=-1),d=0==(1&m)?0:3!=(c=O.andln(7)+C&7)&&5!==c||2!==g?m:-m,E[0].push(d),u=0==(1&g)?0:3!=(c=w.andln(7)+f&7)&&5!==c||2!==m?g:-g,E[1].push(u),2*C===d+1&&(C=1-C),2*f===u+1&&(f=1-f),O.iushrn(1),w.iushrn(1)}return E},k.cachedProperty=function(O,w,E){var C="_"+w;O.prototype[w]=function(){return void 0!==this[C]?this[C]:this[C]=E.call(this)}},k.parseBytes=function(O){return"string"==typeof O?k.toArray(O,"hex"):O},k.intFromLE=function(O){return new R(O,"hex","le")}},{"bn.js":365,"minimalistic-assert":437,"minimalistic-crypto-utils":438}],365:[function(T,te,W){arguments[4][181][0].apply(W,arguments)},{buffer:185,dup:181}],366:[function(T,te,W){te.exports={_from:"elliptic@^6.5.3",_id:"elliptic@6.5.3",_inBundle:!1,_integrity:"sha512-IMqzv5wNQf+E6aHeIqATs0tOLeOTwj1QKbRcS3jBbYkl5oLAserA8yJTT7/VyHUYG91PRmPyeQDObKLPpeS4dw==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.5.3",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.5.3",saveSpec:null,fetchSpec:"^6.5.3"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.3.tgz",_shasum:"cb59eb2efdaf73a0bd78ccd7015a62ad6e0f93d6",_spec:"elliptic@^6.5.3",_where:"/mnt/d/dev/git/exceljs/node_modules/browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^3.0.8",grunt:"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.2",jscs:"^3.0.7",jshint:"^2.10.3",mocha:"^6.2.2"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.3"}},{}],367:[function(T,te,W){"use strict";function k(X){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(X)}var R=Object.create||function(X){var J=function(){};return J.prototype=X,new J},M=Object.keys||function(X){var J=[];for(var j in X)Object.prototype.hasOwnProperty.call(X,j)&&J.push(j);return j},x=Function.prototype.bind||function(X){var J=this;return function(){return J.apply(X,arguments)}};function O(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=R(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}te.exports=O,O.EventEmitter=O,O.prototype._events=void 0,O.prototype._maxListeners=void 0;var w,E=10;try{var C={};Object.defineProperty&&Object.defineProperty(C,"x",{value:0}),w=0===C.x}catch{w=!1}function f(X){return void 0===X._maxListeners?O.defaultMaxListeners:X._maxListeners}function d(X,J,j){if(J)X.call(j);else for(var $=X.length,L=H(X,$),B=0;B<$;++B)L[B].call(j)}function u(X,J,j,$){if(J)X.call(j,$);else for(var L=X.length,B=H(X,L),ee=0;ee<L;++ee)B[ee].call(j,$)}function c(X,J,j,$,L){if(J)X.call(j,$,L);else for(var B=X.length,ee=H(X,B),N=0;N<B;++N)ee[N].call(j,$,L)}function m(X,J,j,$,L,B){if(J)X.call(j,$,L,B);else for(var ee=X.length,N=H(X,ee),V=0;V<ee;++V)N[V].call(j,$,L,B)}function g(X,J,j,$){if(J)X.apply(j,$);else for(var L=X.length,B=H(X,L),ee=0;ee<L;++ee)B[ee].apply(j,$)}function y(X,J,j,$){var L,B,ee;if("function"!=typeof j)throw new TypeError('"listener" argument must be a function');if((B=X._events)?(B.newListener&&(X.emit("newListener",J,j.listener?j.listener:j),B=X._events),ee=B[J]):(B=X._events=R(null),X._eventsCount=0),ee){if("function"==typeof ee?ee=B[J]=$?[j,ee]:[ee,j]:$?ee.unshift(j):ee.push(j),!ee.warned&&(L=f(X))&&L>0&&ee.length>L){ee.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+ee.length+' "'+String(J)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');N.name="MaxListenersExceededWarning",N.emitter=X,N.type=J,N.count=ee.length,"object"===(typeof console>"u"?"undefined":k(console))&&console.warn&&console.warn("%s: %s",N.name,N.message)}}else ee=B[J]=j,++X._eventsCount;return X}function b(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var X=new Array(arguments.length),J=0;J<X.length;++J)X[J]=arguments[J];this.listener.apply(this.target,X)}}function S(X,J,j){var $={fired:!1,wrapFn:void 0,target:X,type:J,listener:j},L=x.call(b,$);return L.listener=j,$.wrapFn=L,L}function A(X,J,j){var $=X._events;if(!$)return[];var L=$[J];return L?"function"==typeof L?j?[L.listener||L]:[L]:j?function(B){for(var ee=new Array(B.length),N=0;N<ee.length;++N)ee[N]=B[N].listener||B[N];return ee}(L):H(L,L.length):[]}function P(X){var J=this._events;if(J){var j=J[X];if("function"==typeof j)return 1;if(j)return j.length}return 0}function H(X,J){for(var j=new Array(J),$=0;$<J;++$)j[$]=X[$];return j}w?Object.defineProperty(O,"defaultMaxListeners",{enumerable:!0,get:function(){return E},set:function(X){if("number"!=typeof X||X<0||X!=X)throw new TypeError('"defaultMaxListeners" must be a positive number');E=X}}):O.defaultMaxListeners=E,O.prototype.setMaxListeners=function(X){if("number"!=typeof X||X<0||isNaN(X))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=X,this},O.prototype.getMaxListeners=function(){return f(this)},O.prototype.emit=function(X){var J,j,$,L,B,ee,N="error"===X;if(ee=this._events)N=N&&null==ee.error;else if(!N)return!1;if(N){if(arguments.length>1&&(J=arguments[1]),J instanceof Error)throw J;var V=new Error('Unhandled "error" event. ('+J+")");throw V.context=J,V}if(!(j=ee[X]))return!1;var U="function"==typeof j;switch($=arguments.length){case 1:d(j,U,this);break;case 2:u(j,U,this,arguments[1]);break;case 3:c(j,U,this,arguments[1],arguments[2]);break;case 4:m(j,U,this,arguments[1],arguments[2],arguments[3]);break;default:for(L=new Array($-1),B=1;B<$;B++)L[B-1]=arguments[B];g(j,U,this,L)}return!0},O.prototype.on=O.prototype.addListener=function(X,J){return y(this,X,J,!1)},O.prototype.prependListener=function(X,J){return y(this,X,J,!0)},O.prototype.once=function(X,J){if("function"!=typeof J)throw new TypeError('"listener" argument must be a function');return this.on(X,S(this,X,J)),this},O.prototype.prependOnceListener=function(X,J){if("function"!=typeof J)throw new TypeError('"listener" argument must be a function');return this.prependListener(X,S(this,X,J)),this},O.prototype.removeListener=function(X,J){var j,$,L,B,ee;if("function"!=typeof J)throw new TypeError('"listener" argument must be a function');if(!($=this._events))return this;if(!(j=$[X]))return this;if(j===J||j.listener===J)0==--this._eventsCount?this._events=R(null):(delete $[X],$.removeListener&&this.emit("removeListener",X,j.listener||J));else if("function"!=typeof j){for(L=-1,B=j.length-1;B>=0;B--)if(j[B]===J||j[B].listener===J){ee=j[B].listener,L=B;break}if(L<0)return this;0===L?j.shift():function(N,V){for(var U=V,Q=U+1,Z=N.length;Q<Z;U+=1,Q+=1)N[U]=N[Q];N.pop()}(j,L),1===j.length&&($[X]=j[0]),$.removeListener&&this.emit("removeListener",X,ee||J)}return this},O.prototype.removeAllListeners=function(X){var J,j,$;if(!(j=this._events))return this;if(!j.removeListener)return 0===arguments.length?(this._events=R(null),this._eventsCount=0):j[X]&&(0==--this._eventsCount?this._events=R(null):delete j[X]),this;if(0===arguments.length){var L,B=M(j);for($=0;$<B.length;++$)"removeListener"!==(L=B[$])&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=R(null),this._eventsCount=0,this}if("function"==typeof(J=j[X]))this.removeListener(X,J);else if(J)for($=J.length-1;$>=0;$--)this.removeListener(X,J[$]);return this},O.prototype.listeners=function(X){return A(this,X,!0)},O.prototype.rawListeners=function(X){return A(this,X,!1)},O.listenerCount=function(X,J){return"function"==typeof X.listenerCount?X.listenerCount(J):P.call(X,J)},O.prototype.listenerCount=P,O.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],368:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("md5.js");te.exports=function(M,x,O,w){if(k.isBuffer(M)||(M=k.from(M,"binary")),x&&(k.isBuffer(x)||(x=k.from(x,"binary")),8!==x.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var E=O/8,C=k.alloc(E),f=k.alloc(w||0),d=k.alloc(0);E>0||w>0;){var u=new R;u.update(d),u.update(M),x&&u.update(x),d=u.digest();var c=0;if(E>0){var m=C.length-E;c=Math.min(E,d.length),d.copy(C,m,0,c),E-=c}if(c<d.length&&w>0){var g=f.length-w,y=Math.min(w,d.length-c);d.copy(f,g,c,c+y),w-=y}}return d.fill(0),{key:C,iv:f}}},{"md5.js":434,"safe-buffer":494}],369:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var k=T("@fast-csv/format");Object.defineProperty(W,"format",{enumerable:!0,get:function(){return k.format}}),Object.defineProperty(W,"write",{enumerable:!0,get:function(){return k.write}}),Object.defineProperty(W,"writeToStream",{enumerable:!0,get:function(){return k.writeToStream}}),Object.defineProperty(W,"writeToBuffer",{enumerable:!0,get:function(){return k.writeToBuffer}}),Object.defineProperty(W,"writeToString",{enumerable:!0,get:function(){return k.writeToString}}),Object.defineProperty(W,"writeToPath",{enumerable:!0,get:function(){return k.writeToPath}}),Object.defineProperty(W,"CsvFormatterStream",{enumerable:!0,get:function(){return k.CsvFormatterStream}}),Object.defineProperty(W,"FormatterOptions",{enumerable:!0,get:function(){return k.FormatterOptions}});var R=T("@fast-csv/parse");Object.defineProperty(W,"parse",{enumerable:!0,get:function(){return R.parse}}),Object.defineProperty(W,"parseString",{enumerable:!0,get:function(){return R.parseString}}),Object.defineProperty(W,"parseStream",{enumerable:!0,get:function(){return R.parseStream}}),Object.defineProperty(W,"parseFile",{enumerable:!0,get:function(){return R.parseFile}}),Object.defineProperty(W,"ParserOptions",{enumerable:!0,get:function(){return R.ParserOptions}}),Object.defineProperty(W,"CsvParserStream",{enumerable:!0,get:function(){return R.CsvParserStream}})},{"@fast-csv/format":148,"@fast-csv/parse":152}],370:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("readable-stream").Transform;function M(x){R.call(this),this._block=k.allocUnsafe(x),this._blockSize=x,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}T("inherits")(M,R),M.prototype._transform=function(x,O,w){var E=null;try{this.update(x,O)}catch(C){E=C}w(E)},M.prototype._flush=function(x){var O=null;try{this.push(this.digest())}catch(w){O=w}x(O)},M.prototype.update=function(x,O){if(function(u,c){if(!k.isBuffer(u)&&"string"!=typeof u)throw new TypeError("Data must be a string or a buffer")}(x),this._finalized)throw new Error("Digest already called");k.isBuffer(x)||(x=k.from(x,O));for(var w=this._block,E=0;this._blockOffset+x.length-E>=this._blockSize;){for(var C=this._blockOffset;C<this._blockSize;)w[C++]=x[E++];this._update(),this._blockOffset=0}for(;E<x.length;)w[this._blockOffset++]=x[E++];for(var f=0,d=8*x.length;d>0;++f)this._length[f]+=d,(d=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*d);return this},M.prototype._update=function(){throw new Error("_update is not implemented")},M.prototype.digest=function(x){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var O=this._digest();void 0!==x&&(O=O.toString(x)),this._block.fill(0),this._blockOffset=0;for(var w=0;w<4;++w)this._length[w]=0;return O},M.prototype._digest=function(){throw new Error("_digest is not implemented")},te.exports=M},{inherits:387,"readable-stream":491,"safe-buffer":371}],371:[function(T,te,W){arguments[4][214][0].apply(W,arguments)},{buffer:216,dup:214}],372:[function(T,te,W){"use strict";var k=W;k.utils=T("./hash/utils"),k.common=T("./hash/common"),k.sha=T("./hash/sha"),k.ripemd=T("./hash/ripemd"),k.hmac=T("./hash/hmac"),k.sha1=k.sha.sha1,k.sha256=k.sha.sha256,k.sha224=k.sha.sha224,k.sha384=k.sha.sha384,k.sha512=k.sha.sha512,k.ripemd160=k.ripemd.ripemd160},{"./hash/common":373,"./hash/hmac":374,"./hash/ripemd":375,"./hash/sha":376,"./hash/utils":383}],373:[function(T,te,W){"use strict";var k=T("./utils"),R=T("minimalistic-assert");function M(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}W.BlockHash=M,M.prototype.update=function(x,O){if(x=k.toArray(x,O),this.pending=this.pending?this.pending.concat(x):x,this.pendingTotal+=x.length,this.pending.length>=this._delta8){var w=(x=this.pending).length%this._delta8;this.pending=x.slice(x.length-w,x.length),0===this.pending.length&&(this.pending=null),x=k.join32(x,0,x.length-w,this.endian);for(var E=0;E<x.length;E+=this._delta32)this._update(x,E,E+this._delta32)}return this},M.prototype.digest=function(x){return this.update(this._pad()),R(null===this.pending),this._digest(x)},M.prototype._pad=function(){var x=this.pendingTotal,O=this._delta8,w=O-(x+this.padLength)%O,E=new Array(w+this.padLength);E[0]=128;for(var C=1;C<w;C++)E[C]=0;if(x<<=3,"big"===this.endian){for(var f=8;f<this.padLength;f++)E[C++]=0;E[C++]=0,E[C++]=0,E[C++]=0,E[C++]=0,E[C++]=x>>>24&255,E[C++]=x>>>16&255,E[C++]=x>>>8&255,E[C++]=255&x}else for(E[C++]=255&x,E[C++]=x>>>8&255,E[C++]=x>>>16&255,E[C++]=x>>>24&255,E[C++]=0,E[C++]=0,E[C++]=0,E[C++]=0,f=8;f<this.padLength;f++)E[C++]=0;return E}},{"./utils":383,"minimalistic-assert":437}],374:[function(T,te,W){"use strict";var k=T("./utils"),R=T("minimalistic-assert");function M(x,O,w){if(!(this instanceof M))return new M(x,O,w);this.Hash=x,this.blockSize=x.blockSize/8,this.outSize=x.outSize/8,this.inner=null,this.outer=null,this._init(k.toArray(O,w))}te.exports=M,M.prototype._init=function(x){x.length>this.blockSize&&(x=(new this.Hash).update(x).digest()),R(x.length<=this.blockSize);for(var O=x.length;O<this.blockSize;O++)x.push(0);for(O=0;O<x.length;O++)x[O]^=54;for(this.inner=(new this.Hash).update(x),O=0;O<x.length;O++)x[O]^=106;this.outer=(new this.Hash).update(x)},M.prototype.update=function(x,O){return this.inner.update(x,O),this},M.prototype.digest=function(x){return this.outer.update(this.inner.digest()),this.outer.digest(x)}},{"./utils":383,"minimalistic-assert":437}],375:[function(T,te,W){"use strict";var k=T("./utils"),R=T("./common"),M=k.rotl32,x=k.sum32,O=k.sum32_3,w=k.sum32_4,E=R.BlockHash;function C(){if(!(this instanceof C))return new C;E.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(b,S,A,P){return b<=15?S^A^P:b<=31?S&A|~S&P:b<=47?(S|~A)^P:b<=63?S&P|A&~P:S^(A|~P)}function d(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function u(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}k.inherits(C,E),W.ripemd160=C,C.blockSize=512,C.outSize=160,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(b,S){for(var A=this.h[0],P=this.h[1],H=this.h[2],X=this.h[3],J=this.h[4],j=A,$=P,L=H,B=X,ee=J,N=0;N<80;N++){var V=x(M(w(A,f(N,P,H,X),b[c[N]+S],d(N)),g[N]),J);A=J,J=X,X=M(H,10),H=P,P=V,V=x(M(w(j,f(79-N,$,L,B),b[m[N]+S],u(N)),y[N]),ee),j=ee,ee=B,B=M(L,10),L=$,$=V}V=O(this.h[1],H,B),this.h[1]=O(this.h[2],X,ee),this.h[2]=O(this.h[3],J,j),this.h[3]=O(this.h[4],A,$),this.h[4]=O(this.h[0],P,L),this.h[0]=V},C.prototype._digest=function(b){return"hex"===b?k.toHex32(this.h,"little"):k.split32(this.h,"little")};var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":373,"./utils":383}],376:[function(T,te,W){"use strict";W.sha1=T("./sha/1"),W.sha224=T("./sha/224"),W.sha256=T("./sha/256"),W.sha384=T("./sha/384"),W.sha512=T("./sha/512")},{"./sha/1":377,"./sha/224":378,"./sha/256":379,"./sha/384":380,"./sha/512":381}],377:[function(T,te,W){"use strict";var k=T("../utils"),R=T("../common"),M=T("./common"),x=k.rotl32,O=k.sum32,w=k.sum32_5,E=M.ft_1,C=R.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;C.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}k.inherits(d,C),te.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(u,c){for(var m=this.W,g=0;g<16;g++)m[g]=u[c+g];for(;g<m.length;g++)m[g]=x(m[g-3]^m[g-8]^m[g-14]^m[g-16],1);var y=this.h[0],b=this.h[1],S=this.h[2],A=this.h[3],P=this.h[4];for(g=0;g<m.length;g++){var H=~~(g/20),X=w(x(y,5),E(H,b,S,A),P,m[g],f[H]);P=A,A=S,S=x(b,30),b=y,y=X}this.h[0]=O(this.h[0],y),this.h[1]=O(this.h[1],b),this.h[2]=O(this.h[2],S),this.h[3]=O(this.h[3],A),this.h[4]=O(this.h[4],P)},d.prototype._digest=function(u){return"hex"===u?k.toHex32(this.h,"big"):k.split32(this.h,"big")}},{"../common":373,"../utils":383,"./common":382}],378:[function(T,te,W){"use strict";var k=T("../utils"),R=T("./256");function M(){if(!(this instanceof M))return new M;R.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}k.inherits(M,R),te.exports=M,M.blockSize=512,M.outSize=224,M.hmacStrength=192,M.padLength=64,M.prototype._digest=function(x){return"hex"===x?k.toHex32(this.h.slice(0,7),"big"):k.split32(this.h.slice(0,7),"big")}},{"../utils":383,"./256":379}],379:[function(T,te,W){"use strict";var k=T("../utils"),R=T("../common"),M=T("./common"),x=T("minimalistic-assert"),O=k.sum32,w=k.sum32_4,E=k.sum32_5,C=M.ch32,f=M.maj32,d=M.s0_256,u=M.s1_256,c=M.g0_256,m=M.g1_256,g=R.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}k.inherits(b,g),te.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(S,A){for(var P=this.W,H=0;H<16;H++)P[H]=S[A+H];for(;H<P.length;H++)P[H]=w(m(P[H-2]),P[H-7],c(P[H-15]),P[H-16]);var X=this.h[0],J=this.h[1],j=this.h[2],$=this.h[3],L=this.h[4],B=this.h[5],ee=this.h[6],N=this.h[7];for(x(this.k.length===P.length),H=0;H<P.length;H++){var V=E(N,u(L),C(L,B,ee),this.k[H],P[H]),U=O(d(X),f(X,J,j));N=ee,ee=B,B=L,L=O($,V),$=j,j=J,J=X,X=O(V,U)}this.h[0]=O(this.h[0],X),this.h[1]=O(this.h[1],J),this.h[2]=O(this.h[2],j),this.h[3]=O(this.h[3],$),this.h[4]=O(this.h[4],L),this.h[5]=O(this.h[5],B),this.h[6]=O(this.h[6],ee),this.h[7]=O(this.h[7],N)},b.prototype._digest=function(S){return"hex"===S?k.toHex32(this.h,"big"):k.split32(this.h,"big")}},{"../common":373,"../utils":383,"./common":382,"minimalistic-assert":437}],380:[function(T,te,W){"use strict";var k=T("../utils"),R=T("./512");function M(){if(!(this instanceof M))return new M;R.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}k.inherits(M,R),te.exports=M,M.blockSize=1024,M.outSize=384,M.hmacStrength=192,M.padLength=128,M.prototype._digest=function(x){return"hex"===x?k.toHex32(this.h.slice(0,12),"big"):k.split32(this.h.slice(0,12),"big")}},{"../utils":383,"./512":381}],381:[function(T,te,W){"use strict";var k=T("../utils"),R=T("../common"),M=T("minimalistic-assert"),x=k.rotr64_hi,O=k.rotr64_lo,w=k.shr64_hi,E=k.shr64_lo,C=k.sum64,f=k.sum64_hi,d=k.sum64_lo,u=k.sum64_4_hi,c=k.sum64_4_lo,m=k.sum64_5_hi,g=k.sum64_5_lo,y=R.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function A(U,Q,Z,K,ne){var ue=U&Z^~U&ne;return ue<0&&(ue+=4294967296),ue}function P(U,Q,Z,K,ne,ue){var ce=Q&K^~Q&ue;return ce<0&&(ce+=4294967296),ce}function H(U,Q,Z,K,ne){var ue=U&Z^U&ne^Z&ne;return ue<0&&(ue+=4294967296),ue}function X(U,Q,Z,K,ne,ue){var ce=Q&K^Q&ue^K&ue;return ce<0&&(ce+=4294967296),ce}function J(U,Q){var Z=x(U,Q,28)^x(Q,U,2)^x(Q,U,7);return Z<0&&(Z+=4294967296),Z}function j(U,Q){var Z=O(U,Q,28)^O(Q,U,2)^O(Q,U,7);return Z<0&&(Z+=4294967296),Z}function $(U,Q){var Z=x(U,Q,14)^x(U,Q,18)^x(Q,U,9);return Z<0&&(Z+=4294967296),Z}function L(U,Q){var Z=O(U,Q,14)^O(U,Q,18)^O(Q,U,9);return Z<0&&(Z+=4294967296),Z}function B(U,Q){var Z=x(U,Q,1)^x(U,Q,8)^w(U,Q,7);return Z<0&&(Z+=4294967296),Z}function ee(U,Q){var Z=O(U,Q,1)^O(U,Q,8)^E(U,Q,7);return Z<0&&(Z+=4294967296),Z}function N(U,Q){var Z=x(U,Q,19)^x(Q,U,29)^w(U,Q,6);return Z<0&&(Z+=4294967296),Z}function V(U,Q){var Z=O(U,Q,19)^O(Q,U,29)^E(U,Q,6);return Z<0&&(Z+=4294967296),Z}k.inherits(S,y),te.exports=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(U,Q){for(var Z=this.W,K=0;K<32;K++)Z[K]=U[Q+K];for(;K<Z.length;K+=2){var ne=N(Z[K-4],Z[K-3]),ue=V(Z[K-4],Z[K-3]),ce=Z[K-14],de=Z[K-13],pe=B(Z[K-30],Z[K-29]),_e=ee(Z[K-30],Z[K-29]),me=Z[K-32],q=Z[K-31];Z[K]=u(ne,ue,ce,de,pe,_e,me,q),Z[K+1]=c(ne,ue,ce,de,pe,_e,me,q)}},S.prototype._update=function(U,Q){this._prepareBlock(U,Q);var Z=this.W,K=this.h[0],ne=this.h[1],ue=this.h[2],ce=this.h[3],de=this.h[4],pe=this.h[5],_e=this.h[6],me=this.h[7],q=this.h[8],oe=this.h[9],se=this.h[10],ve=this.h[11],Se=this.h[12],De=this.h[13],qe=this.h[14],je=this.h[15];M(this.k.length===Z.length);for(var Ye=0;Ye<Z.length;Ye+=2){var st=qe,ct=je,ht=$(q,oe),sn=L(q,oe),bt=A(q,0,se,0,Se),It=P(0,oe,0,ve,0,De),ln=this.k[Ye],nt=this.k[Ye+1],Xe=Z[Ye],Ae=Z[Ye+1],Pe=m(st,ct,ht,sn,bt,It,ln,nt,Xe,Ae),We=g(st,ct,ht,sn,bt,It,ln,nt,Xe,Ae);st=J(K,ne),ct=j(K,ne),ht=H(K,0,ue,0,de),sn=X(0,ne,0,ce,0,pe);var ot=f(st,ct,ht,sn),Ue=d(st,ct,ht,sn);qe=Se,je=De,Se=se,De=ve,se=q,ve=oe,q=f(_e,me,Pe,We),oe=d(me,me,Pe,We),_e=de,me=pe,de=ue,pe=ce,ue=K,ce=ne,K=f(Pe,We,ot,Ue),ne=d(Pe,We,ot,Ue)}C(this.h,0,K,ne),C(this.h,2,ue,ce),C(this.h,4,de,pe),C(this.h,6,_e,me),C(this.h,8,q,oe),C(this.h,10,se,ve),C(this.h,12,Se,De),C(this.h,14,qe,je)},S.prototype._digest=function(U){return"hex"===U?k.toHex32(this.h,"big"):k.split32(this.h,"big")}},{"../common":373,"../utils":383,"minimalistic-assert":437}],382:[function(T,te,W){"use strict";var k=T("../utils").rotr32;function R(O,w,E){return O&w^~O&E}function M(O,w,E){return O&w^O&E^w&E}function x(O,w,E){return O^w^E}W.ft_1=function(O,w,E,C){return 0===O?R(w,E,C):1===O||3===O?x(w,E,C):2===O?M(w,E,C):void 0},W.ch32=R,W.maj32=M,W.p32=x,W.s0_256=function(O){return k(O,2)^k(O,13)^k(O,22)},W.s1_256=function(O){return k(O,6)^k(O,11)^k(O,25)},W.g0_256=function(O){return k(O,7)^k(O,18)^O>>>3},W.g1_256=function(O){return k(O,17)^k(O,19)^O>>>10}},{"../utils":383}],383:[function(T,te,W){"use strict";var k=T("minimalistic-assert"),R=T("inherits");function M(E,C){return 55296==(64512&E.charCodeAt(C))&&!(C<0||C+1>=E.length)&&56320==(64512&E.charCodeAt(C+1))}function x(E){return(E>>>24|E>>>8&65280|E<<8&16711680|(255&E)<<24)>>>0}function O(E){return 1===E.length?"0"+E:E}function w(E){return 7===E.length?"0"+E:6===E.length?"00"+E:5===E.length?"000"+E:4===E.length?"0000"+E:3===E.length?"00000"+E:2===E.length?"000000"+E:1===E.length?"0000000"+E:E}W.inherits=R,W.toArray=function(E,C){if(Array.isArray(E))return E.slice();if(!E)return[];var f=[];if("string"==typeof E)if(C){if("hex"===C)for((E=E.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(E="0"+E),u=0;u<E.length;u+=2)f.push(parseInt(E[u]+E[u+1],16))}else for(var d=0,u=0;u<E.length;u++){var c=E.charCodeAt(u);c<128?f[d++]=c:c<2048?(f[d++]=c>>6|192,f[d++]=63&c|128):M(E,u)?(c=65536+((1023&c)<<10)+(1023&E.charCodeAt(++u)),f[d++]=c>>18|240,f[d++]=c>>12&63|128,f[d++]=c>>6&63|128,f[d++]=63&c|128):(f[d++]=c>>12|224,f[d++]=c>>6&63|128,f[d++]=63&c|128)}else for(u=0;u<E.length;u++)f[u]=0|E[u];return f},W.toHex=function(E){for(var C="",f=0;f<E.length;f++)C+=O(E[f].toString(16));return C},W.htonl=x,W.toHex32=function(E,C){for(var f="",d=0;d<E.length;d++){var u=E[d];"little"===C&&(u=x(u)),f+=w(u.toString(16))}return f},W.zero2=O,W.zero8=w,W.join32=function(E,C,f,d){var u=f-C;k(u%4==0);for(var c=new Array(u/4),m=0,g=C;m<c.length;m++,g+=4)c[m]=("big"===d?E[g]<<24|E[g+1]<<16|E[g+2]<<8|E[g+3]:E[g+3]<<24|E[g+2]<<16|E[g+1]<<8|E[g])>>>0;return c},W.split32=function(E,C){for(var f=new Array(4*E.length),d=0,u=0;d<E.length;d++,u+=4){var c=E[d];"big"===C?(f[u]=c>>>24,f[u+1]=c>>>16&255,f[u+2]=c>>>8&255,f[u+3]=255&c):(f[u+3]=c>>>24,f[u+2]=c>>>16&255,f[u+1]=c>>>8&255,f[u]=255&c)}return f},W.rotr32=function(E,C){return E>>>C|E<<32-C},W.rotl32=function(E,C){return E<<C|E>>>32-C},W.sum32=function(E,C){return E+C>>>0},W.sum32_3=function(E,C,f){return E+C+f>>>0},W.sum32_4=function(E,C,f,d){return E+C+f+d>>>0},W.sum32_5=function(E,C,f,d,u){return E+C+f+d+u>>>0},W.sum64=function(E,C,f,d){var c=d+E[C+1]>>>0;E[C]=(c<d?1:0)+f+E[C]>>>0,E[C+1]=c},W.sum64_hi=function(E,C,f,d){return(C+d>>>0<C?1:0)+E+f>>>0},W.sum64_lo=function(E,C,f,d){return C+d>>>0},W.sum64_4_hi=function(E,C,f,d,u,c,m,g){var y=0,b=C;return y+=(b=b+d>>>0)<C?1:0,y+=(b=b+c>>>0)<c?1:0,E+f+u+m+(y+=(b=b+g>>>0)<g?1:0)>>>0},W.sum64_4_lo=function(E,C,f,d,u,c,m,g){return C+d+c+g>>>0},W.sum64_5_hi=function(E,C,f,d,u,c,m,g,y,b){var S=0,A=C;return S+=(A=A+d>>>0)<C?1:0,S+=(A=A+c>>>0)<c?1:0,S+=(A=A+g>>>0)<g?1:0,E+f+u+m+y+(S+=(A=A+b>>>0)<b?1:0)>>>0},W.sum64_5_lo=function(E,C,f,d,u,c,m,g,y,b){return C+d+c+g+b>>>0},W.rotr64_hi=function(E,C,f){return(C<<32-f|E>>>f)>>>0},W.rotr64_lo=function(E,C,f){return(E<<32-f|C>>>f)>>>0},W.shr64_hi=function(E,C,f){return E>>>f},W.shr64_lo=function(E,C,f){return(E<<32-f|C>>>f)>>>0}},{inherits:387,"minimalistic-assert":437}],384:[function(T,te,W){"use strict";var k=T("hash.js"),R=T("minimalistic-crypto-utils"),M=T("minimalistic-assert");function x(O){if(!(this instanceof x))return new x(O);this.hash=O.hash,this.predResist=!!O.predResist,this.outLen=this.hash.outSize,this.minEntropy=O.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var w=R.toArray(O.entropy,O.entropyEnc||"hex"),E=R.toArray(O.nonce,O.nonceEnc||"hex"),C=R.toArray(O.pers,O.persEnc||"hex");M(w.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(w,E,C)}te.exports=x,x.prototype._init=function(O,w,E){var C=O.concat(w).concat(E);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var f=0;f<this.V.length;f++)this.K[f]=0,this.V[f]=1;this._update(C),this._reseed=1,this.reseedInterval=281474976710656},x.prototype._hmac=function(){return new k.hmac(this.hash,this.K)},x.prototype._update=function(O){var w=this._hmac().update(this.V).update([0]);O&&(w=w.update(O)),this.K=w.digest(),this.V=this._hmac().update(this.V).digest(),O&&(this.K=this._hmac().update(this.V).update([1]).update(O).digest(),this.V=this._hmac().update(this.V).digest())},x.prototype.reseed=function(O,w,E,C){"string"!=typeof w&&(C=E,E=w,w=null),O=R.toArray(O,w),E=R.toArray(E,C),M(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(O.concat(E||[])),this._reseed=1},x.prototype.generate=function(O,w,E,C){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof w&&(C=E,E=w,w=null),E&&(E=R.toArray(E,C||"hex"),this._update(E));for(var f=[];f.length<O;)this.V=this._hmac().update(this.V).digest(),f=f.concat(this.V);var d=f.slice(0,O);return this._update(E),this._reseed++,R.encode(d,w)}},{"hash.js":372,"minimalistic-assert":437,"minimalistic-crypto-utils":438}],385:[function(T,te,W){"use strict";W.read=function(k,R,M,x,O){var w,E,C=8*O-x-1,f=(1<<C)-1,d=f>>1,u=-7,c=M?O-1:0,m=M?-1:1,g=k[R+c];for(c+=m,w=g&(1<<-u)-1,g>>=-u,u+=C;u>0;w=256*w+k[R+c],c+=m,u-=8);for(E=w&(1<<-u)-1,w>>=-u,u+=x;u>0;E=256*E+k[R+c],c+=m,u-=8);if(0===w)w=1-d;else{if(w===f)return E?NaN:1/0*(g?-1:1);E+=Math.pow(2,x),w-=d}return(g?-1:1)*E*Math.pow(2,w-x)},W.write=function(k,R,M,x,O,w){var E,C,f,d=8*w-O-1,u=(1<<d)-1,c=u>>1,m=23===O?Math.pow(2,-24)-Math.pow(2,-77):0,g=x?0:w-1,y=x?1:-1,b=R<0||0===R&&1/R<0?1:0;for(R=Math.abs(R),isNaN(R)||R===1/0?(C=isNaN(R)?1:0,E=u):(E=Math.floor(Math.log(R)/Math.LN2),R*(f=Math.pow(2,-E))<1&&(E--,f*=2),(R+=E+c>=1?m/f:m*Math.pow(2,1-c))*f>=2&&(E++,f/=2),E+c>=u?(C=0,E=u):E+c>=1?(C=(R*f-1)*Math.pow(2,O),E+=c):(C=R*Math.pow(2,c-1)*Math.pow(2,O),E=0));O>=8;k[M+g]=255&C,g+=y,C/=256,O-=8);for(E=E<<O|C,d+=O;d>0;k[M+g]=255&E,g+=y,E/=256,d-=8);k[M+g-y]|=128*b}},{}],386:[function(T,te,W){(function(k){"use strict";var R,M,x=k.MutationObserver||k.WebKitMutationObserver;if(x){var O=0,w=new x(d),E=k.document.createTextNode("");w.observe(E,{characterData:!0}),R=function(){E.data=O=++O%2}}else if(k.setImmediate||void 0===k.MessageChannel)R="document"in k&&"onreadystatechange"in k.document.createElement("script")?function(){var u=k.document.createElement("script");u.onreadystatechange=function(){d(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},k.document.documentElement.appendChild(u)}:function(){setTimeout(d,0)};else{var C=new k.MessageChannel;C.port1.onmessage=d,R=function(){C.port2.postMessage(0)}}var f=[];function d(){var u,c;M=!0;for(var m=f.length;m;){for(c=f,f=[],u=-1;++u<m;)c[u]();m=f.length}M=!1}te.exports=function(u){1!==f.push(u)||M||R()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],387:[function(T,te,W){"use strict";te.exports="function"==typeof Object.create?function(k,R){R&&(k.super_=R,k.prototype=Object.create(R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}))}:function(k,R){if(R){k.super_=R;var M=function(){};M.prototype=R.prototype,k.prototype=new M,k.prototype.constructor=k}}},{}],388:[function(T,te,W){"use strict";function k(R){return!!R.constructor&&"function"==typeof R.constructor.isBuffer&&R.constructor.isBuffer(R)}te.exports=function(R){return null!=R&&(k(R)||"function"==typeof(M=R).readFloatLE&&"function"==typeof M.slice&&k(M.slice(0,0))||!!R._isBuffer);var M}},{}],389:[function(T,te,W){"use strict";var k={}.toString;te.exports=Array.isArray||function(R){return"[object Array]"==k.call(R)}},{}],390:[function(T,te,W){"use strict";var k=T("./utils"),R=T("./support"),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";W.encode=function(x){for(var O,w,E,f,d,u,c=[],m=0,g=x.length,y=g,b="string"!==k.getTypeOf(x);m<x.length;)y=g-m,b?(O=x[m++],w=m<g?x[m++]:0,E=m<g?x[m++]:0):(O=x.charCodeAt(m++),w=m<g?x.charCodeAt(m++):0,E=m<g?x.charCodeAt(m++):0),f=(3&O)<<4|w>>4,d=y>1?(15&w)<<2|E>>6:64,u=y>2?63&E:64,c.push(M.charAt(O>>2)+M.charAt(f)+M.charAt(d)+M.charAt(u));return c.join("")},W.decode=function(x){var O,w,E,C,f,d,u=0,c=0;if("data:"===x.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var m,g=3*(x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(x.charAt(x.length-1)===M.charAt(64)&&g--,x.charAt(x.length-2)===M.charAt(64)&&g--,g%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=R.uint8array?new Uint8Array(0|g):new Array(0|g);u<x.length;)O=M.indexOf(x.charAt(u++))<<2|(C=M.indexOf(x.charAt(u++)))>>4,w=(15&C)<<4|(f=M.indexOf(x.charAt(u++)))>>2,E=(3&f)<<6|(d=M.indexOf(x.charAt(u++))),m[c++]=O,64!==f&&(m[c++]=w),64!==d&&(m[c++]=E);return m}},{"./support":419,"./utils":421}],391:[function(T,te,W){"use strict";var k=T("./external"),R=T("./stream/DataWorker"),M=T("./stream/DataLengthProbe"),x=T("./stream/Crc32Probe");function O(w,E,C,f,d){this.compressedSize=w,this.uncompressedSize=E,this.crc32=C,this.compression=f,this.compressedContent=d}M=T("./stream/DataLengthProbe"),O.prototype={getContentWorker:function(){var w=new R(k.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new M("data_length")),E=this;return w.on("end",function(){if(this.streamInfo.data_length!==E.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new R(k.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},O.createWorkerFrom=function(w,E,C){return w.pipe(new x).pipe(new M("uncompressedSize")).pipe(E.compressWorker(C)).pipe(new M("compressedSize")).withStreamInfo("compression",E)},te.exports=O},{"./external":395,"./stream/Crc32Probe":414,"./stream/DataLengthProbe":415,"./stream/DataWorker":416}],392:[function(T,te,W){"use strict";var k=T("./stream/GenericWorker");W.STORE={magic:"\0\0",compressWorker:function(R){return new k("STORE compression")},uncompressWorker:function(){return new k("STORE decompression")}},W.DEFLATE=T("./flate")},{"./flate":396,"./stream/GenericWorker":417}],393:[function(T,te,W){"use strict";var k=T("./utils"),R=function(){for(var M,x=[],O=0;O<256;O++){M=O;for(var w=0;w<8;w++)M=1&M?3988292384^M>>>1:M>>>1;x[O]=M}return x}();te.exports=function(M,x){return void 0!==M&&M.length?"string"!==k.getTypeOf(M)?function(O,w,E,C){var f=R,d=0+E;O^=-1;for(var u=0;u<d;u++)O=O>>>8^f[255&(O^w[u])];return-1^O}(0|x,M,M.length):function(O,w,E,C){var f=R,d=0+E;O^=-1;for(var u=0;u<d;u++)O=O>>>8^f[255&(O^w.charCodeAt(u))];return-1^O}(0|x,M,M.length):0}},{"./utils":421}],394:[function(T,te,W){"use strict";W.base64=!1,W.binary=!1,W.dir=!1,W.createFolders=!0,W.date=null,W.compression=null,W.compressionOptions=null,W.comment=null,W.unixPermissions=null,W.dosPermissions=null},{}],395:[function(T,te,W){"use strict";var k;k=typeof Promise<"u"?Promise:T("lie"),te.exports={Promise:k}},{lie:425}],396:[function(T,te,W){"use strict";var k=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",R=T("pako"),M=T("./utils"),x=T("./stream/GenericWorker"),O=k?"uint8array":"array";function w(E,C){x.call(this,"FlateWorker/"+E),this._pako=null,this._pakoAction=E,this._pakoOptions=C,this.meta={}}W.magic="\b\0",M.inherits(w,x),w.prototype.processChunk=function(E){this.meta=E.meta,null===this._pako&&this._createPako(),this._pako.push(M.transformTo(O,E.data),!1)},w.prototype.flush=function(){x.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new R[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var E=this;this._pako.onData=function(C){E.push({data:C,meta:E.meta})}},W.compressWorker=function(E){return new w("Deflate",E)},W.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":417,"./utils":421,pako:439}],397:[function(T,te,W){"use strict";var k=T("../utils"),R=T("../stream/GenericWorker"),M=T("../utf8"),x=T("../crc32"),O=T("../signature"),w=function(d,u){var c,m="";for(c=0;c<u;c++)m+=String.fromCharCode(255&d),d>>>=8;return m},E=function(d,u,c,m,g,y){var b,S,A=d.file,P=d.compression,H=y!==M.utf8encode,X=k.transformTo("string",y(A.name)),J=k.transformTo("string",M.utf8encode(A.name)),j=A.comment,$=k.transformTo("string",y(j)),L=k.transformTo("string",M.utf8encode(j)),B=J.length!==A.name.length,ee=L.length!==j.length,N="",V="",U="",Q=A.dir,Z=A.date,K={crc32:0,compressedSize:0,uncompressedSize:0};u&&!c||(K.crc32=d.crc32,K.compressedSize=d.compressedSize,K.uncompressedSize=d.uncompressedSize);var ne=0;u&&(ne|=8),H||!B&&!ee||(ne|=2048);var ue,de,pe=0,_e=0;Q&&(pe|=16),"UNIX"===g?(_e=798,pe|=(de=ue=A.unixPermissions,ue||(de=Q?16893:33204),(65535&de)<<16)):(_e=20,pe|=63&(A.dosPermissions||0)),b=Z.getUTCHours(),b<<=6,b|=Z.getUTCMinutes(),b<<=5,b|=Z.getUTCSeconds()/2,S=Z.getUTCFullYear()-1980,S<<=4,S|=Z.getUTCMonth()+1,S<<=5,S|=Z.getUTCDate(),B&&(V=w(1,1)+w(x(X),4)+J,N+="up"+w(V.length,2)+V),ee&&(U=w(1,1)+w(x($),4)+L,N+="uc"+w(U.length,2)+U);var me="";return me+="\n\0",me+=w(ne,2),me+=P.magic,me+=w(b,2),me+=w(S,2),me+=w(K.crc32,4),me+=w(K.compressedSize,4),me+=w(K.uncompressedSize,4),me+=w(X.length,2),me+=w(N.length,2),{fileRecord:O.LOCAL_FILE_HEADER+me+X+N,dirRecord:O.CENTRAL_FILE_HEADER+w(_e,2)+me+w($.length,2)+"\0\0\0\0"+w(pe,4)+w(m,4)+X+N+$}},C=function(d){return O.DATA_DESCRIPTOR+w(d.crc32,4)+w(d.compressedSize,4)+w(d.uncompressedSize,4)};function f(d,u,c,m){R.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=u,this.zipPlatform=c,this.encodeFileName=m,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}k.inherits(f,R),f.prototype.push=function(d){var u=d.meta.percent||0,c=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,R.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:c?(u+100*(c-m-1))/c:100}}))},f.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var u=this.streamFiles&&!d.file.dir;if(u){var c=E(d,u,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(d){this.accumulate=!1;var u=this.streamFiles&&!d.file.dir,c=E(d,u,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),u)this.push({data:C(d),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var d=this.bytesWritten,u=0;u<this.dirRecords.length;u++)this.push({data:this.dirRecords[u],meta:{percent:100}});var g,y,b,P,m=(g=this.dirRecords.length,y=this.bytesWritten-d,b=d,P=k.transformTo("string",(0,this.encodeFileName)(this.zipComment)),O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+w(g,2)+w(g,2)+w(y,4)+w(b,4)+w(P.length,2)+P);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(d){this._sources.push(d);var u=this;return d.on("data",function(c){u.processChunk(c)}),d.on("end",function(){u.closedSource(u.previous.streamInfo),u._sources.length?u.prepareNextSource():u.end()}),d.on("error",function(c){u.error(c)}),this},f.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(d){var u=this._sources;if(!R.prototype.error.call(this,d))return!1;for(var c=0;c<u.length;c++)try{u[c].error(d)}catch{}return!0},f.prototype.lock=function(){R.prototype.lock.call(this);for(var d=this._sources,u=0;u<d.length;u++)d[u].lock()},te.exports=f},{"../crc32":393,"../signature":412,"../stream/GenericWorker":417,"../utf8":420,"../utils":421}],398:[function(T,te,W){"use strict";var k=T("../compressions"),R=T("./ZipFileWorker");W.generateWorker=function(M,x,O){var w=new R(x.streamFiles,O,x.platform,x.encodeFileName),E=0;try{M.forEach(function(C,f){E++;var d=function(g,y){var b=g||y,S=k[b];if(!S)throw new Error(b+" is not a valid compression method !");return S}(f.options.compression,x.compression),c=f.dir,m=f.date;f._compressWorker(d,f.options.compressionOptions||x.compressionOptions||{}).withStreamInfo("file",{name:C,dir:c,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(w)}),w.entriesCount=E}catch(C){w.error(C)}return w}},{"../compressions":392,"./ZipFileWorker":397}],399:[function(T,te,W){"use strict";function k(){if(!(this instanceof k))return new k;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var R=new k;for(var M in this)"function"!=typeof this[M]&&(R[M]=this[M]);return R}}(k.prototype=T("./object")).loadAsync=T("./load"),k.support=T("./support"),k.defaults=T("./defaults"),k.version="3.5.0",k.loadAsync=function(R,M){return(new k).loadAsync(R,M)},k.external=T("./external"),te.exports=k},{"./defaults":394,"./external":395,"./load":400,"./object":404,"./support":419}],400:[function(T,te,W){"use strict";var k=T("./utils"),R=T("./external"),M=T("./utf8"),x=(k=T("./utils"),T("./zipEntries")),O=T("./stream/Crc32Probe"),w=T("./nodejsUtils");function E(C){return new R.Promise(function(f,d){var u=C.decompressed.getContentWorker().pipe(new O);u.on("error",function(c){d(c)}).on("end",function(){u.streamInfo.crc32!==C.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}te.exports=function(C,f){var d=this;return f=k.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:M.utf8decode}),w.isNode&&w.isStream(C)?R.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):k.prepareContent("the loaded zip file",C,!0,f.optimizedBinaryString,f.base64).then(function(u){var c=new x(f);return c.load(u),c}).then(function(u){var c=[R.Promise.resolve(u)],m=u.files;if(f.checkCRC32)for(var g=0;g<m.length;g++)c.push(E(m[g]));return R.Promise.all(c)}).then(function(u){for(var c=u.shift(),m=c.files,g=0;g<m.length;g++){var y=m[g];d.file(y.fileNameStr,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders})}return c.zipComment.length&&(d.comment=c.zipComment),d})}},{"./external":395,"./nodejsUtils":403,"./stream/Crc32Probe":414,"./utf8":420,"./utils":421,"./zipEntries":422}],401:[function(T,te,W){"use strict";var k=T("../utils"),R=T("../stream/GenericWorker");function M(x,O){R.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(O)}k.inherits(M,R),M.prototype._bindStream=function(x){var O=this;this._stream=x,x.pause(),x.on("data",function(w){O.push({data:w,meta:{percent:0}})}).on("error",function(w){O.isPaused?this.generatedError=w:O.error(w)}).on("end",function(){O.isPaused?O._upstreamEnded=!0:O.end()})},M.prototype.pause=function(){return!!R.prototype.pause.call(this)&&(this._stream.pause(),!0)},M.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},te.exports=M},{"../stream/GenericWorker":417,"../utils":421}],402:[function(T,te,W){"use strict";var k=T("readable-stream").Readable;function R(M,x,O){k.call(this,x),this._helper=M;var w=this;M.on("data",function(E,C){w.push(E)||w._helper.pause(),O&&O(C)}).on("error",function(E){w.emit("error",E)}).on("end",function(){w.push(null)})}T("../utils").inherits(R,k),R.prototype._read=function(){this._helper.resume()},te.exports=R},{"../utils":421,"readable-stream":405}],403:[function(T,te,W){(function(k){"use strict";te.exports={isNode:void 0!==k,newBufferFrom:function(R,M){if(k.from&&k.from!==Uint8Array.from)return k.from(R,M);if("number"==typeof R)throw new Error('The "data" argument must not be a number');return new k(R,M)},allocBuffer:function(R){if(k.alloc)return k.alloc(R);var M=new k(R);return M.fill(0),M},isBuffer:function(R){return k.isBuffer(R)},isStream:function(R){return R&&"function"==typeof R.on&&"function"==typeof R.pause&&"function"==typeof R.resume}}}).call(this,T("buffer").Buffer)},{buffer:216}],404:[function(T,te,W){"use strict";var k=T("./utf8"),R=T("./utils"),M=T("./stream/GenericWorker"),x=T("./stream/StreamHelper"),O=T("./defaults"),w=T("./compressedObject"),E=T("./zipObject"),C=T("./generate"),f=T("./nodejsUtils"),d=T("./nodejs/NodejsStreamInputAdapter"),u=function(S,A,P){var H,X=R.getTypeOf(A),J=R.extend(P||{},O);J.date=J.date||new Date,null!==J.compression&&(J.compression=J.compression.toUpperCase()),"string"==typeof J.unixPermissions&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(S=m(S)),J.createFolders&&(H=c(S))&&g.call(this,H,!0),P&&void 0!==P.binary||(J.binary=!("string"===X&&!1===J.binary&&!1===J.base64)),(A instanceof w&&0===A.uncompressedSize||J.dir||!A||0===A.length)&&(J.base64=!1,J.binary=!0,A="",J.compression="STORE",X="string");var $;$=A instanceof w||A instanceof M?A:f.isNode&&f.isStream(A)?new d(S,A):R.prepareContent(S,A,J.binary,J.optimizedBinaryString,J.base64);var L=new E(S,$,J);this.files[S]=L},c=function(S){"/"===S.slice(-1)&&(S=S.substring(0,S.length-1));var A=S.lastIndexOf("/");return A>0?S.substring(0,A):""},m=function(S){return"/"!==S.slice(-1)&&(S+="/"),S},g=function(S,A){return A=void 0!==A?A:O.createFolders,S=m(S),this.files[S]||u.call(this,S,null,{dir:!0,createFolders:A}),this.files[S]};function y(S){return"[object RegExp]"===Object.prototype.toString.call(S)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var A,P,H;for(A in this.files)this.files.hasOwnProperty(A)&&(H=this.files[A],(P=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&S(P,H))},filter:function(S){var A=[];return this.forEach(function(P,H){S(P,H)&&A.push(H)}),A},file:function(S,A,P){if(1===arguments.length){if(y(S)){var H=S;return this.filter(function(J,j){return!j.dir&&H.test(J)})}var X=this.files[this.root+S];return X&&!X.dir?X:null}return u.call(this,S=this.root+S,A,P),this},folder:function(S){if(!S)return this;if(y(S))return this.filter(function(X,J){return J.dir&&S.test(X)});var P=g.call(this,this.root+S),H=this.clone();return H.root=P.name,H},remove:function(S){var A=this.files[S=this.root+S];if(A||("/"!==S.slice(-1)&&(S+="/"),A=this.files[S]),A&&!A.dir)delete this.files[S];else for(var P=this.filter(function(X,J){return J.name.slice(0,S.length)===S}),H=0;H<P.length;H++)delete this.files[P[H].name];return this},generate:function(S){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var A,P={};try{if((P=R.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:k.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),"binarystring"===P.type&&(P.type="string"),!P.type)throw new Error("No output type specified.");R.checkSupport(P.type),"darwin"!==P.platform&&"freebsd"!==P.platform&&"linux"!==P.platform&&"sunos"!==P.platform||(P.platform="UNIX"),"win32"===P.platform&&(P.platform="DOS"),A=C.generateWorker(this,P,P.comment||this.comment||"")}catch(X){(A=new M("error")).error(X)}return new x(A,P.type||"string",P.mimeType)},generateAsync:function(S,A){return this.generateInternalStream(S).accumulate(A)},generateNodeStream:function(S,A){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(A)}};te.exports=b},{"./compressedObject":391,"./defaults":394,"./generate":398,"./nodejs/NodejsStreamInputAdapter":401,"./nodejsUtils":403,"./stream/GenericWorker":417,"./stream/StreamHelper":418,"./utf8":420,"./utils":421,"./zipObject":424}],405:[function(T,te,W){"use strict";te.exports=T("stream")},{stream:506}],406:[function(T,te,W){"use strict";var k=T("./DataReader");function R(M){k.call(this,M);for(var x=0;x<this.data.length;x++)M[x]=255&M[x]}T("../utils").inherits(R,k),R.prototype.byteAt=function(M){return this.data[this.zero+M]},R.prototype.lastIndexOfSignature=function(M){for(var x=M.charCodeAt(0),O=M.charCodeAt(1),w=M.charCodeAt(2),E=M.charCodeAt(3),C=this.length-4;C>=0;--C)if(this.data[C]===x&&this.data[C+1]===O&&this.data[C+2]===w&&this.data[C+3]===E)return C-this.zero;return-1},R.prototype.readAndCheckSignature=function(M){var x=M.charCodeAt(0),O=M.charCodeAt(1),w=M.charCodeAt(2),E=M.charCodeAt(3),C=this.readData(4);return x===C[0]&&O===C[1]&&w===C[2]&&E===C[3]},R.prototype.readData=function(M){if(this.checkOffset(M),0===M)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+M);return this.index+=M,x},te.exports=R},{"../utils":421,"./DataReader":407}],407:[function(T,te,W){"use strict";var k=T("../utils");function R(M){this.data=M,this.length=M.length,this.index=0,this.zero=0}R.prototype={checkOffset:function(M){this.checkIndex(this.index+M)},checkIndex:function(M){if(this.length<this.zero+M||M<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+M+"). Corrupted zip ?")},setIndex:function(M){this.checkIndex(M),this.index=M},skip:function(M){this.setIndex(this.index+M)},byteAt:function(M){},readInt:function(M){var x,O=0;for(this.checkOffset(M),x=this.index+M-1;x>=this.index;x--)O=(O<<8)+this.byteAt(x);return this.index+=M,O},readString:function(M){return k.transformTo("string",this.readData(M))},readData:function(M){},lastIndexOfSignature:function(M){},readAndCheckSignature:function(M){},readDate:function(){var M=this.readInt(4);return new Date(Date.UTC(1980+(M>>25&127),(M>>21&15)-1,M>>16&31,M>>11&31,M>>5&63,(31&M)<<1))}},te.exports=R},{"../utils":421}],408:[function(T,te,W){"use strict";var k=T("./Uint8ArrayReader");function R(M){k.call(this,M)}T("../utils").inherits(R,k),R.prototype.readData=function(M){this.checkOffset(M);var x=this.data.slice(this.zero+this.index,this.zero+this.index+M);return this.index+=M,x},te.exports=R},{"../utils":421,"./Uint8ArrayReader":410}],409:[function(T,te,W){"use strict";var k=T("./DataReader");function R(M){k.call(this,M)}T("../utils").inherits(R,k),R.prototype.byteAt=function(M){return this.data.charCodeAt(this.zero+M)},R.prototype.lastIndexOfSignature=function(M){return this.data.lastIndexOf(M)-this.zero},R.prototype.readAndCheckSignature=function(M){return M===this.readData(4)},R.prototype.readData=function(M){this.checkOffset(M);var x=this.data.slice(this.zero+this.index,this.zero+this.index+M);return this.index+=M,x},te.exports=R},{"../utils":421,"./DataReader":407}],410:[function(T,te,W){"use strict";var k=T("./ArrayReader");function R(M){k.call(this,M)}T("../utils").inherits(R,k),R.prototype.readData=function(M){if(this.checkOffset(M),0===M)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+M);return this.index+=M,x},te.exports=R},{"../utils":421,"./ArrayReader":406}],411:[function(T,te,W){"use strict";var k=T("../utils"),R=T("../support"),M=T("./ArrayReader"),x=T("./StringReader"),O=T("./NodeBufferReader"),w=T("./Uint8ArrayReader");te.exports=function(E){var C=k.getTypeOf(E);return k.checkSupport(C),"string"!==C||R.uint8array?"nodebuffer"===C?new O(E):R.uint8array?new w(k.transformTo("uint8array",E)):new M(k.transformTo("array",E)):new x(E)}},{"../support":419,"../utils":421,"./ArrayReader":406,"./NodeBufferReader":408,"./StringReader":409,"./Uint8ArrayReader":410}],412:[function(T,te,W){"use strict";W.LOCAL_FILE_HEADER="PK\x03\x04",W.CENTRAL_FILE_HEADER="PK\x01\x02",W.CENTRAL_DIRECTORY_END="PK\x05\x06",W.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",W.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",W.DATA_DESCRIPTOR="PK\x07\b"},{}],413:[function(T,te,W){"use strict";var k=T("./GenericWorker"),R=T("../utils");function M(x){k.call(this,"ConvertWorker to "+x),this.destType=x}R.inherits(M,k),M.prototype.processChunk=function(x){this.push({data:R.transformTo(this.destType,x.data),meta:x.meta})},te.exports=M},{"../utils":421,"./GenericWorker":417}],414:[function(T,te,W){"use strict";var k=T("./GenericWorker"),R=T("../crc32");function M(){k.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}T("../utils").inherits(M,k),M.prototype.processChunk=function(x){this.streamInfo.crc32=R(x.data,this.streamInfo.crc32||0),this.push(x)},te.exports=M},{"../crc32":393,"../utils":421,"./GenericWorker":417}],415:[function(T,te,W){"use strict";var k=T("../utils"),R=T("./GenericWorker");function M(x){R.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}k.inherits(M,R),M.prototype.processChunk=function(x){x&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+x.data.length),R.prototype.processChunk.call(this,x)},te.exports=M},{"../utils":421,"./GenericWorker":417}],416:[function(T,te,W){"use strict";var k=T("../utils"),R=T("./GenericWorker");function M(x){R.call(this,"DataWorker");var O=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(w){O.dataIsReady=!0,O.data=w,O.max=w&&w.length||0,O.type=k.getTypeOf(w),O.isPaused||O._tickAndRepeat()},function(w){O.error(w)})}k.inherits(M,R),M.prototype.cleanUp=function(){R.prototype.cleanUp.call(this),this.data=null},M.prototype.resume=function(){return!!R.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,k.delay(this._tickAndRepeat,[],this)),!0)},M.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(k.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},M.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,O=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,O);break;case"uint8array":x=this.data.subarray(this.index,O);break;case"array":case"nodebuffer":x=this.data.slice(this.index,O)}return this.index=O,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},te.exports=M},{"../utils":421,"./GenericWorker":417}],417:[function(T,te,W){"use strict";function k(R){this.name=R||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}k.prototype={push:function(R){this.emit("data",R)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(R){this.emit("error",R)}return!0},error:function(R){return!this.isFinished&&(this.isPaused?this.generatedError=R:(this.isFinished=!0,this.emit("error",R),this.previous&&this.previous.error(R),this.cleanUp()),!0)},on:function(R,M){return this._listeners[R].push(M),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(R,M){if(this._listeners[R])for(var x=0;x<this._listeners[R].length;x++)this._listeners[R][x].call(this,M)},pipe:function(R){return R.registerPrevious(this)},registerPrevious:function(R){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=R.streamInfo,this.mergeStreamInfo(),this.previous=R;var M=this;return R.on("data",function(x){M.processChunk(x)}),R.on("end",function(){M.end()}),R.on("error",function(x){M.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var R=!1;return this.generatedError&&(this.error(this.generatedError),R=!0),this.previous&&this.previous.resume(),!R},flush:function(){},processChunk:function(R){this.push(R)},withStreamInfo:function(R,M){return this.extraStreamInfo[R]=M,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var R in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(R)&&(this.streamInfo[R]=this.extraStreamInfo[R])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var R="Worker "+this.name;return this.previous?this.previous+" -> "+R:R}},te.exports=k},{}],418:[function(T,te,W){(function(k){"use strict";var R=T("../utils"),M=T("./ConvertWorker"),x=T("./GenericWorker"),O=T("../base64"),w=T("../support"),E=T("../external"),C=null;if(w.nodestream)try{C=T("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(u,c,m){var g=c;switch(c){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=c,this._mimeType=m,R.checkSupport(g),this._worker=u.pipe(new M(g)),u.lock()}catch(y){this._worker=new x("error"),this._worker.error(y)}}d.prototype={accumulate:function(u){return function f(u,c){return new E.Promise(function(m,g){var y=[],b=u._internalType,S=u._outputType,A=u._mimeType;u.on("data",function(P,H){y.push(P),c&&c(H)}).on("error",function(P){y=[],g(P)}).on("end",function(){try{var P=function(H,X,J){switch(H){case"blob":return R.newBlob(R.transformTo("arraybuffer",X),J);case"base64":return O.encode(X);default:return R.transformTo(H,X)}}(S,function(H,X){var J,j=0,$=null,L=0;for(J=0;J<X.length;J++)L+=X[J].length;switch(H){case"string":return X.join("");case"array":return Array.prototype.concat.apply([],X);case"uint8array":for($=new Uint8Array(L),J=0;J<X.length;J++)$.set(X[J],j),j+=X[J].length;return $;case"nodebuffer":return k.concat(X);default:throw new Error("concat : unsupported type '"+H+"'")}}(b,y),A);m(P)}catch(H){g(H)}y=[]}).resume()})}(this,u)},on:function(u,c){var m=this;return this._worker.on(u,"data"===u?function(g){c.call(m,g.data,g.meta)}:function(){R.delay(c,arguments,m)}),this},resume:function(){return R.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(u){if(R.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:"nodebuffer"!==this._outputType},u)}},te.exports=d}).call(this,T("buffer").Buffer)},{"../base64":390,"../external":395,"../nodejs/NodejsStreamOutputAdapter":402,"../support":419,"../utils":421,"./ConvertWorker":413,"./GenericWorker":417,buffer:216}],419:[function(T,te,W){(function(k){"use strict";if(W.base64=!0,W.array=!0,W.string=!0,W.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",W.nodebuffer=void 0!==k,W.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")W.blob=!1;else{var R=new ArrayBuffer(0);try{W.blob=0===new Blob([R],{type:"application/zip"}).size}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);M.append(R),W.blob=0===M.getBlob("application/zip").size}catch{W.blob=!1}}}try{W.nodestream=!!T("readable-stream").Readable}catch{W.nodestream=!1}}).call(this,T("buffer").Buffer)},{buffer:216,"readable-stream":405}],420:[function(T,te,W){"use strict";for(var k=T("./utils"),R=T("./support"),M=T("./nodejsUtils"),x=T("./stream/GenericWorker"),O=new Array(256),w=0;w<256;w++)O[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;function E(){x.call(this,"utf-8 decode"),this.leftOver=null}function C(){x.call(this,"utf-8 encode")}O[254]=O[254]=1,W.utf8encode=function(f){return R.nodebuffer?M.newBufferFrom(f,"utf-8"):function(d){var u,c,m,g,y,b=d.length,S=0;for(g=0;g<b;g++)55296==(64512&(c=d.charCodeAt(g)))&&g+1<b&&56320==(64512&(m=d.charCodeAt(g+1)))&&(c=65536+(c-55296<<10)+(m-56320),g++),S+=c<128?1:c<2048?2:c<65536?3:4;for(u=R.uint8array?new Uint8Array(S):new Array(S),y=0,g=0;y<S;g++)55296==(64512&(c=d.charCodeAt(g)))&&g+1<b&&56320==(64512&(m=d.charCodeAt(g+1)))&&(c=65536+(c-55296<<10)+(m-56320),g++),c<128?u[y++]=c:c<2048?(u[y++]=192|c>>>6,u[y++]=128|63&c):c<65536?(u[y++]=224|c>>>12,u[y++]=128|c>>>6&63,u[y++]=128|63&c):(u[y++]=240|c>>>18,u[y++]=128|c>>>12&63,u[y++]=128|c>>>6&63,u[y++]=128|63&c);return u}(f)},W.utf8decode=function(f){return R.nodebuffer?k.transformTo("nodebuffer",f).toString("utf-8"):function(d){var u,c,m,g,y=d.length,b=new Array(2*y);for(c=0,u=0;u<y;)if((m=d[u++])<128)b[c++]=m;else if((g=O[m])>4)b[c++]=65533,u+=g-1;else{for(m&=2===g?31:3===g?15:7;g>1&&u<y;)m=m<<6|63&d[u++],g--;g>1?b[c++]=65533:m<65536?b[c++]=m:(b[c++]=55296|(m-=65536)>>10&1023,b[c++]=56320|1023&m)}return b.length!==c&&(b.subarray?b=b.subarray(0,c):b.length=c),k.applyFromCharCode(b)}(f=k.transformTo(R.uint8array?"uint8array":"array",f))},k.inherits(E,x),E.prototype.processChunk=function(f){var d=k.transformTo(R.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(R.uint8array){var u=d;(d=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),d.set(u,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var c=function(g,y){var b;for((y=y||g.length)>g.length&&(y=g.length),b=y-1;b>=0&&128==(192&g[b]);)b--;return b<0||0===b?y:b+O[g[b]]>y?b:y}(d),m=d;c!==d.length&&(R.uint8array?(m=d.subarray(0,c),this.leftOver=d.subarray(c,d.length)):(m=d.slice(0,c),this.leftOver=d.slice(c,d.length))),this.push({data:W.utf8decode(m),meta:f.meta})},E.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:W.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},W.Utf8DecodeWorker=E,k.inherits(C,x),C.prototype.processChunk=function(f){this.push({data:W.utf8encode(f.data),meta:f.meta})},W.Utf8EncodeWorker=C},{"./nodejsUtils":403,"./stream/GenericWorker":417,"./support":419,"./utils":421}],421:[function(T,te,W){"use strict";var k=T("./support"),R=T("./base64"),M=T("./nodejsUtils"),x=T("set-immediate-shim"),O=T("./external");function w(c){return c}function E(c,m){for(var g=0;g<c.length;++g)m[g]=255&c.charCodeAt(g);return m}W.newBlob=function(c,m){W.checkSupport("blob");try{return new Blob([c],{type:m})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(c),g.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(c,m,g){var y=[],b=0,S=c.length;if(S<=g)return String.fromCharCode.apply(null,c);for(;b<S;)y.push(String.fromCharCode.apply(null,"array"===m||"nodebuffer"===m?c.slice(b,Math.min(b+g,S)):c.subarray(b,Math.min(b+g,S)))),b+=g;return y.join("")},stringifyByChar:function(c){for(var m="",g=0;g<c.length;g++)m+=String.fromCharCode(c[g]);return m},applyCanBeUsed:{uint8array:function(){try{return k.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return k.nodebuffer&&1===String.fromCharCode.apply(null,M.allocBuffer(1)).length}catch{return!1}}()}};function f(c){var m=65536,g=W.getTypeOf(c),y=!0;if("uint8array"===g?y=C.applyCanBeUsed.uint8array:"nodebuffer"===g&&(y=C.applyCanBeUsed.nodebuffer),y)for(;m>1;)try{return C.stringifyByChunk(c,g,m)}catch{m=Math.floor(m/2)}return C.stringifyByChar(c)}function d(c,m){for(var g=0;g<c.length;g++)m[g]=c[g];return m}W.applyFromCharCode=f;var u={};u.string={string:w,array:function(c){return E(c,new Array(c.length))},arraybuffer:function(c){return u.string.uint8array(c).buffer},uint8array:function(c){return E(c,new Uint8Array(c.length))},nodebuffer:function(c){return E(c,M.allocBuffer(c.length))}},u.array={string:f,array:w,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return M.newBufferFrom(c)}},u.arraybuffer={string:function(c){return f(new Uint8Array(c))},array:function(c){return d(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:w,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return M.newBufferFrom(new Uint8Array(c))}},u.uint8array={string:f,array:function(c){return d(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:w,nodebuffer:function(c){return M.newBufferFrom(c)}},u.nodebuffer={string:f,array:function(c){return d(c,new Array(c.length))},arraybuffer:function(c){return u.nodebuffer.uint8array(c).buffer},uint8array:function(c){return d(c,new Uint8Array(c.length))},nodebuffer:w},W.transformTo=function(c,m){if(m||(m=""),!c)return m;W.checkSupport(c);var g=W.getTypeOf(m);return u[g][c](m)},W.getTypeOf=function(c){return"string"==typeof c?"string":"[object Array]"===Object.prototype.toString.call(c)?"array":k.nodebuffer&&M.isBuffer(c)?"nodebuffer":k.uint8array&&c instanceof Uint8Array?"uint8array":k.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},W.checkSupport=function(c){if(!k[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},W.MAX_VALUE_16BITS=65535,W.MAX_VALUE_32BITS=-1,W.pretty=function(c){var m,g,y="";for(g=0;g<(c||"").length;g++)y+="\\x"+((m=c.charCodeAt(g))<16?"0":"")+m.toString(16).toUpperCase();return y},W.delay=function(c,m,g){x(function(){c.apply(g||null,m||[])})},W.inherits=function(c,m){var g=function(){};g.prototype=m.prototype,c.prototype=new g},W.extend=function(){var c,m,g={};for(c=0;c<arguments.length;c++)for(m in arguments[c])arguments[c].hasOwnProperty(m)&&void 0===g[m]&&(g[m]=arguments[c][m]);return g},W.prepareContent=function(c,m,g,y,b){return O.Promise.resolve(m).then(function(S){return k.blob&&(S instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S)))&&typeof FileReader<"u"?new O.Promise(function(A,P){var H=new FileReader;H.onload=function(X){A(X.target.result)},H.onerror=function(X){P(X.target.error)},H.readAsArrayBuffer(S)}):S}).then(function(S){var A,P=W.getTypeOf(S);return P?("arraybuffer"===P?S=W.transformTo("uint8array",S):"string"===P&&(b?S=R.decode(S):g&&!0!==y&&(S=E(A=S,k.uint8array?new Uint8Array(A.length):new Array(A.length)))),S):O.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":390,"./external":395,"./nodejsUtils":403,"./support":419,"set-immediate-shim":497}],422:[function(T,te,W){"use strict";var k=T("./reader/readerFor"),R=T("./utils"),M=T("./signature"),x=T("./zipEntry"),O=(T("./utf8"),T("./support"));function w(E){this.files=[],this.loadOptions=E}w.prototype={checkSignature:function(E){if(!this.reader.readAndCheckSignature(E)){this.reader.index-=4;var C=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+R.pretty(C)+", expected "+R.pretty(E)+")")}},isSignature:function(E,C){var f=this.reader.index;this.reader.setIndex(E);var d=this.reader.readString(4)===C;return this.reader.setIndex(f),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var E=this.reader.readData(this.zipCommentLength),f=R.transformTo(O.uint8array?"uint8array":"array",E);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var E,C,f,d=this.zip64EndOfCentralSize-44;0<d;)E=this.reader.readInt(2),C=this.reader.readInt(4),f=this.reader.readData(C),this.zip64ExtensibleData[E]={id:E,length:C,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var E,C;for(E=0;E<this.files.length;E++)this.reader.setIndex((C=this.files[E]).localHeaderOffset),this.checkSignature(M.LOCAL_FILE_HEADER),C.readLocalPart(this.reader),C.handleUTF8(),C.processAttributes()},readCentralDir:function(){var E;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(M.CENTRAL_FILE_HEADER);)(E=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(E);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var E=this.reader.lastIndexOfSignature(M.CENTRAL_DIRECTORY_END);if(E<0)throw this.isSignature(0,M.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(E);var C=E;if(this.checkSignature(M.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===R.MAX_VALUE_16BITS||this.diskWithCentralDirStart===R.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===R.MAX_VALUE_16BITS||this.centralDirRecords===R.MAX_VALUE_16BITS||this.centralDirSize===R.MAX_VALUE_32BITS||this.centralDirOffset===R.MAX_VALUE_32BITS){if(this.zip64=!0,(E=this.reader.lastIndexOfSignature(M.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(E),this.checkSignature(M.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,M.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(M.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(M.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var d=C-f;if(d>0)this.isSignature(C,M.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(E){this.reader=k(E)},load:function(E){this.prepareReader(E),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},te.exports=w},{"./reader/readerFor":411,"./signature":412,"./support":419,"./utf8":420,"./utils":421,"./zipEntry":423}],423:[function(T,te,W){"use strict";var k=T("./reader/readerFor"),R=T("./utils"),M=T("./compressedObject"),x=T("./crc32"),O=T("./utf8"),w=T("./compressions"),E=T("./support");function C(f,d){this.options=f,this.loadOptions=d}C.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(f){var d,u;if(f.skip(22),this.fileNameLength=f.readInt(2),u=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(u),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(d=function(c){for(var m in w)if(w.hasOwnProperty(m)&&w[m].magic===c)return w[m];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+R.pretty(this.compressionMethod)+" unknown (inner file : "+R.transformTo("string",this.fileName)+")");this.decompressed=new M(this.compressedSize,this.uncompressedSize,this.crc32,d,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var d=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(d),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===f&&(this.dosPermissions=63&this.externalFileAttributes),3===f&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(f){if(this.extraFields[1]){var d=k(this.extraFields[1].value);this.uncompressedSize===R.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===R.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===R.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===R.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(f){var d,u,c,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)d=f.readInt(2),u=f.readInt(2),c=f.readData(u),this.extraFields[d]={id:d,length:u,value:c};f.setIndex(m)},handleUTF8:function(){var f=E.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=O.utf8decode(this.fileName),this.fileCommentStr=O.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(null!==d)this.fileNameStr=d;else{var u=R.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var c=this.findExtraFieldUnicodeComment();if(null!==c)this.fileCommentStr=c;else{var m=R.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var d=k(f.value);return 1!==d.readInt(1)||x(this.fileName)!==d.readInt(4)?null:O.utf8decode(d.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var d=k(f.value);return 1!==d.readInt(1)||x(this.fileComment)!==d.readInt(4)?null:O.utf8decode(d.readData(f.length-5))}return null}},te.exports=C},{"./compressedObject":391,"./compressions":392,"./crc32":393,"./reader/readerFor":411,"./support":419,"./utf8":420,"./utils":421}],424:[function(T,te,W){"use strict";var k=T("./stream/StreamHelper"),R=T("./stream/DataWorker"),M=T("./utf8"),x=T("./compressedObject"),O=T("./stream/GenericWorker"),w=function(d,u,c){this.name=d,this.dir=c.dir,this.date=c.date,this.comment=c.comment,this.unixPermissions=c.unixPermissions,this.dosPermissions=c.dosPermissions,this._data=u,this._dataBinary=c.binary,this.options={compression:c.compression,compressionOptions:c.compressionOptions}};w.prototype={internalStream:function(d){var u=null,c="string";try{if(!d)throw new Error("No output type specified.");var m="string"===(c=d.toLowerCase())||"text"===c;"binarystring"!==c&&"text"!==c||(c="string"),u=this._decompressWorker();var g=!this._dataBinary;g&&!m&&(u=u.pipe(new M.Utf8EncodeWorker)),!g&&m&&(u=u.pipe(new M.Utf8DecodeWorker))}catch(y){(u=new O("error")).error(y)}return new k(u,c,"")},async:function(d,u){return this.internalStream(d).accumulate(u)},nodeStream:function(d,u){return this.internalStream(d||"nodebuffer").toNodejsStream(u)},_compressWorker:function(d,u){if(this._data instanceof x&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new M.Utf8EncodeWorker)),x.createWorkerFrom(c,d,u)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof O?this._data:new R(this._data)}};for(var E=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],C=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<E.length;f++)w.prototype[E[f]]=C;te.exports=w},{"./compressedObject":391,"./stream/DataWorker":416,"./stream/GenericWorker":417,"./stream/StreamHelper":418,"./utf8":420}],425:[function(T,te,W){"use strict";function k(g){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}var R=T("immediate");function M(){}var x={},O=["REJECTED"],w=["FULFILLED"],E=["PENDING"];function C(g){if("function"!=typeof g)throw new TypeError("resolver must be a function");this.state=E,this.queue=[],this.outcome=void 0,g!==M&&c(this,g)}function f(g,y,b){this.promise=g,"function"==typeof y&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),"function"==typeof b&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function d(g,y,b){R(function(){var S;try{S=y(b)}catch(A){return x.reject(g,A)}S===g?x.reject(g,new TypeError("Cannot resolve promise with itself")):x.resolve(g,S)})}function u(g){var y=g&&g.then;if(g&&("object"===k(g)||"function"==typeof g)&&"function"==typeof y)return function(){y.apply(g,arguments)}}function c(g,y){var b=!1;function S(H){b||(b=!0,x.reject(g,H))}function A(H){b||(b=!0,x.resolve(g,H))}var P=m(function(){y(A,S)});"error"===P.status&&S(P.value)}function m(g,y){var b={};try{b.value=g(y),b.status="success"}catch(S){b.status="error",b.value=S}return b}te.exports=C,C.prototype.finally=function(g){if("function"!=typeof g)return this;var y=this.constructor;return this.then(function(b){return y.resolve(g()).then(function(){return b})},function(b){return y.resolve(g()).then(function(){throw b})})},C.prototype.catch=function(g){return this.then(null,g)},C.prototype.then=function(g,y){if("function"!=typeof g&&this.state===w||"function"!=typeof y&&this.state===O)return this;var b=new this.constructor(M);return this.state!==E?d(b,this.state===w?g:y,this.outcome):this.queue.push(new f(b,g,y)),b},f.prototype.callFulfilled=function(g){x.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){d(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){x.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){d(this.promise,this.onRejected,g)},x.resolve=function(g,y){var b=m(u,y);if("error"===b.status)return x.reject(g,b.value);var S=b.value;if(S)c(g,S);else{g.state=w,g.outcome=y;for(var A=-1,P=g.queue.length;++A<P;)g.queue[A].callFulfilled(y)}return g},x.reject=function(g,y){g.state=O,g.outcome=y;for(var b=-1,S=g.queue.length;++b<S;)g.queue[b].callRejected(y);return g},C.resolve=function(g){return g instanceof this?g:x.resolve(new this(M),g)},C.reject=function(g){var y=new this(M);return x.reject(y,g)},C.all=function(g){var y=this;if("[object Array]"!==Object.prototype.toString.call(g))return this.reject(new TypeError("must be an array"));var b=g.length,S=!1;if(!b)return this.resolve([]);for(var A=new Array(b),P=0,H=-1,X=new this(M);++H<b;)J(g[H],H);return X;function J(j,$){y.resolve(j).then(function(L){A[$]=L,++P!==b||S||(S=!0,x.resolve(X,A))},function(L){S||(S=!0,x.reject(X,L))})}},C.race=function(g){if("[object Array]"!==Object.prototype.toString.call(g))return this.reject(new TypeError("must be an array"));var b=g.length,S=!1;if(!b)return this.resolve([]);for(var A=-1,P=new this(M);++A<b;)this.resolve(g[A]).then(function(X){S||(S=!0,x.resolve(P,X))},function(X){S||(S=!0,x.reject(P,X))});return P}},{immediate:386}],426:[function(T,te,W){(function(k){"use strict";function R(m){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}var M=/[\\^$.*+?()[\]{}|]/g,x=RegExp(M.source),O="object"==(void 0===k?"undefined":R(k))&&k&&k.Object===Object&&k,w="object"==(typeof self>"u"?"undefined":R(self))&&self&&self.Object===Object&&self,E=O||w||Function("return this")(),C=Object.prototype.toString,f=E.Symbol,d=f?f.prototype:void 0,u=d?d.toString:void 0;te.exports=function(m){var g;return(m=null==(g=m)?"":function c(m){if("string"==typeof m)return m;if("symbol"==R(y=m)||(b=y)&&"object"==R(b)&&"[object Symbol]"==C.call(y))return u?u.call(m):"";var y,b,g=m+"";return"0"==g&&1/m==-1/0?"-0":g}(g))&&x.test(m)?m.replace(M,"\\$&"):m}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],427:[function(T,te,W){(function(k){"use strict";function R(Re){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Je){return typeof Je}:function(Je){return Je&&"function"==typeof Symbol&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je})(Re)}var M="[object Arguments]",x="[object Map]",O="[object Object]",w="[object Set]",E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,c=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[M]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[x]=g["[object Number]"]=g[O]=g["[object RegExp]"]=g[w]=g["[object String]"]=g["[object WeakMap]"]=!1;var y="object"==(void 0===k?"undefined":R(k))&&k&&k.Object===Object&&k,b="object"==(typeof self>"u"?"undefined":R(self))&&self&&self.Object===Object&&self,S=y||b||Function("return this")(),A="object"==(void 0===W?"undefined":R(W))&&W&&!W.nodeType&&W,P=A&&"object"==(void 0===te?"undefined":R(te))&&te&&!te.nodeType&&te,H=P&&P.exports===A&&y.process,X=function(){try{return H&&H.binding("util")}catch{}}(),J=X&&X.isTypedArray;function j(Re,Je,Ot,vt){for(var Rt=-1,mn=Re?Re.length:0;++Rt<mn;){var hn=Re[Rt];Je(vt,hn,Ot(hn),Re)}return vt}function $(Re,Je){for(var Ot=-1,vt=Re?Re.length:0;++Ot<vt;)if(Je(Re[Ot],Ot,Re))return!0;return!1}function L(Re){var Je=!1;if(null!=Re&&"function"!=typeof Re.toString)try{Je=!!(Re+"")}catch{}return Je}function B(Re){var Je=-1,Ot=Array(Re.size);return Re.forEach(function(vt,Rt){Ot[++Je]=[Rt,vt]}),Ot}function ee(Re){var Je=-1,Ot=Array(Re.size);return Re.forEach(function(vt){Ot[++Je]=vt}),Ot}var N,V,U,Q=Array.prototype,Z=Function.prototype,K=Object.prototype,ne=S["__core-js_shared__"],ue=(N=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",ce=Z.toString,de=K.hasOwnProperty,pe=K.toString,_e=RegExp("^"+ce.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),me=S.Symbol,q=S.Uint8Array,oe=K.propertyIsEnumerable,se=Q.splice,ve=(V=Object.keys,U=Object,function(Re){return V(U(Re))}),Se=ke(S,"DataView"),De=ke(S,"Map"),qe=ke(S,"Promise"),je=ke(S,"Set"),Ye=ke(S,"WeakMap"),st=ke(Object,"create"),ct=Be(Se),ht=Be(De),sn=Be(qe),bt=Be(je),It=Be(Ye),ln=me?me.prototype:void 0,nt=ln?ln.valueOf:void 0,Xe=ln?ln.toString:void 0;function Ae(Re){var Je=-1,Ot=Re?Re.length:0;for(this.clear();++Je<Ot;){var vt=Re[Je];this.set(vt[0],vt[1])}}function Pe(Re){var Je=-1,Ot=Re?Re.length:0;for(this.clear();++Je<Ot;){var vt=Re[Je];this.set(vt[0],vt[1])}}function We(Re){var Je=-1,Ot=Re?Re.length:0;for(this.clear();++Je<Ot;){var vt=Re[Je];this.set(vt[0],vt[1])}}function ot(Re){var Je=-1,Ot=Re?Re.length:0;for(this.__data__=new We;++Je<Ot;)this.add(Re[Je])}function Ue(Re){this.__data__=new Pe(Re)}function $e(Re,Je){for(var Ot=Re.length;Ot--;)if(Wt(Re[Ot][0],Je))return Ot;return-1}function at(Re,Je,Ot,vt){return Et(Re,function(Rt,mn,hn){Je(vt,Rt,Ot(Rt),hn)}),vt}Ae.prototype.clear=function(){this.__data__=st?st(null):{}},Ae.prototype.delete=function(Re){return this.has(Re)&&delete this.__data__[Re]},Ae.prototype.get=function(Re){var Je=this.__data__;if(st){var Ot=Je[Re];return"__lodash_hash_undefined__"===Ot?void 0:Ot}return de.call(Je,Re)?Je[Re]:void 0},Ae.prototype.has=function(Re){var Je=this.__data__;return st?void 0!==Je[Re]:de.call(Je,Re)},Ae.prototype.set=function(Re,Je){return this.__data__[Re]=st&&void 0===Je?"__lodash_hash_undefined__":Je,this},Pe.prototype.clear=function(){this.__data__=[]},Pe.prototype.delete=function(Re){var Je=this.__data__,Ot=$e(Je,Re);return!(Ot<0||(Ot==Je.length-1?Je.pop():se.call(Je,Ot,1),0))},Pe.prototype.get=function(Re){var Je=this.__data__,Ot=$e(Je,Re);return Ot<0?void 0:Je[Ot][1]},Pe.prototype.has=function(Re){return $e(this.__data__,Re)>-1},Pe.prototype.set=function(Re,Je){var Ot=this.__data__,vt=$e(Ot,Re);return vt<0?Ot.push([Re,Je]):Ot[vt][1]=Je,this},We.prototype.clear=function(){this.__data__={hash:new Ae,map:new(De||Pe),string:new Ae}},We.prototype.delete=function(Re){return Me(this,Re).delete(Re)},We.prototype.get=function(Re){return Me(this,Re).get(Re)},We.prototype.has=function(Re){return Me(this,Re).has(Re)},We.prototype.set=function(Re,Je){return Me(this,Re).set(Re,Je),this},ot.prototype.add=ot.prototype.push=function(Re){return this.__data__.set(Re,"__lodash_hash_undefined__"),this},ot.prototype.has=function(Re){return this.__data__.has(Re)},Ue.prototype.clear=function(){this.__data__=new Pe},Ue.prototype.delete=function(Re){return this.__data__.delete(Re)},Ue.prototype.get=function(Re){return this.__data__.get(Re)},Ue.prototype.has=function(Re){return this.__data__.has(Re)},Ue.prototype.set=function(Re,Je){var Ot=this.__data__;if(Ot instanceof Pe){var vt=Ot.__data__;if(!De||vt.length<199)return vt.push([Re,Je]),this;Ot=this.__data__=new We(vt)}return Ot.set(Re,Je),this};var lt,Et=(lt=function(Re,Je){return Re&&xt(Re,Je,xn)},function(Re,Je){if(null==Re)return Re;if(!ze(Re))return lt(Re,Je);for(var Ot=Re.length,vt=-1,Rt=Object(Re);++vt<Ot&&!1!==Je(Rt[vt],vt,Rt););return Re}),xt=function(Je,Ot,vt){for(var Rt=-1,mn=Object(Je),hn=vt(Je),Hn=hn.length;Hn--;){var Fn=hn[++Rt];if(!1===Ot(mn[Fn],Fn,mn))break}return Je};function Pn(Re,Je){for(var Ot=0,vt=(Je=Qe(Je,Re)?[Je]:rr(Je)).length;null!=Re&&Ot<vt;)Re=Re[He(Je[Ot++])];return Ot&&Ot==vt?Re:void 0}function cn(Re,Je){return null!=Re&&Je in Object(Re)}function un(Re,Je,Ot,vt,Rt){return Re===Je||(null==Re||null==Je||!tn(Re)&&!vn(Je)?Re!=Re&&Je!=Je:function(mn,hn,Hn,Fn,Sn,kn){var Tr=Ze(mn),Un=Ze(hn),br="[object Array]",Zn="[object Array]";Tr||(br=(br=Fe(mn))==M?O:br),Un||(Zn=(Zn=Fe(hn))==M?O:Zn);var xr=br==O&&!L(mn),ii=Zn==O&&!L(hn),pi=br==Zn;if(pi&&!xr)return kn||(kn=new Ue),Tr||lr(mn)?ft(mn,hn,Hn,Fn,Sn,kn):function(gr,Er,j_,ki,rf,Ro,va){switch(j_){case"[object DataView]":if(gr.byteLength!=Er.byteLength||gr.byteOffset!=Er.byteOffset)return!1;gr=gr.buffer,Er=Er.buffer;case"[object ArrayBuffer]":return!(gr.byteLength!=Er.byteLength||!ki(new q(gr),new q(Er)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Wt(+gr,+Er);case"[object Error]":return gr.name==Er.name&&gr.message==Er.message;case"[object RegExp]":case"[object String]":return gr==Er+"";case x:var Ja=B;case w:if(Ja||(Ja=ee),gr.size!=Er.size&&!(2&Ro))return!1;var sf=va.get(gr);if(sf)return sf==Er;Ro|=1,va.set(gr,Er);var Au=ft(Ja(gr),Ja(Er),ki,rf,Ro,va);return va.delete(gr),Au;case"[object Symbol]":if(nt)return nt.call(gr)==nt.call(Er)}return!1}(mn,hn,br,Hn,Fn,Sn,kn);if(!(2&Sn)){var no=xr&&de.call(mn,"__wrapped__"),Pi=ii&&de.call(hn,"__wrapped__");if(no||Pi){var xu=no?mn.value():mn,Ru=Pi?hn.value():hn;return kn||(kn=new Ue),Hn(xu,Ru,Fn,Sn,kn)}}return!!pi&&(kn||(kn=new Ue),function(gr,Er,j_,ki,rf,Ro){var va=2&rf,Ja=xn(gr),Ls=Ja.length;if(Ls!=xn(Er).length&&!va)return!1;for(var Au=Ls;Au--;){var el=Ja[Au];if(!(va?el in Er:de.call(Er,el)))return!1}var H_=Ro.get(gr);if(H_&&Ro.get(Er))return H_==Er;var af=!0;Ro.set(gr,Er),Ro.set(Er,gr);for(var Ao=va;++Au<Ls;){var lf=gr[el=Ja[Au]],Ou=Er[el];if(ki)var Jc=va?ki(Ou,lf,el,Er,gr,Ro):ki(lf,Ou,el,gr,Er,Ro);if(!(void 0===Jc?lf===Ou||j_(lf,Ou,ki,rf,Ro):Jc)){af=!1;break}Ao||(Ao="constructor"==el)}if(af&&!Ao){var uf=gr.constructor,cf=Er.constructor;uf==cf||!("constructor"in gr)||!("constructor"in Er)||"function"==typeof uf&&uf instanceof uf&&"function"==typeof cf&&cf instanceof cf||(af=!1)}return Ro.delete(gr),Ro.delete(Er),af}(mn,hn,Hn,Fn,Sn,kn))}(Re,Je,un,Ot,vt,Rt))}function rr(Re){return Ze(Re)?Re:Le(Re)}function ft(Re,Je,Ot,vt,Rt,mn){var hn=2&Rt,Hn=Re.length,Fn=Je.length;if(Hn!=Fn&&!(hn&&Fn>Hn))return!1;var Sn=mn.get(Re);if(Sn&&mn.get(Je))return Sn==Je;var kn=-1,Tr=!0,Un=1&Rt?new ot:void 0;for(mn.set(Re,Je),mn.set(Je,Re);++kn<Hn;){var br=Re[kn],Zn=Je[kn];if(vt)var xr=hn?vt(Zn,br,kn,Je,Re,mn):vt(br,Zn,kn,Re,Je,mn);if(void 0!==xr){if(xr)continue;Tr=!1;break}if(Un){if(!$(Je,function(ii,pi){if(!Un.has(pi)&&(br===ii||Ot(br,ii,vt,Rt,mn)))return Un.add(pi)})){Tr=!1;break}}else if(br!==Zn&&!Ot(br,Zn,vt,Rt,mn)){Tr=!1;break}}return mn.delete(Re),mn.delete(Je),Tr}function Me(Re,Je){var Ot,vt,Rt=Re.__data__;return("string"==(vt=R(Ot=Je))||"number"==vt||"symbol"==vt||"boolean"==vt?"__proto__"!==Ot:null===Ot)?Rt["string"==typeof Je?"string":"hash"]:Rt.map}function ke(Re,Je){var Ot=Re?.[Je];return function Qr(Re){return!(!tn(Re)||(Je=Re,ue&&ue in Je))&&(pt(Re)||L(Re)?_e:c).test(Be(Re));var Je}(Ot)?Ot:void 0}var Fe=function(Re){return pe.call(Re)};function Ke(Re,Je){return!!(Je=Je??9007199254740991)&&("number"==typeof Re||m.test(Re))&&Re>-1&&Re%1==0&&Re<Je}function Qe(Re,Je){if(Ze(Re))return!1;var Ot=R(Re);return!("number"!=Ot&&"symbol"!=Ot&&"boolean"!=Ot&&null!=Re&&!Vn(Re))||C.test(Re)||!E.test(Re)||null!=Je&&Re in Object(Je)}function wt(Re){return Re==Re&&!tn(Re)}function Ht(Re,Je){return function(Ot){return null!=Ot&&Ot[Re]===Je&&(void 0!==Je||Re in Object(Ot))}}(Se&&"[object DataView]"!=Fe(new Se(new ArrayBuffer(1)))||De&&Fe(new De)!=x||qe&&"[object Promise]"!=Fe(qe.resolve())||je&&Fe(new je)!=w||Ye&&"[object WeakMap]"!=Fe(new Ye))&&(Fe=function(Re){var Je=pe.call(Re),Ot=Je==O?Re.constructor:void 0,vt=Ot?Be(Ot):void 0;if(vt)switch(vt){case ct:return"[object DataView]";case ht:return x;case sn:return"[object Promise]";case bt:return w;case It:return"[object WeakMap]"}return Je});var Le=Ln(function(Re){var Je;Re=null==(Je=Re)?"":function(vt){if("string"==typeof vt)return vt;if(Vn(vt))return Xe?Xe.call(vt):"";var Rt=vt+"";return"0"==Rt&&1/vt==-1/0?"-0":Rt}(Je);var Ot=[];return f.test(Re)&&Ot.push(""),Re.replace(d,function(vt,Rt,mn,hn){Ot.push(mn?hn.replace(u,"$1"):Rt||vt)}),Ot});function He(Re){if("string"==typeof Re||Vn(Re))return Re;var Je=Re+"";return"0"==Je&&1/Re==-1/0?"-0":Je}function Be(Re){if(null!=Re){try{return ce.call(Re)}catch{}try{return Re+""}catch{}}return""}var St,Vt=(St=function(Re,Je,Ot){de.call(Re,Ot)?Re[Ot].push(Je):Re[Ot]=[Je]},function(Re,Je){var vt={};return(Ze(Re)?j:at)(Re,St,function Cn(Re){return"function"==typeof Re?Re:null==Re?Dr:"object"==R(Re)?Ze(Re)?(Rt=Re[1],Qe(vt=Re[0])&&wt(Rt)?Ht(He(vt),Rt):function(mn){var Hn,kn,hn=void 0===(kn=null==(Hn=mn)?void 0:Pn(Hn,vt))?void 0:kn;return void 0===hn&&hn===Rt?function(Hn,Fn){return null!=Hn&&function(Sn,kn,Tr){for(var Un,br=-1,Zn=(kn=Qe(kn,Sn)?[kn]:rr(kn)).length;++br<Zn;){var xr=He(kn[br]);if(!(Un=null!=Sn&&Tr(Sn,xr)))break;Sn=Sn[xr]}return Un||!!(Zn=Sn?Sn.length:0)&&At(Zn)&&Ke(xr,Zn)&&(Ze(Sn)||pn(Sn))}(Hn,Fn,cn)}(mn,vt):un(Rt,hn,void 0,3)}):function(vt){var Rt=function(mn){for(var hn=xn(mn),Hn=hn.length;Hn--;){var Fn=hn[Hn],Sn=mn[Fn];hn[Hn]=[Fn,Sn,wt(Sn)]}return hn}(vt);return 1==Rt.length&&Rt[0][2]?Ht(Rt[0][0],Rt[0][1]):function(mn){return mn===vt||function(hn,Hn,Fn,Sn){var kn=Fn.length,Tr=kn;if(null==hn)return!Tr;for(hn=Object(hn);kn--;){var br=Fn[kn];if(br[2]?br[1]!==hn[br[0]]:!(br[0]in hn))return!1}for(;++kn<Tr;){var Zn=(br=Fn[kn])[0],xr=hn[Zn],ii=br[1];if(br[2]){if(void 0===xr&&!(Zn in hn))return!1}else{var no,pi=new Ue;if(!(void 0===no?un(ii,xr,Sn,3,pi):no))return!1}}return!0}(mn,0,Rt)}}(Re):Qe(Je=Re)?(Ot=He(Je),function(vt){return vt?.[Ot]}):function(vt){return function(Rt){return Pn(Rt,vt)}}(Je);var vt,Rt,Je,Ot}(Je),vt)});function Ln(Re,Je){if("function"!=typeof Re||Je&&"function"!=typeof Je)throw new TypeError("Expected a function");var Ot=function vt(){var Rt=arguments,mn=Je?Je.apply(this,Rt):Rt[0],hn=vt.cache;if(hn.has(mn))return hn.get(mn);var Hn=Re.apply(this,Rt);return vt.cache=hn.set(mn,Hn),Hn};return Ot.cache=new(Ln.Cache||We),Ot}function Wt(Re,Je){return Re===Je||Re!=Re&&Je!=Je}function pn(Re){return vn(Je=Re)&&ze(Je)&&de.call(Re,"callee")&&(!oe.call(Re,"callee")||pe.call(Re)==M);var Je}Ln.Cache=We;var Ze=Array.isArray;function ze(Re){return null!=Re&&At(Re.length)&&!pt(Re)}function pt(Re){var Je=tn(Re)?pe.call(Re):"";return"[object Function]"==Je||"[object GeneratorFunction]"==Je}function At(Re){return"number"==typeof Re&&Re>-1&&Re%1==0&&Re<=9007199254740991}function tn(Re){var Je=R(Re);return!!Re&&("object"==Je||"function"==Je)}function vn(Re){return!!Re&&"object"==R(Re)}function Vn(Re){return"symbol"==R(Re)||vn(Re)&&"[object Symbol]"==pe.call(Re)}var lr=J?function(Re){return function(Je){return Re(Je)}}(J):function(Re){return vn(Re)&&At(Re.length)&&!!g[pe.call(Re)]};function xn(Re){return ze(Re)?function Ne(Re,Je){var Ot=Ze(Re)||pn(Re)?function(hn,Hn){for(var Fn=-1,Sn=Array(hn);++Fn<hn;)Sn[Fn]=Hn(Fn);return Sn}(Re.length,String):[],vt=Ot.length,Rt=!!vt;for(var mn in Re)!Je&&!de.call(Re,mn)||Rt&&("length"==mn||Ke(mn,vt))||Ot.push(mn);return Ot}(Re):function Tn(Re){if(Ot=(Je=Re)&&Je.constructor,Je!==("function"==typeof Ot&&Ot.prototype||K))return ve(Re);var Je,Ot,Rt=[];for(var mn in Object(Re))de.call(Re,mn)&&"constructor"!=mn&&Rt.push(mn);return Rt}(Re)}function Dr(Re){return Re}te.exports=Vt}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],428:[function(T,te,W){"use strict";function k(M){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(M)}var R=Object.prototype.toString;te.exports=function(M){return!0===M||!1===M||!!(x=M)&&"object"==k(x)&&"[object Boolean]"==R.call(M);var x}},{}],429:[function(T,te,W){(function(k){"use strict";function R(Le){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(He){return typeof He}:function(He){return He&&"function"==typeof Symbol&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He})(Le)}var M="[object Arguments]",x="[object Map]",O="[object Object]",w="[object Set]",E=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[M]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[x]=f["[object Number]"]=f[O]=f["[object RegExp]"]=f[w]=f["[object String]"]=f["[object WeakMap]"]=!1;var d="object"==(void 0===k?"undefined":R(k))&&k&&k.Object===Object&&k,u="object"==(typeof self>"u"?"undefined":R(self))&&self&&self.Object===Object&&self,c=d||u||Function("return this")(),m="object"==(void 0===W?"undefined":R(W))&&W&&!W.nodeType&&W,g=m&&"object"==(void 0===te?"undefined":R(te))&&te&&!te.nodeType&&te,y=g&&g.exports===m,b=y&&d.process,S=function(){try{return b&&b.binding&&b.binding("util")}catch{}}(),A=S&&S.isTypedArray;function P(Le,He){for(var Be=-1,St=null==Le?0:Le.length;++Be<St;)if(He(Le[Be],Be,Le))return!0;return!1}function H(Le){var He=-1,Be=Array(Le.size);return Le.forEach(function(St,_t){Be[++He]=[_t,St]}),Be}function X(Le){var He=-1,Be=Array(Le.size);return Le.forEach(function(St){Be[++He]=St}),Be}var J,j,$,L=Array.prototype,ee=Object.prototype,N=c["__core-js_shared__"],V=Function.prototype.toString,U=ee.hasOwnProperty,Q=(J=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",Z=ee.toString,K=RegExp("^"+V.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=y?c.Buffer:void 0,ue=c.Symbol,ce=c.Uint8Array,de=ee.propertyIsEnumerable,pe=L.splice,_e=ue?ue.toStringTag:void 0,me=Object.getOwnPropertySymbols,q=ne?ne.isBuffer:void 0,oe=(j=Object.keys,$=Object,function(Le){return j($(Le))}),se=Pn(c,"DataView"),ve=Pn(c,"Map"),Se=Pn(c,"Promise"),De=Pn(c,"Set"),qe=Pn(c,"WeakMap"),je=Pn(Object,"create"),Ye=Cn(se),st=Cn(ve),ct=Cn(Se),ht=Cn(De),sn=Cn(qe),bt=ue?ue.prototype:void 0,It=bt?bt.valueOf:void 0;function ln(Le){var He=-1,Be=null==Le?0:Le.length;for(this.clear();++He<Be;){var St=Le[He];this.set(St[0],St[1])}}function nt(Le){var He=-1,Be=null==Le?0:Le.length;for(this.clear();++He<Be;){var St=Le[He];this.set(St[0],St[1])}}function Xe(Le){var He=-1,Be=null==Le?0:Le.length;for(this.clear();++He<Be;){var St=Le[He];this.set(St[0],St[1])}}function Ae(Le){var He=-1,Be=null==Le?0:Le.length;for(this.__data__=new Xe;++He<Be;)this.add(Le[He])}function Pe(Le){var He=this.__data__=new nt(Le);this.size=He.size}function ot(Le,He){for(var Be=Le.length;Be--;)if(Tn(Le[Be][0],He))return Be;return-1}function Ue(Le){return null==Le?void 0===Le?"[object Undefined]":"[object Null]":_e&&_e in Object(Le)?function(He){var Be=U.call(He,_e),St=He[_e];try{He[_e]=void 0;var _t=!0}catch{}var Vt=Z.call(He);return _t&&(Be?He[_e]=St:delete He[_e]),Vt}(Le):Z.call(Le)}function Ne(Le){return Qe(Le)&&Ue(Le)==M}function $e(Le,He,Be,St,_t){return Le===He||(null==Le||null==He||!Qe(Le)&&!Qe(He)?Le!=Le&&He!=He:function(Vt,Ln,Wt,pn,Ze,ze){var pt=ft(Vt),At=ft(Ln),tn=pt?"[object Array]":un(Vt),vn=At?"[object Array]":un(Ln),Vn=(tn=tn==M?O:tn)==O,lr=(vn=vn==M?O:vn)==O,xn=tn==vn;if(xn&&Me(Vt)){if(!Me(Ln))return!1;pt=!0,Vn=!1}if(xn&&!Vn)return ze||(ze=new Pe),pt||wt(Vt)?$t(Vt,Ln,Wt,pn,Ze,ze):function(vt,Rt,mn,hn,Hn,Fn,Sn){switch(mn){case"[object DataView]":if(vt.byteLength!=Rt.byteLength||vt.byteOffset!=Rt.byteOffset)return!1;vt=vt.buffer,Rt=Rt.buffer;case"[object ArrayBuffer]":return!(vt.byteLength!=Rt.byteLength||!Fn(new ce(vt),new ce(Rt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Tn(+vt,+Rt);case"[object Error]":return vt.name==Rt.name&&vt.message==Rt.message;case"[object RegExp]":case"[object String]":return vt==Rt+"";case x:var kn=H;case w:if(kn||(kn=X),vt.size!=Rt.size&&!(1&hn))return!1;var Un=Sn.get(vt);if(Un)return Un==Rt;hn|=2,Sn.set(vt,Rt);var br=$t(kn(vt),kn(Rt),hn,Hn,Fn,Sn);return Sn.delete(vt),br;case"[object Symbol]":if(It)return It.call(vt)==It.call(Rt)}return!1}(Vt,Ln,tn,Wt,pn,Ze,ze);if(!(1&Wt)){var Dr=Vn&&U.call(Vt,"__wrapped__"),Re=lr&&U.call(Ln,"__wrapped__");if(Dr||Re){var Je=Dr?Vt.value():Vt,Ot=Re?Ln.value():Ln;return ze||(ze=new Pe),Ze(Je,Ot,Wt,pn,ze)}}return!!xn&&(ze||(ze=new Pe),function(vt,Rt,mn,hn,Hn,Fn){var Sn=1&mn,kn=Et(vt),Tr=kn.length;if(Tr!=Et(Rt).length&&!Sn)return!1;for(var br=Tr;br--;){var Zn=kn[br];if(!(Sn?Zn in Rt:U.call(Rt,Zn)))return!1}var xr=Fn.get(vt);if(xr&&Fn.get(Rt))return xr==Rt;var ii=!0;Fn.set(vt,Rt),Fn.set(Rt,vt);for(var pi=Sn;++br<Tr;){var no=vt[Zn=kn[br]],Pi=Rt[Zn];if(hn)var xu=Sn?hn(Pi,no,Zn,Rt,vt,Fn):hn(no,Pi,Zn,vt,Rt,Fn);if(!(void 0===xu?no===Pi||Hn(no,Pi,mn,hn,Fn):xu)){ii=!1;break}pi||(pi="constructor"==Zn)}if(ii&&!pi){var Ru=vt.constructor,gr=Rt.constructor;Ru==gr||!("constructor"in vt)||!("constructor"in Rt)||"function"==typeof Ru&&Ru instanceof Ru&&"function"==typeof gr&&gr instanceof gr||(ii=!1)}return Fn.delete(vt),Fn.delete(Rt),ii}(Vt,Ln,Wt,pn,Ze,ze))}(Le,He,Be,St,$e,_t))}function $t(Le,He,Be,St,_t,Vt){var Ln=1&Be,Wt=Le.length,pn=He.length;if(Wt!=pn&&!(Ln&&pn>Wt))return!1;var Ze=Vt.get(Le);if(Ze&&Vt.get(He))return Ze==He;var ze=-1,pt=!0,At=2&Be?new Ae:void 0;for(Vt.set(Le,He),Vt.set(He,Le);++ze<Wt;){var tn=Le[ze],vn=He[ze];if(St)var Vn=Ln?St(vn,tn,ze,He,Le,Vt):St(tn,vn,ze,Le,He,Vt);if(void 0!==Vn){if(Vn)continue;pt=!1;break}if(At){if(!P(He,function(lr,xn){if(!At.has(xn)&&(tn===lr||_t(tn,lr,Be,St,Vt)))return At.push(xn)})){pt=!1;break}}else if(tn!==vn&&!_t(tn,vn,Be,St,Vt)){pt=!1;break}}return Vt.delete(Le),Vt.delete(He),pt}function Et(Le){return St=cn,_t=function Ht(Le){return null!=(He=Le)&&Fe(He.length)&&!ke(He)?function We(Le,He){var Be=ft(Le),St=!Be&&rr(Le),_t=!Be&&!St&&Me(Le),Vt=!Be&&!St&&!_t&&wt(Le),Ln=Be||St||_t||Vt,Wt=Ln?function(ze,pt){for(var At=-1,tn=Array(ze);++At<ze;)tn[At]=pt(At);return tn}(Le.length,String):[],pn=Wt.length;for(var Ze in Le)!He&&!U.call(Le,Ze)||Ln&&("length"==Ze||_t&&("offset"==Ze||"parent"==Ze)||Vt&&("buffer"==Ze||"byteLength"==Ze||"byteOffset"==Ze)||Qr(Ze,pn))||Wt.push(Ze);return Wt}(Le):function lt(Le){if(Be=(He=Le)&&He.constructor,He!==("function"==typeof Be&&Be.prototype||ee))return oe(Le);var He,Be,_t=[];for(var Vt in Object(Le))U.call(Le,Vt)&&"constructor"!=Vt&&_t.push(Vt);return _t}(Le);var He}(He=Le),ft(He)?_t:function(Vt,Ln){for(var Wt=-1,pn=Ln.length,Ze=Vt.length;++Wt<pn;)Vt[Ze+Wt]=Ln[Wt];return Vt}(_t,St(He));var He,St,_t}function xt(Le,He){var Be,St,_t=Le.__data__;return("string"==(St=R(Be=He))||"number"==St||"symbol"==St||"boolean"==St?"__proto__"!==Be:null===Be)?_t["string"==typeof He?"string":"hash"]:_t.map}function Pn(Le,He){var Be=Le?.[He];return function at(Le){return!(!Ke(Le)||(He=Le,Q&&Q in He))&&(ke(Le)?K:E).test(Cn(Le));var He}(Be)?Be:void 0}ln.prototype.clear=function(){this.__data__=je?je(null):{},this.size=0},ln.prototype.delete=function(Le){var He=this.has(Le)&&delete this.__data__[Le];return this.size-=He?1:0,He},ln.prototype.get=function(Le){var He=this.__data__;if(je){var Be=He[Le];return"__lodash_hash_undefined__"===Be?void 0:Be}return U.call(He,Le)?He[Le]:void 0},ln.prototype.has=function(Le){var He=this.__data__;return je?void 0!==He[Le]:U.call(He,Le)},ln.prototype.set=function(Le,He){var Be=this.__data__;return this.size+=this.has(Le)?0:1,Be[Le]=je&&void 0===He?"__lodash_hash_undefined__":He,this},nt.prototype.clear=function(){this.__data__=[],this.size=0},nt.prototype.delete=function(Le){var He=this.__data__,Be=ot(He,Le);return!(Be<0||(Be==He.length-1?He.pop():pe.call(He,Be,1),--this.size,0))},nt.prototype.get=function(Le){var He=this.__data__,Be=ot(He,Le);return Be<0?void 0:He[Be][1]},nt.prototype.has=function(Le){return ot(this.__data__,Le)>-1},nt.prototype.set=function(Le,He){var Be=this.__data__,St=ot(Be,Le);return St<0?(++this.size,Be.push([Le,He])):Be[St][1]=He,this},Xe.prototype.clear=function(){this.size=0,this.__data__={hash:new ln,map:new(ve||nt),string:new ln}},Xe.prototype.delete=function(Le){var He=xt(this,Le).delete(Le);return this.size-=He?1:0,He},Xe.prototype.get=function(Le){return xt(this,Le).get(Le)},Xe.prototype.has=function(Le){return xt(this,Le).has(Le)},Xe.prototype.set=function(Le,He){var Be=xt(this,Le),St=Be.size;return Be.set(Le,He),this.size+=Be.size==St?0:1,this},Ae.prototype.add=Ae.prototype.push=function(Le){return this.__data__.set(Le,"__lodash_hash_undefined__"),this},Ae.prototype.has=function(Le){return this.__data__.has(Le)},Pe.prototype.clear=function(){this.__data__=new nt,this.size=0},Pe.prototype.delete=function(Le){var He=this.__data__,Be=He.delete(Le);return this.size=He.size,Be},Pe.prototype.get=function(Le){return this.__data__.get(Le)},Pe.prototype.has=function(Le){return this.__data__.has(Le)},Pe.prototype.set=function(Le,He){var Be=this.__data__;if(Be instanceof nt){var St=Be.__data__;if(!ve||St.length<199)return St.push([Le,He]),this.size=++Be.size,this;Be=this.__data__=new Xe(St)}return Be.set(Le,He),this.size=Be.size,this};var cn=me?function(Le){return null==Le?[]:(Le=Object(Le),function(He,Be){for(var St=-1,_t=null==He?0:He.length,Vt=0,Ln=[];++St<_t;){var Wt=He[St];Be(Wt)&&(Ln[Vt++]=Wt)}return Ln}(me(Le),function(He){return de.call(Le,He)}))}:function(){return[]},un=Ue;function Qr(Le,He){return!!(He=He??9007199254740991)&&("number"==typeof Le||C.test(Le))&&Le>-1&&Le%1==0&&Le<He}function Cn(Le){if(null!=Le){try{return V.call(Le)}catch{}try{return Le+""}catch{}}return""}function Tn(Le,He){return Le===He||Le!=Le&&He!=He}(se&&"[object DataView]"!=un(new se(new ArrayBuffer(1)))||ve&&un(new ve)!=x||Se&&"[object Promise]"!=un(Se.resolve())||De&&un(new De)!=w||qe&&"[object WeakMap]"!=un(new qe))&&(un=function(Le){var He=Ue(Le),Be=He==O?Le.constructor:void 0,St=Be?Cn(Be):"";if(St)switch(St){case Ye:return"[object DataView]";case st:return x;case ct:return"[object Promise]";case ht:return w;case sn:return"[object WeakMap]"}return He});var rr=Ne(function(){return arguments}())?Ne:function(Le){return Qe(Le)&&U.call(Le,"callee")&&!de.call(Le,"callee")},ft=Array.isArray,Me=q||function(){return!1};function ke(Le){if(!Ke(Le))return!1;var He=Ue(Le);return"[object Function]"==He||"[object GeneratorFunction]"==He||"[object AsyncFunction]"==He||"[object Proxy]"==He}function Fe(Le){return"number"==typeof Le&&Le>-1&&Le%1==0&&Le<=9007199254740991}function Ke(Le){var He=R(Le);return null!=Le&&("object"==He||"function"==He)}function Qe(Le){return null!=Le&&"object"==R(Le)}var Le,wt=A?(Le=A,function(He){return Le(He)}):function(Le){return Qe(Le)&&Fe(Le.length)&&!!f[Ue(Le)]};te.exports=function(Le,He){return $e(Le,He)}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],430:[function(T,te,W){(function(k){"use strict";function R(c){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(c)}var M="object"==(void 0===k?"undefined":R(k))&&k&&k.Object===Object&&k,x="object"==(typeof self>"u"?"undefined":R(self))&&self&&self.Object===Object&&self,O=M||x||Function("return this")(),w=Object.prototype,E=w.hasOwnProperty,C=w.toString,f=O.Symbol,d=f?f.toStringTag:void 0;te.exports=function(c){if(y=R(g=c),null==g||"object"!=y&&"function"!=y)return!1;var g,y,m=function u(c){return null==c?void 0===c?"[object Undefined]":"[object Null]":d&&d in Object(c)?function(m){var g=E.call(m,d),y=m[d];try{m[d]=void 0;var b=!0}catch{}var S=C.call(m);return b&&(g?m[d]=y:delete m[d]),S}(c):C.call(c)}(c);return"[object Function]"==m||"[object GeneratorFunction]"==m||"[object AsyncFunction]"==m||"[object Proxy]"==m}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],431:[function(T,te,W){"use strict";te.exports=function(k){return null==k}},{}],432:[function(T,te,W){"use strict";te.exports=function(k){return void 0===k}},{}],433:[function(T,te,W){(function(k){"use strict";function R(ce){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(de){return typeof de}:function(de){return de&&"function"==typeof Symbol&&de.constructor===Symbol&&de!==Symbol.prototype?"symbol":typeof de})(ce)}var M=/^\[object .+?Constructor\]$/,x="object"==(void 0===k?"undefined":R(k))&&k&&k.Object===Object&&k,O="object"==(typeof self>"u"?"undefined":R(self))&&self&&self.Object===Object&&self,w=x||O||Function("return this")();function E(ce,de){return!(!ce||!ce.length)&&function(pe,_e,me){if(_e!=_e)return function(se,ve,Se,De){for(var qe=se.length,je=-1;++je<qe;)if(ve(se[je],je,se))return je;return-1}(pe,f);for(var q=-1,oe=pe.length;++q<oe;)if(pe[q]===_e)return q;return-1}(ce,de)>-1}function f(ce){return ce!=ce}function d(ce,de){return ce.has(de)}function u(ce){var de=-1,pe=Array(ce.size);return ce.forEach(function(_e){pe[++de]=_e}),pe}var c,m=Array.prototype,g=Function.prototype,y=Object.prototype,b=w["__core-js_shared__"],S=(c=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"",A=g.toString,P=y.hasOwnProperty,H=y.toString,X=RegExp("^"+A.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=m.splice,j=ne(w,"Map"),$=ne(w,"Set"),L=ne(Object,"create");function B(ce){var de=-1,pe=ce?ce.length:0;for(this.clear();++de<pe;){var _e=ce[de];this.set(_e[0],_e[1])}}function ee(ce){var de=-1,pe=ce?ce.length:0;for(this.clear();++de<pe;){var _e=ce[de];this.set(_e[0],_e[1])}}function N(ce){var de=-1,pe=ce?ce.length:0;for(this.clear();++de<pe;){var _e=ce[de];this.set(_e[0],_e[1])}}function V(ce){var de=-1,pe=ce?ce.length:0;for(this.__data__=new N;++de<pe;)this.add(ce[de])}function U(ce,de){for(var pe,_e,me=ce.length;me--;)if((pe=ce[me][0])===(_e=de)||pe!=pe&&_e!=_e)return me;return-1}B.prototype.clear=function(){this.__data__=L?L(null):{}},B.prototype.delete=function(ce){return this.has(ce)&&delete this.__data__[ce]},B.prototype.get=function(ce){var de=this.__data__;if(L){var pe=de[ce];return"__lodash_hash_undefined__"===pe?void 0:pe}return P.call(de,ce)?de[ce]:void 0},B.prototype.has=function(ce){var de=this.__data__;return L?void 0!==de[ce]:P.call(de,ce)},B.prototype.set=function(ce,de){return this.__data__[ce]=L&&void 0===de?"__lodash_hash_undefined__":de,this},ee.prototype.clear=function(){this.__data__=[]},ee.prototype.delete=function(ce){var de=this.__data__,pe=U(de,ce);return!(pe<0||(pe==de.length-1?de.pop():J.call(de,pe,1),0))},ee.prototype.get=function(ce){var de=this.__data__,pe=U(de,ce);return pe<0?void 0:de[pe][1]},ee.prototype.has=function(ce){return U(this.__data__,ce)>-1},ee.prototype.set=function(ce,de){var pe=this.__data__,_e=U(pe,ce);return _e<0?pe.push([ce,de]):pe[_e][1]=de,this},N.prototype.clear=function(){this.__data__={hash:new B,map:new(j||ee),string:new B}},N.prototype.delete=function(ce){return K(this,ce).delete(ce)},N.prototype.get=function(ce){return K(this,ce).get(ce)},N.prototype.has=function(ce){return K(this,ce).has(ce)},N.prototype.set=function(ce,de){return K(this,ce).set(ce,de),this},V.prototype.add=V.prototype.push=function(ce){return this.__data__.set(ce,"__lodash_hash_undefined__"),this},V.prototype.has=function(ce){return this.__data__.has(ce)};var Z=$&&1/u(new $([,-0]))[1]==1/0?function(ce){return new $(ce)}:function(){};function K(ce,de){var pe,_e,me=ce.__data__;return("string"==(_e=R(pe=de))||"number"==_e||"symbol"==_e||"boolean"==_e?"__proto__"!==pe:null===pe)?me["string"==typeof de?"string":"hash"]:me.map}function ne(ce,de){var pe=ce?.[de];return function Q(ce){return!(!ue(ce)||(de=ce,S&&S in de))&&(pe=ce,_e=ue(pe)?H.call(pe):"","[object Function]"==_e||"[object GeneratorFunction]"==_e||function(pe){var _e=!1;if(null!=pe&&"function"!=typeof pe.toString)try{_e=!!(pe+"")}catch{}return _e}(ce)?X:M).test(function(pe){if(null!=pe){try{return A.call(pe)}catch{}try{return pe+""}catch{}}return""}(ce));var pe,_e,de}(pe)?pe:void 0}function ue(ce){var de=R(ce);return!!ce&&("object"==de||"function"==de)}te.exports=function(ce){return ce&&ce.length?function(de,pe,_e){var me=-1,q=E,oe=de.length,se=!0,ve=[],Se=ve;if(oe>=200){var De=Z(de);if(De)return u(De);se=!1,q=d,Se=new V}else Se=ve;e:for(;++me<oe;){var qe=de[me],je=qe;if(qe=0!==qe?qe:0,se&&je==je){for(var Ye=Se.length;Ye--;)if(Se[Ye]===je)continue e;ve.push(qe)}else q(Se,je,_e)||(Se!==ve&&Se.push(je),ve.push(qe))}return ve}(ce):[]}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],434:[function(T,te,W){"use strict";var k=T("inherits"),R=T("hash-base"),M=T("safe-buffer").Buffer,x=new Array(16);function O(){R.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function w(u,c){return u<<c|u>>>32-c}function E(u,c,m,g,y,b,S){return w(u+(c&m|~c&g)+y+b|0,S)+c|0}function C(u,c,m,g,y,b,S){return w(u+(c&g|m&~g)+y+b|0,S)+c|0}function f(u,c,m,g,y,b,S){return w(u+(c^m^g)+y+b|0,S)+c|0}function d(u,c,m,g,y,b,S){return w(u+(m^(c|~g))+y+b|0,S)+c|0}k(O,R),O.prototype._update=function(){for(var u=x,c=0;c<16;++c)u[c]=this._block.readInt32LE(4*c);var m=this._a,g=this._b,y=this._c,b=this._d;m=E(m,g,y,b,u[0],3614090360,7),b=E(b,m,g,y,u[1],3905402710,12),y=E(y,b,m,g,u[2],606105819,17),g=E(g,y,b,m,u[3],3250441966,22),m=E(m,g,y,b,u[4],4118548399,7),b=E(b,m,g,y,u[5],1200080426,12),y=E(y,b,m,g,u[6],2821735955,17),g=E(g,y,b,m,u[7],4249261313,22),m=E(m,g,y,b,u[8],1770035416,7),b=E(b,m,g,y,u[9],2336552879,12),y=E(y,b,m,g,u[10],4294925233,17),g=E(g,y,b,m,u[11],2304563134,22),m=E(m,g,y,b,u[12],1804603682,7),b=E(b,m,g,y,u[13],4254626195,12),y=E(y,b,m,g,u[14],2792965006,17),m=C(m,g=E(g,y,b,m,u[15],1236535329,22),y,b,u[1],4129170786,5),b=C(b,m,g,y,u[6],3225465664,9),y=C(y,b,m,g,u[11],643717713,14),g=C(g,y,b,m,u[0],3921069994,20),m=C(m,g,y,b,u[5],3593408605,5),b=C(b,m,g,y,u[10],38016083,9),y=C(y,b,m,g,u[15],3634488961,14),g=C(g,y,b,m,u[4],3889429448,20),m=C(m,g,y,b,u[9],568446438,5),b=C(b,m,g,y,u[14],3275163606,9),y=C(y,b,m,g,u[3],4107603335,14),g=C(g,y,b,m,u[8],1163531501,20),m=C(m,g,y,b,u[13],2850285829,5),b=C(b,m,g,y,u[2],4243563512,9),y=C(y,b,m,g,u[7],1735328473,14),m=f(m,g=C(g,y,b,m,u[12],2368359562,20),y,b,u[5],4294588738,4),b=f(b,m,g,y,u[8],2272392833,11),y=f(y,b,m,g,u[11],1839030562,16),g=f(g,y,b,m,u[14],4259657740,23),m=f(m,g,y,b,u[1],2763975236,4),b=f(b,m,g,y,u[4],1272893353,11),y=f(y,b,m,g,u[7],4139469664,16),g=f(g,y,b,m,u[10],3200236656,23),m=f(m,g,y,b,u[13],681279174,4),b=f(b,m,g,y,u[0],3936430074,11),y=f(y,b,m,g,u[3],3572445317,16),g=f(g,y,b,m,u[6],76029189,23),m=f(m,g,y,b,u[9],3654602809,4),b=f(b,m,g,y,u[12],3873151461,11),y=f(y,b,m,g,u[15],530742520,16),m=d(m,g=f(g,y,b,m,u[2],3299628645,23),y,b,u[0],4096336452,6),b=d(b,m,g,y,u[7],1126891415,10),y=d(y,b,m,g,u[14],2878612391,15),g=d(g,y,b,m,u[5],4237533241,21),m=d(m,g,y,b,u[12],1700485571,6),b=d(b,m,g,y,u[3],2399980690,10),y=d(y,b,m,g,u[10],4293915773,15),g=d(g,y,b,m,u[1],2240044497,21),m=d(m,g,y,b,u[8],1873313359,6),b=d(b,m,g,y,u[15],4264355552,10),y=d(y,b,m,g,u[6],2734768916,15),g=d(g,y,b,m,u[13],1309151649,21),m=d(m,g,y,b,u[4],4149444226,6),b=d(b,m,g,y,u[11],3174756917,10),y=d(y,b,m,g,u[2],718787259,15),g=d(g,y,b,m,u[9],3951481745,21),this._a=this._a+m|0,this._b=this._b+g|0,this._c=this._c+y|0,this._d=this._d+b|0},O.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var u=M.allocUnsafe(16);return u.writeInt32LE(this._a,0),u.writeInt32LE(this._b,4),u.writeInt32LE(this._c,8),u.writeInt32LE(this._d,12),u},te.exports=O},{"hash-base":370,inherits:387,"safe-buffer":494}],435:[function(T,te,W){"use strict";var k=T("bn.js"),R=T("brorand");function M(x){this.rand=x||new R.Rand}te.exports=M,M.create=function(x){return new M(x)},M.prototype._randbelow=function(x){var O=x.bitLength(),w=Math.ceil(O/8);do{var E=new k(this.rand.generate(w))}while(E.cmp(x)>=0);return E},M.prototype._randrange=function(x,O){var w=O.sub(x);return x.add(this._randbelow(w))},M.prototype.test=function(x,O,w){var E=x.bitLength(),C=k.mont(x),f=new k(1).toRed(C);O||(O=Math.max(1,E/48|0));for(var d=x.subn(1),u=0;!d.testn(u);u++);for(var c=x.shrn(u),m=d.toRed(C);O>0;O--){var g=this._randrange(new k(2),d);w&&w(g);var y=g.toRed(C).redPow(c);if(0!==y.cmp(f)&&0!==y.cmp(m)){for(var b=1;b<u;b++){if(0===(y=y.redSqr()).cmp(f))return!1;if(0===y.cmp(m))break}if(b===u)return!1}}return!0},M.prototype.getDivisor=function(x,O){var w=x.bitLength(),E=k.mont(x),C=new k(1).toRed(E);O||(O=Math.max(1,w/48|0));for(var f=x.subn(1),d=0;!f.testn(d);d++);for(var u=x.shrn(d),c=f.toRed(E);O>0;O--){var m=this._randrange(new k(2),f),g=x.gcd(m);if(0!==g.cmpn(1))return g;var y=m.toRed(E).redPow(u);if(0!==y.cmp(C)&&0!==y.cmp(c)){for(var b=1;b<d;b++){if(0===(y=y.redSqr()).cmp(C))return y.fromRed().subn(1).gcd(x);if(0===y.cmp(c))break}if(b===d)return(y=y.redSqr()).fromRed().subn(1).gcd(x)}}return!1}},{"bn.js":436,brorand:184}],436:[function(T,te,W){arguments[4][181][0].apply(W,arguments)},{buffer:185,dup:181}],437:[function(T,te,W){"use strict";function k(R,M){if(!R)throw new Error(M||"Assertion failed")}te.exports=k,k.equal=function(R,M,x){if(R!=M)throw new Error(x||"Assertion failed: "+R+" != "+M)}},{}],438:[function(T,te,W){"use strict";var k=W;function R(x){return 1===x.length?"0"+x:x}function M(x){for(var O="",w=0;w<x.length;w++)O+=R(x[w].toString(16));return O}k.toArray=function(x,O){if(Array.isArray(x))return x.slice();if(!x)return[];var w=[];if("string"!=typeof x){for(var E=0;E<x.length;E++)w[E]=0|x[E];return w}if("hex"===O)for((x=x.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(x="0"+x),E=0;E<x.length;E+=2)w.push(parseInt(x[E]+x[E+1],16));else for(E=0;E<x.length;E++){var C=x.charCodeAt(E),f=C>>8,d=255&C;f?w.push(f,d):w.push(d)}return w},k.zero2=R,k.toHex=M,k.encode=function(x,O){return"hex"===O?M(x):x}},{}],439:[function(T,te,W){"use strict";var k={};(0,T("./lib/utils/common").assign)(k,T("./lib/deflate"),T("./lib/inflate"),T("./lib/zlib/constants")),te.exports=k},{"./lib/deflate":440,"./lib/inflate":441,"./lib/utils/common":442,"./lib/zlib/constants":445}],440:[function(T,te,W){"use strict";var k=T("./zlib/deflate"),R=T("./utils/common"),M=T("./utils/strings"),x=T("./zlib/messages"),O=T("./zlib/zstream"),w=Object.prototype.toString;function E(f){if(!(this instanceof E))return new E(f);this.options=R.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},f||{});var d=this.options;d.raw&&d.windowBits>0?d.windowBits=-d.windowBits:d.gzip&&d.windowBits>0&&d.windowBits<16&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var u=k.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(0!==u)throw new Error(x[u]);if(d.header&&k.deflateSetHeader(this.strm,d.header),d.dictionary){var c;if(c="string"==typeof d.dictionary?M.string2buf(d.dictionary):"[object ArrayBuffer]"===w.call(d.dictionary)?new Uint8Array(d.dictionary):d.dictionary,0!==(u=k.deflateSetDictionary(this.strm,c)))throw new Error(x[u]);this._dict_set=!0}}function C(f,d){var u=new E(d);if(u.push(f,!0),u.err)throw u.msg||x[u.err];return u.result}E.prototype.push=function(f,d){var u,c,m=this.strm,g=this.options.chunkSize;if(this.ended)return!1;c=d===~~d?d:!0===d?4:0,m.input="string"==typeof f?M.string2buf(f):"[object ArrayBuffer]"===w.call(f)?new Uint8Array(f):f,m.next_in=0,m.avail_in=m.input.length;do{if(0===m.avail_out&&(m.output=new R.Buf8(g),m.next_out=0,m.avail_out=g),1!==(u=k.deflate(m,c))&&0!==u)return this.onEnd(u),this.ended=!0,!1;0!==m.avail_out&&(0!==m.avail_in||4!==c&&2!==c)||this.onData("string"===this.options.to?M.buf2binstring(R.shrinkBuf(m.output,m.next_out)):R.shrinkBuf(m.output,m.next_out))}while((m.avail_in>0||0===m.avail_out)&&1!==u);return 4===c?(u=k.deflateEnd(this.strm),this.onEnd(u),this.ended=!0,0===u):2!==c||(this.onEnd(0),m.avail_out=0,!0)},E.prototype.onData=function(f){this.chunks.push(f)},E.prototype.onEnd=function(f){0===f&&(this.result="string"===this.options.to?this.chunks.join(""):R.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},W.Deflate=E,W.deflate=C,W.deflateRaw=function(f,d){return(d=d||{}).raw=!0,C(f,d)},W.gzip=function(f,d){return(d=d||{}).gzip=!0,C(f,d)}},{"./utils/common":442,"./utils/strings":443,"./zlib/deflate":447,"./zlib/messages":452,"./zlib/zstream":454}],441:[function(T,te,W){"use strict";var k=T("./zlib/inflate"),R=T("./utils/common"),M=T("./utils/strings"),x=T("./zlib/constants"),O=T("./zlib/messages"),w=T("./zlib/zstream"),E=T("./zlib/gzheader"),C=Object.prototype.toString;function f(u){if(!(this instanceof f))return new f(u);this.options=R.assign({chunkSize:16384,windowBits:0,to:""},u||{});var c=this.options;c.raw&&c.windowBits>=0&&c.windowBits<16&&(c.windowBits=-c.windowBits,0===c.windowBits&&(c.windowBits=-15)),!(c.windowBits>=0&&c.windowBits<16)||u&&u.windowBits||(c.windowBits+=32),c.windowBits>15&&c.windowBits<48&&0==(15&c.windowBits)&&(c.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var m=k.inflateInit2(this.strm,c.windowBits);if(m!==x.Z_OK)throw new Error(O[m]);if(this.header=new E,k.inflateGetHeader(this.strm,this.header),c.dictionary&&("string"==typeof c.dictionary?c.dictionary=M.string2buf(c.dictionary):"[object ArrayBuffer]"===C.call(c.dictionary)&&(c.dictionary=new Uint8Array(c.dictionary)),c.raw&&(m=k.inflateSetDictionary(this.strm,c.dictionary))!==x.Z_OK))throw new Error(O[m])}function d(u,c){var m=new f(c);if(m.push(u,!0),m.err)throw m.msg||O[m.err];return m.result}f.prototype.push=function(u,c){var m,g,y,b,S,A=this.strm,P=this.options.chunkSize,H=this.options.dictionary,X=!1;if(this.ended)return!1;g=c===~~c?c:!0===c?x.Z_FINISH:x.Z_NO_FLUSH,A.input="string"==typeof u?M.binstring2buf(u):"[object ArrayBuffer]"===C.call(u)?new Uint8Array(u):u,A.next_in=0,A.avail_in=A.input.length;do{if(0===A.avail_out&&(A.output=new R.Buf8(P),A.next_out=0,A.avail_out=P),(m=k.inflate(A,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&H&&(m=k.inflateSetDictionary(this.strm,H)),m===x.Z_BUF_ERROR&&!0===X&&(m=x.Z_OK,X=!1),m!==x.Z_STREAM_END&&m!==x.Z_OK)return this.onEnd(m),this.ended=!0,!1;A.next_out&&(0!==A.avail_out&&m!==x.Z_STREAM_END&&(0!==A.avail_in||g!==x.Z_FINISH&&g!==x.Z_SYNC_FLUSH)||("string"===this.options.to?(y=M.utf8border(A.output,A.next_out),b=A.next_out-y,S=M.buf2string(A.output,y),A.next_out=b,A.avail_out=P-b,b&&R.arraySet(A.output,A.output,y,b,0),this.onData(S)):this.onData(R.shrinkBuf(A.output,A.next_out)))),0===A.avail_in&&0===A.avail_out&&(X=!0)}while((A.avail_in>0||0===A.avail_out)&&m!==x.Z_STREAM_END);return m===x.Z_STREAM_END&&(g=x.Z_FINISH),g===x.Z_FINISH?(m=k.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===x.Z_OK):g!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),A.avail_out=0,!0)},f.prototype.onData=function(u){this.chunks.push(u)},f.prototype.onEnd=function(u){u===x.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):R.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},W.Inflate=f,W.inflate=d,W.inflateRaw=function(u,c){return(c=c||{}).raw=!0,d(u,c)},W.ungzip=d},{"./utils/common":442,"./utils/strings":443,"./zlib/constants":445,"./zlib/gzheader":448,"./zlib/inflate":450,"./zlib/messages":452,"./zlib/zstream":454}],442:[function(T,te,W){"use strict";function k(w){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(w)}var R=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function M(w,E){return Object.prototype.hasOwnProperty.call(w,E)}W.assign=function(w){for(var E=Array.prototype.slice.call(arguments,1);E.length;){var C=E.shift();if(C){if("object"!==k(C))throw new TypeError(C+"must be non-object");for(var f in C)M(C,f)&&(w[f]=C[f])}}return w},W.shrinkBuf=function(w,E){return w.length===E?w:w.subarray?w.subarray(0,E):(w.length=E,w)};var x={arraySet:function(w,E,C,f,d){if(E.subarray&&w.subarray)w.set(E.subarray(C,C+f),d);else for(var u=0;u<f;u++)w[d+u]=E[C+u]},flattenChunks:function(w){var E,C,f,d,u,c;for(f=0,E=0,C=w.length;E<C;E++)f+=w[E].length;for(c=new Uint8Array(f),d=0,E=0,C=w.length;E<C;E++)c.set(u=w[E],d),d+=u.length;return c}},O={arraySet:function(w,E,C,f,d){for(var u=0;u<f;u++)w[d+u]=E[C+u]},flattenChunks:function(w){return[].concat.apply([],w)}};W.setTyped=function(w){w?(W.Buf8=Uint8Array,W.Buf16=Uint16Array,W.Buf32=Int32Array,W.assign(W,x)):(W.Buf8=Array,W.Buf16=Array,W.Buf32=Array,W.assign(W,O))},W.setTyped(R)},{}],443:[function(T,te,W){"use strict";var k=T("./common"),R=!0,M=!0;try{String.fromCharCode.apply(null,[0])}catch{R=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{M=!1}for(var x=new k.Buf8(256),O=0;O<256;O++)x[O]=O>=252?6:O>=248?5:O>=240?4:O>=224?3:O>=192?2:1;function w(E,C){if(C<65534&&(E.subarray&&M||!E.subarray&&R))return String.fromCharCode.apply(null,k.shrinkBuf(E,C));for(var f="",d=0;d<C;d++)f+=String.fromCharCode(E[d]);return f}x[254]=x[254]=1,W.string2buf=function(E){var C,f,d,u,c,m=E.length,g=0;for(u=0;u<m;u++)55296==(64512&(f=E.charCodeAt(u)))&&u+1<m&&56320==(64512&(d=E.charCodeAt(u+1)))&&(f=65536+(f-55296<<10)+(d-56320),u++),g+=f<128?1:f<2048?2:f<65536?3:4;for(C=new k.Buf8(g),c=0,u=0;c<g;u++)55296==(64512&(f=E.charCodeAt(u)))&&u+1<m&&56320==(64512&(d=E.charCodeAt(u+1)))&&(f=65536+(f-55296<<10)+(d-56320),u++),f<128?C[c++]=f:f<2048?(C[c++]=192|f>>>6,C[c++]=128|63&f):f<65536?(C[c++]=224|f>>>12,C[c++]=128|f>>>6&63,C[c++]=128|63&f):(C[c++]=240|f>>>18,C[c++]=128|f>>>12&63,C[c++]=128|f>>>6&63,C[c++]=128|63&f);return C},W.buf2binstring=function(E){return w(E,E.length)},W.binstring2buf=function(E){for(var C=new k.Buf8(E.length),f=0,d=C.length;f<d;f++)C[f]=E.charCodeAt(f);return C},W.buf2string=function(E,C){var f,d,u,c,m=C||E.length,g=new Array(2*m);for(d=0,f=0;f<m;)if((u=E[f++])<128)g[d++]=u;else if((c=x[u])>4)g[d++]=65533,f+=c-1;else{for(u&=2===c?31:3===c?15:7;c>1&&f<m;)u=u<<6|63&E[f++],c--;c>1?g[d++]=65533:u<65536?g[d++]=u:(g[d++]=55296|(u-=65536)>>10&1023,g[d++]=56320|1023&u)}return w(g,d)},W.utf8border=function(E,C){var f;for((C=C||E.length)>E.length&&(C=E.length),f=C-1;f>=0&&128==(192&E[f]);)f--;return f<0||0===f?C:f+x[E[f]]>C?f:C}},{"./common":442}],444:[function(T,te,W){"use strict";te.exports=function(k,R,M,x){for(var O=65535&k|0,w=k>>>16&65535|0,E=0;0!==M;){M-=E=M>2e3?2e3:M;do{w=w+(O=O+R[x++]|0)|0}while(--E);O%=65521,w%=65521}return O|w<<16|0}},{}],445:[function(T,te,W){"use strict";te.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],446:[function(T,te,W){"use strict";var k=function(){for(var R,M=[],x=0;x<256;x++){R=x;for(var O=0;O<8;O++)R=1&R?3988292384^R>>>1:R>>>1;M[x]=R}return M}();te.exports=function(R,M,x,O){var w=k,E=O+x;R^=-1;for(var C=O;C<E;C++)R=R>>>8^w[255&(R^M[C])];return-1^R}},{}],447:[function(T,te,W){"use strict";var k,R=T("../utils/common"),M=T("./trees"),x=T("./adler32"),O=T("./crc32"),w=T("./messages");function E(j,$){return j.msg=w[$],$}function C(j){return(j<<1)-(j>4?9:0)}function f(j){for(var $=j.length;--$>=0;)j[$]=0}function d(j){var $=j.state,L=$.pending;L>j.avail_out&&(L=j.avail_out),0!==L&&(R.arraySet(j.output,$.pending_buf,$.pending_out,L,j.next_out),j.next_out+=L,$.pending_out+=L,j.total_out+=L,j.avail_out-=L,$.pending-=L,0===$.pending&&($.pending_out=0))}function u(j,$){M._tr_flush_block(j,j.block_start>=0?j.block_start:-1,j.strstart-j.block_start,$),j.block_start=j.strstart,d(j.strm)}function c(j,$){j.pending_buf[j.pending++]=$}function m(j,$){j.pending_buf[j.pending++]=$>>>8&255,j.pending_buf[j.pending++]=255&$}function g(j,$){var L,B,ee=j.max_chain_length,N=j.strstart,V=j.prev_length,U=j.nice_match,Q=j.strstart>j.w_size-262?j.strstart-(j.w_size-262):0,Z=j.window,K=j.w_mask,ne=j.prev,ue=j.strstart+258,ce=Z[N+V-1],de=Z[N+V];j.prev_length>=j.good_match&&(ee>>=2),U>j.lookahead&&(U=j.lookahead);do{if(Z[(L=$)+V]===de&&Z[L+V-1]===ce&&Z[L]===Z[N]&&Z[++L]===Z[N+1]){N+=2,L++;do{}while(Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&Z[++N]===Z[++L]&&N<ue);if(B=258-(ue-N),N=ue-258,B>V){if(j.match_start=$,V=B,B>=U)break;ce=Z[N+V-1],de=Z[N+V]}}}while(($=ne[$&K])>Q&&0!=--ee);return V<=j.lookahead?V:j.lookahead}function y(j){var $,L,B,ee,N,V,U,Q,Z,K,ne=j.w_size;do{if(ee=j.window_size-j.lookahead-j.strstart,j.strstart>=ne+(ne-262)){R.arraySet(j.window,j.window,ne,ne,0),j.match_start-=ne,j.strstart-=ne,j.block_start-=ne,$=L=j.hash_size;do{B=j.head[--$],j.head[$]=B>=ne?B-ne:0}while(--L);$=L=ne;do{B=j.prev[--$],j.prev[$]=B>=ne?B-ne:0}while(--L);ee+=ne}if(0===j.strm.avail_in)break;if(U=j.window,Q=j.strstart+j.lookahead,K=void 0,(K=(V=j.strm).avail_in)>(Z=ee)&&(K=Z),L=0===K?0:(V.avail_in-=K,R.arraySet(U,V.input,V.next_in,K,Q),1===V.state.wrap?V.adler=x(V.adler,U,K,Q):2===V.state.wrap&&(V.adler=O(V.adler,U,K,Q)),V.next_in+=K,V.total_in+=K,K),j.lookahead+=L,j.lookahead+j.insert>=3)for(j.ins_h=j.window[N=j.strstart-j.insert],j.ins_h=(j.ins_h<<j.hash_shift^j.window[N+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[N+3-1])&j.hash_mask,j.prev[N&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=N,N++,j.insert--,!(j.lookahead+j.insert<3)););}while(j.lookahead<262&&0!==j.strm.avail_in)}function b(j,$){for(var L,B;;){if(j.lookahead<262){if(y(j),j.lookahead<262&&0===$)return 1;if(0===j.lookahead)break}if(L=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,L=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),0!==L&&j.strstart-L<=j.w_size-262&&(j.match_length=g(j,L)),j.match_length>=3)if(B=M._tr_tally(j,j.strstart-j.match_start,j.match_length-3),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=3){j.match_length--;do{j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,L=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart}while(0!=--j.match_length);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else B=M._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(B&&(u(j,!1),0===j.strm.avail_out))return 1}return j.insert=j.strstart<2?j.strstart:2,4===$?(u(j,!0),0===j.strm.avail_out?3:4):j.last_lit&&(u(j,!1),0===j.strm.avail_out)?1:2}function S(j,$){for(var L,B,ee;;){if(j.lookahead<262){if(y(j),j.lookahead<262&&0===$)return 1;if(0===j.lookahead)break}if(L=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,L=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=2,0!==L&&j.prev_length<j.max_lazy_match&&j.strstart-L<=j.w_size-262&&(j.match_length=g(j,L),j.match_length<=5&&(1===j.strategy||3===j.match_length&&j.strstart-j.match_start>4096)&&(j.match_length=2)),j.prev_length>=3&&j.match_length<=j.prev_length){ee=j.strstart+j.lookahead-3,B=M._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-3),j.lookahead-=j.prev_length-1,j.prev_length-=2;do{++j.strstart<=ee&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,L=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart)}while(0!=--j.prev_length);if(j.match_available=0,j.match_length=2,j.strstart++,B&&(u(j,!1),0===j.strm.avail_out))return 1}else if(j.match_available){if((B=M._tr_tally(j,0,j.window[j.strstart-1]))&&u(j,!1),j.strstart++,j.lookahead--,0===j.strm.avail_out)return 1}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(B=M._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<2?j.strstart:2,4===$?(u(j,!0),0===j.strm.avail_out?3:4):j.last_lit&&(u(j,!1),0===j.strm.avail_out)?1:2}function A(j,$,L,B,ee){this.good_length=j,this.max_lazy=$,this.nice_length=L,this.max_chain=B,this.func=ee}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(1146),this.dyn_dtree=new R.Buf16(122),this.bl_tree=new R.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(16),this.heap=new R.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(j){var $;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=2,($=j.state).pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?42:113,j.adler=2===$.wrap?0:1,$.last_flush=0,M._tr_init($),0):E(j,-2)}function X(j){var $,L=H(j);return 0===L&&(($=j.state).window_size=2*$.w_size,f($.head),$.max_lazy_match=k[$.level].max_lazy,$.good_match=k[$.level].good_length,$.nice_match=k[$.level].nice_length,$.max_chain_length=k[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=2,$.match_available=0,$.ins_h=0),L}function J(j,$,L,B,ee,N){if(!j)return-2;var V=1;if(-1===$&&($=6),B<0?(V=0,B=-B):B>15&&(V=2,B-=16),ee<1||ee>9||8!==L||B<8||B>15||$<0||$>9||N<0||N>4)return E(j,-2);8===B&&(B=9);var U=new P;return j.state=U,U.strm=j,U.wrap=V,U.gzhead=null,U.w_bits=B,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=ee+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+3-1)/3),U.window=new R.Buf8(2*U.w_size),U.head=new R.Buf16(U.hash_size),U.prev=new R.Buf16(U.w_size),U.lit_bufsize=1<<ee+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new R.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=$,U.strategy=N,U.method=L,X(j)}k=[new A(0,0,0,0,function(j,$){var L=65535;for(L>j.pending_buf_size-5&&(L=j.pending_buf_size-5);;){if(j.lookahead<=1){if(y(j),0===j.lookahead&&0===$)return 1;if(0===j.lookahead)break}j.strstart+=j.lookahead,j.lookahead=0;var B=j.block_start+L;if((0===j.strstart||j.strstart>=B)&&(j.lookahead=j.strstart-B,j.strstart=B,u(j,!1),0===j.strm.avail_out)||j.strstart-j.block_start>=j.w_size-262&&(u(j,!1),0===j.strm.avail_out))return 1}return j.insert=0,4===$?(u(j,!0),0===j.strm.avail_out?3:4):(j.strstart>j.block_start&&u(j,!1),1)}),new A(4,4,8,4,b),new A(4,5,16,8,b),new A(4,6,32,32,b),new A(4,4,16,16,S),new A(8,16,32,32,S),new A(8,16,128,128,S),new A(8,32,128,256,S),new A(32,128,258,1024,S),new A(32,258,258,4096,S)],W.deflateInit=function(j,$){return J(j,$,8,15,8,0)},W.deflateInit2=J,W.deflateReset=X,W.deflateResetKeep=H,W.deflateSetHeader=function(j,$){return j&&j.state?2!==j.state.wrap?-2:(j.state.gzhead=$,0):-2},W.deflate=function(j,$){var L,B,ee,N;if(!j||!j.state||$>5||$<0)return j?E(j,-2):-2;if(B=j.state,!j.output||!j.input&&0!==j.avail_in||666===B.status&&4!==$)return E(j,0===j.avail_out?-5:-2);if(B.strm=j,L=B.last_flush,B.last_flush=$,42===B.status)if(2===B.wrap)j.adler=0,c(B,31),c(B,139),c(B,8),B.gzhead?(c(B,(B.gzhead.text?1:0)+(B.gzhead.hcrc?2:0)+(B.gzhead.extra?4:0)+(B.gzhead.name?8:0)+(B.gzhead.comment?16:0)),c(B,255&B.gzhead.time),c(B,B.gzhead.time>>8&255),c(B,B.gzhead.time>>16&255),c(B,B.gzhead.time>>24&255),c(B,9===B.level?2:B.strategy>=2||B.level<2?4:0),c(B,255&B.gzhead.os),B.gzhead.extra&&B.gzhead.extra.length&&(c(B,255&B.gzhead.extra.length),c(B,B.gzhead.extra.length>>8&255)),B.gzhead.hcrc&&(j.adler=O(j.adler,B.pending_buf,B.pending,0)),B.gzindex=0,B.status=69):(c(B,0),c(B,0),c(B,0),c(B,0),c(B,0),c(B,9===B.level?2:B.strategy>=2||B.level<2?4:0),c(B,3),B.status=113);else{var V=8+(B.w_bits-8<<4)<<8;V|=(B.strategy>=2||B.level<2?0:B.level<6?1:6===B.level?2:3)<<6,0!==B.strstart&&(V|=32),V+=31-V%31,B.status=113,m(B,V),0!==B.strstart&&(m(B,j.adler>>>16),m(B,65535&j.adler)),j.adler=1}if(69===B.status)if(B.gzhead.extra){for(ee=B.pending;B.gzindex<(65535&B.gzhead.extra.length)&&(B.pending!==B.pending_buf_size||(B.gzhead.hcrc&&B.pending>ee&&(j.adler=O(j.adler,B.pending_buf,B.pending-ee,ee)),d(j),ee=B.pending,B.pending!==B.pending_buf_size));)c(B,255&B.gzhead.extra[B.gzindex]),B.gzindex++;B.gzhead.hcrc&&B.pending>ee&&(j.adler=O(j.adler,B.pending_buf,B.pending-ee,ee)),B.gzindex===B.gzhead.extra.length&&(B.gzindex=0,B.status=73)}else B.status=73;if(73===B.status)if(B.gzhead.name){ee=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>ee&&(j.adler=O(j.adler,B.pending_buf,B.pending-ee,ee)),d(j),ee=B.pending,B.pending===B.pending_buf_size)){N=1;break}N=B.gzindex<B.gzhead.name.length?255&B.gzhead.name.charCodeAt(B.gzindex++):0,c(B,N)}while(0!==N);B.gzhead.hcrc&&B.pending>ee&&(j.adler=O(j.adler,B.pending_buf,B.pending-ee,ee)),0===N&&(B.gzindex=0,B.status=91)}else B.status=91;if(91===B.status)if(B.gzhead.comment){ee=B.pending;do{if(B.pending===B.pending_buf_size&&(B.gzhead.hcrc&&B.pending>ee&&(j.adler=O(j.adler,B.pending_buf,B.pending-ee,ee)),d(j),ee=B.pending,B.pending===B.pending_buf_size)){N=1;break}N=B.gzindex<B.gzhead.comment.length?255&B.gzhead.comment.charCodeAt(B.gzindex++):0,c(B,N)}while(0!==N);B.gzhead.hcrc&&B.pending>ee&&(j.adler=O(j.adler,B.pending_buf,B.pending-ee,ee)),0===N&&(B.status=103)}else B.status=103;if(103===B.status&&(B.gzhead.hcrc?(B.pending+2>B.pending_buf_size&&d(j),B.pending+2<=B.pending_buf_size&&(c(B,255&j.adler),c(B,j.adler>>8&255),j.adler=0,B.status=113)):B.status=113),0!==B.pending){if(d(j),0===j.avail_out)return B.last_flush=-1,0}else if(0===j.avail_in&&C($)<=C(L)&&4!==$)return E(j,-5);if(666===B.status&&0!==j.avail_in)return E(j,-5);if(0!==j.avail_in||0!==B.lookahead||0!==$&&666!==B.status){var U=2===B.strategy?function(Q,Z){for(var K;;){if(0===Q.lookahead&&(y(Q),0===Q.lookahead)){if(0===Z)return 1;break}if(Q.match_length=0,K=M._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++,K&&(u(Q,!1),0===Q.strm.avail_out))return 1}return Q.insert=0,4===Z?(u(Q,!0),0===Q.strm.avail_out?3:4):Q.last_lit&&(u(Q,!1),0===Q.strm.avail_out)?1:2}(B,$):3===B.strategy?function(Q,Z){for(var K,ne,ue,ce,de=Q.window;;){if(Q.lookahead<=258){if(y(Q),Q.lookahead<=258&&0===Z)return 1;if(0===Q.lookahead)break}if(Q.match_length=0,Q.lookahead>=3&&Q.strstart>0&&(ne=de[ue=Q.strstart-1])===de[++ue]&&ne===de[++ue]&&ne===de[++ue]){ce=Q.strstart+258;do{}while(ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ne===de[++ue]&&ue<ce);Q.match_length=258-(ce-ue),Q.match_length>Q.lookahead&&(Q.match_length=Q.lookahead)}if(Q.match_length>=3?(K=M._tr_tally(Q,1,Q.match_length-3),Q.lookahead-=Q.match_length,Q.strstart+=Q.match_length,Q.match_length=0):(K=M._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++),K&&(u(Q,!1),0===Q.strm.avail_out))return 1}return Q.insert=0,4===Z?(u(Q,!0),0===Q.strm.avail_out?3:4):Q.last_lit&&(u(Q,!1),0===Q.strm.avail_out)?1:2}(B,$):k[B.level].func(B,$);if(3!==U&&4!==U||(B.status=666),1===U||3===U)return 0===j.avail_out&&(B.last_flush=-1),0;if(2===U&&(1===$?M._tr_align(B):5!==$&&(M._tr_stored_block(B,0,0,!1),3===$&&(f(B.head),0===B.lookahead&&(B.strstart=0,B.block_start=0,B.insert=0))),d(j),0===j.avail_out))return B.last_flush=-1,0}return 4!==$?0:B.wrap<=0?1:(2===B.wrap?(c(B,255&j.adler),c(B,j.adler>>8&255),c(B,j.adler>>16&255),c(B,j.adler>>24&255),c(B,255&j.total_in),c(B,j.total_in>>8&255),c(B,j.total_in>>16&255),c(B,j.total_in>>24&255)):(m(B,j.adler>>>16),m(B,65535&j.adler)),d(j),B.wrap>0&&(B.wrap=-B.wrap),0!==B.pending?0:1)},W.deflateEnd=function(j){var $;return j&&j.state?42!==($=j.state.status)&&69!==$&&73!==$&&91!==$&&103!==$&&113!==$&&666!==$?E(j,-2):(j.state=null,113===$?E(j,-3):0):-2},W.deflateSetDictionary=function(j,$){var L,B,ee,N,V,U,Q,Z,K=$.length;if(!j||!j.state||2===(N=(L=j.state).wrap)||1===N&&42!==L.status||L.lookahead)return-2;for(1===N&&(j.adler=x(j.adler,$,K,0)),L.wrap=0,K>=L.w_size&&(0===N&&(f(L.head),L.strstart=0,L.block_start=0,L.insert=0),Z=new R.Buf8(L.w_size),R.arraySet(Z,$,K-L.w_size,L.w_size,0),$=Z,K=L.w_size),V=j.avail_in,U=j.next_in,Q=j.input,j.avail_in=K,j.next_in=0,j.input=$,y(L);L.lookahead>=3;){B=L.strstart,ee=L.lookahead-2;do{L.ins_h=(L.ins_h<<L.hash_shift^L.window[B+3-1])&L.hash_mask,L.prev[B&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=B,B++}while(--ee);L.strstart=B,L.lookahead=2,y(L)}return L.strstart+=L.lookahead,L.block_start=L.strstart,L.insert=L.lookahead,L.lookahead=0,L.match_length=L.prev_length=2,L.match_available=0,j.next_in=U,j.input=Q,j.avail_in=V,L.wrap=N,0},W.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":442,"./adler32":444,"./crc32":446,"./messages":452,"./trees":453}],448:[function(T,te,W){"use strict";te.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],449:[function(T,te,W){"use strict";te.exports=function(k,R){var M,x,O,w,E,C,f,d,u,c,m,g,y,b,S,A,P,H,X,J,j,$,L,B,ee;B=k.input,O=(x=k.next_in)+(k.avail_in-5),ee=k.output,E=(w=k.next_out)-(R-k.avail_out),C=w+(k.avail_out-257),f=(M=k.state).dmax,d=M.wsize,u=M.whave,c=M.wnext,m=M.window,g=M.hold,y=M.bits,b=M.lencode,S=M.distcode,A=(1<<M.lenbits)-1,P=(1<<M.distbits)-1;e:do{y<15&&(g+=B[x++]<<y,g+=B[x++]<<(y+=8),y+=8),H=b[g&A];t:for(;;){if(g>>>=X=H>>>24,y-=X,0==(X=H>>>16&255))ee[w++]=65535&H;else{if(!(16&X)){if(0==(64&X)){H=b[(65535&H)+(g&(1<<X)-1)];continue t}if(32&X){M.mode=12;break e}k.msg="invalid literal/length code",M.mode=30;break e}J=65535&H,(X&=15)&&(y<X&&(g+=B[x++]<<y,y+=8),J+=g&(1<<X)-1,g>>>=X,y-=X),y<15&&(g+=B[x++]<<y,g+=B[x++]<<(y+=8),y+=8),H=S[g&P];n:for(;;){if(g>>>=X=H>>>24,y-=X,!(16&(X=H>>>16&255))){if(0==(64&X)){H=S[(65535&H)+(g&(1<<X)-1)];continue n}k.msg="invalid distance code",M.mode=30;break e}if(j=65535&H,y<(X&=15)&&(g+=B[x++]<<y,(y+=8)<X&&(g+=B[x++]<<y,y+=8)),(j+=g&(1<<X)-1)>f){k.msg="invalid distance too far back",M.mode=30;break e}if(g>>>=X,y-=X,j>(X=w-E)){if((X=j-X)>u&&M.sane){k.msg="invalid distance too far back",M.mode=30;break e}if($=0,L=m,0===c){if($+=d-X,X<J){J-=X;do{ee[w++]=m[$++]}while(--X);$=w-j,L=ee}}else if(c<X){if($+=d+c-X,(X-=c)<J){J-=X;do{ee[w++]=m[$++]}while(--X);if($=0,c<J){J-=X=c;do{ee[w++]=m[$++]}while(--X);$=w-j,L=ee}}}else if($+=c-X,X<J){J-=X;do{ee[w++]=m[$++]}while(--X);$=w-j,L=ee}for(;J>2;)ee[w++]=L[$++],ee[w++]=L[$++],ee[w++]=L[$++],J-=3;J&&(ee[w++]=L[$++],J>1&&(ee[w++]=L[$++]))}else{$=w-j;do{ee[w++]=ee[$++],ee[w++]=ee[$++],ee[w++]=ee[$++],J-=3}while(J>2);J&&(ee[w++]=ee[$++],J>1&&(ee[w++]=ee[$++]))}break}}break}}while(x<O&&w<C);x-=J=y>>3,g&=(1<<(y-=J<<3))-1,k.next_in=x,k.next_out=w,k.avail_in=x<O?O-x+5:5-(x-O),k.avail_out=w<C?C-w+257:257-(w-C),M.hold=g,M.bits=y}},{}],450:[function(T,te,W){"use strict";var k=T("../utils/common"),R=T("./adler32"),M=T("./crc32"),x=T("./inffast"),O=T("./inftrees");function w(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new k.Buf16(320),this.work=new k.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(S){var A;return S&&S.state?(S.total_in=S.total_out=(A=S.state).total=0,S.msg="",A.wrap&&(S.adler=1&A.wrap),A.mode=1,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new k.Buf32(852),A.distcode=A.distdyn=new k.Buf32(592),A.sane=1,A.back=-1,0):-2}function f(S){var A;return S&&S.state?((A=S.state).wsize=0,A.whave=0,A.wnext=0,C(S)):-2}function d(S,A){var P,H;return S&&S.state?(H=S.state,A<0?(P=0,A=-A):(P=1+(A>>4),A<48&&(A&=15)),A&&(A<8||A>15)?-2:(null!==H.window&&H.wbits!==A&&(H.window=null),H.wrap=P,H.wbits=A,f(S))):-2}function u(S,A){var P,H;return S?(H=new E,S.state=H,H.window=null,0!==(P=d(S,A))&&(S.state=null),P):-2}var c,m,g=!0;function y(S){if(g){var A;for(c=new k.Buf32(512),m=new k.Buf32(32),A=0;A<144;)S.lens[A++]=8;for(;A<256;)S.lens[A++]=9;for(;A<280;)S.lens[A++]=7;for(;A<288;)S.lens[A++]=8;for(O(1,S.lens,0,288,c,0,S.work,{bits:9}),A=0;A<32;)S.lens[A++]=5;O(2,S.lens,0,32,m,0,S.work,{bits:5}),g=!1}S.lencode=c,S.lenbits=9,S.distcode=m,S.distbits=5}function b(S,A,P,H){var X,J=S.state;return null===J.window&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new k.Buf8(J.wsize)),H>=J.wsize?(k.arraySet(J.window,A,P-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):((X=J.wsize-J.wnext)>H&&(X=H),k.arraySet(J.window,A,P-H,X,J.wnext),(H-=X)?(k.arraySet(J.window,A,P-H,H,0),J.wnext=H,J.whave=J.wsize):(J.wnext+=X,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=X))),0}W.inflateReset=f,W.inflateReset2=d,W.inflateResetKeep=C,W.inflateInit=function(S){return u(S,15)},W.inflateInit2=u,W.inflate=function(S,A){var P,H,X,J,j,$,L,B,ee,N,V,U,Q,Z,K,ne,ue,ce,de,pe,_e,me,q,oe,se=0,ve=new k.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&0!==S.avail_in)return-2;12===(P=S.state).mode&&(P.mode=13),j=S.next_out,X=S.output,J=S.next_in,H=S.input,B=P.hold,ee=P.bits,N=$=S.avail_in,V=L=S.avail_out,me=0;e:for(;;)switch(P.mode){case 1:if(0===P.wrap){P.mode=13;break}for(;ee<16;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(2&P.wrap&&35615===B){P.check=0,ve[0]=255&B,ve[1]=B>>>8&255,P.check=M(P.check,ve,2,0),B=0,ee=0,P.mode=2;break}if(P.flags=0,P.head&&(P.head.done=!1),!(1&P.wrap)||(((255&B)<<8)+(B>>8))%31){S.msg="incorrect header check",P.mode=30;break}if(8!=(15&B)){S.msg="unknown compression method",P.mode=30;break}if(ee-=4,_e=8+(15&(B>>>=4)),0===P.wbits)P.wbits=_e;else if(_e>P.wbits){S.msg="invalid window size",P.mode=30;break}P.dmax=1<<_e,S.adler=P.check=1,P.mode=512&B?10:12,B=0,ee=0;break;case 2:for(;ee<16;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(P.flags=B,8!=(255&P.flags)){S.msg="unknown compression method",P.mode=30;break}if(57344&P.flags){S.msg="unknown header flags set",P.mode=30;break}P.head&&(P.head.text=B>>8&1),512&P.flags&&(ve[0]=255&B,ve[1]=B>>>8&255,P.check=M(P.check,ve,2,0)),B=0,ee=0,P.mode=3;case 3:for(;ee<32;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}P.head&&(P.head.time=B),512&P.flags&&(ve[0]=255&B,ve[1]=B>>>8&255,ve[2]=B>>>16&255,ve[3]=B>>>24&255,P.check=M(P.check,ve,4,0)),B=0,ee=0,P.mode=4;case 4:for(;ee<16;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}P.head&&(P.head.xflags=255&B,P.head.os=B>>8),512&P.flags&&(ve[0]=255&B,ve[1]=B>>>8&255,P.check=M(P.check,ve,2,0)),B=0,ee=0,P.mode=5;case 5:if(1024&P.flags){for(;ee<16;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}P.length=B,P.head&&(P.head.extra_len=B),512&P.flags&&(ve[0]=255&B,ve[1]=B>>>8&255,P.check=M(P.check,ve,2,0)),B=0,ee=0}else P.head&&(P.head.extra=null);P.mode=6;case 6:if(1024&P.flags&&((U=P.length)>$&&(U=$),U&&(P.head&&(_e=P.head.extra_len-P.length,P.head.extra||(P.head.extra=new Array(P.head.extra_len)),k.arraySet(P.head.extra,H,J,U,_e)),512&P.flags&&(P.check=M(P.check,H,U,J)),$-=U,J+=U,P.length-=U),P.length))break e;P.length=0,P.mode=7;case 7:if(2048&P.flags){if(0===$)break e;U=0;do{_e=H[J+U++],P.head&&_e&&P.length<65536&&(P.head.name+=String.fromCharCode(_e))}while(_e&&U<$);if(512&P.flags&&(P.check=M(P.check,H,U,J)),$-=U,J+=U,_e)break e}else P.head&&(P.head.name=null);P.length=0,P.mode=8;case 8:if(4096&P.flags){if(0===$)break e;U=0;do{_e=H[J+U++],P.head&&_e&&P.length<65536&&(P.head.comment+=String.fromCharCode(_e))}while(_e&&U<$);if(512&P.flags&&(P.check=M(P.check,H,U,J)),$-=U,J+=U,_e)break e}else P.head&&(P.head.comment=null);P.mode=9;case 9:if(512&P.flags){for(;ee<16;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(B!==(65535&P.check)){S.msg="header crc mismatch",P.mode=30;break}B=0,ee=0}P.head&&(P.head.hcrc=P.flags>>9&1,P.head.done=!0),S.adler=P.check=0,P.mode=12;break;case 10:for(;ee<32;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}S.adler=P.check=w(B),B=0,ee=0,P.mode=11;case 11:if(0===P.havedict)return S.next_out=j,S.avail_out=L,S.next_in=J,S.avail_in=$,P.hold=B,P.bits=ee,2;S.adler=P.check=1,P.mode=12;case 12:if(5===A||6===A)break e;case 13:if(P.last){B>>>=7&ee,ee-=7&ee,P.mode=27;break}for(;ee<3;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}switch(P.last=1&B,ee-=1,3&(B>>>=1)){case 0:P.mode=14;break;case 1:if(y(P),P.mode=20,6===A){B>>>=2,ee-=2;break e}break;case 2:P.mode=17;break;case 3:S.msg="invalid block type",P.mode=30}B>>>=2,ee-=2;break;case 14:for(B>>>=7&ee,ee-=7&ee;ee<32;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if((65535&B)!=(B>>>16^65535)){S.msg="invalid stored block lengths",P.mode=30;break}if(P.length=65535&B,B=0,ee=0,P.mode=15,6===A)break e;case 15:P.mode=16;case 16:if(U=P.length){if(U>$&&(U=$),U>L&&(U=L),0===U)break e;k.arraySet(X,H,J,U,j),$-=U,J+=U,L-=U,j+=U,P.length-=U;break}P.mode=12;break;case 17:for(;ee<14;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(P.nlen=257+(31&B),ee-=5,P.ndist=1+(31&(B>>>=5)),ee-=5,P.ncode=4+(15&(B>>>=5)),B>>>=4,ee-=4,P.nlen>286||P.ndist>30){S.msg="too many length or distance symbols",P.mode=30;break}P.have=0,P.mode=18;case 18:for(;P.have<P.ncode;){for(;ee<3;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}P.lens[Se[P.have++]]=7&B,B>>>=3,ee-=3}for(;P.have<19;)P.lens[Se[P.have++]]=0;if(P.lencode=P.lendyn,P.lenbits=7,me=O(0,P.lens,0,19,P.lencode,0,P.work,q={bits:P.lenbits}),P.lenbits=q.bits,me){S.msg="invalid code lengths set",P.mode=30;break}P.have=0,P.mode=19;case 19:for(;P.have<P.nlen+P.ndist;){for(;ne=(se=P.lencode[B&(1<<P.lenbits)-1])>>>16&255,ue=65535&se,!((K=se>>>24)<=ee);){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(ue<16)B>>>=K,ee-=K,P.lens[P.have++]=ue;else{if(16===ue){for(oe=K+2;ee<oe;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(B>>>=K,ee-=K,0===P.have){S.msg="invalid bit length repeat",P.mode=30;break}_e=P.lens[P.have-1],U=3+(3&B),B>>>=2,ee-=2}else if(17===ue){for(oe=K+3;ee<oe;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}ee-=K,_e=0,U=3+(7&(B>>>=K)),B>>>=3,ee-=3}else{for(oe=K+7;ee<oe;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}ee-=K,_e=0,U=11+(127&(B>>>=K)),B>>>=7,ee-=7}if(P.have+U>P.nlen+P.ndist){S.msg="invalid bit length repeat",P.mode=30;break}for(;U--;)P.lens[P.have++]=_e}}if(30===P.mode)break;if(0===P.lens[256]){S.msg="invalid code -- missing end-of-block",P.mode=30;break}if(P.lenbits=9,me=O(1,P.lens,0,P.nlen,P.lencode,0,P.work,q={bits:P.lenbits}),P.lenbits=q.bits,me){S.msg="invalid literal/lengths set",P.mode=30;break}if(P.distbits=6,P.distcode=P.distdyn,me=O(2,P.lens,P.nlen,P.ndist,P.distcode,0,P.work,q={bits:P.distbits}),P.distbits=q.bits,me){S.msg="invalid distances set",P.mode=30;break}if(P.mode=20,6===A)break e;case 20:P.mode=21;case 21:if($>=6&&L>=258){S.next_out=j,S.avail_out=L,S.next_in=J,S.avail_in=$,P.hold=B,P.bits=ee,x(S,V),j=S.next_out,X=S.output,L=S.avail_out,J=S.next_in,H=S.input,$=S.avail_in,B=P.hold,ee=P.bits,12===P.mode&&(P.back=-1);break}for(P.back=0;ne=(se=P.lencode[B&(1<<P.lenbits)-1])>>>16&255,ue=65535&se,!((K=se>>>24)<=ee);){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(ne&&0==(240&ne)){for(ce=K,de=ne,pe=ue;ne=(se=P.lencode[pe+((B&(1<<ce+de)-1)>>ce)])>>>16&255,ue=65535&se,!(ce+(K=se>>>24)<=ee);){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}B>>>=ce,ee-=ce,P.back+=ce}if(B>>>=K,ee-=K,P.back+=K,P.length=ue,0===ne){P.mode=26;break}if(32&ne){P.back=-1,P.mode=12;break}if(64&ne){S.msg="invalid literal/length code",P.mode=30;break}P.extra=15&ne,P.mode=22;case 22:if(P.extra){for(oe=P.extra;ee<oe;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}P.length+=B&(1<<P.extra)-1,B>>>=P.extra,ee-=P.extra,P.back+=P.extra}P.was=P.length,P.mode=23;case 23:for(;ne=(se=P.distcode[B&(1<<P.distbits)-1])>>>16&255,ue=65535&se,!((K=se>>>24)<=ee);){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(0==(240&ne)){for(ce=K,de=ne,pe=ue;ne=(se=P.distcode[pe+((B&(1<<ce+de)-1)>>ce)])>>>16&255,ue=65535&se,!(ce+(K=se>>>24)<=ee);){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}B>>>=ce,ee-=ce,P.back+=ce}if(B>>>=K,ee-=K,P.back+=K,64&ne){S.msg="invalid distance code",P.mode=30;break}P.offset=ue,P.extra=15&ne,P.mode=24;case 24:if(P.extra){for(oe=P.extra;ee<oe;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}P.offset+=B&(1<<P.extra)-1,B>>>=P.extra,ee-=P.extra,P.back+=P.extra}if(P.offset>P.dmax){S.msg="invalid distance too far back",P.mode=30;break}P.mode=25;case 25:if(0===L)break e;if(P.offset>(U=V-L)){if((U=P.offset-U)>P.whave&&P.sane){S.msg="invalid distance too far back",P.mode=30;break}Q=U>P.wnext?P.wsize-(U-=P.wnext):P.wnext-U,U>P.length&&(U=P.length),Z=P.window}else Z=X,Q=j-P.offset,U=P.length;U>L&&(U=L),L-=U,P.length-=U;do{X[j++]=Z[Q++]}while(--U);0===P.length&&(P.mode=21);break;case 26:if(0===L)break e;X[j++]=P.length,L--,P.mode=21;break;case 27:if(P.wrap){for(;ee<32;){if(0===$)break e;$--,B|=H[J++]<<ee,ee+=8}if(S.total_out+=V-=L,P.total+=V,V&&(S.adler=P.check=P.flags?M(P.check,X,V,j-V):R(P.check,X,V,j-V)),V=L,(P.flags?B:w(B))!==P.check){S.msg="incorrect data check",P.mode=30;break}B=0,ee=0}P.mode=28;case 28:if(P.wrap&&P.flags){for(;ee<32;){if(0===$)break e;$--,B+=H[J++]<<ee,ee+=8}if(B!==(4294967295&P.total)){S.msg="incorrect length check",P.mode=30;break}B=0,ee=0}P.mode=29;case 29:me=1;break e;case 30:me=-3;break e;case 31:return-4;default:return-2}return S.next_out=j,S.avail_out=L,S.next_in=J,S.avail_in=$,P.hold=B,P.bits=ee,(P.wsize||V!==S.avail_out&&P.mode<30&&(P.mode<27||4!==A))&&b(S,S.output,S.next_out,V-S.avail_out)?(P.mode=31,-4):(V-=S.avail_out,S.total_in+=N-=S.avail_in,S.total_out+=V,P.total+=V,P.wrap&&V&&(S.adler=P.check=P.flags?M(P.check,X,V,S.next_out-V):R(P.check,X,V,S.next_out-V)),S.data_type=P.bits+(P.last?64:0)+(12===P.mode?128:0)+(20===P.mode||15===P.mode?256:0),(0===N&&0===V||4===A)&&0===me&&(me=-5),me)},W.inflateEnd=function(S){if(!S||!S.state)return-2;var A=S.state;return A.window&&(A.window=null),S.state=null,0},W.inflateGetHeader=function(S,A){var P;return S&&S.state?0==(2&(P=S.state).wrap)?-2:(P.head=A,A.done=!1,0):-2},W.inflateSetDictionary=function(S,A){var P,H=A.length;return S&&S.state?0!==(P=S.state).wrap&&11!==P.mode?-2:11===P.mode&&R(1,A,H,0)!==P.check?-3:b(S,A,H,H)?(P.mode=31,-4):(P.havedict=1,0):-2},W.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":442,"./adler32":444,"./crc32":446,"./inffast":449,"./inftrees":451}],451:[function(T,te,W){"use strict";var k=T("../utils/common"),R=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],M=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],O=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];te.exports=function(w,E,C,f,d,u,c,m){var g,y,b,S,A,P,H,X,J,j=m.bits,$=0,L=0,B=0,ee=0,N=0,V=0,U=0,Q=0,Z=0,K=0,ne=null,ue=0,ce=new k.Buf16(16),de=new k.Buf16(16),pe=null,_e=0;for($=0;$<=15;$++)ce[$]=0;for(L=0;L<f;L++)ce[E[C+L]]++;for(N=j,ee=15;ee>=1&&0===ce[ee];ee--);if(N>ee&&(N=ee),0===ee)return d[u++]=20971520,d[u++]=20971520,m.bits=1,0;for(B=1;B<ee&&0===ce[B];B++);for(N<B&&(N=B),Q=1,$=1;$<=15;$++)if(Q<<=1,(Q-=ce[$])<0)return-1;if(Q>0&&(0===w||1!==ee))return-1;for(de[1]=0,$=1;$<15;$++)de[$+1]=de[$]+ce[$];for(L=0;L<f;L++)0!==E[C+L]&&(c[de[E[C+L]]++]=L);if(0===w?(ne=pe=c,P=19):1===w?(ne=R,ue-=257,pe=M,_e-=257,P=256):(ne=x,pe=O,P=-1),K=0,L=0,$=B,A=u,V=N,U=0,b=-1,S=(Z=1<<N)-1,1===w&&Z>852||2===w&&Z>592)return 1;for(;;){H=$-U,c[L]<P?(X=0,J=c[L]):c[L]>P?(X=pe[_e+c[L]],J=ne[ue+c[L]]):(X=96,J=0),g=1<<$-U,B=y=1<<V;do{d[A+(K>>U)+(y-=g)]=H<<24|X<<16|J|0}while(0!==y);for(g=1<<$-1;K&g;)g>>=1;if(0!==g?(K&=g-1,K+=g):K=0,L++,0==--ce[$]){if($===ee)break;$=E[C+c[L]]}if($>N&&(K&S)!==b){for(0===U&&(U=N),A+=B,Q=1<<(V=$-U);V+U<ee&&!((Q-=ce[V+U])<=0);)V++,Q<<=1;if(Z+=1<<V,1===w&&Z>852||2===w&&Z>592)return 1;d[b=K&S]=N<<24|V<<16|A-u|0}}return 0!==K&&(d[A+K]=$-U<<24|64<<16|0),m.bits=N,0}},{"../utils/common":442}],452:[function(T,te,W){"use strict";te.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],453:[function(T,te,W){"use strict";var k=T("../utils/common");function R(ne){for(var ue=ne.length;--ue>=0;)ne[ue]=0}var M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(576);R(E);var C=new Array(60);R(C);var f=new Array(512);R(f);var d=new Array(256);R(d);var u=new Array(29);R(u);var c,m,g,y=new Array(30);function b(ne,ue,ce,de,pe){this.static_tree=ne,this.extra_bits=ue,this.extra_base=ce,this.elems=de,this.max_length=pe,this.has_stree=ne&&ne.length}function S(ne,ue){this.dyn_tree=ne,this.max_code=0,this.stat_desc=ue}function A(ne){return ne<256?f[ne]:f[256+(ne>>>7)]}function P(ne,ue){ne.pending_buf[ne.pending++]=255&ue,ne.pending_buf[ne.pending++]=ue>>>8&255}function H(ne,ue,ce){ne.bi_valid>16-ce?(ne.bi_buf|=ue<<ne.bi_valid&65535,P(ne,ne.bi_buf),ne.bi_buf=ue>>16-ne.bi_valid,ne.bi_valid+=ce-16):(ne.bi_buf|=ue<<ne.bi_valid&65535,ne.bi_valid+=ce)}function X(ne,ue,ce){H(ne,ce[2*ue],ce[2*ue+1])}function J(ne,ue){var ce=0;do{ce|=1&ne,ne>>>=1,ce<<=1}while(--ue>0);return ce>>>1}function j(ne,ue,ce){var de,pe,_e=new Array(16),me=0;for(de=1;de<=15;de++)_e[de]=me=me+ce[de-1]<<1;for(pe=0;pe<=ue;pe++){var q=ne[2*pe+1];0!==q&&(ne[2*pe]=J(_e[q]++,q))}}function $(ne){var ue;for(ue=0;ue<286;ue++)ne.dyn_ltree[2*ue]=0;for(ue=0;ue<30;ue++)ne.dyn_dtree[2*ue]=0;for(ue=0;ue<19;ue++)ne.bl_tree[2*ue]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function L(ne){ne.bi_valid>8?P(ne,ne.bi_buf):ne.bi_valid>0&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function B(ne,ue,ce,de){var pe=2*ue,_e=2*ce;return ne[pe]<ne[_e]||ne[pe]===ne[_e]&&de[ue]<=de[ce]}function ee(ne,ue,ce){for(var de=ne.heap[ce],pe=ce<<1;pe<=ne.heap_len&&(pe<ne.heap_len&&B(ue,ne.heap[pe+1],ne.heap[pe],ne.depth)&&pe++,!B(ue,de,ne.heap[pe],ne.depth));)ne.heap[ce]=ne.heap[pe],ce=pe,pe<<=1;ne.heap[ce]=de}function N(ne,ue,ce){var de,pe,_e,me,q=0;if(0!==ne.last_lit)do{de=ne.pending_buf[ne.d_buf+2*q]<<8|ne.pending_buf[ne.d_buf+2*q+1],pe=ne.pending_buf[ne.l_buf+q],q++,0===de?X(ne,pe,ue):(X(ne,(_e=d[pe])+256+1,ue),0!==(me=M[_e])&&H(ne,pe-=u[_e],me),X(ne,_e=A(--de),ce),0!==(me=x[_e])&&H(ne,de-=y[_e],me))}while(q<ne.last_lit);X(ne,256,ue)}function V(ne,ue){var ce,de,pe,_e=ue.dyn_tree,me=ue.stat_desc.static_tree,q=ue.stat_desc.has_stree,oe=ue.stat_desc.elems,se=-1;for(ne.heap_len=0,ne.heap_max=573,ce=0;ce<oe;ce++)0!==_e[2*ce]?(ne.heap[++ne.heap_len]=se=ce,ne.depth[ce]=0):_e[2*ce+1]=0;for(;ne.heap_len<2;)_e[2*(pe=ne.heap[++ne.heap_len]=se<2?++se:0)]=1,ne.depth[pe]=0,ne.opt_len--,q&&(ne.static_len-=me[2*pe+1]);for(ue.max_code=se,ce=ne.heap_len>>1;ce>=1;ce--)ee(ne,_e,ce);pe=oe;do{ce=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],ee(ne,_e,1),de=ne.heap[1],ne.heap[--ne.heap_max]=ce,ne.heap[--ne.heap_max]=de,_e[2*pe]=_e[2*ce]+_e[2*de],ne.depth[pe]=(ne.depth[ce]>=ne.depth[de]?ne.depth[ce]:ne.depth[de])+1,_e[2*ce+1]=_e[2*de+1]=pe,ne.heap[1]=pe++,ee(ne,_e,1)}while(ne.heap_len>=2);ne.heap[--ne.heap_max]=ne.heap[1],function(ve,Se){var De,qe,je,Ye,st,ct,ht=Se.dyn_tree,sn=Se.max_code,bt=Se.stat_desc.static_tree,It=Se.stat_desc.has_stree,ln=Se.stat_desc.extra_bits,nt=Se.stat_desc.extra_base,Xe=Se.stat_desc.max_length,Ae=0;for(Ye=0;Ye<=15;Ye++)ve.bl_count[Ye]=0;for(ht[2*ve.heap[ve.heap_max]+1]=0,De=ve.heap_max+1;De<573;De++)(Ye=ht[2*ht[2*(qe=ve.heap[De])+1]+1]+1)>Xe&&(Ye=Xe,Ae++),ht[2*qe+1]=Ye,qe>sn||(ve.bl_count[Ye]++,st=0,qe>=nt&&(st=ln[qe-nt]),ve.opt_len+=(ct=ht[2*qe])*(Ye+st),It&&(ve.static_len+=ct*(bt[2*qe+1]+st)));if(0!==Ae){do{for(Ye=Xe-1;0===ve.bl_count[Ye];)Ye--;ve.bl_count[Ye]--,ve.bl_count[Ye+1]+=2,ve.bl_count[Xe]--,Ae-=2}while(Ae>0);for(Ye=Xe;0!==Ye;Ye--)for(qe=ve.bl_count[Ye];0!==qe;)(je=ve.heap[--De])>sn||(ht[2*je+1]!==Ye&&(ve.opt_len+=(Ye-ht[2*je+1])*ht[2*je],ht[2*je+1]=Ye),qe--)}}(ne,ue),j(_e,se,ne.bl_count)}function U(ne,ue,ce){var de,pe,_e=-1,me=ue[1],q=0,oe=7,se=4;for(0===me&&(oe=138,se=3),ue[2*(ce+1)+1]=65535,de=0;de<=ce;de++)pe=me,me=ue[2*(de+1)+1],++q<oe&&pe===me||(q<se?ne.bl_tree[2*pe]+=q:0!==pe?(pe!==_e&&ne.bl_tree[2*pe]++,ne.bl_tree[32]++):q<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,q=0,_e=pe,0===me?(oe=138,se=3):pe===me?(oe=6,se=3):(oe=7,se=4))}function Q(ne,ue,ce){var de,pe,_e=-1,me=ue[1],q=0,oe=7,se=4;for(0===me&&(oe=138,se=3),de=0;de<=ce;de++)if(pe=me,me=ue[2*(de+1)+1],!(++q<oe&&pe===me)){if(q<se)do{X(ne,pe,ne.bl_tree)}while(0!=--q);else 0!==pe?(pe!==_e&&(X(ne,pe,ne.bl_tree),q--),X(ne,16,ne.bl_tree),H(ne,q-3,2)):q<=10?(X(ne,17,ne.bl_tree),H(ne,q-3,3)):(X(ne,18,ne.bl_tree),H(ne,q-11,7));q=0,_e=pe,0===me?(oe=138,se=3):pe===me?(oe=6,se=3):(oe=7,se=4)}}R(y);var Z=!1;function K(ne,ue,ce,de){var pe,_e,me;H(ne,0+(de?1:0),3),_e=ue,me=ce,L(pe=ne),P(pe,me),P(pe,~me),k.arraySet(pe.pending_buf,pe.window,_e,me,pe.pending),pe.pending+=me}W._tr_init=function(ne){Z||(function(){var ue,ce,de,pe,_e,me=new Array(16);for(de=0,pe=0;pe<28;pe++)for(u[pe]=de,ue=0;ue<1<<M[pe];ue++)d[de++]=pe;for(d[de-1]=pe,_e=0,pe=0;pe<16;pe++)for(y[pe]=_e,ue=0;ue<1<<x[pe];ue++)f[_e++]=pe;for(_e>>=7;pe<30;pe++)for(y[pe]=_e<<7,ue=0;ue<1<<x[pe]-7;ue++)f[256+_e++]=pe;for(ce=0;ce<=15;ce++)me[ce]=0;for(ue=0;ue<=143;)E[2*ue+1]=8,ue++,me[8]++;for(;ue<=255;)E[2*ue+1]=9,ue++,me[9]++;for(;ue<=279;)E[2*ue+1]=7,ue++,me[7]++;for(;ue<=287;)E[2*ue+1]=8,ue++,me[8]++;for(j(E,287,me),ue=0;ue<30;ue++)C[2*ue+1]=5,C[2*ue]=J(ue,5);c=new b(E,M,257,286,15),m=new b(C,x,0,30,15),g=new b(new Array(0),O,0,19,7)}(),Z=!0),ne.l_desc=new S(ne.dyn_ltree,c),ne.d_desc=new S(ne.dyn_dtree,m),ne.bl_desc=new S(ne.bl_tree,g),ne.bi_buf=0,ne.bi_valid=0,$(ne)},W._tr_stored_block=K,W._tr_flush_block=function(ne,ue,ce,de){var pe,_e,me=0;ne.level>0?(2===ne.strm.data_type&&(ne.strm.data_type=function(q){var oe,se=4093624447;for(oe=0;oe<=31;oe++,se>>>=1)if(1&se&&0!==q.dyn_ltree[2*oe])return 0;if(0!==q.dyn_ltree[18]||0!==q.dyn_ltree[20]||0!==q.dyn_ltree[26])return 1;for(oe=32;oe<256;oe++)if(0!==q.dyn_ltree[2*oe])return 1;return 0}(ne)),V(ne,ne.l_desc),V(ne,ne.d_desc),me=function(q){var oe;for(U(q,q.dyn_ltree,q.l_desc.max_code),U(q,q.dyn_dtree,q.d_desc.max_code),V(q,q.bl_desc),oe=18;oe>=3&&0===q.bl_tree[2*w[oe]+1];oe--);return q.opt_len+=3*(oe+1)+5+5+4,oe}(ne),(_e=ne.static_len+3+7>>>3)<=(pe=ne.opt_len+3+7>>>3)&&(pe=_e)):pe=_e=ce+5,ce+4<=pe&&-1!==ue?K(ne,ue,ce,de):4===ne.strategy||_e===pe?(H(ne,2+(de?1:0),3),N(ne,E,C)):(H(ne,4+(de?1:0),3),function(q,oe,se,ve){var Se;for(H(q,oe-257,5),H(q,se-1,5),H(q,ve-4,4),Se=0;Se<ve;Se++)H(q,q.bl_tree[2*w[Se]+1],3);Q(q,q.dyn_ltree,oe-1),Q(q,q.dyn_dtree,se-1)}(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,me+1),N(ne,ne.dyn_ltree,ne.dyn_dtree)),$(ne),de&&L(ne)},W._tr_tally=function(ne,ue,ce){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=ue>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&ue,ne.pending_buf[ne.l_buf+ne.last_lit]=255&ce,ne.last_lit++,0===ue?ne.dyn_ltree[2*ce]++:(ne.matches++,ue--,ne.dyn_ltree[2*(d[ce]+256+1)]++,ne.dyn_dtree[2*A(ue)]++),ne.last_lit===ne.lit_bufsize-1},W._tr_align=function(ne){var ue;H(ne,2,3),X(ne,256,E),16===(ue=ne).bi_valid?(P(ue,ue.bi_buf),ue.bi_buf=0,ue.bi_valid=0):ue.bi_valid>=8&&(ue.pending_buf[ue.pending++]=255&ue.bi_buf,ue.bi_buf>>=8,ue.bi_valid-=8)}},{"../utils/common":442}],454:[function(T,te,W){"use strict";te.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],455:[function(T,te,W){te.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(T,te,W){"use strict";var k=T("asn1.js");W.certificate=T("./certificate");var R=k.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});W.RSAPrivateKey=R;var M=k.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});W.RSAPublicKey=M;var x=k.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(O),this.key("subjectPublicKey").bitstr())});W.PublicKey=x;var O=k.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),w=k.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(O),this.key("subjectPrivateKey").octstr())});W.PrivateKey=w;var E=k.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});W.EncryptedPrivateKey=E;var C=k.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});W.DSAPrivateKey=C,W.DSAparam=k.define("DSAparam",function(){this.int()});var f=k.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())});W.ECPrivateKey=f;var d=k.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});W.signature=k.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":167}],457:[function(T,te,W){"use strict";var k=T("asn1.js"),R=k.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),M=k.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),x=k.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),O=k.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(x),this.key("subjectPublicKey").bitstr())}),w=k.define("RelativeDistinguishedName",function(){this.setof(M)}),E=k.define("RDNSequence",function(){this.seqof(w)}),C=k.define("Name",function(){this.choice({rdnSequence:this.use(E)})}),f=k.define("Validity",function(){this.seq().obj(this.key("notBefore").use(R),this.key("notAfter").use(R))}),d=k.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),u=k.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(x),this.key("issuer").use(C),this.key("validity").use(f),this.key("subject").use(C),this.key("subjectPublicKeyInfo").use(O),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())}),c=k.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(x),this.key("signatureValue").bitstr())});te.exports=c},{"asn1.js":167}],458:[function(T,te,W){"use strict";var k=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,R=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,M=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,x=T("evp_bytestokey"),O=T("browserify-aes"),w=T("safe-buffer").Buffer;te.exports=function(E,C){var f,d=E.toString(),u=d.match(k);if(u){var c="aes"+u[1],m=w.from(u[2],"hex"),g=w.from(u[3].replace(/[\r\n]/g,""),"base64"),y=x(C,m.slice(0,8),parseInt(u[1],10)).key,b=[],S=O.createDecipheriv(c,y,m);b.push(S.update(g)),b.push(S.final()),f=w.concat(b)}else{var A=d.match(M);f=w.from(A[2].replace(/[\r\n]/g,""),"base64")}return{tag:d.match(R)[1],data:f}}},{"browserify-aes":188,evp_bytestokey:368,"safe-buffer":494}],459:[function(T,te,W){"use strict";function k(f){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(f)}var R=T("./asn1"),M=T("./aesid.json"),x=T("./fixProc"),O=T("browserify-aes"),w=T("pbkdf2"),E=T("safe-buffer").Buffer;function C(f){var d;"object"!==k(f)||E.isBuffer(f)||(d=f.passphrase,f=f.key),"string"==typeof f&&(f=E.from(f));var u,c,b,S,A,P,H,X,J,j,$,L,B,m=x(f,d),g=m.tag,y=m.data;switch(g){case"CERTIFICATE":c=R.certificate.decode(y,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=R.PublicKey.decode(y,"der")),u=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return R.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=R.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+u)}case"ENCRYPTED PRIVATE KEY":S=d,A=(b=y=R.EncryptedPrivateKey.decode(y,"der")).algorithm.decrypt.kde.kdeparams.salt,P=parseInt(b.algorithm.decrypt.kde.kdeparams.iters.toString(),10),H=M[b.algorithm.decrypt.cipher.algo.join(".")],X=b.algorithm.decrypt.cipher.iv,J=b.subjectPrivateKey,j=parseInt(H.split("-")[1],10)/8,$=w.pbkdf2Sync(S,A,P,j,"sha1"),L=O.createDecipheriv(H,$,X),(B=[]).push(L.update(J)),B.push(L.final()),y=E.concat(B);case"PRIVATE KEY":switch(u=(c=R.PrivateKey.decode(y,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return R.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:R.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=R.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+u)}case"RSA PUBLIC KEY":return R.RSAPublicKey.decode(y,"der");case"RSA PRIVATE KEY":return R.RSAPrivateKey.decode(y,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:R.DSAPrivateKey.decode(y,"der")};case"EC PRIVATE KEY":return{curve:(y=R.ECPrivateKey.decode(y,"der")).parameters.value,privateKey:y.privateKey};default:throw new Error("unknown key type "+g)}}te.exports=C,C.signature=R.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":188,pbkdf2:460,"safe-buffer":494}],460:[function(T,te,W){"use strict";W.pbkdf2=T("./lib/async"),W.pbkdf2Sync=T("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(T,te,W){(function(k,R){"use strict";var M,x=T("safe-buffer").Buffer,O=T("./precondition"),w=T("./default-encoding"),E=T("./sync"),C=T("./to-buffer"),f=R.crypto&&R.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function c(m,g,y,b,S){return f.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(A){return f.deriveBits({name:"PBKDF2",salt:g,iterations:y,hash:{name:S}},A,b<<3)}).then(function(A){return x.from(A)})}te.exports=function(m,g,y,b,S,A){"function"==typeof S&&(A=S,S=void 0);var H,X,P=d[(S=S||"sha1").toLowerCase()];if(!P||"function"!=typeof R.Promise)return k.nextTick(function(){var H;try{H=E(m,g,y,b,S)}catch(X){return A(X)}A(null,H)});if(O(y,b),m=C(m,w,"Password"),g=C(g,w,"Salt"),"function"!=typeof A)throw new Error("No callback provided to pbkdf2");H=function(H){if(R.process&&!R.process.browser||!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==u[H])return u[H];var X=c(M=M||x.alloc(8),M,10,128,H).then(function(){return!0}).catch(function(){return!1});return u[H]=X,X}(P).then(function(H){return H?c(m,g,y,b,P):E(m,g,y,b,S)}),X=A,H.then(function(J){k.nextTick(function(){X(null,J)})},function(J){k.nextTick(function(){X(J)})})}}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,_process:467,"safe-buffer":494}],462:[function(T,te,W){(function(k){"use strict";var R;R=k.browser?"utf-8":k.version?parseInt(k.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",te.exports=R}).call(this,T("_process"))},{_process:467}],463:[function(T,te,W){"use strict";var k=Math.pow(2,30)-1;te.exports=function(R,M){if("number"!=typeof R)throw new TypeError("Iterations not a number");if(R<0)throw new TypeError("Bad iterations");if("number"!=typeof M)throw new TypeError("Key length not a number");if(M<0||M>k||M!=M)throw new TypeError("Bad key length")}},{}],464:[function(T,te,W){"use strict";var k=T("create-hash/md5"),R=T("ripemd160"),M=T("sha.js"),x=T("safe-buffer").Buffer,O=T("./precondition"),w=T("./default-encoding"),E=T("./to-buffer"),C=x.alloc(128),f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(u,c,m){var H,g="rmd160"===(H=u)||"ripemd160"===H?function(J){return(new R).update(J).digest()}:"md5"===H?k:function X(J){return M(H).update(J).digest()},y="sha512"===u||"sha384"===u?128:64;c.length>y?c=g(c):c.length<y&&(c=x.concat([c,C],y));for(var b=x.allocUnsafe(y+f[u]),S=x.allocUnsafe(y+f[u]),A=0;A<y;A++)b[A]=54^c[A],S[A]=92^c[A];var P=x.allocUnsafe(y+m+4);b.copy(P,0,0,y),this.ipad1=P,this.ipad2=b,this.opad=S,this.alg=u,this.blocksize=y,this.hash=g,this.size=f[u]}d.prototype.run=function(u,c){return u.copy(c,this.blocksize),this.hash(c).copy(this.opad,this.blocksize),this.hash(this.opad)},te.exports=function(u,c,m,g,y){O(m,g);var b=new d(y=y||"sha1",u=E(u,w,"Password"),(c=E(c,w,"Salt")).length),S=x.allocUnsafe(g),A=x.allocUnsafe(c.length+4);c.copy(A,0,0,c.length);for(var P=0,H=f[y],X=Math.ceil(g/H),J=1;J<=X;J++){A.writeUInt32BE(J,c.length);for(var j=b.run(A,b.ipad1),$=j,L=1;L<m;L++){$=b.run($,b.ipad2);for(var B=0;B<H;B++)j[B]^=$[B]}j.copy(S,P),P+=H}return S}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":332,ripemd160:493,"safe-buffer":494,"sha.js":499}],465:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer;te.exports=function(R,M,x){if(k.isBuffer(R))return R;if("string"==typeof R)return k.from(R,M);if(ArrayBuffer.isView(R))return k.from(R.buffer);throw new TypeError(x+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(T,te,W){(function(k){"use strict";te.exports=void 0===k||!k.version||0===k.version.indexOf("v0.")||0===k.version.indexOf("v1.")&&0!==k.version.indexOf("v1.8.")?{nextTick:function(R,M,x,O){if("function"!=typeof R)throw new TypeError('"callback" argument must be a function');var w,E,C=arguments.length;switch(C){case 0:case 1:return k.nextTick(R);case 2:return k.nextTick(function(){R.call(null,M)});case 3:return k.nextTick(function(){R.call(null,M,x)});case 4:return k.nextTick(function(){R.call(null,M,x,O)});default:for(w=new Array(C-1),E=0;E<w.length;)w[E++]=arguments[E];return k.nextTick(function(){R.apply(null,w)})}}}:k}).call(this,T("_process"))},{_process:467}],467:[function(T,te,W){"use strict";var k,R,M=te.exports={};function x(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function w(y){if(k===setTimeout)return setTimeout(y,0);if((k===x||!k)&&setTimeout)return k=setTimeout,setTimeout(y,0);try{return k(y,0)}catch{try{return k.call(null,y,0)}catch{return k.call(this,y,0)}}}!function(){try{k="function"==typeof setTimeout?setTimeout:x}catch{k=x}try{R="function"==typeof clearTimeout?clearTimeout:O}catch{R=O}}();var E,C=[],f=!1,d=-1;function u(){f&&E&&(f=!1,E.length?C=E.concat(C):d=-1,C.length&&c())}function c(){if(!f){var y=w(u);f=!0;for(var b=C.length;b;){for(E=C,C=[];++d<b;)E&&E[d].run();d=-1,b=C.length}E=null,f=!1,function(S){if(R===clearTimeout)return clearTimeout(S);if((R===O||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(S);try{R(S)}catch{try{return R.call(null,S)}catch{return R.call(this,S)}}}(y)}}function m(y,b){this.fun=y,this.array=b}function g(){}M.nextTick=function(y){var b=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)b[S-1]=arguments[S];C.push(new m(y,b)),1!==C.length||f||w(c)},m.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=g,M.addListener=g,M.once=g,M.off=g,M.removeListener=g,M.removeAllListeners=g,M.emit=g,M.prependListener=g,M.prependOnceListener=g,M.listeners=function(y){return[]},M.binding=function(y){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(y){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},{}],468:[function(T,te,W){"use strict";W.publicEncrypt=T("./publicEncrypt"),W.privateDecrypt=T("./privateDecrypt"),W.privateEncrypt=function(k,R){return W.publicEncrypt(k,R,!0)},W.publicDecrypt=function(k,R){return W.privateDecrypt(k,R,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(T,te,W){"use strict";var k=T("create-hash"),R=T("safe-buffer").Buffer;function M(x){var O=R.allocUnsafe(4);return O.writeUInt32BE(x,0),O}te.exports=function(x,O){for(var w,E=R.alloc(0),C=0;E.length<O;)w=M(C++),E=R.concat([E,k("sha1").update(x).update(w).digest()]);return E.slice(0,O)}},{"create-hash":331,"safe-buffer":494}],470:[function(T,te,W){arguments[4][181][0].apply(W,arguments)},{buffer:185,dup:181}],471:[function(T,te,W){"use strict";var k=T("parse-asn1"),R=T("./mgf"),M=T("./xor"),x=T("bn.js"),O=T("browserify-rsa"),w=T("create-hash"),E=T("./withPublic"),C=T("safe-buffer").Buffer;te.exports=function(f,d,u){var c;c=f.padding?f.padding:u?1:4;var m,g=k(f),y=g.modulus.byteLength();if(d.length>y||new x(d).cmp(g.modulus)>=0)throw new Error("decryption error");m=u?E(new x(d),g):O(d,g);var b=C.alloc(y-m.length);if(m=C.concat([b,m],y),4===c)return function(S,A){var P=S.modulus.byteLength(),H=w("sha1").update(C.alloc(0)).digest(),X=H.length;if(0!==A[0])throw new Error("decryption error");var J=A.slice(1,X+1),j=A.slice(X+1),$=M(J,R(j,X)),L=M(j,R($,P-X-1));if(function(ee,N){ee=C.from(ee),N=C.from(N);var V=0,U=ee.length;ee.length!==N.length&&(V++,U=Math.min(ee.length,N.length));for(var Q=-1;++Q<U;)V+=ee[Q]^N[Q];return V}(H,L.slice(0,X)))throw new Error("decryption error");for(var B=X;0===L[B];)B++;if(1!==L[B++])throw new Error("decryption error");return L.slice(B)}(g,m);if(1===c)return function(S,A,P){for(var H=A.slice(0,2),X=2,J=0;0!==A[X++];)if(X>=A.length){J++;break}var j=A.slice(2,X-1);if(("0002"!==H.toString("hex")&&!P||"0001"!==H.toString("hex")&&P)&&J++,j.length<8&&J++,J)throw new Error("decryption error");return A.slice(X)}(0,m,u);if(3===c)return m;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":206,"create-hash":331,"parse-asn1":459,"safe-buffer":494}],472:[function(T,te,W){"use strict";var k=T("parse-asn1"),R=T("randombytes"),M=T("create-hash"),x=T("./mgf"),O=T("./xor"),w=T("bn.js"),E=T("./withPublic"),C=T("browserify-rsa"),f=T("safe-buffer").Buffer;te.exports=function(d,u,c){var m;m=d.padding?d.padding:c?1:4;var g,y=k(d);if(4===m)g=function(b,S){var A=b.modulus.byteLength(),P=S.length,H=M("sha1").update(f.alloc(0)).digest(),X=H.length,J=2*X;if(P>A-J-2)throw new Error("message too long");var j=f.alloc(A-P-J-2),$=A-X-1,L=R(X),B=O(f.concat([H,j,f.alloc(1,1),S],$),x(L,$)),ee=O(L,x(B,X));return new w(f.concat([f.alloc(1),ee,B],A))}(y,u);else if(1===m)g=function(b,S,A){var P,H=S.length,X=b.modulus.byteLength();if(H>X-11)throw new Error("message too long");return P=A?f.alloc(X-H-3,255):function(J){for(var j,$=f.allocUnsafe(J),L=0,B=R(2*J),ee=0;L<J;)ee===B.length&&(B=R(2*J),ee=0),(j=B[ee++])&&($[L++]=j);return $}(X-H-3),new w(f.concat([f.from([0,A?1:2]),P,f.alloc(1),S],X))}(y,u,c);else{if(3!==m)throw new Error("unknown padding");if((g=new w(u)).cmp(y.modulus)>=0)throw new Error("data too long for modulus")}return c?C(g,y):E(g,y)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":206,"create-hash":331,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(T,te,W){"use strict";var k=T("bn.js"),R=T("safe-buffer").Buffer;te.exports=function(M,x){return R.from(M.toRed(k.mont(x.modulus)).redPow(new k(x.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(T,te,W){"use strict";te.exports=function(k,R){for(var M=k.length,x=-1;++x<M;)k[x]^=R[x];return k}},{}],475:[function(T,te,W){(function(k,R){"use strict";var M=T("safe-buffer").Buffer,x=R.crypto||R.msCrypto;te.exports=x&&x.getRandomValues?function(O,w){if(O>4294967295)throw new RangeError("requested too many random bytes");var E=M.allocUnsafe(O);if(O>0)if(O>65536)for(var C=0;C<O;C+=65536)x.getRandomValues(E.slice(C,C+65536));else x.getRandomValues(E);return"function"==typeof w?k.nextTick(function(){w(null,E)}):E}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(T,te,W){(function(k,R){"use strict";function M(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var x=T("safe-buffer"),O=T("randombytes"),w=x.Buffer,E=x.kMaxLength,C=R.crypto||R.msCrypto,f=Math.pow(2,32)-1;function d(m,g){if("number"!=typeof m||m!=m)throw new TypeError("offset must be a number");if(m>f||m<0)throw new TypeError("offset must be a uint32");if(m>E||m>g)throw new RangeError("offset out of range")}function u(m,g,y){if("number"!=typeof m||m!=m)throw new TypeError("size must be a number");if(m>f||m<0)throw new TypeError("size must be a uint32");if(m+g>y||m>E)throw new RangeError("buffer too small")}function c(m,g,y,b){if(k.browser){var A=new Uint8Array(m.buffer,g,y);return C.getRandomValues(A),b?void k.nextTick(function(){b(null,m)}):m}if(!b)return O(y).copy(m,g),m;O(y,function(P,H){if(P)return b(P);H.copy(m,g),b(null,m)})}C&&C.getRandomValues||!k.browser?(W.randomFill=function(m,g,y,b){if(!(w.isBuffer(m)||m instanceof R.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof g)b=g,g=0,y=m.length;else if("function"==typeof y)b=y,y=m.length-g;else if("function"!=typeof b)throw new TypeError('"cb" argument must be a function');return d(g,m.length),u(y,g,m.length),c(m,g,y,b)},W.randomFillSync=function(m,g,y){if(void 0===g&&(g=0),!(w.isBuffer(m)||m instanceof R.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(g,m.length),void 0===y&&(y=m.length-g),u(y,g,m.length),c(m,g,y)}):(W.randomFill=M,W.randomFillSync=M)}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(T,te,W){"use strict";function k(O){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(O)}var R={};function M(O,w,E){E||(E=Error);var C=function(f){var d,u;function c(m,g,y){return f.call(this,"string"==typeof w?w:w(m,g,y))||this}return u=f,(d=c).prototype=Object.create(u.prototype),d.prototype.constructor=d,d.__proto__=u,c}(E);C.prototype.name=E.name,C.prototype.code=O,R[O]=C}function x(O,w){if(Array.isArray(O)){var E=O.length;return O=O.map(function(C){return String(C)}),E>2?"one of ".concat(w," ").concat(O.slice(0,E-1).join(", "),", or ")+O[E-1]:2===E?"one of ".concat(w," ").concat(O[0]," or ").concat(O[1]):"of ".concat(w," ").concat(O[0])}return"of ".concat(w," ").concat(String(O))}M("ERR_INVALID_OPT_VALUE",function(O,w){return'The value "'+w+'" is invalid for option "'+O+'"'},TypeError),M("ERR_INVALID_ARG_TYPE",function(O,w,E){var C,u,m,y;if("string"==typeof w&&"not "===w.substr(0,"not ".length)?(C="must not be",w=w.replace(/^not /,"")):C="must be",m=O,(void 0===y||y>m.length)&&(y=m.length)," argument"===m.substring(y-" argument".length,y))u="The ".concat(O," ").concat(C," ").concat(x(w,"type"));else{var c=function(m,g,y){return"number"!=typeof y&&(y=0),!(y+".".length>m.length)&&-1!==m.indexOf(".",y)}(O)?"property":"argument";u='The "'.concat(O,'" ').concat(c," ").concat(C," ").concat(x(w,"type"))}return u+". Received type ".concat(k(E))},TypeError),M("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),M("ERR_METHOD_NOT_IMPLEMENTED",function(O){return"The "+O+" method is not implemented"}),M("ERR_STREAM_PREMATURE_CLOSE","Premature close"),M("ERR_STREAM_DESTROYED",function(O){return"Cannot call "+O+" after a stream was destroyed"}),M("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),M("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),M("ERR_STREAM_WRITE_AFTER_END","write after end"),M("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),M("ERR_UNKNOWN_ENCODING",function(O){return"Unknown encoding: "+O},TypeError),M("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),te.exports.codes=R},{}],478:[function(T,te,W){(function(k){"use strict";var R=Object.keys||function(u){var c=[];for(var m in u)c.push(m);return c};te.exports=C;var M=T("./_stream_readable"),x=T("./_stream_writable");T("inherits")(C,M);for(var O=R(x.prototype),w=0;w<O.length;w++){var E=O[w];C.prototype[E]||(C.prototype[E]=x.prototype[E])}function C(u){if(!(this instanceof C))return new C(u);M.call(this,u),x.call(this,u),this.allowHalfOpen=!0,u&&(!1===u.readable&&(this.readable=!1),!1===u.writable&&(this.writable=!1),!1===u.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||k.nextTick(d,this)}function d(u){u.end()}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(u){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}})}).call(this,T("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:387}],479:[function(T,te,W){"use strict";te.exports=R;var k=T("./_stream_transform");function R(M){if(!(this instanceof R))return new R(M);k.call(this,M)}T("inherits")(R,k),R.prototype._transform=function(M,x,O){O(null,M)}},{"./_stream_transform":481,inherits:387}],480:[function(T,te,W){(function(k,R){"use strict";var M;te.exports=$,$.ReadableState=j,T("events");var C,x=function(me,q){return me.listeners(q).length},O=T("./internal/streams/stream"),w=T("buffer").Buffer,E=R.Uint8Array||function(){},f=T("util");C=f&&f.debuglog?f.debuglog("stream"):function(){};var d,u,c,m=T("./internal/streams/buffer_list"),g=T("./internal/streams/destroy"),y=T("./internal/streams/state").getHighWaterMark,b=T("../errors").codes,S=b.ERR_INVALID_ARG_TYPE,A=b.ERR_STREAM_PUSH_AFTER_EOF,P=b.ERR_METHOD_NOT_IMPLEMENTED,H=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;T("inherits")($,O);var X=g.errorOrDestroy,J=["error","close","destroy","pause","resume"];function j(me,q,oe){M=M||T("./_stream_duplex"),"boolean"!=typeof oe&&(oe=q instanceof M),this.objectMode=!!(me=me||{}).objectMode,oe&&(this.objectMode=this.objectMode||!!me.readableObjectMode),this.highWaterMark=y(this,me,"readableHighWaterMark",oe),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==me.emitClose,this.autoDestroy=!!me.autoDestroy,this.destroyed=!1,this.defaultEncoding=me.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,me.encoding&&(d||(d=T("string_decoder/").StringDecoder),this.decoder=new d(me.encoding),this.encoding=me.encoding)}function $(me){if(M=M||T("./_stream_duplex"),!(this instanceof $))return new $(me);this._readableState=new j(me,this,this instanceof M),this.readable=!0,me&&("function"==typeof me.read&&(this._read=me.read),"function"==typeof me.destroy&&(this._destroy=me.destroy)),O.call(this)}function L(me,q,oe,se,ve){C("readableAddChunk",q);var Se,qe,je,Ye,st,De=me._readableState;if(null===q)De.reading=!1,function(qe,je){if(C("onEofChunk"),!je.ended){if(je.decoder){var Ye=je.decoder.end();Ye&&Ye.length&&(je.buffer.push(Ye),je.length+=je.objectMode?1:Ye.length)}je.ended=!0,je.sync?N(qe):(je.needReadable=!1,je.emittedReadable||(je.emittedReadable=!0,V(qe)))}}(me,De);else if(ve||(qe=De,w.isBuffer(st=je=q)||st instanceof E||"string"==typeof je||void 0===je||qe.objectMode||(Ye=new S("chunk",["string","Buffer","Uint8Array"],je)),Se=Ye),Se)X(me,Se);else if(De.objectMode||q&&q.length>0)if("string"==typeof q||De.objectMode||Object.getPrototypeOf(q)===w.prototype||(q=function(qe){return w.from(qe)}(q)),se)De.endEmitted?X(me,new H):B(me,De,q,!0);else if(De.ended)X(me,new A);else{if(De.destroyed)return!1;De.reading=!1,De.decoder&&!oe?(q=De.decoder.write(q),De.objectMode||0!==q.length?B(me,De,q,!1):U(me,De)):B(me,De,q,!1)}else se||(De.reading=!1,U(me,De));return!De.ended&&(De.length<De.highWaterMark||0===De.length)}function B(me,q,oe,se){q.flowing&&0===q.length&&!q.sync?(q.awaitDrain=0,me.emit("data",oe)):(q.length+=q.objectMode?1:oe.length,se?q.buffer.unshift(oe):q.buffer.push(oe),q.needReadable&&N(me)),U(me,q)}function ee(me,q){return me<=0||0===q.length&&q.ended?0:q.objectMode?1:me!=me?q.flowing&&q.length?q.buffer.head.data.length:q.length:(me>q.highWaterMark&&(q.highWaterMark=((oe=me)>=1073741824?oe=1073741824:(oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++),oe)),me<=q.length?me:q.ended?q.length:(q.needReadable=!0,0));var oe}function N(me){var q=me._readableState;C("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(C("emitReadable",q.flowing),q.emittedReadable=!0,k.nextTick(V,me))}function V(me){var q=me._readableState;C("emitReadable_",q.destroyed,q.length,q.ended),q.destroyed||!q.length&&!q.ended||(me.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,ue(me)}function U(me,q){q.readingMore||(q.readingMore=!0,k.nextTick(Q,me,q))}function Q(me,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&0===q.length);){var oe=q.length;if(C("maybeReadMore read 0"),me.read(0),oe===q.length)break}q.readingMore=!1}function Z(me){var q=me._readableState;q.readableListening=me.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:me.listenerCount("data")>0&&me.resume()}function K(me){C("readable nexttick read 0"),me.read(0)}function ne(me,q){C("resume",q.reading),q.reading||me.read(0),q.resumeScheduled=!1,me.emit("resume"),ue(me),q.flowing&&!q.reading&&me.read(0)}function ue(me){var q=me._readableState;for(C("flow",q.flowing);q.flowing&&null!==me.read(););}function ce(me,q){return 0===q.length?null:(q.objectMode?oe=q.buffer.shift():!me||me>=q.length?(oe=q.decoder?q.buffer.join(""):1===q.buffer.length?q.buffer.first():q.buffer.concat(q.length),q.buffer.clear()):oe=q.buffer.consume(me,q.decoder),oe);var oe}function de(me){var q=me._readableState;C("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,k.nextTick(pe,q,me))}function pe(me,q){if(C("endReadableNT",me.endEmitted,me.length),!me.endEmitted&&0===me.length&&(me.endEmitted=!0,q.readable=!1,q.emit("end"),me.autoDestroy)){var oe=q._writableState;(!oe||oe.autoDestroy&&oe.finished)&&q.destroy()}}function _e(me,q){for(var oe=0,se=me.length;oe<se;oe++)if(me[oe]===q)return oe;return-1}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),$.prototype.destroy=g.destroy,$.prototype._undestroy=g.undestroy,$.prototype._destroy=function(me,q){q(me)},$.prototype.push=function(me,q){var oe,se=this._readableState;return se.objectMode?oe=!0:"string"==typeof me&&((q=q||se.defaultEncoding)!==se.encoding&&(me=w.from(me,q),q=""),oe=!0),L(this,me,q,!1,oe)},$.prototype.unshift=function(me){return L(this,me,null,!0,!1)},$.prototype.isPaused=function(){return!1===this._readableState.flowing},$.prototype.setEncoding=function(me){d||(d=T("string_decoder/").StringDecoder);var q=new d(me);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var oe=this._readableState.buffer.head,se="";null!==oe;)se+=q.write(oe.data),oe=oe.next;return this._readableState.buffer.clear(),""!==se&&this._readableState.buffer.push(se),this._readableState.length=se.length,this},$.prototype.read=function(me){C("read",me),me=parseInt(me,10);var q=this._readableState,oe=me;if(0!==me&&(q.emittedReadable=!1),0===me&&q.needReadable&&((0!==q.highWaterMark?q.length>=q.highWaterMark:q.length>0)||q.ended))return C("read: emitReadable",q.length,q.ended),0===q.length&&q.ended?de(this):N(this),null;if(0===(me=ee(me,q))&&q.ended)return 0===q.length&&de(this),null;var se,ve=q.needReadable;return C("need readable",ve),(0===q.length||q.length-me<q.highWaterMark)&&C("length less than watermark",ve=!0),q.ended||q.reading?C("reading or ended",ve=!1):ve&&(C("do read"),q.reading=!0,q.sync=!0,0===q.length&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(me=ee(oe,q))),null===(se=me>0?ce(me,q):null)?(q.needReadable=q.length<=q.highWaterMark,me=0):(q.length-=me,q.awaitDrain=0),0===q.length&&(q.ended||(q.needReadable=!0),oe!==me&&q.ended&&de(this)),null!==se&&this.emit("data",se),se},$.prototype._read=function(me){X(this,new P("_read()"))},$.prototype.pipe=function(me,q){var oe=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=me;break;case 1:se.pipes=[se.pipes,me];break;default:se.pipes.push(me)}se.pipesCount+=1,C("pipe count=%d opts=%j",se.pipesCount,q);var ve=q&&!1===q.end||me===k.stdout||me===k.stderr?sn:De;function De(){C("onend"),me.end()}se.endEmitted?k.nextTick(ve):oe.once("end",ve),me.on("unpipe",function Se(bt,It){C("onunpipe"),bt===oe&&It&&!1===It.hasUnpiped&&(It.hasUnpiped=!0,C("cleanup"),me.removeListener("close",ct),me.removeListener("finish",ht),me.removeListener("drain",qe),me.removeListener("error",st),me.removeListener("unpipe",Se),oe.removeListener("end",De),oe.removeListener("end",sn),oe.removeListener("data",Ye),je=!0,!se.awaitDrain||me._writableState&&!me._writableState.needDrain||qe())});var bt,qe=(bt=oe,function(){var It=bt._readableState;C("pipeOnDrain",It.awaitDrain),It.awaitDrain&&It.awaitDrain--,0===It.awaitDrain&&x(bt,"data")&&(It.flowing=!0,ue(bt))});me.on("drain",qe);var je=!1;function Ye(bt){C("ondata");var It=me.write(bt);C("dest.write",It),!1===It&&((1===se.pipesCount&&se.pipes===me||se.pipesCount>1&&-1!==_e(se.pipes,me))&&!je&&(C("false write response, pause",se.awaitDrain),se.awaitDrain++),oe.pause())}function st(bt){C("onerror",bt),sn(),me.removeListener("error",st),0===x(me,"error")&&X(me,bt)}function ct(){me.removeListener("finish",ht),sn()}function ht(){C("onfinish"),me.removeListener("close",ct),sn()}function sn(){C("unpipe"),oe.unpipe(me)}return oe.on("data",Ye),function(bt,It,ln){if("function"==typeof bt.prependListener)return bt.prependListener(It,ln);bt._events&&bt._events[It]?Array.isArray(bt._events[It])?bt._events[It].unshift(ln):bt._events[It]=[ln,bt._events[It]]:bt.on(It,ln)}(me,"error",st),me.once("close",ct),me.once("finish",ht),me.emit("pipe",oe),se.flowing||(C("pipe resume"),oe.resume()),me},$.prototype.unpipe=function(me){var q=this._readableState,oe={hasUnpiped:!1};if(0===q.pipesCount)return this;if(1===q.pipesCount)return me&&me!==q.pipes||(me||(me=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,me&&me.emit("unpipe",this,oe)),this;if(!me){var se=q.pipes,ve=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var Se=0;Se<ve;Se++)se[Se].emit("unpipe",this,{hasUnpiped:!1});return this}var De=_e(q.pipes,me);return-1===De||(q.pipes.splice(De,1),q.pipesCount-=1,1===q.pipesCount&&(q.pipes=q.pipes[0]),me.emit("unpipe",this,oe)),this},$.prototype.addListener=$.prototype.on=function(me,q){var oe=O.prototype.on.call(this,me,q),se=this._readableState;return"data"===me?(se.readableListening=this.listenerCount("readable")>0,!1!==se.flowing&&this.resume()):"readable"===me&&(se.endEmitted||se.readableListening||(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,C("on readable",se.length,se.reading),se.length?N(this):se.reading||k.nextTick(K,this))),oe},$.prototype.removeListener=function(me,q){var oe=O.prototype.removeListener.call(this,me,q);return"readable"===me&&k.nextTick(Z,this),oe},$.prototype.removeAllListeners=function(me){var q=O.prototype.removeAllListeners.apply(this,arguments);return"readable"!==me&&void 0!==me||k.nextTick(Z,this),q},$.prototype.resume=function(){var oe,me=this._readableState;return me.flowing||(C("resume"),me.flowing=!me.readableListening,this,(oe=me).resumeScheduled||(oe.resumeScheduled=!0,k.nextTick(ne,this,oe))),me.paused=!1,this},$.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(me){var q=this,oe=this._readableState,se=!1;for(var ve in me.on("end",function(){if(C("wrapped end"),oe.decoder&&!oe.ended){var De=oe.decoder.end();De&&De.length&&q.push(De)}q.push(null)}),me.on("data",function(De){C("wrapped data"),oe.decoder&&(De=oe.decoder.write(De)),oe.objectMode&&null==De||(oe.objectMode||De&&De.length)&&(q.push(De)||(se=!0,me.pause()))}),me)void 0===this[ve]&&"function"==typeof me[ve]&&(this[ve]=function(De){return function(){return me[De].apply(me,arguments)}}(ve));for(var Se=0;Se<J.length;Se++)me.on(J[Se],this.emit.bind(this,J[Se]));return this._read=function(De){C("wrapped _read",De),se&&(se=!1,me.resume())},this},"function"==typeof Symbol&&($.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=T("./internal/streams/async_iterator")),u(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(me){this._readableState&&(this._readableState.flowing=me)}}),$._fromList=ce,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&($.from=function(me,q){return void 0===c&&(c=T("./internal/streams/from")),c($,me,q)})}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:216,events:367,inherits:387,"string_decoder/":520,util:185}],481:[function(T,te,W){"use strict";te.exports=C;var k=T("../errors").codes,R=k.ERR_METHOD_NOT_IMPLEMENTED,M=k.ERR_MULTIPLE_CALLBACK,x=k.ERR_TRANSFORM_ALREADY_TRANSFORMING,O=k.ERR_TRANSFORM_WITH_LENGTH_0,w=T("./_stream_duplex");function E(u,c){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(null===g)return this.emit("error",new M);m.writechunk=null,m.writecb=null,null!=c&&this.push(c),g(u);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function C(u){if(!(this instanceof C))return new C(u);w.call(this,u),this._transformState={afterTransform:E.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&("function"==typeof u.transform&&(this._transform=u.transform),"function"==typeof u.flush&&(this._flush=u.flush)),this.on("prefinish",f)}function f(){var u=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush(function(c,m){d(u,c,m)})}function d(u,c,m){if(c)return u.emit("error",c);if(null!=m&&u.push(m),u._writableState.length)throw new O;if(u._transformState.transforming)throw new x;return u.push(null)}T("inherits")(C,w),C.prototype.push=function(u,c){return this._transformState.needTransform=!1,w.prototype.push.call(this,u,c)},C.prototype._transform=function(u,c,m){m(new R("_transform()"))},C.prototype._write=function(u,c,m){var g=this._transformState;if(g.writecb=m,g.writechunk=u,g.writeencoding=c,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},C.prototype._read=function(u){var c=this._transformState;null===c.writechunk||c.transforming?c.needTransform=!0:(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform))},C.prototype._destroy=function(u,c){w.prototype._destroy.call(this,u,function(m){c(m)})}},{"../errors":477,"./_stream_duplex":478,inherits:387}],482:[function(T,te,W){(function(k,R){"use strict";function M(Q){var Z=this;this.next=null,this.entry=null,this.finish=function(){!function(K,ne,ue){var ce=K.entry;for(K.entry=null;ce;){var de=ce.callback;ne.pendingcb--,de(undefined),ce=ce.next}ne.corkedRequestsFree.next=K}(Z,Q)}}var x;te.exports=$,$.WritableState=j;var f,O={deprecate:T("util-deprecate")},w=T("./internal/streams/stream"),E=T("buffer").Buffer,C=R.Uint8Array||function(){},d=T("./internal/streams/destroy"),u=T("./internal/streams/state").getHighWaterMark,c=T("../errors").codes,m=c.ERR_INVALID_ARG_TYPE,g=c.ERR_METHOD_NOT_IMPLEMENTED,y=c.ERR_MULTIPLE_CALLBACK,b=c.ERR_STREAM_CANNOT_PIPE,S=c.ERR_STREAM_DESTROYED,A=c.ERR_STREAM_NULL_VALUES,P=c.ERR_STREAM_WRITE_AFTER_END,H=c.ERR_UNKNOWN_ENCODING,X=d.errorOrDestroy;function J(){}function j(Q,Z,K){x=x||T("./_stream_duplex"),"boolean"!=typeof K&&(K=Z instanceof x),this.objectMode=!!(Q=Q||{}).objectMode,K&&(this.objectMode=this.objectMode||!!Q.writableObjectMode),this.highWaterMark=u(this,Q,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Q.decodeStrings),this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){!function(ce,de){var oe,pe=ce._writableState,_e=pe.sync,me=pe.writecb;if("function"!=typeof me)throw new y;if((oe=pe).writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0,de)!function(oe,se,ve,Se,De){--se.pendingcb,ve?(k.nextTick(De,Se),k.nextTick(U,oe,se),oe._writableState.errorEmitted=!0,X(oe,Se)):(De(Se),oe._writableState.errorEmitted=!0,X(oe,Se),U(oe,se))}(ce,pe,_e,de,me);else{var q=N(pe)||ce.destroyed;q||pe.corked||pe.bufferProcessing||!pe.bufferedRequest||ee(ce,pe),_e?k.nextTick(B,ce,pe,q,me):B(ce,pe,q,me)}}(Z,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Q.emitClose,this.autoDestroy=!!Q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new M(this)}function $(Q){var Z=this instanceof(x=x||T("./_stream_duplex"));if(!Z&&!f.call($,this))return new $(Q);this._writableState=new j(Q,this,Z),this.writable=!0,Q&&("function"==typeof Q.write&&(this._write=Q.write),"function"==typeof Q.writev&&(this._writev=Q.writev),"function"==typeof Q.destroy&&(this._destroy=Q.destroy),"function"==typeof Q.final&&(this._final=Q.final)),w.call(this)}function L(Q,Z,K,ne,ue,ce,de){Z.writelen=ne,Z.writecb=de,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new S("write")):K?Q._writev(ue,Z.onwrite):Q._write(ue,ce,Z.onwrite),Z.sync=!1}function B(Q,Z,K,ne){var ue,ce;K||(ue=Q,0===(ce=Z).length&&ce.needDrain&&(ce.needDrain=!1,ue.emit("drain"))),Z.pendingcb--,ne(),U(Q,Z)}function ee(Q,Z){Z.bufferProcessing=!0;var K=Z.bufferedRequest;if(Q._writev&&K&&K.next){var ue=new Array(Z.bufferedRequestCount),ce=Z.corkedRequestsFree;ce.entry=K;for(var de=0,pe=!0;K;)ue[de]=K,K.isBuf||(pe=!1),K=K.next,de+=1;ue.allBuffers=pe,L(Q,Z,!0,Z.length,ue,"",ce.finish),Z.pendingcb++,Z.lastBufferedRequest=null,ce.next?(Z.corkedRequestsFree=ce.next,ce.next=null):Z.corkedRequestsFree=new M(Z),Z.bufferedRequestCount=0}else{for(;K;){var _e=K.chunk;if(L(Q,Z,!1,Z.objectMode?1:_e.length,_e,K.encoding,K.callback),K=K.next,Z.bufferedRequestCount--,Z.writing)break}null===K&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=K,Z.bufferProcessing=!1}function N(Q){return Q.ending&&0===Q.length&&null===Q.bufferedRequest&&!Q.finished&&!Q.writing}function V(Q,Z){Q._final(function(K){Z.pendingcb--,K&&X(Q,K),Z.prefinished=!0,Q.emit("prefinish"),U(Q,Z)})}function U(Q,Z){var ue,ce,K=N(Z);if(K&&(ue=Q,(ce=Z).prefinished||ce.finalCalled||("function"!=typeof ue._final||ce.destroyed?(ce.prefinished=!0,ue.emit("prefinish")):(ce.pendingcb++,ce.finalCalled=!0,k.nextTick(V,ue,ce))),0===Z.pendingcb&&(Z.finished=!0,Q.emit("finish"),Z.autoDestroy))){var ne=Q._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&Q.destroy()}return K}T("inherits")($,w),j.prototype.getBuffer=function(){for(var Q=this.bufferedRequest,Z=[];Q;)Z.push(Q),Q=Q.next;return Z},function(){try{Object.defineProperty(j.prototype,"buffer",{get:O.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(Q){return!!f.call(this,Q)||this===$&&Q&&Q._writableState instanceof j}})):f=function(Q){return Q instanceof this},$.prototype.pipe=function(){X(this,new b)},$.prototype.write=function(Q,Z,K){var ne,pe,_e,me,ue=this._writableState,ce=!1,de=!ue.objectMode&&(E.isBuffer(ne=Q)||ne instanceof C);return de&&!E.isBuffer(Q)&&(Q=E.from(Q)),"function"==typeof Z&&(K=Z,Z=null),de?Z="buffer":Z||(Z=ue.defaultEncoding),"function"!=typeof K&&(K=J),ue.ending?(pe=this,_e=K,me=new P,X(pe,me),k.nextTick(_e,me)):(de||function(pe,_e,me,q){var oe;return null===me?oe=new A:"string"==typeof me||_e.objectMode||(oe=new m("chunk",["string","Buffer"],me)),!oe||(X(pe,oe),k.nextTick(q,oe),!1)}(this,ue,Q,K))&&(ue.pendingcb++,ce=function(pe,_e,me,q,oe,se){if(!me){var ve=(Ye=q,(je=_e).objectMode||!1===je.decodeStrings||"string"!=typeof Ye||(Ye=E.from(Ye,oe)),Ye);q!==ve&&(me=!0,oe="buffer",q=ve)}var je,Ye,Se=_e.objectMode?1:q.length;_e.length+=Se;var De=_e.length<_e.highWaterMark;if(De||(_e.needDrain=!0),_e.writing||_e.corked){var qe=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:q,encoding:oe,isBuf:me,callback:se,next:null},qe?qe.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else L(pe,_e,!1,Se,q,oe,se);return De}(this,ue,de,Q,Z,K)),ce},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,Q.writing||Q.corked||Q.bufferProcessing||!Q.bufferedRequest||ee(this,Q))},$.prototype.setDefaultEncoding=function(Q){if("string"==typeof Q&&(Q=Q.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Q+"").toLowerCase())>-1))throw new H(Q);return this._writableState.defaultEncoding=Q,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(Q,Z,K){K(new g("_write()"))},$.prototype._writev=null,$.prototype.end=function(Q,Z,K){var ce,de,ne=this._writableState;return"function"==typeof Q?(K=Q,Q=null,Z=null):"function"==typeof Z&&(K=Z,Z=null),null!=Q&&this.write(Q,Z),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||(this,de=K,(ce=ne).ending=!0,U(this,ce),de&&(ce.finished?k.nextTick(de):this.once("finish",de)),ce.ended=!0,this.writable=!1),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(Q){this._writableState&&(this._writableState.destroyed=Q)}}),$.prototype.destroy=d.destroy,$.prototype._undestroy=d.undestroy,$.prototype._destroy=function(Q,Z){Z(Q)}}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:216,inherits:387,"util-deprecate":522}],483:[function(T,te,W){(function(k){"use strict";var R;function M(S,A,P){return A in S?Object.defineProperty(S,A,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[A]=P,S}var x=T("./end-of-stream"),O=Symbol("lastResolve"),w=Symbol("lastReject"),E=Symbol("error"),C=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),u=Symbol("stream");function c(S,A){return{value:S,done:A}}function m(S){var A=S[O];if(null!==A){var P=S[u].read();null!==P&&(S[f]=null,S[O]=null,S[w]=null,A(c(P,!1)))}}function g(S){k.nextTick(m,S)}var y=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((M(R={get stream(){return this[u]},next:function(){var S=this,A=this[E];if(null!==A)return Promise.reject(A);if(this[C])return Promise.resolve(c(void 0,!0));if(this[u].destroyed)return new Promise(function(J,j){k.nextTick(function(){S[E]?j(S[E]):J(c(void 0,!0))})});var P,J,j,H=this[f];if(H)P=new Promise((J=H,j=this,function($,L){J.then(function(){j[C]?$(c(void 0,!0)):j[d]($,L)},L)}));else{var X=this[u].read();if(null!==X)return Promise.resolve(c(X,!1));P=new Promise(this[d])}return this[f]=P,P}},Symbol.asyncIterator,function(){return this}),M(R,"return",function(){var S=this;return new Promise(function(A,P){S[u].destroy(null,function(H){H?P(H):A(c(void 0,!0))})})}),R),y);te.exports=function(S){var A,P=Object.create(b,(M(A={},u,{value:S,writable:!0}),M(A,O,{value:null,writable:!0}),M(A,w,{value:null,writable:!0}),M(A,E,{value:null,writable:!0}),M(A,C,{value:S._readableState.endEmitted,writable:!0}),M(A,d,{value:function(H,X){var J=P[u].read();J?(P[f]=null,P[O]=null,P[w]=null,H(c(J,!1))):(P[O]=H,P[w]=X)},writable:!0}),A));return P[f]=null,x(S,function(H){if(H&&"ERR_STREAM_PREMATURE_CLOSE"!==H.code){var X=P[w];return null!==X&&(P[f]=null,P[O]=null,P[w]=null,X(H)),void(P[E]=H)}var J=P[O];null!==J&&(P[f]=null,P[O]=null,P[w]=null,J(c(void 0,!0))),P[C]=!0}),S.on("readable",g.bind(null,P)),P}}).call(this,T("_process"))},{"./end-of-stream":486,_process:467}],484:[function(T,te,W){"use strict";function k(E,C){var f=Object.keys(E);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(E);C&&(d=d.filter(function(u){return Object.getOwnPropertyDescriptor(E,u).enumerable})),f.push.apply(f,d)}return f}function R(E,C,f){return C in E?Object.defineProperty(E,C,{value:f,enumerable:!0,configurable:!0,writable:!0}):E[C]=f,E}function M(E,C){for(var f=0;f<C.length;f++){var d=C[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(E,d.key,d)}}var x=T("buffer").Buffer,O=T("util").inspect,w=O&&O.custom||"inspect";te.exports=function(){function E(){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,E),this.head=null,this.tail=null,this.length=0}var C,f;return C=E,(f=[{key:"push",value:function(u){var c={data:u,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(u){var c={data:u,next:this.head};0===this.length&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(0!==this.length){var u=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,u}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(u){if(0===this.length)return"";for(var c=this.head,m=""+c.data;c=c.next;)m+=u+c.data;return m}},{key:"concat",value:function(u){if(0===this.length)return x.alloc(0);for(var y=x.allocUnsafe(u>>>0),b=this.head,S=0;b;)x.prototype.copy.call(b.data,y,S),S+=b.data.length,b=b.next;return y}},{key:"consume",value:function(u,c){var m;return u<this.head.data.length?(m=this.head.data.slice(0,u),this.head.data=this.head.data.slice(u)):m=u===this.head.data.length?this.shift():c?this._getString(u):this._getBuffer(u),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(u){var c=this.head,m=1,g=c.data;for(u-=g.length;c=c.next;){var y=c.data,b=u>y.length?y.length:u;if(g+=b===y.length?y:y.slice(0,u),0==(u-=b)){b===y.length?(++m,this.head=c.next?c.next:this.tail=null):(this.head=c,c.data=y.slice(b));break}++m}return this.length-=m,g}},{key:"_getBuffer",value:function(u){var c=x.allocUnsafe(u),m=this.head,g=1;for(m.data.copy(c),u-=m.data.length;m=m.next;){var y=m.data,b=u>y.length?y.length:u;if(y.copy(c,c.length-u,0,b),0==(u-=b)){b===y.length?(++g,this.head=m.next?m.next:this.tail=null):(this.head=m,m.data=y.slice(b));break}++g}return this.length-=g,c}},{key:w,value:function(u,c){return O(this,function(m){for(var g=1;g<arguments.length;g++){var y=null!=arguments[g]?arguments[g]:{};g%2?k(Object(y),!0).forEach(function(b){R(m,b,y[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(y)):k(Object(y)).forEach(function(b){Object.defineProperty(m,b,Object.getOwnPropertyDescriptor(y,b))})}return m}({},c,{depth:0,customInspect:!1}))}}])&&M(C.prototype,f),E}()},{buffer:216,util:185}],485:[function(T,te,W){(function(k){"use strict";function R(O,w){x(O,w),M(O)}function M(O){O._writableState&&!O._writableState.emitClose||O._readableState&&!O._readableState.emitClose||O.emit("close")}function x(O,w){O.emit("error",w)}te.exports={destroy:function(O,w){var E=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(w?w(O):O&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,k.nextTick(x,this,O)):k.nextTick(x,this,O)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(O||null,function(d){!w&&d?E._writableState?E._writableState.errorEmitted?k.nextTick(M,E):(E._writableState.errorEmitted=!0,k.nextTick(R,E,d)):k.nextTick(R,E,d):w?(k.nextTick(M,E),w(d)):k.nextTick(M,E)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(O,w){var E=O._readableState,C=O._writableState;E&&E.autoDestroy||C&&C.autoDestroy?O.destroy(w):O.emit("error",w)}}}).call(this,T("_process"))},{_process:467}],486:[function(T,te,W){"use strict";var k=T("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function R(){}te.exports=function M(x,O,w){if("function"==typeof O)return M(x,null,O);var S,A;O||(O={}),S=w||R,A=!1,w=function(){if(!A){A=!0;for(var P=arguments.length,H=new Array(P),X=0;X<P;X++)H[X]=arguments[X];S.apply(this,H)}};var E=O.readable||!1!==O.readable&&x.readable,C=O.writable||!1!==O.writable&&x.writable,f=function(){x.writable||u()},d=x._writableState&&x._writableState.finished,u=function(){C=!1,d=!0,E||w.call(x)},c=x._readableState&&x._readableState.endEmitted,m=function(){E=!1,c=!0,C||w.call(x)},g=function(S){w.call(x,S)},y=function(){var S;return E&&!c?(x._readableState&&x._readableState.ended||(S=new k),w.call(x,S)):C&&!d?(x._writableState&&x._writableState.ended||(S=new k),w.call(x,S)):void 0},b=function(){x.req.on("finish",u)};return function(S){return S.setHeader&&"function"==typeof S.abort}(x)?(x.on("complete",u),x.on("abort",y),x.req?b():x.on("request",b)):C&&!x._writableState&&(x.on("end",f),x.on("close",f)),x.on("end",m),x.on("finish",u),!1!==O.error&&x.on("error",g),x.on("close",y),function(){x.removeListener("complete",u),x.removeListener("abort",y),x.removeListener("request",b),x.req&&x.req.removeListener("finish",u),x.removeListener("end",f),x.removeListener("close",f),x.removeListener("finish",u),x.removeListener("end",m),x.removeListener("error",g),x.removeListener("close",y)}}},{"../../../errors":477}],487:[function(T,te,W){"use strict";te.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(T,te,W){"use strict";var k,R=T("../../../errors").codes,M=R.ERR_MISSING_ARGS,x=R.ERR_STREAM_DESTROYED;function O(d){if(d)throw d}function w(d,u,c,m){var b,S;b=m,S=!1,m=function(){S||(S=!0,b.apply(void 0,arguments))};var g=!1;d.on("close",function(){g=!0}),void 0===k&&(k=T("./end-of-stream")),k(d,{readable:u,writable:c},function(b){if(b)return m(b);g=!0,m()});var y=!1;return function(b){if(!g&&!y)return y=!0,function(S){return S.setHeader&&"function"==typeof S.abort}(d)?d.abort():"function"==typeof d.destroy?d.destroy():void m(b||new x("pipe"))}}function E(d){d()}function C(d,u){return d.pipe(u)}function f(d){return d.length?"function"!=typeof d[d.length-1]?O:d.pop():O}te.exports=function(){for(var d=arguments.length,u=new Array(d),c=0;c<d;c++)u[c]=arguments[c];var m,g=f(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new M("streams");var y=u.map(function(b,S){var A=S<u.length-1;return w(b,A,S>0,function(P){m||(m=P),P&&y.forEach(E),A||(y.forEach(E),g(m))})});return u.reduce(C)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(T,te,W){"use strict";var k=T("../../../errors").codes.ERR_INVALID_OPT_VALUE;te.exports={getHighWaterMark:function(R,M,x,O){var E,w=null!=(E=M).highWaterMark?E.highWaterMark:O?E[x]:null;if(null!=w){if(!isFinite(w)||Math.floor(w)!==w||w<0)throw new k(O?x:"highWaterMark",w);return Math.floor(w)}return R.objectMode?16:16384}}},{"../../../errors":477}],490:[function(T,te,W){"use strict";te.exports=T("events").EventEmitter},{events:367}],491:[function(T,te,W){"use strict";(W=te.exports=T("./lib/_stream_readable.js")).Stream=W,W.Readable=W,W.Writable=T("./lib/_stream_writable.js"),W.Duplex=T("./lib/_stream_duplex.js"),W.Transform=T("./lib/_stream_transform.js"),W.PassThrough=T("./lib/_stream_passthrough.js"),W.finished=T("./lib/internal/streams/end-of-stream.js"),W.pipeline=T("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(T,te,W){"use strict";function k(M){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(M)}var R=function(M){var x=Object.prototype,O=x.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},E=w.iterator||"@@iterator",C=w.asyncIterator||"@@asyncIterator",f=w.toStringTag||"@@toStringTag";function d(V,U,Q){return Object.defineProperty(V,U,{value:Q,enumerable:!0,configurable:!0,writable:!0}),V[U]}try{d({},"")}catch{d=function(U,Q,Z){return U[Q]=Z}}function u(V,U,Q,Z){var ce,de,pe,_e,ne=Object.create((U&&U.prototype instanceof g?U:g).prototype),ue=new B(Z||[]);return ne._invoke=(ce=V,de=Q,pe=ue,_e="suspendedStart",function(me,q){if("executing"===_e)throw new Error("Generator is already running");if("completed"===_e){if("throw"===me)throw q;return{value:void 0,done:!0}}for(pe.method=me,pe.arg=q;;){var oe=pe.delegate;if(oe){var se=j(oe,pe);if(se){if(se===m)continue;return se}}if("next"===pe.method)pe.sent=pe._sent=pe.arg;else if("throw"===pe.method){if("suspendedStart"===_e)throw _e="completed",pe.arg;pe.dispatchException(pe.arg)}else"return"===pe.method&&pe.abrupt("return",pe.arg);_e="executing";var ve=c(ce,de,pe);if("normal"===ve.type){if(_e=pe.done?"completed":"suspendedYield",ve.arg===m)continue;return{value:ve.arg,done:pe.done}}"throw"===ve.type&&(_e="completed",pe.method="throw",pe.arg=ve.arg)}}),ne}function c(V,U,Q){try{return{type:"normal",arg:V.call(U,Q)}}catch(Z){return{type:"throw",arg:Z}}}M.wrap=u;var m={};function g(){}function y(){}function b(){}var S={};S[E]=function(){return this};var A=Object.getPrototypeOf,P=A&&A(A(ee([])));P&&P!==x&&O.call(P,E)&&(S=P);var H=b.prototype=g.prototype=Object.create(S);function X(V){["next","throw","return"].forEach(function(U){d(V,U,function(Q){return this._invoke(U,Q)})})}function J(V,U){var Q;this._invoke=function(Z,K){function ne(){return new U(function(ue,ce){!function de(pe,_e,me,q){var oe=c(V[pe],V,_e);if("throw"!==oe.type){var se=oe.arg,ve=se.value;return ve&&"object"===k(ve)&&O.call(ve,"__await")?U.resolve(ve.__await).then(function(Se){de("next",Se,me,q)},function(Se){de("throw",Se,me,q)}):U.resolve(ve).then(function(Se){se.value=Se,me(se)},function(Se){return de("throw",Se,me,q)})}q(oe.arg)}(Z,K,ue,ce)})}return Q=Q?Q.then(ne,ne):ne()}}function j(V,U){var Q=V.iterator[U.method];if(void 0===Q){if(U.delegate=null,"throw"===U.method){if(V.iterator.return&&(U.method="return",U.arg=void 0,j(V,U),"throw"===U.method))return m;U.method="throw",U.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var Z=c(Q,V.iterator,U.arg);if("throw"===Z.type)return U.method="throw",U.arg=Z.arg,U.delegate=null,m;var K=Z.arg;return K?K.done?(U[V.resultName]=K.value,U.next=V.nextLoc,"return"!==U.method&&(U.method="next",U.arg=void 0),U.delegate=null,m):K:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,m)}function $(V){var U={tryLoc:V[0]};1 in V&&(U.catchLoc=V[1]),2 in V&&(U.finallyLoc=V[2],U.afterLoc=V[3]),this.tryEntries.push(U)}function L(V){var U=V.completion||{};U.type="normal",delete U.arg,V.completion=U}function B(V){this.tryEntries=[{tryLoc:"root"}],V.forEach($,this),this.reset(!0)}function ee(V){if(V){var U=V[E];if(U)return U.call(V);if("function"==typeof V.next)return V;if(!isNaN(V.length)){var Q=-1,Z=function K(){for(;++Q<V.length;)if(O.call(V,Q))return K.value=V[Q],K.done=!1,K;return K.value=void 0,K.done=!0,K};return Z.next=Z}}return{next:N}}function N(){return{value:void 0,done:!0}}return y.prototype=H.constructor=b,b.constructor=y,y.displayName=d(b,f,"GeneratorFunction"),M.isGeneratorFunction=function(V){var U="function"==typeof V&&V.constructor;return!!U&&(U===y||"GeneratorFunction"===(U.displayName||U.name))},M.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,b):(V.__proto__=b,d(V,f,"GeneratorFunction")),V.prototype=Object.create(H),V},M.awrap=function(V){return{__await:V}},X(J.prototype),J.prototype[C]=function(){return this},M.AsyncIterator=J,M.async=function(V,U,Q,Z,K){void 0===K&&(K=Promise);var ne=new J(u(V,U,Q,Z),K);return M.isGeneratorFunction(U)?ne:ne.next().then(function(ue){return ue.done?ue.value:ne.next()})},X(H),d(H,f,"Generator"),H[E]=function(){return this},H.toString=function(){return"[object Generator]"},M.keys=function(V){var U=[];for(var Q in V)U.push(Q);return U.reverse(),function Z(){for(;U.length;){var K=U.pop();if(K in V)return Z.value=K,Z.done=!1,Z}return Z.done=!0,Z}},M.values=ee,B.prototype={constructor:B,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!V)for(var U in this)"t"===U.charAt(0)&&O.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=void 0)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if("throw"===V.type)throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var U=this;function Q(de,pe){return ne.type="throw",ne.arg=V,U.next=de,pe&&(U.method="next",U.arg=void 0),!!pe}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var K=this.tryEntries[Z],ne=K.completion;if("root"===K.tryLoc)return Q("end");if(K.tryLoc<=this.prev){var ue=O.call(K,"catchLoc"),ce=O.call(K,"finallyLoc");if(ue&&ce){if(this.prev<K.catchLoc)return Q(K.catchLoc,!0);if(this.prev<K.finallyLoc)return Q(K.finallyLoc)}else if(ue){if(this.prev<K.catchLoc)return Q(K.catchLoc,!0)}else{if(!ce)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return Q(K.finallyLoc)}}}},abrupt:function(V,U){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var Z=this.tryEntries[Q];if(Z.tryLoc<=this.prev&&O.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var K=Z;break}}K&&("break"===V||"continue"===V)&&K.tryLoc<=U&&U<=K.finallyLoc&&(K=null);var ne=K?K.completion:{};return ne.type=V,ne.arg=U,K?(this.method="next",this.next=K.finallyLoc,m):this.complete(ne)},complete:function(V,U){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&U&&(this.next=U),m},finish:function(V){for(var U=this.tryEntries.length-1;U>=0;--U){var Q=this.tryEntries[U];if(Q.finallyLoc===V)return this.complete(Q.completion,Q.afterLoc),L(Q),m}},catch:function(V){for(var U=this.tryEntries.length-1;U>=0;--U){var Q=this.tryEntries[U];if(Q.tryLoc===V){var Z=Q.completion;if("throw"===Z.type){var K=Z.arg;L(Q)}return K}}throw new Error("illegal catch attempt")},delegateYield:function(V,U,Q){return this.delegate={iterator:ee(V),resultName:U,nextLoc:Q},"next"===this.method&&(this.arg=void 0),m}},M}("object"===(void 0===te?"undefined":k(te))?te.exports:{});try{regeneratorRuntime=R}catch{Function("r","regeneratorRuntime = r")(R)}},{}],493:[function(T,te,W){"use strict";var k=T("buffer").Buffer,R=T("inherits"),M=T("hash-base"),x=new Array(16),O=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],C=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function u(){M.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function c(A,P){return A<<P|A>>>32-P}function m(A,P,H,X,J,j,$,L){return c(A+(P^H^X)+j+$|0,L)+J|0}function g(A,P,H,X,J,j,$,L){return c(A+(P&H|~P&X)+j+$|0,L)+J|0}function y(A,P,H,X,J,j,$,L){return c(A+((P|~H)^X)+j+$|0,L)+J|0}function b(A,P,H,X,J,j,$,L){return c(A+(P&X|H&~X)+j+$|0,L)+J|0}function S(A,P,H,X,J,j,$,L){return c(A+(P^(H|~X))+j+$|0,L)+J|0}R(u,M),u.prototype._update=function(){for(var A=x,P=0;P<16;++P)A[P]=this._block.readInt32LE(4*P);for(var H=0|this._a,X=0|this._b,J=0|this._c,j=0|this._d,$=0|this._e,L=0|this._a,B=0|this._b,ee=0|this._c,N=0|this._d,V=0|this._e,U=0;U<80;U+=1){var Q,Z;U<16?(Q=m(H,X,J,j,$,A[O[U]],f[0],E[U]),Z=S(L,B,ee,N,V,A[w[U]],d[0],C[U])):U<32?(Q=g(H,X,J,j,$,A[O[U]],f[1],E[U]),Z=b(L,B,ee,N,V,A[w[U]],d[1],C[U])):U<48?(Q=y(H,X,J,j,$,A[O[U]],f[2],E[U]),Z=y(L,B,ee,N,V,A[w[U]],d[2],C[U])):U<64?(Q=b(H,X,J,j,$,A[O[U]],f[3],E[U]),Z=g(L,B,ee,N,V,A[w[U]],d[3],C[U])):(Q=S(H,X,J,j,$,A[O[U]],f[4],E[U]),Z=m(L,B,ee,N,V,A[w[U]],d[4],C[U])),H=$,$=j,j=c(J,10),J=X,X=Q,L=V,V=N,N=c(ee,10),ee=B,B=Z}var K=this._b+J+N|0;this._b=this._c+j+V|0,this._c=this._d+$+L|0,this._d=this._e+H+B|0,this._e=this._a+X+ee|0,this._a=K},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=k.alloc?k.alloc(20):new k(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A},te.exports=u},{buffer:216,"hash-base":370,inherits:387}],494:[function(T,te,W){"use strict";var k=T("buffer"),R=k.Buffer;function M(O,w){for(var E in O)w[E]=O[E]}function x(O,w,E){return R(O,w,E)}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?te.exports=k:(M(k,W),W.Buffer=x),M(R,x),x.from=function(O,w,E){if("number"==typeof O)throw new TypeError("Argument must not be a number");return R(O,w,E)},x.alloc=function(O,w,E){if("number"!=typeof O)throw new TypeError("Argument must be a number");var C=R(O);return void 0!==w?"string"==typeof E?C.fill(w,E):C.fill(w):C.fill(0),C},x.allocUnsafe=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return R(O)},x.allocUnsafeSlow=function(O){if("number"!=typeof O)throw new TypeError("Argument must be a number");return k.SlowBuffer(O)}},{buffer:216}],495:[function(T,te,W){(function(k){"use strict";function R(C){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(C)}var M,x=T("buffer"),O=x.Buffer,w={};for(M in x)x.hasOwnProperty(M)&&"SlowBuffer"!==M&&"Buffer"!==M&&(w[M]=x[M]);var E=w.Buffer={};for(M in O)O.hasOwnProperty(M)&&"allocUnsafe"!==M&&"allocUnsafeSlow"!==M&&(E[M]=O[M]);if(w.Buffer.prototype=O.prototype,E.from&&E.from!==Uint8Array.from||(E.from=function(C,f,d){if("number"==typeof C)throw new TypeError('The "value" argument must not be of type number. Received type '+R(C));if(C&&void 0===C.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+R(C));return O(C,f,d)}),E.alloc||(E.alloc=function(C,f,d){if("number"!=typeof C)throw new TypeError('The "size" argument must be of type number. Received type '+R(C));if(C<0||C>=2*(1<<30))throw new RangeError('The value "'+C+'" is invalid for option "size"');var u=O(C);return f&&0!==f.length?"string"==typeof d?u.fill(f,d):u.fill(f):u.fill(0),u}),!w.kStringMaxLength)try{w.kStringMaxLength=k.binding("buffer").kStringMaxLength}catch{}w.constants||(w.constants={MAX_LENGTH:w.kMaxLength},w.kStringMaxLength&&(w.constants.MAX_STRING_LENGTH=w.kStringMaxLength)),te.exports=w}).call(this,T("_process"))},{_process:467,buffer:216}],496:[function(T,te,W){"use strict";function k(de,pe){var _e;if(typeof Symbol>"u"||null==de[Symbol.iterator]){if(Array.isArray(de)||(_e=O(de))||pe&&de&&"number"==typeof de.length){_e&&(de=_e);var me=0,q=function(){};return{s:q,n:function(){return me>=de.length?{done:!0}:{done:!1,value:de[me++]}},e:function(Se){throw Se},f:q}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var oe,se=!0,ve=!1;return{s:function(){_e=de[Symbol.iterator]()},n:function(){var Se=_e.next();return se=Se.done,Se},e:function(Se){ve=!0,oe=Se},f:function(){try{se||null==_e.return||_e.return()}finally{if(ve)throw oe}}}}function R(de){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe})(de)}function M(de,pe){for(var _e=0;_e<pe.length;_e++){var me=pe[_e];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(de,me.key,me)}}function x(de){return function(pe){if(Array.isArray(pe))return w(pe)}(de)||function(pe){if(typeof Symbol<"u"&&Symbol.iterator in Object(pe))return Array.from(pe)}(de)||O(de)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(de,pe){if(de){if("string"==typeof de)return w(de,pe);var _e=Object.prototype.toString.call(de).slice(8,-1);return"Object"===_e&&de.constructor&&(_e=de.constructor.name),"Map"===_e||"Set"===_e?Array.from(de):"Arguments"===_e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e)?w(de,pe):void 0}}function w(de,pe){(null==pe||pe>de.length)&&(pe=de.length);for(var _e=0,me=new Array(pe);_e<pe;_e++)me[_e]=de[_e];return me}Object.defineProperty(W,"__esModule",{value:!0});var E=T("xmlchars/xml/1.0/ed5"),C=T("xmlchars/xml/1.1/ed2"),f=T("xmlchars/xmlns/1.0/ed3"),d=E.isS,u=E.isChar,c=E.isNameStartChar,m=E.isNameChar,g=E.S_LIST,y=E.NAME_RE,b=C.isChar,S=f.isNCNameStartChar,A=f.isNCNameChar,P=f.NC_NAME_RE,H="http://www.w3.org/XML/1998/namespace",X="http://www.w3.org/2000/xmlns/",J={__proto__:null,xml:H,xmlns:X},j={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},$=61,L=63,B=function(de){return 34===de||39===de},ee=[34,39],N=[].concat(ee,[91,62]),V=[].concat(ee,[60,93]),U=[$,L].concat(x(g)),Q=[].concat(x(g),[62,38,60]);function Z(de,pe,_e){switch(pe){case"xml":_e!==H&&de.fail("xml prefix must be bound to ".concat(H,"."));break;case"xmlns":_e!==X&&de.fail("xmlns prefix must be bound to ".concat(X,"."))}switch(_e){case X:de.fail(""===pe?"the default namespace may not be set to ".concat(_e,"."):'may not assign a prefix (even "xmlns") to the URI '.concat(X,"."));break;case H:switch(pe){case"xml":break;case"":de.fail("the default namespace may not be set to ".concat(_e,"."));break;default:de.fail("may not assign the xml namespace to another prefix.")}}}var K=function(de){return P.test(de)},ne=function(de){return y.test(de)};W.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];var ue={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"},ce=function(){function de(q){(function(ve,Se){if(!(ve instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,de),this.opt=q??{},this.fragmentOpt=!!this.opt.fragment;var oe=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,oe){this.nameStartCheck=S,this.nameCheck=A,this.isName=K,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},J);var se=this.opt.additionalNamespaces;null!=se&&(function(ve,Se){for(var De=0,qe=Object.keys(Se);De<qe.length;De++){var je=qe[De];Z(ve,je,Se[je])}}(this,se),Object.assign(this.ns,se))}else this.nameStartCheck=c,this.nameCheck=m,this.isName=ne,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}var pe,_e;return pe=de,(_e=[{key:"_init",value:function(){var q;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];var oe=this.fragmentOpt;this.state=oe?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=oe,this.xmlDeclPossible=!oe,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;var se=this.opt.defaultXMLVersion;if(void 0===se){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");se="1.0"}this.setXMLVersion(se),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(j),null===(q=this.readyHandler)||void 0===q||q.call(this)}},{key:"on",value:function(q,oe){this[ue[q]]=oe}},{key:"off",value:function(q){this[ue[q]]=void 0}},{key:"makeError",value:function(q){var oe,se=null!==(oe=this.fileName)&&void 0!==oe?oe:"";return this.trackPosition&&(se.length>0&&(se+=":"),se+="".concat(this.line,":").concat(this.column)),se.length>0&&(se+=": "),new Error(se+q)}},{key:"fail",value:function(q){var oe=this.makeError(q),se=this.errorHandler;if(void 0===se)throw oe;return se(oe),this}},{key:"write",value:function(q){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");var oe=!1;null===q?(oe=!0,q=""):"object"===R(q)&&(q=q.toString()),void 0!==this.carriedFromPrevious&&(q="".concat(this.carriedFromPrevious).concat(q),this.carriedFromPrevious=void 0);var se=q.length,ve=q.charCodeAt(se-1);!oe&&(13===ve||ve>=55296&&ve<=56319)&&(this.carriedFromPrevious=q[se-1],se--,q=q.slice(0,se));var Se=this.stateTable;for(this.chunk=q,this.i=0;this.i<se;)Se[this.state].call(this);return this.chunkPosition+=se,oe?this.end():this}},{key:"close",value:function(){return this.write(null)}},{key:"getCode10",value:function(){var q=this.chunk,oe=this.i;if(this.prevI=oe,this.i=oe+1,oe>=q.length)return-1;var se=q.charCodeAt(oe);if(this.column++,se<55296){if(se>=32||9===se)return se;switch(se){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return 10===q.charCodeAt(oe+1)&&(this.i=oe+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),se}}if(se>56319)return se>=57344&&se<=65533||this.fail("disallowed character."),se;var ve=65536+1024*(se-55296)+(q.charCodeAt(oe+1)-56320);return this.i=oe+2,ve>1114111&&this.fail("disallowed character."),ve}},{key:"getCode11",value:function(){var q=this.chunk,oe=this.i;if(this.prevI=oe,this.i=oe+1,oe>=q.length)return-1;var se=q.charCodeAt(oe);if(this.column++,se<55296){if(se>31&&se<127||se>159&&8232!==se||9===se)return se;switch(se){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:var ve=q.charCodeAt(oe+1);10!==ve&&133!==ve||(this.i=oe+2);case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),se}}if(se>56319)return se>=57344&&se<=65533||this.fail("disallowed character."),se;var Se=65536+1024*(se-55296)+(q.charCodeAt(oe+1)-56320);return this.i=oe+2,Se>1114111&&this.fail("disallowed character."),Se}},{key:"getCodeNorm",value:function(){var q=this.getCode();return-2===q?10:q}},{key:"unget",value:function(){this.i=this.prevI,this.column--}},{key:"captureTo",value:function(q){for(var oe=this.i,se=this.chunk;;){var ve=this.getCode(),Se=-2===ve,De=Se?10:ve;if(-1===De||q.includes(De))return this.text+=se.slice(oe,this.prevI),De;Se&&(this.text+="".concat(se.slice(oe,this.prevI),"\n"),oe=this.i)}}},{key:"captureToChar",value:function(q){for(var oe=this.i,se=this.chunk;;){var ve=this.getCode();switch(ve){case-2:this.text+="".concat(se.slice(oe,this.prevI),"\n"),oe=this.i,ve=10;break;case-1:return this.text+=se.slice(oe),!1}if(ve===q)return this.text+=se.slice(oe,this.prevI),!0}}},{key:"captureNameChars",value:function(){for(var q=this.chunk,oe=this.i;;){var se=this.getCode();if(-1===se)return this.name+=q.slice(oe),-1;if(!m(se))return this.name+=q.slice(oe,this.prevI),-2===se?10:se}}},{key:"skipSpaces",value:function(){for(;;){var q=this.getCodeNorm();if(-1===q||!d(q))return q}}},{key:"setXMLVersion",value:function(q){this.currentXMLVersion=q,"1.0"===q?(this.isChar=u,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}},{key:"sBegin",value:function(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}},{key:"sBeginWhitespace",value:function(){var q=this.i,oe=this.skipSpaces();switch(this.prevI!==q&&(this.xmlDeclPossible=!1),oe){case 60:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}},{key:"sDoctype",value:function(){var q,oe=this.captureTo(N);switch(oe){case 62:null===(q=this.doctypeHandler)||void 0===q||q.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(oe),91===oe?this.state=4:B(oe)&&(this.state=3,this.q=oe)}}},{key:"sDoctypeQuote",value:function(){var q=this.q;this.captureToChar(q)&&(this.text+=String.fromCodePoint(q),this.q=null,this.state=2)}},{key:"sDTD",value:function(){var q=this.captureTo(V);-1!==q&&(this.text+=String.fromCodePoint(q),93===q?this.state=2:60===q?this.state=6:B(q)&&(this.state=5,this.q=q))}},{key:"sDTDQuoted",value:function(){var q=this.q;this.captureToChar(q)&&(this.text+=String.fromCodePoint(q),this.state=4,this.q=null)}},{key:"sDTDOpenWaka",value:function(){var q=this.getCodeNorm();switch(this.text+=String.fromCodePoint(q),q){case 33:this.state=7,this.openWakaBang="";break;case L:this.state=11;break;default:this.state=4}}},{key:"sDTDOpenWakaBang",value:function(){var q=String.fromCodePoint(this.getCodeNorm()),oe=this.openWakaBang+=q;this.text+=q,"-"!==oe&&(this.state="--"===oe?8:4,this.openWakaBang="")}},{key:"sDTDComment",value:function(){this.captureToChar(45)&&(this.text+="-",this.state=9)}},{key:"sDTDCommentEnding",value:function(){var q=this.getCodeNorm();this.text+=String.fromCodePoint(q),this.state=45===q?10:8}},{key:"sDTDCommentEnded",value:function(){var q=this.getCodeNorm();this.text+=String.fromCodePoint(q),62===q?this.state=4:(this.fail("malformed comment."),this.state=8)}},{key:"sDTDPI",value:function(){this.captureToChar(L)&&(this.text+="?",this.state=12)}},{key:"sDTDPIEnding",value:function(){var q=this.getCodeNorm();this.text+=String.fromCodePoint(q),62===q&&(this.state=4)}},{key:"sText",value:function(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}},{key:"sEntity",value:function(){var q=this.i,oe=this.chunk;e:for(;;)switch(this.getCode()){case-2:this.entity+="".concat(oe.slice(q,this.prevI),"\n"),q=this.i;break;case 59:var se=this.entityReturnState,ve=this.entity+oe.slice(q,this.prevI);this.state=se;var Se=void 0;""===ve?(this.fail("empty entity name."),Se="&;"):(Se=this.parseEntity(ve),this.entity=""),13===se&&void 0===this.textHandler||(this.text+=Se);break e;case-1:this.entity+=oe.slice(q);break e}}},{key:"sOpenWaka",value:function(){var q=this.getCode();if(c(q))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(q){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case L:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}},{key:"sOpenWakaBang",value:function(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}},{key:"sComment",value:function(){this.captureToChar(45)&&(this.state=18)}},{key:"sCommentEnding",value:function(){var q,oe=this.getCodeNorm();45===oe?(this.state=19,null===(q=this.commentHandler)||void 0===q||q.call(this,this.text),this.text=""):(this.text+="-".concat(String.fromCodePoint(oe)),this.state=17)}},{key:"sCommentEnded",value:function(){var q=this.getCodeNorm();62!==q?(this.fail("malformed comment."),this.text+="--".concat(String.fromCodePoint(q)),this.state=17):this.state=13}},{key:"sCData",value:function(){this.captureToChar(93)&&(this.state=21)}},{key:"sCDataEnding",value:function(){var q=this.getCodeNorm();93===q?this.state=22:(this.text+="]".concat(String.fromCodePoint(q)),this.state=20)}},{key:"sCDataEnding2",value:function(){var q,oe=this.getCodeNorm();switch(oe){case 62:null===(q=this.cdataHandler)||void 0===q||q.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]".concat(String.fromCodePoint(oe)),this.state=20}}},{key:"sPIFirstChar",value:function(){var q=this.getCodeNorm();this.nameStartCheck(q)?(this.piTarget+=String.fromCodePoint(q),this.state=24):q===L||d(q)?(this.fail("processing instruction without a target."),this.state=q===L?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(q),this.state=24)}},{key:"sPIRest",value:function(){for(var q=this.chunk,oe=this.i;;){var se=this.getCodeNorm();if(-1===se)return void(this.piTarget+=q.slice(oe));if(!this.nameCheck(se)){this.piTarget+=q.slice(oe,this.prevI);var ve=se===L;ve||d(se)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=ve?33:27):this.state=ve?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(se));break}}}},{key:"sPIBody",value:function(){if(0===this.text.length){var q=this.getCodeNorm();q===L?this.state=26:d(q)||(this.text=String.fromCodePoint(q))}else this.captureToChar(L)&&(this.state=26)}},{key:"sPIEnding",value:function(){var q,oe=this.getCodeNorm();if(62===oe){var se=this.piTarget;"xml"===se.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(q=this.piHandler)||void 0===q||q.call(this,{target:se,body:this.text}),this.piTarget=this.text="",this.state=13}else oe===L?this.text+="?":(this.text+="?".concat(String.fromCodePoint(oe)),this.state=25);this.xmlDeclPossible=!1}},{key:"sXMLDeclNameStart",value:function(){var q=this.skipSpaces();q!==L?-1!==q&&(this.state=28,this.name=String.fromCodePoint(q)):this.state=33}},{key:"sXMLDeclName",value:function(){var q=this.captureTo(U);if(q===L)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(d(q)||q===$){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name ".concat(this.xmlDeclExpects[0],"."));break;default:this.fail("expected one of ".concat(this.xmlDeclExpects.join(", ")))}this.state=q===$?30:29}}},{key:"sXMLDeclEq",value:function(){var q=this.getCodeNorm();if(q===L)return this.state=33,void this.fail("XML declaration is incomplete.");d(q)||(q!==$&&this.fail("value required."),this.state=30)}},{key:"sXMLDeclValueStart",value:function(){var q=this.getCodeNorm();if(q===L)return this.state=33,void this.fail("XML declaration is incomplete.");d(q)||(B(q)?this.q=q:(this.fail("value must be quoted."),this.q=32),this.state=31)}},{key:"sXMLDeclValue",value:function(){var q=this.captureTo([this.q,L]);if(q===L)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(-1!==q){var oe=this.text;switch(this.text="",this.name){case"version":this.xmlDeclExpects=["encoding","standalone"];var se=oe;this.xmlDecl.version=se,/^1\.[0-9]+$/.test(se)?this.opt.forceXMLVersion||this.setXMLVersion(se):this.fail("version number must match /^1\\.[0-9]+$/.");break;case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(oe)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=oe;break;case"standalone":"yes"!==oe&&"no"!==oe&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=oe}this.name="",this.state=32}}},{key:"sXMLDeclSeparator",value:function(){var q=this.getCodeNorm();q!==L?(d(q)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}},{key:"sXMLDeclEnding",value:function(){var q;62===this.getCodeNorm()?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(q=this.xmldeclHandler)||void 0===q||q.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}},{key:"sOpenTag",value:function(){var q,oe=this.captureNameChars();if(-1!==oe){var se=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=se.ns=Object.create(null)),null===(q=this.openTagStartHandler)||void 0===q||q.call(this,se),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),oe){case 62:this.openTag();break;case 47:this.state=35;break;default:d(oe)||this.fail("disallowed character in tag name."),this.state=36}}}},{key:"sOpenTagSlash",value:function(){62===this.getCode()?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}},{key:"sAttrib",value:function(){var q=this.skipSpaces();-1!==q&&(c(q)?(this.unget(),this.state=37):62===q?this.openTag():47===q?this.state=35:this.fail("disallowed character in attribute name."))}},{key:"sAttribName",value:function(){var q=this.captureNameChars();q===$?this.state=39:d(q)?this.state=38:62===q?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):-1!==q&&this.fail("disallowed character in attribute name.")}},{key:"sAttribNameSawWhite",value:function(){var q=this.skipSpaces();switch(q){case-1:return;case $:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",62===q?this.openTag():c(q)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}},{key:"sAttribValue",value:function(){var q=this.getCodeNorm();B(q)?(this.q=q,this.state=40):d(q)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}},{key:"sAttribValueQuoted",value:function(){for(var q=this.q,oe=this.chunk,se=this.i;;)switch(this.getCode()){case q:return this.pushAttrib(this.name,this.text+oe.slice(se,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=oe.slice(se,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+="".concat(oe.slice(se,this.prevI)," "),se=this.i;break;case 60:return this.text+=oe.slice(se,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=oe.slice(se))}}},{key:"sAttribValueClosed",value:function(){var q=this.getCodeNorm();d(q)?this.state=36:62===q?this.openTag():47===q?this.state=35:c(q)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}},{key:"sAttribValueUnquoted",value:function(){var q=this.captureTo(Q);switch(q){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",62===q?this.openTag():this.state=36}}},{key:"sCloseTag",value:function(){var q=this.captureNameChars();62===q?this.closeTag():d(q)?this.state=44:-1!==q&&this.fail("disallowed character in closing tag.")}},{key:"sCloseTagSawWhite",value:function(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}},{key:"handleTextInRoot",value:function(){var q=this.i,oe=this.forbiddenState,se=this.chunk,ve=this.textHandler;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,void 0!==ve){var Se=this.text,De=se.slice(q,this.prevI);0!==Se.length?(ve(Se+De),this.text=""):0!==De.length&&ve(De)}oe=0;break e;case 38:this.state=14,this.entityReturnState=13,void 0!==ve&&(this.text+=se.slice(q,this.prevI)),oe=0;break e;case 93:switch(oe){case 0:oe=1;break;case 1:oe=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:2===oe&&this.fail('the string "]]>" is disallowed in char data.'),oe=0;break;case-2:void 0!==ve&&(this.text+="".concat(se.slice(q,this.prevI),"\n")),q=this.i,oe=0;break;case-1:void 0!==ve&&(this.text+=se.slice(q));break e;default:oe=0}this.forbiddenState=oe}},{key:"handleTextOutsideRoot",value:function(){var q=this.i,oe=this.chunk,se=this.textHandler,ve=!1;e:for(;;){var Se=this.getCode();switch(Se){case 60:if(this.state=15,void 0!==se){var De=this.text,qe=oe.slice(q,this.prevI);0!==De.length?(se(De+qe),this.text=""):0!==qe.length&&se(qe)}break e;case 38:this.state=14,this.entityReturnState=13,void 0!==se&&(this.text+=oe.slice(q,this.prevI)),ve=!0;break e;case-2:void 0!==se&&(this.text+="".concat(oe.slice(q,this.prevI),"\n")),q=this.i;break;case-1:void 0!==se&&(this.text+=oe.slice(q));break e;default:d(Se)||(ve=!0)}}ve&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}},{key:"pushAttribNS",value:function(q,oe){var se,ve=this.qname(q),Se=ve.prefix,De=ve.local,qe={name:q,prefix:Se,local:De,value:oe};if(this.attribList.push(qe),null===(se=this.attributeHandler)||void 0===se||se.call(this,qe),"xmlns"===Se){var je=oe.trim();"1.0"===this.currentXMLVersion&&""===je&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[De]=je,Z(this,De,je)}else if("xmlns"===q){var Ye=oe.trim();this.topNS[""]=Ye,Z(this,"",Ye)}}},{key:"pushAttribPlain",value:function(q,oe){var se,ve={name:q,value:oe};this.attribList.push(ve),null===(se=this.attributeHandler)||void 0===se||se.call(this,ve)}},{key:"end",value:function(){var q,oe;this.sawRoot||this.fail("document must contain a root element.");for(var se=this.tags;se.length>0;){var ve=se.pop();this.fail("unclosed tag: ".concat(ve.name))}0!==this.state&&13!==this.state&&this.fail("unexpected end.");var Se=this.text;return 0!==Se.length&&(null===(q=this.textHandler)||void 0===q||q.call(this,Se),this.text=""),this._closed=!0,null===(oe=this.endHandler)||void 0===oe||oe.call(this),this._init(),this}},{key:"resolve",value:function(q){var oe,se,ve=this.topNS[q];if(void 0!==ve)return ve;for(var Se=this.tags,De=Se.length-1;De>=0;De--)if(void 0!==(ve=Se[De].ns[q]))return ve;return void 0!==(ve=this.ns[q])?ve:null===(se=(oe=this.opt).resolvePrefix)||void 0===se?void 0:se.call(oe,q)}},{key:"qname",value:function(q){var oe=q.indexOf(":");if(-1===oe)return{prefix:"",local:q};var se=q.slice(oe+1),ve=q.slice(0,oe);return(""===ve||""===se||se.includes(":"))&&this.fail("malformed name: ".concat(q,".")),{prefix:ve,local:se}}},{key:"processAttribsNS",value:function(){var q,oe=this.attribList,se=this.tag,ve=this.qname(se.name),Se=ve.prefix,De=ve.local;se.prefix=Se,se.local=De;var qe=se.uri=null!==(q=this.resolve(Se))&&void 0!==q?q:"";if(""!==Se&&("xmlns"===Se&&this.fail('tags may not have "xmlns" as prefix.'),""===qe&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(Se),".")),se.uri=Se)),0!==oe.length){var je,Ye=se.attributes,st=new Set,ct=k(oe);try{for(ct.s();!(je=ct.n()).done;){var ht=je.value,sn=ht.name,bt=ht.prefix,It=ht.local,ln=void 0,nt=void 0;""===bt?(ln="xmlns"===sn?X:"",nt=sn):(void 0===(ln=this.resolve(bt))&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(bt),".")),ln=bt),nt="{".concat(ln,"}").concat(It)),st.has(nt)&&this.fail("duplicate attribute: ".concat(nt,".")),st.add(nt),ht.uri=ln,Ye[sn]=ht}}catch(Xe){ct.e(Xe)}finally{ct.f()}this.attribList=[]}}},{key:"processAttribsPlain",value:function(){var q,se=this.tag.attributes,ve=k(this.attribList);try{for(ve.s();!(q=ve.n()).done;){var Se=q.value,De=Se.name,qe=Se.value;void 0!==se[De]&&this.fail("duplicate attribute: ".concat(De,".")),se[De]=qe}}catch(je){ve.e(je)}finally{ve.f()}this.attribList=[]}},{key:"openTag",value:function(){var q;this.processAttribs();var oe=this.tags,se=this.tag;se.isSelfClosing=!1,null===(q=this.openTagHandler)||void 0===q||q.call(this,se),oe.push(se),this.state=13,this.name=""}},{key:"openSelfClosingTag",value:function(){var q,oe,se;this.processAttribs();var ve=this.tags,Se=this.tag;Se.isSelfClosing=!0,null===(q=this.openTagHandler)||void 0===q||q.call(this,Se),null===(oe=this.closeTagHandler)||void 0===oe||oe.call(this,Se),null===(this.tag=null!==(se=ve[ve.length-1])&&void 0!==se?se:null)&&(this.closedRoot=!0),this.state=13,this.name=""}},{key:"closeTag",value:function(){var q=this.tags,oe=this.name;if(this.state=13,this.name="",""===oe)return this.fail("weird empty close tag."),void(this.text+="</>");for(var se=this.closeTagHandler,ve=q.length;ve-- >0;){var Se=this.tag=q.pop();if(this.topNS=Se.ns,se?.(Se),Se.name===oe)break;this.fail("unexpected close tag.")}0===ve?this.closedRoot=!0:ve<0&&(this.fail("unmatched closing tag: ".concat(oe,".")),this.text+="</".concat(oe,">"))}},{key:"parseEntity",value:function(q){if("#"!==q[0]){var oe=this.ENTITIES[q];return void 0!==oe?oe:(this.fail(this.isName(q)?"undefined entity.":"disallowed character in entity name."),"&".concat(q,";"))}var se=NaN;return"x"===q[1]&&/^#x[0-9a-f]+$/i.test(q)?se=parseInt(q.slice(2),16):/^#[0-9]+$/.test(q)&&(se=parseInt(q.slice(1),10)),this.isChar(se)?String.fromCodePoint(se):(this.fail("malformed character entity."),"&".concat(q,";"))}},{key:"closed",get:function(){return this._closed}},{key:"position",get:function(){return this.chunkPosition+this.i}},{key:"columnIndex",get:function(){return this.position-this.positionAtNewLine}}])&&M(pe.prototype,_e),de}();W.SaxesParser=ce},{"xmlchars/xml/1.0/ed5":541,"xmlchars/xml/1.1/ed2":542,"xmlchars/xmlns/1.0/ed3":543}],497:[function(T,te,W){(function(k){"use strict";te.exports="function"==typeof k?k:function(){var R=[].slice.apply(arguments);R.splice(1,0,0),setTimeout.apply(null,R)}}).call(this,T("timers").setImmediate)},{timers:521}],498:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer;function R(M,x){this._block=k.alloc(M),this._finalSize=x,this._blockSize=M,this._len=0}R.prototype.update=function(M,x){"string"==typeof M&&(M=k.from(M,x=x||"utf8"));for(var O=this._block,w=this._blockSize,E=M.length,C=this._len,f=0;f<E;){for(var d=C%w,u=Math.min(E-f,w-d),c=0;c<u;c++)O[d+c]=M[f+c];f+=u,(C+=u)%w==0&&this._update(O)}return this._len+=E,this},R.prototype.digest=function(M){var x=this._len%this._blockSize;this._block[x]=128,this._block.fill(0,x+1),x>=this._finalSize&&(this._update(this._block),this._block.fill(0));var O=8*this._len;if(O<=4294967295)this._block.writeUInt32BE(O,this._blockSize-4);else{var w=(4294967295&O)>>>0;this._block.writeUInt32BE((O-w)/4294967296,this._blockSize-8),this._block.writeUInt32BE(w,this._blockSize-4)}this._update(this._block);var C=this._hash();return M?C.toString(M):C},R.prototype._update=function(){throw new Error("_update must be implemented by subclass")},te.exports=R},{"safe-buffer":494}],499:[function(T,te,W){"use strict";var k=te.exports=function(R){R=R.toLowerCase();var M=k[R];if(!M)throw new Error(R+" is not supported (we accept pull requests)");return new M};k.sha=T("./sha"),k.sha1=T("./sha1"),k.sha224=T("./sha224"),k.sha256=T("./sha256"),k.sha384=T("./sha384"),k.sha512=T("./sha512")},{"./sha":500,"./sha1":501,"./sha224":502,"./sha256":503,"./sha384":504,"./sha512":505}],500:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./hash"),M=T("safe-buffer").Buffer,x=[1518500249,1859775393,-1894007588,-899497514],O=new Array(80);function w(){this.init(),this._w=O,R.call(this,64,56)}function E(f){return f<<30|f>>>2}function C(f,d,u,c){return 0===f?d&u|~d&c:2===f?d&u|d&c|u&c:d^u^c}k(w,R),w.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},w.prototype._update=function(f){for(var d,u=this._w,c=0|this._a,m=0|this._b,g=0|this._c,y=0|this._d,b=0|this._e,S=0;S<16;++S)u[S]=f.readInt32BE(4*S);for(;S<80;++S)u[S]=u[S-3]^u[S-8]^u[S-14]^u[S-16];for(var A=0;A<80;++A){var P=~~(A/20),H=0|((d=c)<<5|d>>>27)+C(P,m,g,y)+b+u[A]+x[P];b=y,y=g,g=E(m),m=c,c=H}this._a=c+this._a|0,this._b=m+this._b|0,this._c=g+this._c|0,this._d=y+this._d|0,this._e=b+this._e|0},w.prototype._hash=function(){var f=M.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},te.exports=w},{"./hash":498,inherits:387,"safe-buffer":494}],501:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./hash"),M=T("safe-buffer").Buffer,x=[1518500249,1859775393,-1894007588,-899497514],O=new Array(80);function w(){this.init(),this._w=O,R.call(this,64,56)}function E(d){return d<<5|d>>>27}function C(d){return d<<30|d>>>2}function f(d,u,c,m){return 0===d?u&c|~u&m:2===d?u&c|u&m|c&m:u^c^m}k(w,R),w.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},w.prototype._update=function(d){for(var u,c=this._w,m=0|this._a,g=0|this._b,y=0|this._c,b=0|this._d,S=0|this._e,A=0;A<16;++A)c[A]=d.readInt32BE(4*A);for(;A<80;++A)c[A]=(u=c[A-3]^c[A-8]^c[A-14]^c[A-16])<<1|u>>>31;for(var P=0;P<80;++P){var H=~~(P/20),X=E(m)+f(H,g,y,b)+S+c[P]+x[H]|0;S=b,b=y,y=C(g),g=m,m=X}this._a=m+this._a|0,this._b=g+this._b|0,this._c=y+this._c|0,this._d=b+this._d|0,this._e=S+this._e|0},w.prototype._hash=function(){var d=M.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},te.exports=w},{"./hash":498,inherits:387,"safe-buffer":494}],502:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./sha256"),M=T("./hash"),x=T("safe-buffer").Buffer,O=new Array(64);function w(){this.init(),this._w=O,M.call(this,64,56)}k(w,R),w.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},w.prototype._hash=function(){var E=x.allocUnsafe(28);return E.writeInt32BE(this._a,0),E.writeInt32BE(this._b,4),E.writeInt32BE(this._c,8),E.writeInt32BE(this._d,12),E.writeInt32BE(this._e,16),E.writeInt32BE(this._f,20),E.writeInt32BE(this._g,24),E},te.exports=w},{"./hash":498,"./sha256":503,inherits:387,"safe-buffer":494}],503:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./hash"),M=T("safe-buffer").Buffer,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],O=new Array(64);function w(){this.init(),this._w=O,R.call(this,64,56)}function E(c,m,g){return g^c&(m^g)}function C(c,m,g){return c&m|g&(c|m)}function f(c){return(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10)}function d(c){return(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7)}function u(c){return(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3}k(w,R),w.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},w.prototype._update=function(c){for(var m,g=this._w,y=0|this._a,b=0|this._b,S=0|this._c,A=0|this._d,P=0|this._e,H=0|this._f,X=0|this._g,J=0|this._h,j=0;j<16;++j)g[j]=c.readInt32BE(4*j);for(;j<64;++j)g[j]=0|(((m=g[j-2])>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)+g[j-7]+u(g[j-15])+g[j-16];for(var $=0;$<64;++$){var L=J+d(P)+E(P,H,X)+x[$]+g[$]|0,B=f(y)+C(y,b,S)|0;J=X,X=H,H=P,P=A+L|0,A=S,S=b,b=y,y=L+B|0}this._a=y+this._a|0,this._b=b+this._b|0,this._c=S+this._c|0,this._d=A+this._d|0,this._e=P+this._e|0,this._f=H+this._f|0,this._g=X+this._g|0,this._h=J+this._h|0},w.prototype._hash=function(){var c=M.allocUnsafe(32);return c.writeInt32BE(this._a,0),c.writeInt32BE(this._b,4),c.writeInt32BE(this._c,8),c.writeInt32BE(this._d,12),c.writeInt32BE(this._e,16),c.writeInt32BE(this._f,20),c.writeInt32BE(this._g,24),c.writeInt32BE(this._h,28),c},te.exports=w},{"./hash":498,inherits:387,"safe-buffer":494}],504:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./sha512"),M=T("./hash"),x=T("safe-buffer").Buffer,O=new Array(160);function w(){this.init(),this._w=O,M.call(this,128,112)}k(w,R),w.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},w.prototype._hash=function(){var E=x.allocUnsafe(48);function C(f,d,u){E.writeInt32BE(f,u),E.writeInt32BE(d,u+4)}return C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),E},te.exports=w},{"./hash":498,"./sha512":505,inherits:387,"safe-buffer":494}],505:[function(T,te,W){"use strict";var k=T("inherits"),R=T("./hash"),M=T("safe-buffer").Buffer,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],O=new Array(160);function w(){this.init(),this._w=O,R.call(this,128,112)}function E(b,S,A){return A^b&(S^A)}function C(b,S,A){return b&S|A&(b|S)}function f(b,S){return(b>>>28|S<<4)^(S>>>2|b<<30)^(S>>>7|b<<25)}function d(b,S){return(b>>>14|S<<18)^(b>>>18|S<<14)^(S>>>9|b<<23)}function u(b,S){return(b>>>1|S<<31)^(b>>>8|S<<24)^b>>>7}function c(b,S){return(b>>>1|S<<31)^(b>>>8|S<<24)^(b>>>7|S<<25)}function m(b,S){return(b>>>19|S<<13)^(S>>>29|b<<3)^b>>>6}function g(b,S){return(b>>>19|S<<13)^(S>>>29|b<<3)^(b>>>6|S<<26)}function y(b,S){return b>>>0<S>>>0?1:0}k(w,R),w.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},w.prototype._update=function(b){for(var S=this._w,A=0|this._ah,P=0|this._bh,H=0|this._ch,X=0|this._dh,J=0|this._eh,j=0|this._fh,$=0|this._gh,L=0|this._hh,B=0|this._al,ee=0|this._bl,N=0|this._cl,V=0|this._dl,U=0|this._el,Q=0|this._fl,Z=0|this._gl,K=0|this._hl,ne=0;ne<32;ne+=2)S[ne]=b.readInt32BE(4*ne),S[ne+1]=b.readInt32BE(4*ne+4);for(;ne<160;ne+=2){var ue=S[ne-30],ce=S[ne-30+1],de=u(ue,ce),pe=c(ce,ue),_e=m(ue=S[ne-4],ce=S[ne-4+1]),me=g(ce,ue),se=S[ne-32],ve=S[ne-32+1],Se=pe+S[ne-14+1]|0,De=de+S[ne-14]+y(Se,pe)|0;De=(De=De+_e+y(Se=Se+me|0,me)|0)+se+y(Se=Se+ve|0,ve)|0,S[ne]=De,S[ne+1]=Se}for(var qe=0;qe<160;qe+=2){De=S[qe],Se=S[qe+1];var je=C(A,P,H),Ye=C(B,ee,N),st=f(A,B),ct=f(B,A),ht=d(J,U),sn=d(U,J),bt=x[qe],It=x[qe+1],ln=E(J,j,$),nt=E(U,Q,Z),Xe=K+sn|0,Ae=L+ht+y(Xe,K)|0;Ae=(Ae=(Ae=Ae+ln+y(Xe=Xe+nt|0,nt)|0)+bt+y(Xe=Xe+It|0,It)|0)+De+y(Xe=Xe+Se|0,Se)|0;var Pe=ct+Ye|0,We=st+je+y(Pe,ct)|0;L=$,K=Z,$=j,Z=Q,j=J,Q=U,J=X+Ae+y(U=V+Xe|0,V)|0,X=H,V=N,H=P,N=ee,P=A,ee=B,A=Ae+We+y(B=Xe+Pe|0,Xe)|0}this._al=this._al+B|0,this._bl=this._bl+ee|0,this._cl=this._cl+N|0,this._dl=this._dl+V|0,this._el=this._el+U|0,this._fl=this._fl+Q|0,this._gl=this._gl+Z|0,this._hl=this._hl+K|0,this._ah=this._ah+A+y(this._al,B)|0,this._bh=this._bh+P+y(this._bl,ee)|0,this._ch=this._ch+H+y(this._cl,N)|0,this._dh=this._dh+X+y(this._dl,V)|0,this._eh=this._eh+J+y(this._el,U)|0,this._fh=this._fh+j+y(this._fl,Q)|0,this._gh=this._gh+$+y(this._gl,Z)|0,this._hh=this._hh+L+y(this._hl,K)|0},w.prototype._hash=function(){var b=M.allocUnsafe(64);function S(A,P,H){b.writeInt32BE(A,H),b.writeInt32BE(P,H+4)}return S(this._ah,this._al,0),S(this._bh,this._bl,8),S(this._ch,this._cl,16),S(this._dh,this._dl,24),S(this._eh,this._el,32),S(this._fh,this._fl,40),S(this._gh,this._gl,48),S(this._hh,this._hl,56),b},te.exports=w},{"./hash":498,inherits:387,"safe-buffer":494}],506:[function(T,te,W){"use strict";te.exports=R;var k=T("events").EventEmitter;function R(){k.call(this)}T("inherits")(R,k),R.Readable=T("readable-stream/readable.js"),R.Writable=T("readable-stream/writable.js"),R.Duplex=T("readable-stream/duplex.js"),R.Transform=T("readable-stream/transform.js"),R.PassThrough=T("readable-stream/passthrough.js"),R.Stream=R,R.prototype.pipe=function(M,x){var O=this;function w(m){M.writable&&!1===M.write(m)&&O.pause&&O.pause()}function E(){O.readable&&O.resume&&O.resume()}O.on("data",w),M.on("drain",E),M._isStdio||x&&!1===x.end||(O.on("end",f),O.on("close",d));var C=!1;function f(){C||(C=!0,M.end())}function d(){C||(C=!0,"function"==typeof M.destroy&&M.destroy())}function u(m){if(c(),0===k.listenerCount(this,"error"))throw m}function c(){O.removeListener("data",w),M.removeListener("drain",E),O.removeListener("end",f),O.removeListener("close",d),O.removeListener("error",u),M.removeListener("error",u),O.removeListener("end",c),O.removeListener("close",c),M.removeListener("close",c)}return O.on("error",u),M.on("error",u),O.on("end",c),O.on("close",c),M.on("close",c),M.emit("pipe",O),M}},{events:367,inherits:387,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],507:[function(T,te,W){"use strict";te.exports=T("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(T,te,W){"use strict";var k=T("process-nextick-args"),R=Object.keys||function(c){var m=[];for(var g in c)m.push(g);return m};te.exports=f;var M=Object.create(T("core-util-is"));M.inherits=T("inherits");var x=T("./_stream_readable"),O=T("./_stream_writable");M.inherits(f,x);for(var w=R(O.prototype),E=0;E<w.length;E++){var C=w[E];f.prototype[C]||(f.prototype[C]=O.prototype[C])}function f(c){if(!(this instanceof f))return new f(c);x.call(this,c),O.call(this,c),c&&!1===c.readable&&(this.readable=!1),c&&!1===c.writable&&(this.writable=!1),this.allowHalfOpen=!0,c&&!1===c.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||k.nextTick(u,this)}function u(c){c.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),f.prototype._destroy=function(c,m){this.push(null),this.end(),k.nextTick(m,c)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":328,inherits:387,"process-nextick-args":466}],509:[function(T,te,W){"use strict";te.exports=M;var k=T("./_stream_transform"),R=Object.create(T("core-util-is"));function M(x){if(!(this instanceof M))return new M(x);k.call(this,x)}R.inherits=T("inherits"),R.inherits(M,k),M.prototype._transform=function(x,O,w){w(null,x)}},{"./_stream_transform":511,"core-util-is":328,inherits:387}],510:[function(T,te,W){(function(k,R){"use strict";var M=T("process-nextick-args");te.exports=A;var x,O=T("isarray");A.ReadableState=S,T("events");var w=function(K,ne){return K.listeners(ne).length},E=T("./internal/streams/stream"),C=T("safe-buffer").Buffer,f=R.Uint8Array||function(){},d=Object.create(T("core-util-is"));d.inherits=T("inherits");var u=T("util"),c=void 0;c=u&&u.debuglog?u.debuglog("stream"):function(){};var m,g=T("./internal/streams/BufferList"),y=T("./internal/streams/destroy");d.inherits(A,E);var b=["error","close","destroy","pause","resume"];function S(K,ne){K=K||{};var ue=ne instanceof(x=x||T("./_stream_duplex"));this.objectMode=!!K.objectMode,ue&&(this.objectMode=this.objectMode||!!K.readableObjectMode);var ce=K.highWaterMark,de=K.readableHighWaterMark;this.highWaterMark=ce||0===ce?ce:ue&&(de||0===de)?de:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=K.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,K.encoding&&(m||(m=T("string_decoder/").StringDecoder),this.decoder=new m(K.encoding),this.encoding=K.encoding)}function A(K){if(x=x||T("./_stream_duplex"),!(this instanceof A))return new A(K);this._readableState=new S(K,this),this.readable=!0,K&&("function"==typeof K.read&&(this._read=K.read),"function"==typeof K.destroy&&(this._destroy=K.destroy)),E.call(this)}function P(K,ne,ue,ce,de){var pe,me,q,oe,se,_e=K._readableState;return null===ne?(_e.reading=!1,function(me,q){if(!q.ended){if(q.decoder){var oe=q.decoder.end();oe&&oe.length&&(q.buffer.push(oe),q.length+=q.objectMode?1:oe.length)}q.ended=!0,J(me)}}(K,_e)):(de||(me=_e,C.isBuffer(se=q=ne)||se instanceof f||"string"==typeof q||void 0===q||me.objectMode||(oe=new TypeError("Invalid non-string/buffer chunk")),pe=oe),pe?K.emit("error",pe):_e.objectMode||ne&&ne.length>0?("string"==typeof ne||_e.objectMode||Object.getPrototypeOf(ne)===C.prototype||(ne=function(me){return C.from(me)}(ne)),ce?_e.endEmitted?K.emit("error",new Error("stream.unshift() after end event")):H(K,_e,ne,!0):_e.ended?K.emit("error",new Error("stream.push() after EOF")):(_e.reading=!1,_e.decoder&&!ue?(ne=_e.decoder.write(ne),_e.objectMode||0!==ne.length?H(K,_e,ne,!1):$(K,_e)):H(K,_e,ne,!1))):ce||(_e.reading=!1)),function(me){return!me.ended&&(me.needReadable||me.length<me.highWaterMark||0===me.length)}(_e)}function H(K,ne,ue,ce){ne.flowing&&0===ne.length&&!ne.sync?(K.emit("data",ue),K.read(0)):(ne.length+=ne.objectMode?1:ue.length,ce?ne.buffer.unshift(ue):ne.buffer.push(ue),ne.needReadable&&J(K)),$(K,ne)}function X(K,ne){return K<=0||0===ne.length&&ne.ended?0:ne.objectMode?1:K!=K?ne.flowing&&ne.length?ne.buffer.head.data.length:ne.length:(K>ne.highWaterMark&&(ne.highWaterMark=((ue=K)>=8388608?ue=8388608:(ue--,ue|=ue>>>1,ue|=ue>>>2,ue|=ue>>>4,ue|=ue>>>8,ue|=ue>>>16,ue++),ue)),K<=ne.length?K:ne.ended?ne.length:(ne.needReadable=!0,0));var ue}function J(K){var ne=K._readableState;ne.needReadable=!1,ne.emittedReadable||(c("emitReadable",ne.flowing),ne.emittedReadable=!0,ne.sync?M.nextTick(j,K):j(K))}function j(K){c("emit readable"),K.emit("readable"),N(K)}function $(K,ne){ne.readingMore||(ne.readingMore=!0,M.nextTick(L,K,ne))}function L(K,ne){for(var ue=ne.length;!ne.reading&&!ne.flowing&&!ne.ended&&ne.length<ne.highWaterMark&&(c("maybeReadMore read 0"),K.read(0),ue!==ne.length);)ue=ne.length;ne.readingMore=!1}function B(K){c("readable nexttick read 0"),K.read(0)}function ee(K,ne){ne.reading||(c("resume read 0"),K.read(0)),ne.resumeScheduled=!1,ne.awaitDrain=0,K.emit("resume"),N(K),ne.flowing&&!ne.reading&&K.read(0)}function N(K){var ne=K._readableState;for(c("flow",ne.flowing);ne.flowing&&null!==K.read(););}function V(K,ne){return 0===ne.length?null:(ne.objectMode?ue=ne.buffer.shift():!K||K>=ne.length?(ue=ne.decoder?ne.buffer.join(""):1===ne.buffer.length?ne.buffer.head.data:ne.buffer.concat(ne.length),ne.buffer.clear()):(pe=ne.decoder,(ce=K)<(de=ne.buffer).head.data.length?(_e=de.head.data.slice(0,ce),de.head.data=de.head.data.slice(ce)):_e=ce===de.head.data.length?de.shift():pe?function(me,q){var oe=q.head,se=1,ve=oe.data;for(me-=ve.length;oe=oe.next;){var Se=oe.data,De=me>Se.length?Se.length:me;if(ve+=De===Se.length?Se:Se.slice(0,me),0==(me-=De)){De===Se.length?(++se,q.head=oe.next?oe.next:q.tail=null):(q.head=oe,oe.data=Se.slice(De));break}++se}return q.length-=se,ve}(ce,de):function(me,q){var oe=C.allocUnsafe(me),se=q.head,ve=1;for(se.data.copy(oe),me-=se.data.length;se=se.next;){var Se=se.data,De=me>Se.length?Se.length:me;if(Se.copy(oe,oe.length-me,0,De),0==(me-=De)){De===Se.length?(++ve,q.head=se.next?se.next:q.tail=null):(q.head=se,se.data=Se.slice(De));break}++ve}return q.length-=ve,oe}(ce,de),ue=_e),ue);var ce,de,pe,_e,ue}function U(K){var ne=K._readableState;if(ne.length>0)throw new Error('"endReadable()" called on non-empty stream');ne.endEmitted||(ne.ended=!0,M.nextTick(Q,ne,K))}function Q(K,ne){K.endEmitted||0!==K.length||(K.endEmitted=!0,ne.readable=!1,ne.emit("end"))}function Z(K,ne){for(var ue=0,ce=K.length;ue<ce;ue++)if(K[ue]===ne)return ue;return-1}Object.defineProperty(A.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),A.prototype.destroy=y.destroy,A.prototype._undestroy=y.undestroy,A.prototype._destroy=function(K,ne){this.push(null),ne(K)},A.prototype.push=function(K,ne){var ue,ce=this._readableState;return ce.objectMode?ue=!0:"string"==typeof K&&((ne=ne||ce.defaultEncoding)!==ce.encoding&&(K=C.from(K,ne),ne=""),ue=!0),P(this,K,ne,!1,ue)},A.prototype.unshift=function(K){return P(this,K,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(K){return m||(m=T("string_decoder/").StringDecoder),this._readableState.decoder=new m(K),this._readableState.encoding=K,this},A.prototype.read=function(K){c("read",K),K=parseInt(K,10);var ne=this._readableState,ue=K;if(0!==K&&(ne.emittedReadable=!1),0===K&&ne.needReadable&&(ne.length>=ne.highWaterMark||ne.ended))return c("read: emitReadable",ne.length,ne.ended),0===ne.length&&ne.ended?U(this):J(this),null;if(0===(K=X(K,ne))&&ne.ended)return 0===ne.length&&U(this),null;var ce,de=ne.needReadable;return c("need readable",de),(0===ne.length||ne.length-K<ne.highWaterMark)&&c("length less than watermark",de=!0),ne.ended||ne.reading?c("reading or ended",de=!1):de&&(c("do read"),ne.reading=!0,ne.sync=!0,0===ne.length&&(ne.needReadable=!0),this._read(ne.highWaterMark),ne.sync=!1,ne.reading||(K=X(ue,ne))),null===(ce=K>0?V(K,ne):null)?(ne.needReadable=!0,K=0):ne.length-=K,0===ne.length&&(ne.ended||(ne.needReadable=!0),ue!==K&&ne.ended&&U(this)),null!==ce&&this.emit("data",ce),ce},A.prototype._read=function(K){this.emit("error",new Error("_read() is not implemented"))},A.prototype.pipe=function(K,ne){var ue=this,ce=this._readableState;switch(ce.pipesCount){case 0:ce.pipes=K;break;case 1:ce.pipes=[ce.pipes,K];break;default:ce.pipes.push(K)}ce.pipesCount+=1,c("pipe count=%d opts=%j",ce.pipesCount,ne);var de=ne&&!1===ne.end||K===k.stdout||K===k.stderr?qe:_e;function _e(){c("onend"),K.end()}ce.endEmitted?M.nextTick(de):ue.once("end",de),K.on("unpipe",function pe(je,Ye){c("onunpipe"),je===ue&&Ye&&!1===Ye.hasUnpiped&&(Ye.hasUnpiped=!0,c("cleanup"),K.removeListener("close",Se),K.removeListener("finish",De),K.removeListener("drain",me),K.removeListener("error",ve),K.removeListener("unpipe",pe),ue.removeListener("end",_e),ue.removeListener("end",qe),ue.removeListener("data",se),q=!0,!ce.awaitDrain||K._writableState&&!K._writableState.needDrain||me())});var je,me=(je=ue,function(){var Ye=je._readableState;c("pipeOnDrain",Ye.awaitDrain),Ye.awaitDrain&&Ye.awaitDrain--,0===Ye.awaitDrain&&w(je,"data")&&(Ye.flowing=!0,N(je))});K.on("drain",me);var q=!1,oe=!1;function se(je){c("ondata"),oe=!1,!1!==K.write(je)||oe||((1===ce.pipesCount&&ce.pipes===K||ce.pipesCount>1&&-1!==Z(ce.pipes,K))&&!q&&(c("false write response, pause",ue._readableState.awaitDrain),ue._readableState.awaitDrain++,oe=!0),ue.pause())}function ve(je){c("onerror",je),qe(),K.removeListener("error",ve),0===w(K,"error")&&K.emit("error",je)}function Se(){K.removeListener("finish",De),qe()}function De(){c("onfinish"),K.removeListener("close",Se),qe()}function qe(){c("unpipe"),ue.unpipe(K)}return ue.on("data",se),function(je,Ye,st){if("function"==typeof je.prependListener)return je.prependListener(Ye,st);je._events&&je._events[Ye]?O(je._events[Ye])?je._events[Ye].unshift(st):je._events[Ye]=[st,je._events[Ye]]:je.on(Ye,st)}(K,"error",ve),K.once("close",Se),K.once("finish",De),K.emit("pipe",ue),ce.flowing||(c("pipe resume"),ue.resume()),K},A.prototype.unpipe=function(K){var ne=this._readableState,ue={hasUnpiped:!1};if(0===ne.pipesCount)return this;if(1===ne.pipesCount)return K&&K!==ne.pipes||(K||(K=ne.pipes),ne.pipes=null,ne.pipesCount=0,ne.flowing=!1,K&&K.emit("unpipe",this,ue)),this;if(!K){var ce=ne.pipes,de=ne.pipesCount;ne.pipes=null,ne.pipesCount=0,ne.flowing=!1;for(var pe=0;pe<de;pe++)ce[pe].emit("unpipe",this,ue);return this}var _e=Z(ne.pipes,K);return-1===_e||(ne.pipes.splice(_e,1),ne.pipesCount-=1,1===ne.pipesCount&&(ne.pipes=ne.pipes[0]),K.emit("unpipe",this,ue)),this},A.prototype.addListener=A.prototype.on=function(K,ne){var ue=E.prototype.on.call(this,K,ne);if("data"===K)!1!==this._readableState.flowing&&this.resume();else if("readable"===K){var ce=this._readableState;ce.endEmitted||ce.readableListening||(ce.readableListening=ce.needReadable=!0,ce.emittedReadable=!1,ce.reading?ce.length&&J(this):M.nextTick(B,this))}return ue},A.prototype.resume=function(){var ue,K=this._readableState;return K.flowing||(c("resume"),K.flowing=!0,this,(ue=K).resumeScheduled||(ue.resumeScheduled=!0,M.nextTick(ee,this,ue))),this},A.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this},A.prototype.wrap=function(K){var ne=this,ue=this._readableState,ce=!1;for(var de in K.on("end",function(){if(c("wrapped end"),ue.decoder&&!ue.ended){var _e=ue.decoder.end();_e&&_e.length&&ne.push(_e)}ne.push(null)}),K.on("data",function(_e){c("wrapped data"),ue.decoder&&(_e=ue.decoder.write(_e)),ue.objectMode&&null==_e||(ue.objectMode||_e&&_e.length)&&(ne.push(_e)||(ce=!0,K.pause()))}),K)void 0===this[de]&&"function"==typeof K[de]&&(this[de]=function(_e){return function(){return K[_e].apply(K,arguments)}}(de));for(var pe=0;pe<b.length;pe++)K.on(b[pe],this.emit.bind(this,b[pe]));return this._read=function(_e){c("wrapped _read",_e),ce&&(ce=!1,K.resume())},this},Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),A._fromList=V}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":328,events:367,inherits:387,isarray:389,"process-nextick-args":466,"safe-buffer":494,"string_decoder/":520,util:185}],511:[function(T,te,W){"use strict";te.exports=x;var k=T("./_stream_duplex"),R=Object.create(T("core-util-is"));function M(E,C){var f=this._transformState;f.transforming=!1;var d=f.writecb;if(!d)return this.emit("error",new Error("write callback called multiple times"));f.writechunk=null,f.writecb=null,null!=C&&this.push(C),d(E);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function x(E){if(!(this instanceof x))return new x(E);k.call(this,E),this._transformState={afterTransform:M.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,E&&("function"==typeof E.transform&&(this._transform=E.transform),"function"==typeof E.flush&&(this._flush=E.flush)),this.on("prefinish",O)}function O(){var E=this;"function"==typeof this._flush?this._flush(function(C,f){w(E,C,f)}):w(this,null,null)}function w(E,C,f){if(C)return E.emit("error",C);if(null!=f&&E.push(f),E._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(E._transformState.transforming)throw new Error("Calling transform done when still transforming");return E.push(null)}R.inherits=T("inherits"),R.inherits(x,k),x.prototype.push=function(E,C){return this._transformState.needTransform=!1,k.prototype.push.call(this,E,C)},x.prototype._transform=function(E,C,f){throw new Error("_transform() is not implemented")},x.prototype._write=function(E,C,f){var d=this._transformState;if(d.writecb=f,d.writechunk=E,d.writeencoding=C,!d.transforming){var u=this._readableState;(d.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},x.prototype._read=function(E){var C=this._transformState;null!==C.writechunk&&C.writecb&&!C.transforming?(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform)):C.needTransform=!0},x.prototype._destroy=function(E,C){var f=this;k.prototype._destroy.call(this,E,function(d){C(d),f.emit("close")})}},{"./_stream_duplex":508,"core-util-is":328,inherits:387}],512:[function(T,te,W){(function(k,R,M){"use strict";var x=T("process-nextick-args");function O($){var L=this;this.next=null,this.entry=null,this.finish=function(){!function(B,ee,N){var V=B.entry;for(B.entry=null;V;){var U=V.callback;ee.pendingcb--,U(undefined),V=V.next}ee.corkedRequestsFree?ee.corkedRequestsFree.next=B:ee.corkedRequestsFree=B}(L,$)}}te.exports=S;var w,E=!k.browser&&["v0.10","v0.9."].indexOf(k.version.slice(0,5))>-1?M:x.nextTick;S.WritableState=b;var C=Object.create(T("core-util-is"));C.inherits=T("inherits");var m,f={deprecate:T("util-deprecate")},d=T("./internal/streams/stream"),u=T("safe-buffer").Buffer,c=R.Uint8Array||function(){},g=T("./internal/streams/destroy");function y(){}function b($,L){w=w||T("./_stream_duplex");var B=L instanceof w;this.objectMode=!!($=$||{}).objectMode,B&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var ee=$.highWaterMark,N=$.writableHighWaterMark;this.highWaterMark=ee||0===ee?ee:B&&(N||0===N)?N:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===$.decodeStrings),this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){!function(Z,K){var pe,ne=Z._writableState,ue=ne.sync,ce=ne.writecb;if((pe=ne).writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0,K)!function(pe,_e,me,q,oe){--_e.pendingcb,me?(x.nextTick(oe,q),x.nextTick(j,pe,_e),pe._writableState.errorEmitted=!0,pe.emit("error",q)):(oe(q),pe._writableState.errorEmitted=!0,pe.emit("error",q),j(pe,_e))}(Z,ne,ue,K,ce);else{var de=X(ne);de||ne.corked||ne.bufferProcessing||!ne.bufferedRequest||H(Z,ne),ue?E(P,Z,ne,de,ce):P(Z,ne,de,ce)}}(L,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new O(this)}function S($){if(w=w||T("./_stream_duplex"),!(m.call(S,this)||this instanceof w))return new S($);this._writableState=new b($,this),this.writable=!0,$&&("function"==typeof $.write&&(this._write=$.write),"function"==typeof $.writev&&(this._writev=$.writev),"function"==typeof $.destroy&&(this._destroy=$.destroy),"function"==typeof $.final&&(this._final=$.final)),d.call(this)}function A($,L,B,ee,N,V,U){L.writelen=ee,L.writecb=U,L.writing=!0,L.sync=!0,B?$._writev(N,L.onwrite):$._write(N,V,L.onwrite),L.sync=!1}function P($,L,B,ee){var N,V;B||(N=$,0===(V=L).length&&V.needDrain&&(V.needDrain=!1,N.emit("drain"))),L.pendingcb--,ee(),j($,L)}function H($,L){L.bufferProcessing=!0;var B=L.bufferedRequest;if($._writev&&B&&B.next){var N=new Array(L.bufferedRequestCount),V=L.corkedRequestsFree;V.entry=B;for(var U=0,Q=!0;B;)N[U]=B,B.isBuf||(Q=!1),B=B.next,U+=1;N.allBuffers=Q,A($,L,!0,L.length,N,"",V.finish),L.pendingcb++,L.lastBufferedRequest=null,V.next?(L.corkedRequestsFree=V.next,V.next=null):L.corkedRequestsFree=new O(L),L.bufferedRequestCount=0}else{for(;B;){var Z=B.chunk;if(A($,L,!1,L.objectMode?1:Z.length,Z,B.encoding,B.callback),B=B.next,L.bufferedRequestCount--,L.writing)break}null===B&&(L.lastBufferedRequest=null)}L.bufferedRequest=B,L.bufferProcessing=!1}function X($){return $.ending&&0===$.length&&null===$.bufferedRequest&&!$.finished&&!$.writing}function J($,L){$._final(function(B){L.pendingcb--,B&&$.emit("error",B),L.prefinished=!0,$.emit("prefinish"),j($,L)})}function j($,L){var ee,N,B=X(L);return B&&(ee=$,(N=L).prefinished||N.finalCalled||("function"==typeof ee._final?(N.pendingcb++,N.finalCalled=!0,x.nextTick(J,ee,N)):(N.prefinished=!0,ee.emit("prefinish"))),0===L.pendingcb&&(L.finished=!0,$.emit("finish"))),B}C.inherits(S,d),b.prototype.getBuffer=function(){for(var $=this.bufferedRequest,L=[];$;)L.push($),$=$.next;return L},function(){try{Object.defineProperty(b.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function($){return!!m.call(this,$)||this===S&&$&&$._writableState instanceof b}})):m=function($){return $ instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function($,L,B){var ee,Q,Z,K,N=this._writableState,V=!1,U=!N.objectMode&&(u.isBuffer(ee=$)||ee instanceof c);return U&&!u.isBuffer($)&&($=u.from($)),"function"==typeof L&&(B=L,L=null),U?L="buffer":L||(L=N.defaultEncoding),"function"!=typeof B&&(B=y),N.ended?(Q=this,Z=B,K=new Error("write after end"),Q.emit("error",K),x.nextTick(Z,K)):(U||function(Q,Z,K,ne){var ue=!0,ce=!1;return null===K?ce=new TypeError("May not write null values to stream"):"string"==typeof K||void 0===K||Z.objectMode||(ce=new TypeError("Invalid non-string/buffer chunk")),ce&&(Q.emit("error",ce),x.nextTick(ne,ce),ue=!1),ue}(this,N,$,B))&&(N.pendingcb++,V=function(Q,Z,K,ne,ue,ce){if(!K){var de=(oe=ne,(q=Z).objectMode||!1===q.decodeStrings||"string"!=typeof oe||(oe=u.from(oe,ue)),oe);ne!==de&&(K=!0,ue="buffer",ne=de)}var q,oe,pe=Z.objectMode?1:ne.length;Z.length+=pe;var _e=Z.length<Z.highWaterMark;if(_e||(Z.needDrain=!0),Z.writing||Z.corked){var me=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:ne,encoding:ue,isBuf:K,callback:ce,next:null},me?me.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else A(Q,Z,!1,pe,ne,ue,ce);return _e}(this,N,U,$,L,B)),V},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.finished||$.bufferProcessing||!$.bufferedRequest||H(this,$))},S.prototype.setDefaultEncoding=function($){if("string"==typeof $&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function($,L,B){B(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function($,L,B){var N,V,U,ee=this._writableState;"function"==typeof $?(B=$,$=null,L=null):"function"==typeof L&&(B=L,L=null),null!=$&&this.write($,L),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||ee.finished||(N=this,U=B,(V=ee).ending=!0,j(N,V),U&&(V.finished?x.nextTick(U):N.once("finish",U)),V.ended=!0,N.writable=!1)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function($,L){this.end(),L($)}}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},T("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":328,inherits:387,"process-nextick-args":466,"safe-buffer":494,timers:521,"util-deprecate":522}],513:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=T("util");te.exports=function(){function M(){(function(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")})(this,M),this.head=null,this.tail=null,this.length=0}return M.prototype.push=function(x){var O={data:x,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length},M.prototype.unshift=function(x){var O={data:x,next:this.head};0===this.length&&(this.tail=O),this.head=O,++this.length},M.prototype.shift=function(){if(0!==this.length){var x=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,x}},M.prototype.clear=function(){this.head=this.tail=null,this.length=0},M.prototype.join=function(x){if(0===this.length)return"";for(var O=this.head,w=""+O.data;O=O.next;)w+=x+O.data;return w},M.prototype.concat=function(x){if(0===this.length)return k.alloc(0);if(1===this.length)return this.head.data;for(var C=k.allocUnsafe(x>>>0),f=this.head,d=0;f;)f.data.copy(C,d),d+=f.data.length,f=f.next;return C},M}(),R&&R.inspect&&R.inspect.custom&&(te.exports.prototype[R.inspect.custom]=function(){var M=R.inspect({length:this.length});return this.constructor.name+" "+M})},{"safe-buffer":494,util:185}],514:[function(T,te,W){"use strict";var k=T("process-nextick-args");function R(M,x){M.emit("error",x)}te.exports={destroy:function(M,x){var O=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(x?x(M):!M||this._writableState&&this._writableState.errorEmitted||k.nextTick(R,this,M),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(M||null,function(C){!x&&C?(k.nextTick(R,O,C),O._writableState&&(O._writableState.errorEmitted=!0)):x&&x(C)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(T,te,W){arguments[4][490][0].apply(W,arguments)},{dup:490,events:367}],516:[function(T,te,W){"use strict";te.exports=T("./readable").PassThrough},{"./readable":517}],517:[function(T,te,W){"use strict";(W=te.exports=T("./lib/_stream_readable.js")).Stream=W,W.Readable=W,W.Writable=T("./lib/_stream_writable.js"),W.Duplex=T("./lib/_stream_duplex.js"),W.Transform=T("./lib/_stream_transform.js"),W.PassThrough=T("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(T,te,W){"use strict";te.exports=T("./readable").Transform},{"./readable":517}],519:[function(T,te,W){"use strict";te.exports=T("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(T,te,W){"use strict";var k=T("safe-buffer").Buffer,R=k.isEncoding||function(c){switch((c=""+c)&&c.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function M(c){var m;switch(this.encoding=function(g){var y=function(b){if(!b)return"utf8";for(var S;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(S)return;b=(""+b).toLowerCase(),S=!0}}(g);if("string"!=typeof y&&(k.isEncoding===R||!R(g)))throw new Error("Unknown encoding: "+g);return y||g}(c),this.encoding){case"utf16le":this.text=w,this.end=E,m=4;break;case"utf8":this.fillLast=O,m=4;break;case"base64":this.text=C,this.end=f,m=3;break;default:return this.write=d,void(this.end=u)}this.lastNeed=0,this.lastTotal=0,this.lastChar=k.allocUnsafe(m)}function x(c){return c<=127?0:c>>5==6?2:c>>4==14?3:c>>3==30?4:c>>6==2?-1:-2}function O(c){var m=this.lastTotal-this.lastNeed,g=function(y,b,S){if(128!=(192&b[0]))return y.lastNeed=0,"\ufffd";if(y.lastNeed>1&&b.length>1){if(128!=(192&b[1]))return y.lastNeed=1,"\ufffd";if(y.lastNeed>2&&b.length>2&&128!=(192&b[2]))return y.lastNeed=2,"\ufffd"}}(this,c);return void 0!==g?g:this.lastNeed<=c.length?(c.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(c.copy(this.lastChar,m,0,c.length),void(this.lastNeed-=c.length))}function w(c,m){if((c.length-m)%2==0){var g=c.toString("utf16le",m);if(g){var y=g.charCodeAt(g.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=c[c.length-1],c.toString("utf16le",m,c.length-1)}function E(c){var m=c&&c.length?this.write(c):"";return this.lastNeed?m+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):m}function C(c,m){var g=(c.length-m)%3;return 0===g?c.toString("base64",m):(this.lastNeed=3-g,this.lastTotal=3,1===g?this.lastChar[0]=c[c.length-1]:(this.lastChar[0]=c[c.length-2],this.lastChar[1]=c[c.length-1]),c.toString("base64",m,c.length-g))}function f(c){var m=c&&c.length?this.write(c):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function d(c){return c.toString(this.encoding)}function u(c){return c&&c.length?this.write(c):""}W.StringDecoder=M,M.prototype.write=function(c){if(0===c.length)return"";var m,g;if(this.lastNeed){if(void 0===(m=this.fillLast(c)))return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<c.length?m?m+this.text(c,g):this.text(c,g):m||""},M.prototype.end=function(c){var m=c&&c.length?this.write(c):"";return this.lastNeed?m+"\ufffd":m},M.prototype.text=function(c,m){var g=function(b,S,A){var P=S.length-1;if(P<A)return 0;var H=x(S[P]);return H>=0?(H>0&&(b.lastNeed=H-1),H):--P<A||-2===H?0:(H=x(S[P]))>=0?(H>0&&(b.lastNeed=H-2),H):--P<A||-2===H?0:(H=x(S[P]))>=0?(H>0&&(2===H?H=0:b.lastNeed=H-3),H):0}(this,c,m);if(!this.lastNeed)return c.toString("utf8",m);this.lastTotal=g;var y=c.length-(g-this.lastNeed);return c.copy(this.lastChar,0,y),c.toString("utf8",m,y)},M.prototype.fillLast=function(c){if(this.lastNeed<=c.length)return c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);c.copy(this.lastChar,this.lastTotal-this.lastNeed,0,c.length),this.lastNeed-=c.length}},{"safe-buffer":494}],521:[function(T,te,W){(function(k,R){"use strict";var M=T("process/browser.js").nextTick,x=Function.prototype.apply,O=Array.prototype.slice,w={},E=0;function C(f,d){this._id=f,this._clearFn=d}W.setTimeout=function(){return new C(x.call(setTimeout,window,arguments),clearTimeout)},W.setInterval=function(){return new C(x.call(setInterval,window,arguments),clearInterval)},W.clearTimeout=W.clearInterval=function(f){f.close()},C.prototype.unref=C.prototype.ref=function(){},C.prototype.close=function(){this._clearFn.call(window,this._id)},W.enroll=function(f,d){clearTimeout(f._idleTimeoutId),f._idleTimeout=d},W.unenroll=function(f){clearTimeout(f._idleTimeoutId),f._idleTimeout=-1},W._unrefActive=W.active=function(f){clearTimeout(f._idleTimeoutId);var d=f._idleTimeout;d>=0&&(f._idleTimeoutId=setTimeout(function(){f._onTimeout&&f._onTimeout()},d))},W.setImmediate="function"==typeof k?k:function(f){var d=E++,u=!(arguments.length<2)&&O.call(arguments,1);return w[d]=!0,M(function(){w[d]&&(u?f.apply(null,u):f.call(null),W.clearImmediate(d))}),d},W.clearImmediate="function"==typeof R?R:function(f){delete w[f]}}).call(this,T("timers").setImmediate,T("timers").clearImmediate)},{"process/browser.js":467,timers:521}],522:[function(T,te,W){(function(k){"use strict";function R(M){try{if(!k.localStorage)return!1}catch{return!1}var x=k.localStorage[M];return null!=x&&"true"===String(x).toLowerCase()}te.exports=function(M,x){if(R("noDeprecation"))return M;var O=!1;return function(){if(!O){if(R("throwDeprecation"))throw new Error(x);R("traceDeprecation")?console.trace(x):console.warn(x),O=!0}return M.apply(this,arguments)}}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],523:[function(T,te,W){"use strict";te.exports="function"==typeof Object.create?function(k,R){k.super_=R,k.prototype=Object.create(R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}})}:function(k,R){k.super_=R;var M=function(){};M.prototype=R.prototype,k.prototype=new M,k.prototype.constructor=k}},{}],524:[function(T,te,W){"use strict";function k(R){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(R)}te.exports=function(R){return R&&"object"===k(R)&&"function"==typeof R.copy&&"function"==typeof R.fill&&"function"==typeof R.readUInt8}},{}],525:[function(T,te,W){(function(k,R){"use strict";function M(V){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(U){return typeof U}:function(U){return U&&"function"==typeof Symbol&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(V)}var x=/%[sdj%]/g;W.format=function(V){if(!S(V)){for(var U=[],Q=0;Q<arguments.length;Q++)U.push(E(arguments[Q]));return U.join(" ")}Q=1;for(var Z=arguments,K=Z.length,ne=String(V).replace(x,function(ce){if("%%"===ce)return"%";if(Q>=K)return ce;switch(ce){case"%s":return String(Z[Q++]);case"%d":return Number(Z[Q++]);case"%j":try{return JSON.stringify(Z[Q++])}catch{return"[Circular]"}default:return ce}}),ue=Z[Q];Q<K;ue=Z[++Q])y(ue)||!H(ue)?ne+=" "+ue:ne+=" "+E(ue);return ne},W.deprecate=function(V,U){if(A(R.process))return function(){return W.deprecate(V,U).apply(this,arguments)};if(!0===k.noDeprecation)return V;var Q=!1;return function(){if(!Q){if(k.throwDeprecation)throw new Error(U);k.traceDeprecation?console.trace(U):console.error(U),Q=!0}return V.apply(this,arguments)}};var O,w={};function E(V,U){var Q={seen:[],stylize:f};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),g(U)?Q.showHidden=U:U&&W._extend(Q,U),A(Q.showHidden)&&(Q.showHidden=!1),A(Q.depth)&&(Q.depth=2),A(Q.colors)&&(Q.colors=!1),A(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=C),d(Q,V,Q.depth)}function C(V,U){var Q=E.styles[U];return Q?"\x1b["+E.colors[Q][0]+"m"+V+"\x1b["+E.colors[Q][1]+"m":V}function f(V,U){return V}function d(V,U,Q){if(V.customInspect&&U&&j(U.inspect)&&U.inspect!==W.inspect&&(!U.constructor||U.constructor.prototype!==U)){var Z=U.inspect(Q,V);return S(Z)||(Z=d(V,Z,Q)),Z}var K=function(q,oe){if(A(oe))return q.stylize("undefined","undefined");if(S(oe)){var se="'"+JSON.stringify(oe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(se,"string")}return b(oe)?q.stylize(""+oe,"number"):g(oe)?q.stylize(""+oe,"boolean"):y(oe)?q.stylize("null","null"):void 0}(V,U);if(K)return K;var oe,ne=Object.keys(U),ue=(oe={},ne.forEach(function(se,ve){oe[se]=!0}),oe);if(V.showHidden&&(ne=Object.getOwnPropertyNames(U)),J(U)&&(ne.indexOf("message")>=0||ne.indexOf("description")>=0))return u(U);if(0===ne.length){if(j(U))return V.stylize("[Function"+(U.name?": "+U.name:"")+"]","special");if(P(U))return V.stylize(RegExp.prototype.toString.call(U),"regexp");if(X(U))return V.stylize(Date.prototype.toString.call(U),"date");if(J(U))return u(U)}var de,pe="",_e=!1,me=["{","}"];return m(U)&&(_e=!0,me=["[","]"]),j(U)&&(pe=" [Function"+(U.name?": "+U.name:"")+"]"),P(U)&&(pe=" "+RegExp.prototype.toString.call(U)),X(U)&&(pe=" "+Date.prototype.toUTCString.call(U)),J(U)&&(pe=" "+u(U)),0!==ne.length||_e&&0!=U.length?Q<0?P(U)?V.stylize(RegExp.prototype.toString.call(U),"regexp"):V.stylize("[Object]","special"):(V.seen.push(U),de=_e?function(q,oe,se,ve,Se){for(var De=[],qe=0,je=oe.length;qe<je;++qe)N(oe,String(qe))?De.push(c(q,oe,se,ve,String(qe),!0)):De.push("");return Se.forEach(function(Ye){Ye.match(/^\d+$/)||De.push(c(q,oe,se,ve,Ye,!0))}),De}(V,U,Q,ue,ne):ne.map(function(q){return c(V,U,Q,ue,q,_e)}),V.seen.pop(),function(q,oe,se){return q.reduce(function(ve,Se){return Se.indexOf("\n"),ve+Se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?se[0]+(""===oe?"":oe+"\n ")+" "+q.join(",\n  ")+" "+se[1]:se[0]+oe+" "+q.join(", ")+" "+se[1]}(de,pe,me)):me[0]+pe+me[1]}function u(V){return"["+Error.prototype.toString.call(V)+"]"}function c(V,U,Q,Z,K,ne){var ue,ce,de;if((de=Object.getOwnPropertyDescriptor(U,K)||{value:U[K]}).get?ce=V.stylize(de.set?"[Getter/Setter]":"[Getter]","special"):de.set&&(ce=V.stylize("[Setter]","special")),N(Z,K)||(ue="["+K+"]"),ce||(V.seen.indexOf(de.value)<0?(ce=y(Q)?d(V,de.value,null):d(V,de.value,Q-1)).indexOf("\n")>-1&&(ce=ne?ce.split("\n").map(function(pe){return"  "+pe}).join("\n").substr(2):"\n"+ce.split("\n").map(function(pe){return"   "+pe}).join("\n")):ce=V.stylize("[Circular]","special")),A(ue)){if(ne&&K.match(/^\d+$/))return ce;(ue=JSON.stringify(""+K)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ue=ue.substr(1,ue.length-2),ue=V.stylize(ue,"name")):(ue=ue.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ue=V.stylize(ue,"string"))}return ue+": "+ce}function m(V){return Array.isArray(V)}function g(V){return"boolean"==typeof V}function y(V){return null===V}function b(V){return"number"==typeof V}function S(V){return"string"==typeof V}function A(V){return void 0===V}function P(V){return H(V)&&"[object RegExp]"===$(V)}function H(V){return"object"===M(V)&&null!==V}function X(V){return H(V)&&"[object Date]"===$(V)}function J(V){return H(V)&&("[object Error]"===$(V)||V instanceof Error)}function j(V){return"function"==typeof V}function $(V){return Object.prototype.toString.call(V)}function L(V){return V<10?"0"+V.toString(10):V.toString(10)}W.debuglog=function(V){if(A(O)&&(O=k.env.NODE_DEBUG||""),V=V.toUpperCase(),!w[V])if(new RegExp("\\b"+V+"\\b","i").test(O)){var U=k.pid;w[V]=function(){var Q=W.format.apply(W,arguments);console.error("%s %d: %s",V,U,Q)}}else w[V]=function(){};return w[V]},W.inspect=E,E.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},E.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},W.isArray=m,W.isBoolean=g,W.isNull=y,W.isNullOrUndefined=function(V){return null==V},W.isNumber=b,W.isString=S,W.isSymbol=function(V){return"symbol"===M(V)},W.isUndefined=A,W.isRegExp=P,W.isObject=H,W.isDate=X,W.isError=J,W.isFunction=j,W.isPrimitive=function(V){return null===V||"boolean"==typeof V||"number"==typeof V||"string"==typeof V||"symbol"===M(V)||void 0===V},W.isBuffer=T("./support/isBuffer");var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var V=new Date,U=[L(V.getHours()),L(V.getMinutes()),L(V.getSeconds())].join(":");return[V.getDate(),B[V.getMonth()],U].join(" ")}function N(V,U){return Object.prototype.hasOwnProperty.call(V,U)}W.log=function(){console.log("%s - %s",ee(),W.format.apply(W,arguments))},W.inherits=T("inherits"),W._extend=function(V,U){if(!U||!H(U))return V;for(var Q=Object.keys(U),Z=Q.length;Z--;)V[Q[Z]]=U[Q[Z]];return V}}).call(this,T("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":524,_process:467,inherits:523}],526:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),Object.defineProperty(W,"v1",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(W,"v3",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(W,"v4",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(W,"v5",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(W,"NIL",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(W,"version",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(W,"validate",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(W,"stringify",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(W,"parse",{enumerable:!0,get:function(){return f.default}});var k=d(T("./v1.js")),R=d(T("./v3.js")),M=d(T("./v4.js")),x=d(T("./v5.js")),O=d(T("./nil.js")),w=d(T("./version.js")),E=d(T("./validate.js")),C=d(T("./stringify.js")),f=d(T("./parse.js"));function d(u){return u&&u.__esModule?u:{default:u}}},{"./nil.js":528,"./parse.js":529,"./stringify.js":533,"./v1.js":534,"./v3.js":535,"./v4.js":537,"./v5.js":538,"./validate.js":539,"./version.js":540}],527:[function(T,te,W){"use strict";function k(f){return 14+(f+64>>>9<<4)+1}function R(f,d){var u=(65535&f)+(65535&d);return(f>>16)+(d>>16)+(u>>16)<<16|65535&u}function M(f,d,u,c,m,g){return R((y=R(R(d,f),R(c,g)))<<(b=m)|y>>>32-b,u);var y,b}function x(f,d,u,c,m,g,y){return M(d&u|~d&c,f,d,m,g,y)}function O(f,d,u,c,m,g,y){return M(d&c|u&~c,f,d,m,g,y)}function w(f,d,u,c,m,g,y){return M(d^u^c,f,d,m,g,y)}function E(f,d,u,c,m,g,y){return M(u^(d|~c),f,d,m,g,y)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.default=function(f){if("string"==typeof f){var d=unescape(encodeURIComponent(f));f=new Uint8Array(d.length);for(var u=0;u<d.length;++u)f[u]=d.charCodeAt(u)}return function(c){for(var m=[],g=32*c.length,y=0;y<g;y+=8){var b=c[y>>5]>>>y%32&255,S=parseInt("0123456789abcdef".charAt(b>>>4&15)+"0123456789abcdef".charAt(15&b),16);m.push(S)}return m}(function(c,m){c[m>>5]|=128<<m%32,c[k(m)-1]=m;for(var g=1732584193,y=-271733879,b=-1732584194,S=271733878,A=0;A<c.length;A+=16){var P=g,H=y,X=b,J=S;g=x(g,y,b,S,c[A],7,-680876936),S=x(S,g,y,b,c[A+1],12,-389564586),b=x(b,S,g,y,c[A+2],17,606105819),y=x(y,b,S,g,c[A+3],22,-1044525330),g=x(g,y,b,S,c[A+4],7,-176418897),S=x(S,g,y,b,c[A+5],12,1200080426),b=x(b,S,g,y,c[A+6],17,-1473231341),y=x(y,b,S,g,c[A+7],22,-45705983),g=x(g,y,b,S,c[A+8],7,1770035416),S=x(S,g,y,b,c[A+9],12,-1958414417),b=x(b,S,g,y,c[A+10],17,-42063),y=x(y,b,S,g,c[A+11],22,-1990404162),g=x(g,y,b,S,c[A+12],7,1804603682),S=x(S,g,y,b,c[A+13],12,-40341101),b=x(b,S,g,y,c[A+14],17,-1502002290),g=O(g,y=x(y,b,S,g,c[A+15],22,1236535329),b,S,c[A+1],5,-165796510),S=O(S,g,y,b,c[A+6],9,-1069501632),b=O(b,S,g,y,c[A+11],14,643717713),y=O(y,b,S,g,c[A],20,-373897302),g=O(g,y,b,S,c[A+5],5,-701558691),S=O(S,g,y,b,c[A+10],9,38016083),b=O(b,S,g,y,c[A+15],14,-660478335),y=O(y,b,S,g,c[A+4],20,-405537848),g=O(g,y,b,S,c[A+9],5,568446438),S=O(S,g,y,b,c[A+14],9,-1019803690),b=O(b,S,g,y,c[A+3],14,-187363961),y=O(y,b,S,g,c[A+8],20,1163531501),g=O(g,y,b,S,c[A+13],5,-1444681467),S=O(S,g,y,b,c[A+2],9,-51403784),b=O(b,S,g,y,c[A+7],14,1735328473),g=w(g,y=O(y,b,S,g,c[A+12],20,-1926607734),b,S,c[A+5],4,-378558),S=w(S,g,y,b,c[A+8],11,-2022574463),b=w(b,S,g,y,c[A+11],16,1839030562),y=w(y,b,S,g,c[A+14],23,-35309556),g=w(g,y,b,S,c[A+1],4,-1530992060),S=w(S,g,y,b,c[A+4],11,1272893353),b=w(b,S,g,y,c[A+7],16,-155497632),y=w(y,b,S,g,c[A+10],23,-1094730640),g=w(g,y,b,S,c[A+13],4,681279174),S=w(S,g,y,b,c[A],11,-358537222),b=w(b,S,g,y,c[A+3],16,-722521979),y=w(y,b,S,g,c[A+6],23,76029189),g=w(g,y,b,S,c[A+9],4,-640364487),S=w(S,g,y,b,c[A+12],11,-421815835),b=w(b,S,g,y,c[A+15],16,530742520),g=E(g,y=w(y,b,S,g,c[A+2],23,-995338651),b,S,c[A],6,-198630844),S=E(S,g,y,b,c[A+7],10,1126891415),b=E(b,S,g,y,c[A+14],15,-1416354905),y=E(y,b,S,g,c[A+5],21,-57434055),g=E(g,y,b,S,c[A+12],6,1700485571),S=E(S,g,y,b,c[A+3],10,-1894986606),b=E(b,S,g,y,c[A+10],15,-1051523),y=E(y,b,S,g,c[A+1],21,-2054922799),g=E(g,y,b,S,c[A+8],6,1873313359),S=E(S,g,y,b,c[A+15],10,-30611744),b=E(b,S,g,y,c[A+6],15,-1560198380),y=E(y,b,S,g,c[A+13],21,1309151649),g=E(g,y,b,S,c[A+4],6,-145523070),S=E(S,g,y,b,c[A+11],10,-1120210379),b=E(b,S,g,y,c[A+2],15,718787259),y=E(y,b,S,g,c[A+9],21,-343485551),g=R(g,P),y=R(y,H),b=R(b,X),S=R(S,J)}return[g,y,b,S]}(function(c){if(0===c.length)return[];for(var m=8*c.length,g=new Uint32Array(k(m)),y=0;y<m;y+=8)g[y>>5]|=(255&c[y/8])<<y%32;return g}(f),8*f.length))}},{}],528:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.default="00000000-0000-0000-0000-000000000000"},{}],529:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k,R=(k=T("./validate.js"))&&k.__esModule?k:{default:k};W.default=function(x){if(!(0,R.default)(x))throw TypeError("Invalid UUID");var O,w=new Uint8Array(16);return w[0]=(O=parseInt(x.slice(0,8),16))>>>24,w[1]=O>>>16&255,w[2]=O>>>8&255,w[3]=255&O,w[4]=(O=parseInt(x.slice(9,13),16))>>>8,w[5]=255&O,w[6]=(O=parseInt(x.slice(14,18),16))>>>8,w[7]=255&O,w[8]=(O=parseInt(x.slice(19,23),16))>>>8,w[9]=255&O,w[10]=(O=parseInt(x.slice(24,36),16))/1099511627776&255,w[11]=O/4294967296&255,w[12]=O>>>24&255,w[13]=O>>>16&255,w[14]=O>>>8&255,w[15]=255&O,w}},{"./validate.js":539}],530:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],531:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(){if(!k)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return k(R)};var k=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),R=new Uint8Array(16)},{}],532:[function(T,te,W){"use strict";function k(x,O,w,E){switch(x){case 0:return O&w^~O&E;case 1:case 3:return O^w^E;case 2:return O&w^O&E^w&E}}function R(x,O){return x<<O|x>>>32-O}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.default=function(x){var O=[1518500249,1859775393,2400959708,3395469782],w=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof x){var E=unescape(encodeURIComponent(x));x=[];for(var C=0;C<E.length;++C)x.push(E.charCodeAt(C))}else Array.isArray(x)||(x=Array.prototype.slice.call(x));x.push(128);for(var d=Math.ceil((x.length/4+2)/16),u=new Array(d),c=0;c<d;++c){for(var m=new Uint32Array(16),g=0;g<16;++g)m[g]=x[64*c+4*g]<<24|x[64*c+4*g+1]<<16|x[64*c+4*g+2]<<8|x[64*c+4*g+3];u[c]=m}u[d-1][14]=8*(x.length-1)/Math.pow(2,32),u[d-1][14]=Math.floor(u[d-1][14]),u[d-1][15]=8*(x.length-1)&4294967295;for(var y=0;y<d;++y){for(var b=new Uint32Array(80),S=0;S<16;++S)b[S]=u[y][S];for(var A=16;A<80;++A)b[A]=R(b[A-3]^b[A-8]^b[A-14]^b[A-16],1);for(var P=w[0],H=w[1],X=w[2],J=w[3],j=w[4],$=0;$<80;++$){var L=Math.floor($/20),B=R(P,5)+k(L,H,X,J)+j+O[L]+b[$]>>>0;j=J,J=X,X=R(H,30)>>>0,H=P,P=B}w[0]=w[0]+P>>>0,w[1]=w[1]+H>>>0,w[2]=w[2]+X>>>0,w[3]=w[3]+J>>>0,w[4]=w[4]+j>>>0}return[w[0]>>24&255,w[0]>>16&255,w[0]>>8&255,255&w[0],w[1]>>24&255,w[1]>>16&255,w[1]>>8&255,255&w[1],w[2]>>24&255,w[2]>>16&255,w[2]>>8&255,255&w[2],w[3]>>24&255,w[3]>>16&255,w[3]>>8&255,255&w[3],w[4]>>24&255,w[4]>>16&255,w[4]>>8&255,255&w[4]]}},{}],533:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;for(var k,R=(k=T("./validate.js"))&&k.__esModule?k:{default:k},M=[],x=0;x<256;++x)M.push((x+256).toString(16).substr(1));W.default=function(w){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=(M[w[E+0]]+M[w[E+1]]+M[w[E+2]]+M[w[E+3]]+"-"+M[w[E+4]]+M[w[E+5]]+"-"+M[w[E+6]]+M[w[E+7]]+"-"+M[w[E+8]]+M[w[E+9]]+"-"+M[w[E+10]]+M[w[E+11]]+M[w[E+12]]+M[w[E+13]]+M[w[E+14]]+M[w[E+15]]).toLowerCase();if(!(0,R.default)(C))throw TypeError("Stringified UUID is invalid");return C}},{"./validate.js":539}],534:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k,R,M=O(T("./rng.js")),x=O(T("./stringify.js"));function O(f){return f&&f.__esModule?f:{default:f}}var w=0,E=0;W.default=function(f,d,u){var c=d&&u||0,m=d||new Array(16),g=(f=f||{}).node||k,y=void 0!==f.clockseq?f.clockseq:R;if(null==g||null==y){var b=f.random||(f.rng||M.default)();null==g&&(g=k=[1|b[0],b[1],b[2],b[3],b[4],b[5]]),null==y&&(y=R=16383&(b[6]<<8|b[7]))}var S=void 0!==f.msecs?f.msecs:Date.now(),A=void 0!==f.nsecs?f.nsecs:E+1,P=S-w+(A-E)/1e4;if(P<0&&void 0===f.clockseq&&(y=y+1&16383),(P<0||S>w)&&void 0===f.nsecs&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");w=S,E=A,R=y;var H=(1e4*(268435455&(S+=122192928e5))+A)%4294967296;m[c++]=H>>>24&255,m[c++]=H>>>16&255,m[c++]=H>>>8&255,m[c++]=255&H;var X=S/4294967296*1e4&268435455;m[c++]=X>>>8&255,m[c++]=255&X,m[c++]=X>>>24&15|16,m[c++]=X>>>16&255,m[c++]=y>>>8|128,m[c++]=255&y;for(var J=0;J<6;++J)m[c+J]=g[J];return d||(0,x.default)(m)}},{"./rng.js":531,"./stringify.js":533}],535:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k=M(T("./v35.js")),R=M(T("./md5.js"));function M(O){return O&&O.__esModule?O:{default:O}}var x=(0,k.default)("v3",48,R.default);W.default=x},{"./md5.js":527,"./v35.js":536}],536:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(w,E,C){function f(d,u,c,m){if("string"==typeof d&&(d=function(b){b=unescape(encodeURIComponent(b));for(var S=[],A=0;A<b.length;++A)S.push(b.charCodeAt(A));return S}(d)),"string"==typeof u&&(u=(0,R.default)(u)),16!==u.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var g=new Uint8Array(16+d.length);if(g.set(u),g.set(d,u.length),(g=C(g))[6]=15&g[6]|E,g[8]=63&g[8]|128,c){m=m||0;for(var y=0;y<16;++y)c[m+y]=g[y];return c}return(0,k.default)(g)}try{f.name=w}catch{}return f.DNS=x,f.URL=O,f},W.URL=W.DNS=void 0;var k=M(T("./stringify.js")),R=M(T("./parse.js"));function M(w){return w&&w.__esModule?w:{default:w}}var x="6ba7b810-9dad-11d1-80b4-00c04fd430c8";W.DNS=x;var O="6ba7b811-9dad-11d1-80b4-00c04fd430c8";W.URL=O},{"./parse.js":529,"./stringify.js":533}],537:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k=M(T("./rng.js")),R=M(T("./stringify.js"));function M(O){return O&&O.__esModule?O:{default:O}}W.default=function(O,w,E){var C=(O=O||{}).random||(O.rng||k.default)();if(C[6]=15&C[6]|64,C[8]=63&C[8]|128,w){E=E||0;for(var f=0;f<16;++f)w[E+f]=C[f];return w}return(0,R.default)(C)}},{"./rng.js":531,"./stringify.js":533}],538:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k=M(T("./v35.js")),R=M(T("./sha1.js"));function M(O){return O&&O.__esModule?O:{default:O}}var x=(0,k.default)("v5",80,R.default);W.default=x},{"./sha1.js":532,"./v35.js":536}],539:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k,R=(k=T("./regex.js"))&&k.__esModule?k:{default:k};W.default=function(x){return"string"==typeof x&&R.default.test(x)}},{"./regex.js":530}],540:[function(T,te,W){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var k,R=(k=T("./validate.js"))&&k.__esModule?k:{default:k};W.default=function(x){if(!(0,R.default)(x))throw TypeError("Invalid UUID");return parseInt(x.substr(14,1),16)}},{"./validate.js":539}],541:[function(T,te,W){"use strict";function k(R){return R>=65&&R<=90||R>=97&&R<=122||58===R||95===R||8204===R||8205===R||R>=192&&R<=214||R>=216&&R<=246||R>=248&&R<=767||R>=880&&R<=893||R>=895&&R<=8191||R>=8304&&R<=8591||R>=11264&&R<=12271||R>=12289&&R<=55295||R>=63744&&R<=64975||R>=65008&&R<=65533||R>=65536&&R<=983039}Object.defineProperty(W,"__esModule",{value:!0}),W.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\u{10000}-\u{10ffff}",W.S=" \t\r\n",W.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u{10000}-\u{effff}",W.NAME_CHAR="-"+W.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",W.CHAR_RE=new RegExp("^["+W.CHAR+"]$","u"),W.S_RE=new RegExp("^["+W.S+"]+$","u"),W.NAME_START_CHAR_RE=new RegExp("^["+W.NAME_START_CHAR+"]$","u"),W.NAME_CHAR_RE=new RegExp("^["+W.NAME_CHAR+"]$","u"),W.NAME_RE=new RegExp("^["+W.NAME_START_CHAR+"]["+W.NAME_CHAR+"]*$","u"),W.NMTOKEN_RE=new RegExp("^["+W.NAME_CHAR+"]+$","u"),W.S_LIST=[32,10,13,9],W.isChar=function(R){return R>=32&&R<=55295||10===R||13===R||9===R||R>=57344&&R<=65533||R>=65536&&R<=1114111},W.isS=function(R){return 32===R||10===R||13===R||9===R},W.isNameStartChar=k,W.isNameChar=function(R){return k(R)||R>=48&&R<=57||45===R||46===R||183===R||R>=768&&R<=879||R>=8255&&R<=8256}},{}],542:[function(T,te,W){"use strict";function k(R){return R>=65&&R<=90||R>=97&&R<=122||58===R||95===R||8204===R||8205===R||R>=192&&R<=214||R>=216&&R<=246||R>=248&&R<=767||R>=880&&R<=893||R>=895&&R<=8191||R>=8304&&R<=8591||R>=11264&&R<=12271||R>=12289&&R<=55295||R>=63744&&R<=64975||R>=65008&&R<=65533||R>=65536&&R<=983039}Object.defineProperty(W,"__esModule",{value:!0}),W.CHAR="\x01-\ud7ff\ue000-\ufffd\u{10000}-\u{10ffff}",W.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",W.S=" \t\r\n",W.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u{10000}-\u{effff}",W.NAME_CHAR="-"+W.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",W.CHAR_RE=new RegExp("^["+W.CHAR+"]$","u"),W.RESTRICTED_CHAR_RE=new RegExp("^["+W.RESTRICTED_CHAR+"]$","u"),W.S_RE=new RegExp("^["+W.S+"]+$","u"),W.NAME_START_CHAR_RE=new RegExp("^["+W.NAME_START_CHAR+"]$","u"),W.NAME_CHAR_RE=new RegExp("^["+W.NAME_CHAR+"]$","u"),W.NAME_RE=new RegExp("^["+W.NAME_START_CHAR+"]["+W.NAME_CHAR+"]*$","u"),W.NMTOKEN_RE=new RegExp("^["+W.NAME_CHAR+"]+$","u"),W.S_LIST=[32,10,13,9],W.isChar=function(R){return R>=1&&R<=55295||R>=57344&&R<=65533||R>=65536&&R<=1114111},W.isRestrictedChar=function(R){return R>=1&&R<=8||11===R||12===R||R>=14&&R<=31||R>=127&&R<=132||R>=134&&R<=159},W.isCharAndNotRestricted=function(R){return 9===R||10===R||13===R||R>31&&R<127||133===R||R>159&&R<=55295||R>=57344&&R<=65533||R>=65536&&R<=1114111},W.isS=function(R){return 32===R||10===R||13===R||9===R},W.isNameStartChar=k,W.isNameChar=function(R){return k(R)||R>=48&&R<=57||45===R||46===R||183===R||R>=768&&R<=879||R>=8255&&R<=8256}},{}],543:[function(T,te,W){"use strict";function k(R){return R>=65&&R<=90||95===R||R>=97&&R<=122||R>=192&&R<=214||R>=216&&R<=246||R>=248&&R<=767||R>=880&&R<=893||R>=895&&R<=8191||R>=8204&&R<=8205||R>=8304&&R<=8591||R>=11264&&R<=12271||R>=12289&&R<=55295||R>=63744&&R<=64975||R>=65008&&R<=65533||R>=65536&&R<=983039}Object.defineProperty(W,"__esModule",{value:!0}),W.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\u{10000}-\u{effff}",W.NC_NAME_CHAR="-"+W.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",W.NC_NAME_START_CHAR_RE=new RegExp("^["+W.NC_NAME_START_CHAR+"]$","u"),W.NC_NAME_CHAR_RE=new RegExp("^["+W.NC_NAME_CHAR+"]$","u"),W.NC_NAME_RE=new RegExp("^["+W.NC_NAME_START_CHAR+"]["+W.NC_NAME_CHAR+"]*$","u"),W.isNCNameStartChar=k,W.isNCNameChar=function(R){return k(R)||45===R||46===R||R>=48&&R<=57||183===R||R>=768&&R<=879||R>=8255&&R<=8256}},{}]},{},[15])(15)},4327:function(Xt,kt){var T;void 0!==(T=function(){"use strict";function W(w,E,C){var f=new XMLHttpRequest;f.open("GET",w),f.responseType="blob",f.onload=function(){O(f.response,E,C)},f.onerror=function(){console.error("could not download file")},f.send()}function k(w){var E=new XMLHttpRequest;E.open("HEAD",w,!1);try{E.send()}catch{}return 200<=E.status&&299>=E.status}function R(w){try{w.dispatchEvent(new MouseEvent("click"))}catch{var E=document.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),w.dispatchEvent(E)}}var M="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,x=M.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),O=M.saveAs||("object"!=typeof window||window!==M?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(w,E,C){var f=M.URL||M.webkitURL,d=document.createElement("a");d.download=E=E||w.name||"download",d.rel="noopener","string"==typeof w?(d.href=w,d.origin===location.origin?R(d):k(d.href)?W(w,E,C):R(d,d.target="_blank")):(d.href=f.createObjectURL(w),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){R(d)},0))}:"msSaveOrOpenBlob"in navigator?function(w,E,C){if(E=E||w.name||"download","string"!=typeof w)navigator.msSaveOrOpenBlob(function te(w,E){return typeof E>"u"?E={autoBom:!1}:"object"!=typeof E&&(console.warn("Deprecated: Expected third argument to be a object"),E={autoBom:!E}),E.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob(["\ufeff",w],{type:w.type}):w}(w,C),E);else if(k(w))W(w,E,C);else{var f=document.createElement("a");f.href=w,f.target="_blank",setTimeout(function(){R(f)})}}:function(w,E,C,f){if((f=f||open("","_blank"))&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof w)return W(w,E,C);var d="application/octet-stream"===w.type,u=/constructor/i.test(M.HTMLElement)||M.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||d&&u||x)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var b=m.result;b=c?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=b:location=b,f=null},m.readAsDataURL(w)}else{var g=M.URL||M.webkitURL,y=g.createObjectURL(w);f?f.location=y:location.href=y,f=null,setTimeout(function(){g.revokeObjectURL(y)},4e4)}});M.saveAs=O.saveAs=O,Xt.exports=O}.apply(kt,[]))&&(Xt.exports=T)},9751:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{y:()=>x});var a=Oe(930),T=Oe(727),te=Oe(8822),W=Oe(9635),k=Oe(2416),R=Oe(576),M=Oe(2806);let x=(()=>{class C{constructor(d){d&&(this._subscribe=d)}lift(d){const u=new C;return u.source=this,u.operator=d,u}subscribe(d,u,c){const m=function E(C){return C&&C instanceof a.Lv||function w(C){return C&&(0,R.m)(C.next)&&(0,R.m)(C.error)&&(0,R.m)(C.complete)}(C)&&(0,T.Nn)(C)}(d)?d:new a.Hp(d,u,c);return(0,M.x)(()=>{const{operator:g,source:y}=this;m.add(g?g.call(m,y):y?this._subscribe(m):this._trySubscribe(m))}),m}_trySubscribe(d){try{return this._subscribe(d)}catch(u){d.error(u)}}forEach(d,u){return new(u=O(u))((c,m)=>{const g=new a.Hp({next:y=>{try{d(y)}catch(b){m(b),g.unsubscribe()}},error:m,complete:c});this.subscribe(g)})}_subscribe(d){var u;return null===(u=this.source)||void 0===u?void 0:u.subscribe(d)}[te.L](){return this}pipe(...d){return(0,W.U)(d)(this)}toPromise(d){return new(d=O(d))((u,c)=>{let m;this.subscribe(g=>m=g,g=>c(g),()=>u(m))})}}return C.create=f=>new C(f),C})();function O(C){var f;return null!==(f=C??k.v.Promise)&&void 0!==f?f:Promise}},7579:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{x:()=>M});var a=Oe(9751),T=Oe(727);const W=(0,Oe(3888).d)(O=>function(){O(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var k=Oe(8737),R=Oe(2806);let M=(()=>{class O extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(E){const C=new x(this,this);return C.operator=E,C}_throwIfClosed(){if(this.closed)throw new W}next(E){(0,R.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const C of this.currentObservers)C.next(E)}})}error(E){(0,R.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=E;const{observers:C}=this;for(;C.length;)C.shift().error(E)}})}complete(){(0,R.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:E}=this;for(;E.length;)E.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var E;return(null===(E=this.observers)||void 0===E?void 0:E.length)>0}_trySubscribe(E){return this._throwIfClosed(),super._trySubscribe(E)}_subscribe(E){return this._throwIfClosed(),this._checkFinalizedStatuses(E),this._innerSubscribe(E)}_innerSubscribe(E){const{hasError:C,isStopped:f,observers:d}=this;return C||f?T.Lc:(this.currentObservers=null,d.push(E),new T.w0(()=>{this.currentObservers=null,(0,k.P)(d,E)}))}_checkFinalizedStatuses(E){const{hasError:C,thrownError:f,isStopped:d}=this;C?E.error(f):d&&E.complete()}asObservable(){const E=new a.y;return E.source=this,E}}return O.create=(w,E)=>new x(w,E),O})();class x extends M{constructor(w,E){super(),this.destination=w,this.source=E}next(w){var E,C;null===(C=null===(E=this.destination)||void 0===E?void 0:E.next)||void 0===C||C.call(E,w)}error(w){var E,C;null===(C=null===(E=this.destination)||void 0===E?void 0:E.error)||void 0===C||C.call(E,w)}complete(){var w,E;null===(E=null===(w=this.destination)||void 0===w?void 0:w.complete)||void 0===E||E.call(w)}_subscribe(w){var E,C;return null!==(C=null===(E=this.source)||void 0===E?void 0:E.subscribe(w))&&void 0!==C?C:T.Lc}}},930:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{Hp:()=>c,Lv:()=>C});var a=Oe(576),T=Oe(727),te=Oe(2416),W=Oe(7849),k=Oe(5032);const R=O("C",void 0,void 0);function O(S,A,P){return{kind:S,value:A,error:P}}var w=Oe(3410),E=Oe(2806);class C extends T.w0{constructor(A){super(),this.isStopped=!1,A?(this.destination=A,(0,T.Nn)(A)&&A.add(this)):this.destination=b}static create(A,P,H){return new c(A,P,H)}next(A){this.isStopped?y(function x(S){return O("N",S,void 0)}(A),this):this._next(A)}error(A){this.isStopped?y(function M(S){return O("E",void 0,S)}(A),this):(this.isStopped=!0,this._error(A))}complete(){this.isStopped?y(R,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(A){this.destination.next(A)}_error(A){try{this.destination.error(A)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function d(S,A){return f.call(S,A)}class u{constructor(A){this.partialObserver=A}next(A){const{partialObserver:P}=this;if(P.next)try{P.next(A)}catch(H){m(H)}}error(A){const{partialObserver:P}=this;if(P.error)try{P.error(A)}catch(H){m(H)}else m(A)}complete(){const{partialObserver:A}=this;if(A.complete)try{A.complete()}catch(P){m(P)}}}class c extends C{constructor(A,P,H){let X;if(super(),(0,a.m)(A)||!A)X={next:A??void 0,error:P??void 0,complete:H??void 0};else{let J;this&&te.v.useDeprecatedNextContext?(J=Object.create(A),J.unsubscribe=()=>this.unsubscribe(),X={next:A.next&&d(A.next,J),error:A.error&&d(A.error,J),complete:A.complete&&d(A.complete,J)}):X=A}this.destination=new u(X)}}function m(S){te.v.useDeprecatedSynchronousErrorHandling?(0,E.O)(S):(0,W.h)(S)}function y(S,A){const{onStoppedNotification:P}=te.v;P&&w.z.setTimeout(()=>P(S,A))}const b={closed:!0,next:k.Z,error:function g(S){throw S},complete:k.Z}},727:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{Lc:()=>R,w0:()=>k,Nn:()=>M});var a=Oe(576);const te=(0,Oe(3888).d)(O=>function(E){O(this),this.message=E?`${E.length} errors occurred during unsubscription:\n${E.map((C,f)=>`${f+1}) ${C.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=E});var W=Oe(8737);class k{constructor(w){this.initialTeardown=w,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let w;if(!this.closed){this.closed=!0;const{_parentage:E}=this;if(E)if(this._parentage=null,Array.isArray(E))for(const d of E)d.remove(this);else E.remove(this);const{initialTeardown:C}=this;if((0,a.m)(C))try{C()}catch(d){w=d instanceof te?d.errors:[d]}const{_finalizers:f}=this;if(f){this._finalizers=null;for(const d of f)try{x(d)}catch(u){w=w??[],u instanceof te?w=[...w,...u.errors]:w.push(u)}}if(w)throw new te(w)}}add(w){var E;if(w&&w!==this)if(this.closed)x(w);else{if(w instanceof k){if(w.closed||w._hasParent(this))return;w._addParent(this)}(this._finalizers=null!==(E=this._finalizers)&&void 0!==E?E:[]).push(w)}}_hasParent(w){const{_parentage:E}=this;return E===w||Array.isArray(E)&&E.includes(w)}_addParent(w){const{_parentage:E}=this;this._parentage=Array.isArray(E)?(E.push(w),E):E?[E,w]:w}_removeParent(w){const{_parentage:E}=this;E===w?this._parentage=null:Array.isArray(E)&&(0,W.P)(E,w)}remove(w){const{_finalizers:E}=this;E&&(0,W.P)(E,w),w instanceof k&&w._removeParent(this)}}k.EMPTY=(()=>{const O=new k;return O.closed=!0,O})();const R=k.EMPTY;function M(O){return O instanceof k||O&&"closed"in O&&(0,a.m)(O.remove)&&(0,a.m)(O.add)&&(0,a.m)(O.unsubscribe)}function x(O){(0,a.m)(O)?O():O.unsubscribe()}},2416:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{E:()=>T});const T=new(Oe(9751).y)(k=>k.complete())},8996:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{D:()=>A});var a=Oe(8421),T=Oe(5363),te=Oe(9468),R=Oe(9751),x=Oe(2202),O=Oe(576),w=Oe(9672);function C(P,H){if(!P)throw new Error("Iterable cannot be null");return new R.y(X=>{(0,w.f)(X,H,()=>{const J=P[Symbol.asyncIterator]();(0,w.f)(X,H,()=>{J.next().then(j=>{j.done?X.complete():X.next(j.value)})},0,!0)})})}var f=Oe(3670),d=Oe(8239),u=Oe(1144),c=Oe(6495),m=Oe(2206),g=Oe(4532),y=Oe(3260);function A(P,H){return H?function S(P,H){if(null!=P){if((0,f.c)(P))return function W(P,H){return(0,a.Xf)(P).pipe((0,te.R)(H),(0,T.Q)(H))}(P,H);if((0,u.z)(P))return function M(P,H){return new R.y(X=>{let J=0;return H.schedule(function(){J===P.length?X.complete():(X.next(P[J++]),X.closed||this.schedule())})})}(P,H);if((0,d.t)(P))return function k(P,H){return(0,a.Xf)(P).pipe((0,te.R)(H),(0,T.Q)(H))}(P,H);if((0,m.D)(P))return C(P,H);if((0,c.T)(P))return function E(P,H){return new R.y(X=>{let J;return(0,w.f)(X,H,()=>{J=P[x.h](),(0,w.f)(X,H,()=>{let j,$;try{({value:j,done:$}=J.next())}catch(L){return void X.error(L)}$?X.complete():X.next(j)},0,!0)}),()=>(0,O.m)(J?.return)&&J.return()})}(P,H);if((0,y.L)(P))return function b(P,H){return C((0,y.Q)(P),H)}(P,H)}throw(0,g.z)(P)}(P,H):(0,a.Xf)(P)}},8421:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{Xf:()=>f});var a=Oe(7582),T=Oe(1144),te=Oe(8239),W=Oe(9751),k=Oe(3670),R=Oe(2206),M=Oe(4532),x=Oe(6495),O=Oe(3260),w=Oe(576),E=Oe(7849),C=Oe(8822);function f(S){if(S instanceof W.y)return S;if(null!=S){if((0,k.c)(S))return function d(S){return new W.y(A=>{const P=S[C.L]();if((0,w.m)(P.subscribe))return P.subscribe(A);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(S);if((0,T.z)(S))return function u(S){return new W.y(A=>{for(let P=0;P<S.length&&!A.closed;P++)A.next(S[P]);A.complete()})}(S);if((0,te.t)(S))return function c(S){return new W.y(A=>{S.then(P=>{A.closed||(A.next(P),A.complete())},P=>A.error(P)).then(null,E.h)})}(S);if((0,R.D)(S))return g(S);if((0,x.T)(S))return function m(S){return new W.y(A=>{for(const P of S)if(A.next(P),A.closed)return;A.complete()})}(S);if((0,O.L)(S))return function y(S){return g((0,O.Q)(S))}(S)}throw(0,M.z)(S)}function g(S){return new W.y(A=>{(function b(S,A){var P,H,X,J;return(0,a.mG)(this,void 0,void 0,function*(){try{for(P=(0,a.KL)(S);!(H=yield P.next()).done;)if(A.next(H.value),A.closed)return}catch(j){X={error:j}}finally{try{H&&!H.done&&(J=P.return)&&(yield J.call(P))}finally{if(X)throw X.error}}A.complete()})})(S,A).catch(P=>A.error(P))})}},6451:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{T:()=>R});var a=Oe(8189),T=Oe(8421),te=Oe(515),W=Oe(3269),k=Oe(8996);function R(...M){const x=(0,W.yG)(M),O=(0,W._6)(M,1/0),w=M;return w.length?1===w.length?(0,T.Xf)(w[0]):(0,a.J)(O)((0,k.D)(w,x)):te.E}},5403:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{x:()=>T});var a=Oe(930);function T(W,k,R,M,x){return new te(W,k,R,M,x)}class te extends a.Lv{constructor(k,R,M,x,O,w){super(k),this.onFinalize=O,this.shouldUnsubscribe=w,this._next=R?function(E){try{R(E)}catch(C){k.error(C)}}:super._next,this._error=x?function(E){try{x(E)}catch(C){k.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=M?function(){try{M()}catch(E){k.error(E)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var k;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:R}=this;super.unsubscribe(),!R&&(null===(k=this.onFinalize)||void 0===k||k.call(this))}}}},4004:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{U:()=>te});var a=Oe(4482),T=Oe(5403);function te(W,k){return(0,a.e)((R,M)=>{let x=0;R.subscribe((0,T.x)(M,O=>{M.next(W.call(k,O,x++))}))})}},8189:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{J:()=>te});var a=Oe(5577),T=Oe(4671);function te(W=1/0){return(0,a.z)(T.y,W)}},5577:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{z:()=>x});var a=Oe(4004),T=Oe(8421),te=Oe(4482),W=Oe(9672),k=Oe(5403),M=Oe(576);function x(O,w,E=1/0){return(0,M.m)(w)?x((C,f)=>(0,a.U)((d,u)=>w(C,d,f,u))((0,T.Xf)(O(C,f))),E):("number"==typeof w&&(E=w),(0,te.e)((C,f)=>function R(O,w,E,C,f,d,u,c){const m=[];let g=0,y=0,b=!1;const S=()=>{b&&!m.length&&!g&&w.complete()},A=H=>g<C?P(H):m.push(H),P=H=>{d&&w.next(H),g++;let X=!1;(0,T.Xf)(E(H,y++)).subscribe((0,k.x)(w,J=>{f?.(J),d?A(J):w.next(J)},()=>{X=!0},void 0,()=>{if(X)try{for(g--;m.length&&g<C;){const J=m.shift();u?(0,W.f)(w,u,()=>P(J)):P(J)}S()}catch(J){w.error(J)}}))};return O.subscribe((0,k.x)(w,A,()=>{b=!0,S()})),()=>{c?.()}}(C,f,O,E)))}},5363:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{Q:()=>W});var a=Oe(9672),T=Oe(4482),te=Oe(5403);function W(k,R=0){return(0,T.e)((M,x)=>{M.subscribe((0,te.x)(x,O=>(0,a.f)(x,k,()=>x.next(O),R),()=>(0,a.f)(x,k,()=>x.complete(),R),O=>(0,a.f)(x,k,()=>x.error(O),R)))})}},3099:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{B:()=>k});var a=Oe(8421),T=Oe(7579),te=Oe(930),W=Oe(4482);function k(M={}){const{connector:x=(()=>new T.x),resetOnError:O=!0,resetOnComplete:w=!0,resetOnRefCountZero:E=!0}=M;return C=>{let f,d,u,c=0,m=!1,g=!1;const y=()=>{d?.unsubscribe(),d=void 0},b=()=>{y(),f=u=void 0,m=g=!1},S=()=>{const A=f;b(),A?.unsubscribe()};return(0,W.e)((A,P)=>{c++,!g&&!m&&y();const H=u=u??x();P.add(()=>{c--,0===c&&!g&&!m&&(d=R(S,E))}),H.subscribe(P),!f&&c>0&&(f=new te.Hp({next:X=>H.next(X),error:X=>{g=!0,y(),d=R(b,O,X),H.error(X)},complete:()=>{m=!0,y(),d=R(b,w),H.complete()}}),(0,a.Xf)(A).subscribe(f))})(C)}}function R(M,x,...O){if(!0===x)return void M();if(!1===x)return;const w=new te.Hp({next:()=>{w.unsubscribe(),M()}});return x(...O).subscribe(w)}},9468:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{R:()=>T});var a=Oe(4482);function T(te,W=0){return(0,a.e)((k,R)=>{R.add(te.schedule(()=>k.subscribe(R),W))})}},8505:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{b:()=>k});var a=Oe(576),T=Oe(4482),te=Oe(5403),W=Oe(4671);function k(R,M,x){const O=(0,a.m)(R)||M||x?{next:R,error:M,complete:x}:R;return O?(0,T.e)((w,E)=>{var C;null===(C=O.subscribe)||void 0===C||C.call(O);let f=!0;w.subscribe((0,te.x)(E,d=>{var u;null===(u=O.next)||void 0===u||u.call(O,d),E.next(d)},()=>{var d;f=!1,null===(d=O.complete)||void 0===d||d.call(O),E.complete()},d=>{var u;f=!1,null===(u=O.error)||void 0===u||u.call(O,d),E.error(d)},()=>{var d,u;f&&(null===(d=O.unsubscribe)||void 0===d||d.call(O)),null===(u=O.finalize)||void 0===u||u.call(O)}))}):W.y}},4408:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{o:()=>k});var a=Oe(727);class T extends a.w0{constructor(M,x){super()}schedule(M,x=0){return this}}const te={setInterval(R,M,...x){const{delegate:O}=te;return O?.setInterval?O.setInterval(R,M,...x):setInterval(R,M,...x)},clearInterval(R){const{delegate:M}=te;return(M?.clearInterval||clearInterval)(R)},delegate:void 0};var W=Oe(8737);class k extends T{constructor(M,x){super(M,x),this.scheduler=M,this.work=x,this.pending=!1}schedule(M,x=0){var O;if(this.closed)return this;this.state=M;const w=this.id,E=this.scheduler;return null!=w&&(this.id=this.recycleAsyncId(E,w,x)),this.pending=!0,this.delay=x,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(E,this.id,x),this}requestAsyncId(M,x,O=0){return te.setInterval(M.flush.bind(M,this),O)}recycleAsyncId(M,x,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return x;null!=x&&te.clearInterval(x)}execute(M,x){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(M,x);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,x){let w,O=!1;try{this.work(M)}catch(E){O=!0,w=E||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),w}unsubscribe(){if(!this.closed){const{id:M,scheduler:x}=this,{actions:O}=x;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.P)(O,this),null!=M&&(this.id=this.recycleAsyncId(x,M,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{v:()=>te});var a=Oe(6063);class T{constructor(k,R=T.now){this.schedulerActionCtor=k,this.now=R}schedule(k,R=0,M){return new this.schedulerActionCtor(this,k).schedule(M,R)}}T.now=a.l.now;class te extends T{constructor(k,R=T.now){super(k,R),this.actions=[],this._active=!1}flush(k){const{actions:R}=this;if(this._active)return void R.push(k);let M;this._active=!0;do{if(M=k.execute(k.state,k.delay))break}while(k=R.shift());if(this._active=!1,M){for(;k=R.shift();)k.unsubscribe();throw M}}}},4986:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{P:()=>W,z:()=>te});var a=Oe(4408);const te=new(Oe(7565).v)(a.o),W=te},6063:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{z:()=>a});const a={setTimeout(T,te,...W){const{delegate:k}=a;return k?.setTimeout?k.setTimeout(T,te,...W):setTimeout(T,te,...W)},clearTimeout(T){const{delegate:te}=a;return(te?.clearTimeout||clearTimeout)(T)},delegate:void 0}},2202:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{h:()=>T});const T=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{_6:()=>R,jO:()=>W,yG:()=>k});var a=Oe(576),T=Oe(3532);function te(M){return M[M.length-1]}function W(M){return(0,a.m)(te(M))?M.pop():void 0}function k(M){return(0,T.K)(te(M))?M.pop():void 0}function R(M,x){return"number"==typeof te(M)?M.pop():x}},8737:(Xt,kt,Oe)=>{"use strict";function a(T,te){if(T){const W=T.indexOf(te);0<=W&&T.splice(W,1)}}Oe.d(kt,{P:()=>a})},3888:(Xt,kt,Oe)=>{"use strict";function a(T){const W=T(k=>{Error.call(k),k.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}Oe.d(kt,{d:()=>a})},2806:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{O:()=>W,x:()=>te});var a=Oe(2416);let T=null;function te(k){if(a.v.useDeprecatedSynchronousErrorHandling){const R=!T;if(R&&(T={errorThrown:!1,error:null}),k(),R){const{errorThrown:M,error:x}=T;if(T=null,M)throw x}}else k()}function W(k){a.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=k)}},9672:(Xt,kt,Oe)=>{"use strict";function a(T,te,W,k=0,R=!1){const M=te.schedule(function(){W(),R?T.add(this.schedule(null,k)):this.unsubscribe()},k);if(T.add(M),!R)return M}Oe.d(kt,{f:()=>a})},4671:(Xt,kt,Oe)=>{"use strict";function a(T){return T}Oe.d(kt,{y:()=>a})},1144:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{z:()=>a});const a=T=>T&&"number"==typeof T.length&&"function"!=typeof T},2206:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{D:()=>T});var a=Oe(576);function T(te){return Symbol.asyncIterator&&(0,a.m)(te?.[Symbol.asyncIterator])}},576:(Xt,kt,Oe)=>{"use strict";function a(T){return"function"==typeof T}Oe.d(kt,{m:()=>a})},3670:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{c:()=>te});var a=Oe(8822),T=Oe(576);function te(W){return(0,T.m)(W[a.L])}},6495:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{T:()=>te});var a=Oe(2202),T=Oe(576);function te(W){return(0,T.m)(W?.[a.h])}},8239:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{t:()=>T});var a=Oe(576);function T(te){return(0,a.m)(te?.then)}},3260:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{L:()=>W,Q:()=>te});var a=Oe(7582),T=Oe(576);function te(k){return(0,a.FC)(this,arguments,function*(){const M=k.getReader();try{for(;;){const{value:x,done:O}=yield(0,a.qq)(M.read());if(O)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(x)}}finally{M.releaseLock()}})}function W(k){return(0,T.m)(k?.getReader)}},3532:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{K:()=>T});var a=Oe(576);function T(te){return te&&(0,a.m)(te.schedule)}},4482:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{A:()=>T,e:()=>te});var a=Oe(576);function T(W){return(0,a.m)(W?.lift)}function te(W){return k=>{if(T(k))return k.lift(function(R){try{return W(R,this)}catch(M){this.error(M)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Xt,kt,Oe)=>{"use strict";function a(){}Oe.d(kt,{Z:()=>a})},9635:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{U:()=>te,z:()=>T});var a=Oe(4671);function T(...W){return te(W)}function te(W){return 0===W.length?a.y:1===W.length?W[0]:function(R){return W.reduce((M,x)=>x(M),R)}}},7849:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{h:()=>te});var a=Oe(2416),T=Oe(3410);function te(W){T.z.setTimeout(()=>{const{onUnhandledError:k}=a.v;if(!k)throw W;k(W)})}},4532:(Xt,kt,Oe)=>{"use strict";function a(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Oe.d(kt,{z:()=>a})},7061:(Xt,kt,Oe)=>{var a=Oe(8698).default;function T(){"use strict";Xt.exports=T=function(){return te},Xt.exports.__esModule=!0,Xt.exports.default=Xt.exports;var te={},W=Object.prototype,k=W.hasOwnProperty,R="function"==typeof Symbol?Symbol:{},M=R.iterator||"@@iterator",x=R.asyncIterator||"@@asyncIterator",O=R.toStringTag||"@@toStringTag";function w(L,B,ee){return Object.defineProperty(L,B,{value:ee,enumerable:!0,configurable:!0,writable:!0}),L[B]}try{w({},"")}catch{w=function(ee,N,V){return ee[N]=V}}function E(L,B,ee,N){var Z,K,ne,ue,U=Object.create((B&&B.prototype instanceof d?B:d).prototype),Q=new J(N||[]);return U._invoke=(Z=L,K=ee,ne=Q,ue="suspendedStart",function(ce,de){if("executing"===ue)throw new Error("Generator is already running");if("completed"===ue){if("throw"===ce)throw de;return{value:void 0,done:!0}}for(ne.method=ce,ne.arg=de;;){var pe=ne.delegate;if(pe){var _e=P(pe,ne);if(_e){if(_e===f)continue;return _e}}if("next"===ne.method)ne.sent=ne._sent=ne.arg;else if("throw"===ne.method){if("suspendedStart"===ue)throw ue="completed",ne.arg;ne.dispatchException(ne.arg)}else"return"===ne.method&&ne.abrupt("return",ne.arg);ue="executing";var me=C(Z,K,ne);if("normal"===me.type){if(ue=ne.done?"completed":"suspendedYield",me.arg===f)continue;return{value:me.arg,done:ne.done}}"throw"===me.type&&(ue="completed",ne.method="throw",ne.arg=me.arg)}}),U}function C(L,B,ee){try{return{type:"normal",arg:L.call(B,ee)}}catch(N){return{type:"throw",arg:N}}}te.wrap=E;var f={};function d(){}function u(){}function c(){}var m={};w(m,M,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(j([])));y&&y!==W&&k.call(y,M)&&(m=y);var b=c.prototype=d.prototype=Object.create(m);function S(L){["next","throw","return"].forEach(function(B){w(L,B,function(ee){return this._invoke(B,ee)})})}function A(L,B){function ee(V,U,Q,Z){var K=C(L[V],L,U);if("throw"!==K.type){var ne=K.arg,ue=ne.value;return ue&&"object"==a(ue)&&k.call(ue,"__await")?B.resolve(ue.__await).then(function(ce){ee("next",ce,Q,Z)},function(ce){ee("throw",ce,Q,Z)}):B.resolve(ue).then(function(ce){ne.value=ce,Q(ne)},function(ce){return ee("throw",ce,Q,Z)})}Z(K.arg)}var N;this._invoke=function(V,U){function Q(){return new B(function(Z,K){ee(V,U,Z,K)})}return N=N?N.then(Q,Q):Q()}}function P(L,B){var ee=L.iterator[B.method];if(void 0===ee){if(B.delegate=null,"throw"===B.method){if(L.iterator.return&&(B.method="return",B.arg=void 0,P(L,B),"throw"===B.method))return f;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var N=C(ee,L.iterator,B.arg);if("throw"===N.type)return B.method="throw",B.arg=N.arg,B.delegate=null,f;var V=N.arg;return V?V.done?(B[L.resultName]=V.value,B.next=L.nextLoc,"return"!==B.method&&(B.method="next",B.arg=void 0),B.delegate=null,f):V:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,f)}function H(L){var B={tryLoc:L[0]};1 in L&&(B.catchLoc=L[1]),2 in L&&(B.finallyLoc=L[2],B.afterLoc=L[3]),this.tryEntries.push(B)}function X(L){var B=L.completion||{};B.type="normal",delete B.arg,L.completion=B}function J(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(H,this),this.reset(!0)}function j(L){if(L){var B=L[M];if(B)return B.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var ee=-1,N=function V(){for(;++ee<L.length;)if(k.call(L,ee))return V.value=L[ee],V.done=!1,V;return V.value=void 0,V.done=!0,V};return N.next=N}}return{next:$}}function $(){return{value:void 0,done:!0}}return u.prototype=c,w(b,"constructor",c),w(c,"constructor",u),u.displayName=w(c,O,"GeneratorFunction"),te.isGeneratorFunction=function(L){var B="function"==typeof L&&L.constructor;return!!B&&(B===u||"GeneratorFunction"===(B.displayName||B.name))},te.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,c):(L.__proto__=c,w(L,O,"GeneratorFunction")),L.prototype=Object.create(b),L},te.awrap=function(L){return{__await:L}},S(A.prototype),w(A.prototype,x,function(){return this}),te.AsyncIterator=A,te.async=function(L,B,ee,N,V){void 0===V&&(V=Promise);var U=new A(E(L,B,ee,N),V);return te.isGeneratorFunction(B)?U:U.next().then(function(Q){return Q.done?Q.value:U.next()})},S(b),w(b,O,"Generator"),w(b,M,function(){return this}),w(b,"toString",function(){return"[object Generator]"}),te.keys=function(L){var B=[];for(var ee in L)B.push(ee);return B.reverse(),function N(){for(;B.length;){var V=B.pop();if(V in L)return N.value=V,N.done=!1,N}return N.done=!0,N}},te.values=j,J.prototype={constructor:J,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(X),!B)for(var ee in this)"t"===ee.charAt(0)&&k.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=void 0)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if("throw"===B.type)throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var ee=this;function N(ne,ue){return Q.type="throw",Q.arg=B,ee.next=ne,ue&&(ee.method="next",ee.arg=void 0),!!ue}for(var V=this.tryEntries.length-1;V>=0;--V){var U=this.tryEntries[V],Q=U.completion;if("root"===U.tryLoc)return N("end");if(U.tryLoc<=this.prev){var Z=k.call(U,"catchLoc"),K=k.call(U,"finallyLoc");if(Z&&K){if(this.prev<U.catchLoc)return N(U.catchLoc,!0);if(this.prev<U.finallyLoc)return N(U.finallyLoc)}else if(Z){if(this.prev<U.catchLoc)return N(U.catchLoc,!0)}else{if(!K)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return N(U.finallyLoc)}}}},abrupt:function(B,ee){for(var N=this.tryEntries.length-1;N>=0;--N){var V=this.tryEntries[N];if(V.tryLoc<=this.prev&&k.call(V,"finallyLoc")&&this.prev<V.finallyLoc){var U=V;break}}U&&("break"===B||"continue"===B)&&U.tryLoc<=ee&&ee<=U.finallyLoc&&(U=null);var Q=U?U.completion:{};return Q.type=B,Q.arg=ee,U?(this.method="next",this.next=U.finallyLoc,f):this.complete(Q)},complete:function(B,ee){if("throw"===B.type)throw B.arg;return"break"===B.type||"continue"===B.type?this.next=B.arg:"return"===B.type?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):"normal"===B.type&&ee&&(this.next=ee),f},finish:function(B){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var N=this.tryEntries[ee];if(N.finallyLoc===B)return this.complete(N.completion,N.afterLoc),X(N),f}},catch:function(B){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var N=this.tryEntries[ee];if(N.tryLoc===B){var V=N.completion;if("throw"===V.type){var U=V.arg;X(N)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(B,ee,N){return this.delegate={iterator:j(B),resultName:ee,nextLoc:N},"next"===this.method&&(this.arg=void 0),f}},te}Xt.exports=T,Xt.exports.__esModule=!0,Xt.exports.default=Xt.exports},8698:Xt=>{function kt(Oe){return Xt.exports=kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Xt.exports.__esModule=!0,Xt.exports.default=Xt.exports,kt(Oe)}Xt.exports=kt,Xt.exports.__esModule=!0,Xt.exports.default=Xt.exports},4687:(Xt,kt,Oe)=>{var a=Oe(7061)();Xt.exports=a;try{regeneratorRuntime=a}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},4650:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{$8M:()=>P1,$Z:()=>or,AFp:()=>Hw,ALo:()=>UT,AaK:()=>x,AsE:()=>Rv,BQk:()=>_v,CHM:()=>v1,CRH:()=>ty,CZH:()=>su,CqO:()=>Ei,D6c:()=>Ax,DdM:()=>gl,EJc:()=>au,EiD:()=>EE,EpF:()=>zD,F$t:()=>vp,F4k:()=>mp,FYo:()=>Xb,FiY:()=>Lu,G48:()=>ak,Gf:()=>ru,GfV:()=>Jb,GkF:()=>N0,Gpc:()=>E,Gre:()=>J0,Hsn:()=>Ys,Ikx:()=>Hd,JOm:()=>Hs,JVY:()=>Ub,KtG:()=>y1,L6k:()=>gE,LAX:()=>yE,LFG:()=>mi,LSH:()=>qu,Lbi:()=>XP,Lck:()=>Yd,MAs:()=>UD,MMx:()=>xi,NdJ:()=>Ra,O4$:()=>dM,OlP:()=>Ir,Oqu:()=>fc,PXZ:()=>qw,Q6J:()=>ns,QGY:()=>Li,QP$:()=>Ht,QbO:()=>sx,Qsj:()=>LE,R0b:()=>bs,RDi:()=>fE,Rgc:()=>vl,SBq:()=>zf,Sil:()=>lx,Suo:()=>Mw,TTD:()=>U_,TgZ:()=>Gn,Udp:()=>wp,WFA:()=>L0,XFs:()=>st,Xpm:()=>un,Xts:()=>yd,Y36:()=>Ed,YKP:()=>Qv,YNc:()=>xa,Yjl:()=>Fe,Yz7:()=>de,Z0I:()=>q,ZZ4:()=>oC,_Bn:()=>Xs,_UZ:()=>dc,_Vd:()=>Uf,_c5:()=>Rx,_uU:()=>Ld,aQg:()=>hr,c2e:()=>Ji,cJS:()=>_e,cg1:()=>Lv,d8E:()=>mc,dDg:()=>Xp,dqk:()=>We,eBb:()=>vE,eFA:()=>oh,ekj:()=>Cp,eoX:()=>Jp,f3M:()=>Dn,g9A:()=>Ww,h0i:()=>vc,hGG:()=>dk,hij:()=>Vd,iGM:()=>KT,ifc:()=>Pe,ip1:()=>sy,jDz:()=>Vp,kL8:()=>iw,kcU:()=>hM,lG2:()=>ke,lcZ:()=>zT,lqb:()=>Qu,lri:()=>dy,mCW:()=>qg,n5z:()=>I1,n_E:()=>bn,oAB:()=>rr,oxw:()=>$D,pB0:()=>_E,q3G:()=>ai,q4F:()=>GE,qLn:()=>Wf,qOj:()=>cp,qZA:()=>cc,qzn:()=>md,rWj:()=>lu,s9C:()=>yp,sBO:()=>_x,sIi:()=>Ad,s_b:()=>bc,soG:()=>kr,tb:()=>ox,tp0:()=>ld,uIk:()=>P0,vHH:()=>u,vpe:()=>ta,wAp:()=>In,xi3:()=>Rw,xp6:()=>a0,ynx:()=>kd,z2F:()=>em,z3N:()=>Zo,zSh:()=>Bf,zs3:()=>zl});var a=Oe(7579),T=Oe(727),te=Oe(9751),W=Oe(6451),k=Oe(3099);function R(h){for(let p in h)if(h[p]===R)return p;throw Error("Could not find renamed property on target object.")}function M(h,p){for(const _ in p)p.hasOwnProperty(_)&&!h.hasOwnProperty(_)&&(h[_]=p[_])}function x(h){if("string"==typeof h)return h;if(Array.isArray(h))return"["+h.map(x).join(", ")+"]";if(null==h)return""+h;if(h.overriddenName)return`${h.overriddenName}`;if(h.name)return`${h.name}`;const p=h.toString();if(null==p)return""+p;const _=p.indexOf("\n");return-1===_?p:p.substring(0,_)}function O(h,p){return null==h||""===h?null===p?"":p:null==p||""===p?h:h+" "+p}const w=R({__forward_ref__:R});function E(h){return h.__forward_ref__=E,h.toString=function(){return x(this())},h}function C(h){return f(h)?h():h}function f(h){return"function"==typeof h&&h.hasOwnProperty(w)&&h.__forward_ref__===E}class u extends Error{constructor(p,_){super(function c(h,p){return`NG0${Math.abs(h)}${p?": "+p.trim():""}`}(p,_)),this.code=p}}function m(h){return"string"==typeof h?h:null==h?"":String(h)}function A(h,p){throw new u(-201,!1)}function Z(h,p){null==h&&function K(h,p,_,I){throw new Error(`ASSERTION ERROR: ${h}`+(null==I?"":` [Expected=> ${_} ${I} ${p} <=Actual]`))}(p,h,null,"!=")}function de(h){return{token:h.token,providedIn:h.providedIn||null,factory:h.factory,value:void 0}}function _e(h){return{providers:h.providers||[],imports:h.imports||[]}}function me(h){return oe(h,De)||oe(h,je)}function q(h){return null!==me(h)}function oe(h,p){return h.hasOwnProperty(p)?h[p]:null}function Se(h){return h&&(h.hasOwnProperty(qe)||h.hasOwnProperty(Ye))?h[qe]:null}const De=R({\u0275prov:R}),qe=R({\u0275inj:R}),je=R({ngInjectableDef:R}),Ye=R({ngInjectorDef:R});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let ct;function sn(h){const p=ct;return ct=h,p}function bt(h,p,_){const I=me(h);return I&&"root"==I.providedIn?void 0===I.value?I.value=I.factory():I.value:_&st.Optional?null:void 0!==p?p:void A(x(h))}function ln(h){return{toString:h}.toString()}var nt=(()=>((nt=nt||{})[nt.OnPush=0]="OnPush",nt[nt.Default=1]="Default",nt))(),Pe=(()=>{return(h=Pe||(Pe={}))[h.Emulated=0]="Emulated",h[h.None=2]="None",h[h.ShadowDom=3]="ShadowDom",Pe;var h})();const We=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ne={},$e=[],at=R({\u0275cmp:R}),lt=R({\u0275dir:R}),$t=R({\u0275pipe:R}),Et=R({\u0275mod:R}),xt=R({\u0275fac:R}),Pn=R({__NG_ELEMENT_ID__:R});let cn=0;function un(h){return ln(()=>{const _=!0===h.standalone,I={},G={type:h.type,providersResolver:null,decls:h.decls,vars:h.vars,factory:null,template:h.template||null,consts:h.consts||null,ngContentSelectors:h.ngContentSelectors,hostBindings:h.hostBindings||null,hostVars:h.hostVars||0,hostAttrs:h.hostAttrs||null,contentQueries:h.contentQueries||null,declaredInputs:I,inputs:null,outputs:null,exportAs:h.exportAs||null,onPush:h.changeDetection===nt.OnPush,directiveDefs:null,pipeDefs:null,standalone:_,dependencies:_&&h.dependencies||null,getStandaloneInjector:null,selectors:h.selectors||$e,viewQuery:h.viewQuery||null,features:h.features||null,data:h.data||{},encapsulation:h.encapsulation||Pe.Emulated,id:"c"+cn++,styles:h.styles||$e,_:null,setInput:null,schemas:h.schemas||null,tView:null},Y=h.dependencies,ie=h.features;return G.inputs=Me(h.inputs,I),G.outputs=Me(h.outputs),ie&&ie.forEach(le=>le(G)),G.directiveDefs=Y?()=>("function"==typeof Y?Y():Y).map(Cn).filter(Tn):null,G.pipeDefs=Y?()=>("function"==typeof Y?Y():Y).map(wt).filter(Tn):null,G})}function Cn(h){return Ke(h)||Qe(h)}function Tn(h){return null!==h}function rr(h){return ln(()=>({type:h.type,bootstrap:h.bootstrap||$e,declarations:h.declarations||$e,imports:h.imports||$e,exports:h.exports||$e,transitiveCompileScopes:null,schemas:h.schemas||null,id:h.id||null}))}function Me(h,p){if(null==h)return Ne;const _={};for(const I in h)if(h.hasOwnProperty(I)){let G=h[I],Y=G;Array.isArray(G)&&(Y=G[1],G=G[0]),_[G]=I,p&&(p[G]=Y)}return _}const ke=un;function Fe(h){return{type:h.type,name:h.name,factory:null,pure:!1!==h.pure,standalone:!0===h.standalone,onDestroy:h.type.prototype.ngOnDestroy||null}}function Ke(h){return h[at]||null}function Qe(h){return h[lt]||null}function wt(h){return h[$t]||null}function Ht(h){const p=Ke(h)||Qe(h)||wt(h);return null!==p&&p.standalone}function Le(h,p){const _=h[Et]||null;if(!_&&!0===p)throw new Error(`Type ${x(h)} does not have '\u0275mod' property.`);return _}function Zn(h){return Array.isArray(h)&&"object"==typeof h[1]}function xr(h){return Array.isArray(h)&&!0===h[1]}function ii(h){return 0!=(8&h.flags)}function pi(h){return 2==(2&h.flags)}function no(h){return 1==(1&h.flags)}function Pi(h){return null!==h.template}function xu(h){return 0!=(256&h[2])}function Ll(h,p){return h.hasOwnProperty(xt)?h[xt]:null}class ZO{constructor(p,_,I){this.previousValue=p,this.currentValue=_,this.firstChange=I}isFirstChange(){return this.firstChange}}function U_(){return df}function df(h){return h.type.prototype.ngOnChanges&&(h.setInput=W_),z_}function z_(){const h=QO(this),p=h?.current;if(p){const _=h.previous;if(_===Ne)h.previous=p;else for(let I in p)_[I]=p[I];h.current=null,this.ngOnChanges(p)}}function W_(h,p,_,I){const G=QO(h)||function Vs(h,p){return h[f1]=p}(h,{previous:Ne,current:null}),Y=G.current||(G.current={}),ie=G.previous,le=this.declaredInputs[_],he=ie[le];Y[le]=new ZO(he&&he.currentValue,p,ie===Ne),h[I]=p}U_.ngInherit=!0;const f1="__ngSimpleChanges__";function QO(h){return h[f1]||null}function Si(h){for(;Array.isArray(h);)h=h[0];return h}function hf(h,p){return Si(p[h])}function qo(h,p){return Si(p[h.index])}function q_(h,p){return h.data[p]}function ff(h,p){return h[p]}function fo(h,p){const _=p[h];return Zn(_)?_:_[0]}function cg(h){return 64==(64&h[2])}function Vl(h,p){return null==p?null:h[p]}function pf(h){h[18]=0}function Y_(h,p){h[5]+=p;let _=h,I=h[3];for(;null!==I&&(1===p&&1===_[5]||-1===p&&0===_[5]);)I[5]+=p,_=I,I=I[3]}const Bn={lFrame:uM(null),bindingsEnabled:!0};function g1(){return Bn.bindingsEnabled}function Nt(){return Bn.lFrame.lView}function vr(){return Bn.lFrame.tView}function v1(h){return Bn.lFrame.contextLView=h,h[8]}function y1(h){return Bn.lFrame.contextLView=null,h}function Fi(){let h=_1();for(;null!==h&&64===h.type;)h=h.parent;return h}function _1(){return Bn.lFrame.currentTNode}function ya(h,p){const _=Bn.lFrame;_.currentTNode=h,_.isParent=p}function K_(){return Bn.lFrame.isParent}function b1(){Bn.lFrame.isParent=!1}function Oo(){const h=Bn.lFrame;let p=h.bindingRootIndex;return-1===p&&(p=h.bindingRootIndex=h.tView.bindingStartIndex),p}function gf(){return Bn.lFrame.bindingIndex++}function tl(h){const p=Bn.lFrame,_=p.bindingIndex;return p.bindingIndex=p.bindingIndex+h,_}function n5(h,p){const _=Bn.lFrame;_.bindingIndex=_.bindingRootIndex=h,Z_(p)}function Z_(h){Bn.lFrame.currentDirectiveIndex=h}function Q_(h){const p=Bn.lFrame.currentDirectiveIndex;return-1===p?null:h[p]}function dg(){return Bn.lFrame.currentQueryIndex}function Mu(h){Bn.lFrame.currentQueryIndex=h}function r5(h){const p=h[1];return 2===p.type?p.declTNode:1===p.type?h[6]:null}function lM(h,p,_){if(_&st.SkipSelf){let G=p,Y=h;for(;!(G=G.parent,null!==G||_&st.Host||(G=r5(Y),null===G||(Y=Y[15],10&G.type))););if(null===G)return!1;p=G,h=Y}const I=Bn.lFrame=X_();return I.currentTNode=p,I.lView=h,!0}function hg(h){const p=X_(),_=h[1];Bn.lFrame=p,p.currentTNode=_.firstChild,p.lView=h,p.tView=_,p.contextLView=h,p.bindingIndex=_.bindingStartIndex,p.inI18n=!1}function X_(){const h=Bn.lFrame,p=null===h?null:h.child;return null===p?uM(h):p}function uM(h){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:h,child:null,inI18n:!1};return null!==h&&(h.child=p),p}function cM(){const h=Bn.lFrame;return Bn.lFrame=h.parent,h.currentTNode=null,h.lView=null,h}const C1=cM;function fg(){const h=cM();h.isParent=!0,h.tView=null,h.selectedIndex=-1,h.contextLView=null,h.elementDepthCount=0,h.currentDirectiveIndex=-1,h.currentNamespace=null,h.bindingRootIndex=-1,h.bindingIndex=-1,h.currentQueryIndex=0}function Mo(){return Bn.lFrame.selectedIndex}function Iu(h){Bn.lFrame.selectedIndex=h}function Xr(){const h=Bn.lFrame;return q_(h.tView,h.selectedIndex)}function dM(){Bn.lFrame.currentNamespace="svg"}function hM(){!function a5(){Bn.lFrame.currentNamespace=null}()}function J_(h,p){for(let _=p.directiveStart,I=p.directiveEnd;_<I;_++){const Y=h.data[_].type.prototype,{ngAfterContentInit:ie,ngAfterContentChecked:le,ngAfterViewInit:he,ngAfterViewChecked:ye,ngOnDestroy:Ee}=Y;ie&&(h.contentHooks||(h.contentHooks=[])).push(-_,ie),le&&((h.contentHooks||(h.contentHooks=[])).push(_,le),(h.contentCheckHooks||(h.contentCheckHooks=[])).push(_,le)),he&&(h.viewHooks||(h.viewHooks=[])).push(-_,he),ye&&((h.viewHooks||(h.viewHooks=[])).push(_,ye),(h.viewCheckHooks||(h.viewCheckHooks=[])).push(_,ye)),null!=Ee&&(h.destroyHooks||(h.destroyHooks=[])).push(_,Ee)}}function pg(h,p,_){pM(h,p,3,_)}function mg(h,p,_,I){(3&h[2])===_&&pM(h,p,_,I)}function S1(h,p){let _=h[2];(3&_)===p&&(_&=2047,_+=1,h[2]=_)}function pM(h,p,_,I){const Y=I??-1,ie=p.length-1;let le=0;for(let he=void 0!==I?65535&h[18]:0;he<ie;he++)if("number"==typeof p[he+1]){if(le=p[he],null!=I&&le>=I)break}else p[he]<0&&(h[18]+=65536),(le<Y||-1==Y)&&(u5(h,_,p,he),h[18]=(4294901760&h[18])+he+2),he++}function u5(h,p,_,I){const G=_[I]<0,Y=_[I+1],le=h[G?-_[I]:_[I]];if(G){if(h[2]>>11<h[18]>>16&&(3&h[2])===p){h[2]+=2048;try{Y.call(le)}finally{}}}else try{Y.call(le)}finally{}}class gg{constructor(p,_,I){this.factory=p,this.resolving=!1,this.canSeeViewProviders=_,this.injectImpl=I}}function _g(h,p,_){let I=0;for(;I<_.length;){const G=_[I];if("number"==typeof G){if(0!==G)break;I++;const Y=_[I++],ie=_[I++],le=_[I++];h.setAttribute(p,ie,le,Y)}else{const Y=G,ie=_[++I];T1(Y)?h.setProperty(p,Y,ie):h.setAttribute(p,Y,ie),I++}}return I}function vf(h){return 3===h||4===h||6===h}function T1(h){return 64===h.charCodeAt(0)}function yf(h,p){if(null!==p&&0!==p.length)if(null===h||0===h.length)h=p.slice();else{let _=-1;for(let I=0;I<p.length;I++){const G=p[I];"number"==typeof G?_=G:0===_||x1(h,_,G,null,-1===_||2===_?p[++I]:null)}}return h}function x1(h,p,_,I,G){let Y=0,ie=h.length;if(-1===p)ie=-1;else for(;Y<h.length;){const le=h[Y++];if("number"==typeof le){if(le===p){ie=-1;break}if(le>p){ie=Y-1;break}}}for(;Y<h.length;){const le=h[Y];if("number"==typeof le)break;if(le===_){if(null===I)return void(null!==G&&(h[Y+1]=G));if(I===h[Y+1])return void(h[Y+2]=G)}Y++,null!==I&&Y++,null!==G&&Y++}-1!==ie&&(h.splice(ie,0,p),Y=ie+1),h.splice(Y++,0,_),null!==I&&h.splice(Y++,0,I),null!==G&&h.splice(Y++,0,G)}function R1(h){return-1!==h}function ed(h){return 32767&h}function nl(h,p){let _=function gM(h){return h>>16}(h),I=p;for(;_>0;)I=I[15],_--;return I}let td=!0;function _f(h){const p=td;return td=h,p}let tb=0;const hs={};function rd(h,p){const _=rb(h,p);if(-1!==_)return _;const I=p[1];I.firstCreatePass&&(h.injectorIndex=p.length,nb(I.data,h),nb(p,null),nb(I.blueprint,null));const G=bg(h,p),Y=h.injectorIndex;if(R1(G)){const ie=ed(G),le=nl(G,p),he=le[1].data;for(let ye=0;ye<8;ye++)p[Y+ye]=le[ie+ye]|he[ie+ye]}return p[Y+8]=G,Y}function nb(h,p){h.push(0,0,0,0,0,0,0,0,p)}function rb(h,p){return-1===h.injectorIndex||h.parent&&h.parent.injectorIndex===h.injectorIndex||null===p[h.injectorIndex+8]?-1:h.injectorIndex}function bg(h,p){if(h.parent&&-1!==h.parent.injectorIndex)return h.parent.injectorIndex;let _=0,I=null,G=p;for(;null!==G;){if(I=CM(G),null===I)return-1;if(_++,G=G[15],-1!==I.injectorIndex)return I.injectorIndex|_<<16}return-1}function wg(h,p,_){!function A1(h,p,_){let I;"string"==typeof _?I=_.charCodeAt(0)||0:_.hasOwnProperty(Pn)&&(I=_[Pn]),null==I&&(I=_[Pn]=tb++);const G=255&I;p.data[h+(G>>5)]|=1<<G}(h,p,_)}function ib(h,p,_){if(_&st.Optional||void 0!==h)return h;A()}function yM(h,p,_,I){if(_&st.Optional&&void 0===I&&(I=null),0==(_&(st.Self|st.Host))){const G=h[9],Y=sn(void 0);try{return G?G.get(p,I,_&st.Optional):bt(p,I,_&st.Optional)}finally{sn(Y)}}return ib(I,0,_)}function bf(h,p,_,I=st.Default,G){if(null!==h){if(1024&p[2]){const ie=function sb(h,p,_,I,G){let Y=h,ie=p;for(;null!==Y&&null!==ie&&1024&ie[2]&&!(256&ie[2]);){const le=Sg(Y,ie,_,I|st.Self,hs);if(le!==hs)return le;let he=Y.parent;if(!he){const ye=ie[21];if(ye){const Ee=ye.get(_,hs,I);if(Ee!==hs)return Ee}he=CM(ie),ie=ie[15]}Y=he}return G}(h,p,_,I,hs);if(ie!==hs)return ie}const Y=Sg(h,p,_,I,hs);if(Y!==hs)return Y}return yM(p,_,I,G)}function Sg(h,p,_,I,G){const Y=function bM(h){if("string"==typeof h)return h.charCodeAt(0)||0;const p=h.hasOwnProperty(Pn)?h[Pn]:void 0;return"number"==typeof p?p>=0?255&p:wM:p}(_);if("function"==typeof Y){if(!lM(p,h,I))return I&st.Host?ib(G,0,I):yM(p,_,I,G);try{const ie=Y(I);if(null!=ie||I&st.Optional)return ie;A()}finally{C1()}}else if("number"==typeof Y){let ie=null,le=rb(h,p),he=-1,ye=I&st.Host?p[16][6]:null;for((-1===le||I&st.SkipSelf)&&(he=-1===le?bg(h,p):p[le+8],-1!==he&&M1(I,!1)?(ie=p[1],le=ed(he),p=nl(he,p)):le=-1);-1!==le;){const Ee=p[1];if(O1(Y,le,Ee.data)){const xe=_M(le,p,_,ie,I,ye);if(xe!==hs)return xe}he=p[le+8],-1!==he&&M1(I,p[1].data[le+8]===ye)&&O1(Y,le,p)?(ie=Ee,le=ed(he),p=nl(he,p)):le=-1}}return G}function _M(h,p,_,I,G,Y){const ie=p[1],le=ie.data[h+8],Ee=wf(le,ie,_,null==I?pi(le)&&td:I!=ie&&0!=(3&le.type),G&st.Host&&Y===le);return null!==Ee?id(p,ie,Ee,le):hs}function wf(h,p,_,I,G){const Y=h.providerIndexes,ie=p.data,le=1048575&Y,he=h.directiveStart,Ee=Y>>20,Ge=G?le+Ee:h.directiveEnd;for(let tt=I?le:le+Ee;tt<Ge;tt++){const Ct=ie[tt];if(tt<he&&_===Ct||tt>=he&&Ct.type===_)return tt}if(G){const tt=ie[he];if(tt&&Pi(tt)&&tt.type===_)return he}return null}function id(h,p,_,I){let G=h[_];const Y=p.data;if(function c5(h){return h instanceof gg}(G)){const ie=G;ie.resolving&&function y(h,p){const _=p?`. Dependency path: ${p.join(" > ")} > ${h}`:"";throw new u(-200,`Circular dependency in DI detected for ${h}${_}`)}(function g(h){return"function"==typeof h?h.name||h.toString():"object"==typeof h&&null!=h&&"function"==typeof h.type?h.type.name||h.type.toString():m(h)}(Y[_]));const le=_f(ie.canSeeViewProviders);ie.resolving=!0;const he=ie.injectImpl?sn(ie.injectImpl):null;lM(h,I,st.Default);try{G=h[_]=ie.factory(void 0,Y,h,I),p.firstCreatePass&&_>=I.directiveStart&&function fM(h,p,_){const{ngOnChanges:I,ngOnInit:G,ngDoCheck:Y}=p.type.prototype;if(I){const ie=df(p);(_.preOrderHooks||(_.preOrderHooks=[])).push(h,ie),(_.preOrderCheckHooks||(_.preOrderCheckHooks=[])).push(h,ie)}G&&(_.preOrderHooks||(_.preOrderHooks=[])).push(0-h,G),Y&&((_.preOrderHooks||(_.preOrderHooks=[])).push(h,Y),(_.preOrderCheckHooks||(_.preOrderCheckHooks=[])).push(h,Y))}(_,Y[_],p)}finally{null!==he&&sn(he),_f(le),ie.resolving=!1,C1()}}return G}function O1(h,p,_){return!!(_[p+(h>>5)]&1<<h)}function M1(h,p){return!(h&st.Self||h&st.Host&&p)}class ku{constructor(p,_){this._tNode=p,this._lView=_}get(p,_,I){return bf(this._tNode,this._lView,p,I,_)}}function wM(){return new ku(Fi(),Nt())}function I1(h){return ln(()=>{const p=h.prototype.constructor,_=p[xt]||ob(p),I=Object.prototype;let G=Object.getPrototypeOf(h.prototype).constructor;for(;G&&G!==I;){const Y=G[xt]||ob(G);if(Y&&Y!==_)return Y;G=Object.getPrototypeOf(G)}return Y=>new Y})}function ob(h){return f(h)?()=>{const p=ob(C(h));return p&&p()}:Ll(h)}function CM(h){const p=h[1],_=p.type;return 2===_?p.declTNode:1===_?h[6]:null}function P1(h){return function Cg(h,p){if("class"===p)return h.classes;if("style"===p)return h.styles;const _=h.attrs;if(_){const I=_.length;let G=0;for(;G<I;){const Y=_[G];if(vf(Y))break;if(0===Y)G+=2;else if("number"==typeof Y)for(G++;G<I&&"string"==typeof _[G];)G++;else{if(Y===p)return _[G+1];G+=2}}}return null}(Fi(),h)}const Cf="__parameters__";function Nu(h,p,_){return ln(()=>{const I=function ab(h){return function(..._){if(h){const I=h(..._);for(const G in I)this[G]=I[G]}}}(p);function G(...Y){if(this instanceof G)return I.apply(this,Y),this;const ie=new G(...Y);return le.annotation=ie,le;function le(he,ye,Ee){const xe=he.hasOwnProperty(Cf)?he[Cf]:Object.defineProperty(he,Cf,{value:[]})[Cf];for(;xe.length<=Ee;)xe.push(null);return(xe[Ee]=xe[Ee]||[]).push(ie),he}}return _&&(G.prototype=Object.create(_.prototype)),G.prototype.ngMetadataName=h,G.annotationCls=G,G})}class Ir{constructor(p,_){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof _?this.__NG_ELEMENT_ID__=_:void 0!==_&&(this.\u0275prov=de({token:this,providedIn:_.providedIn||"root",factory:_.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function po(h,p){void 0===p&&(p=h);for(let _=0;_<h.length;_++){let I=h[_];Array.isArray(I)?(p===h&&(p=h.slice(0,_)),po(I,p)):p!==h&&p.push(I)}return p}function _a(h,p){h.forEach(_=>Array.isArray(_)?_a(_,p):p(_))}function xM(h,p,_){p>=h.length?h.push(_):h.splice(p,0,_)}function lb(h,p){return p>=h.length-1?h.pop():h.splice(p,1)[0]}function Dg(h,p){const _=[];for(let I=0;I<h;I++)_.push(p);return _}function Yo(h,p,_){let I=Ef(h,p);return I>=0?h[1|I]=_:(I=~I,function _5(h,p,_,I){let G=h.length;if(G==p)h.push(_,I);else if(1===G)h.push(I,h[0]),h[0]=_;else{for(G--,h.push(h[G-1],h[G]);G>p;)h[G]=h[G-2],G--;h[p]=_,h[p+1]=I}}(h,I,p,_)),I}function L1(h,p){const _=Ef(h,p);if(_>=0)return h[1|_]}function Ef(h,p){return function AM(h,p,_){let I=0,G=h.length>>_;for(;G!==I;){const Y=I+(G-I>>1),ie=h[Y<<_];if(p===ie)return Y<<_;ie>p?G=Y:I=Y+1}return~(G<<_)}(h,p,1)}const dn={},ro="__NG_DI_FLAG__",Tg="ngTempTokenPath",Ko=/\n/gm,B1="__source";let Df;function sd(h){const p=Df;return Df=h,p}function G1(h,p=st.Default){if(void 0===Df)throw new u(-203,!1);return null===Df?bt(h,void 0,p):Df.get(h,p&st.Optional?null:void 0,p)}function mi(h,p=st.Default){return(function ht(){return ct}()||G1)(C(h),p)}function Dn(h,p=st.Default){return"number"!=typeof p&&(p=0|(p.optional&&8)|(p.host&&1)|(p.self&&2)|(p.skipSelf&&4)),mi(h,p)}function cb(h){const p=[];for(let _=0;_<h.length;_++){const I=C(h[_]);if(Array.isArray(I)){if(0===I.length)throw new u(900,!1);let G,Y=st.Default;for(let ie=0;ie<I.length;ie++){const le=I[ie],he=db(le);"number"==typeof he?-1===he?G=le.token:Y|=he:G=le}p.push(mi(G,Y))}else p.push(mi(I))}return p}function Tf(h,p){return h[ro]=p,h.prototype[ro]=p,h}function db(h){return h[ro]}const Lu=Tf(Nu("Optional"),8),ld=Tf(Nu("SkipSelf"),4);var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();const yb=new Map;let FM=0;const al="__ngContext__";function On(h,p){Zn(p)?(h[al]=p[20],function Z1(h){yb.set(h[20],h)}(p)):h[al]=p}function Of(h,p){return undefined(h,p)}function Mf(h){const p=h[3];return xr(p)?p[3]:p}function hd(h){return rE(h[13])}function Sb(h){return rE(h[4])}function rE(h){for(;null!==h&&!xr(h);)h=h[4];return h}function fd(h,p,_,I,G){if(null!=I){let Y,ie=!1;xr(I)?Y=I:Zn(I)&&(ie=!0,I=I[0]);const le=Si(I);0===h&&null!==_?null==G?xb(p,_,le):zu(p,_,le,G||null,!0):1===h&&null!==_?zu(p,_,le,G||null,!0):2===h?function kb(h,p,_){const I=jg(h,p);I&&function Rb(h,p,_,I){h.removeChild(p,_,I)}(h,I,p,_)}(p,le,ie):3===h&&p.destroyNode(le),null!=Y&&function zM(h,p,_,I,G){const Y=_[7];Y!==Si(_)&&fd(p,h,I,Y,G);for(let le=10;le<_.length;le++){const he=_[le];If(he[1],he,h,p,I,Y)}}(p,h,Y,_,G)}}function Db(h,p,_){return h.createElement(p,_)}function pd(h,p){const _=h[9],I=_.indexOf(p),G=p[3];512&p[2]&&(p[2]&=-513,Y_(G,-1)),_.splice(I,1)}function ju(h,p){if(h.length<=10)return;const _=10+p,I=h[_];if(I){const G=I[17];null!==G&&G!==h&&pd(G,I),p>0&&(h[_-1][4]=I[4]);const Y=lb(h,10+p);!function Gu(h,p){If(h,p,p[11],2,null,null),p[0]=null,p[6]=null}(I[1],I);const ie=Y[19];null!==ie&&ie.detachView(Y[1]),I[3]=null,I[4]=null,I[2]&=-65}return I}function Hu(h,p){if(!(128&p[2])){const _=p[11];_.destroyNode&&If(h,p,_,3,null,null),function GM(h){let p=h[13];if(!p)return Bg(h[1],h);for(;p;){let _=null;if(Zn(p))_=p[13];else{const I=p[10];I&&(_=I)}if(!_){for(;p&&!p[4]&&p!==h;)Zn(p)&&Bg(p[1],p),p=p[3];null===p&&(p=h),Zn(p)&&Bg(p[1],p),_=p&&p[4]}p=_}}(p)}}function Bg(h,p){if(!(128&p[2])){p[2]&=-65,p[2]|=128,function oE(h,p){let _;if(null!=h&&null!=(_=h.destroyHooks))for(let I=0;I<_.length;I+=2){const G=p[_[I]];if(!(G instanceof gg)){const Y=_[I+1];if(Array.isArray(Y))for(let ie=0;ie<Y.length;ie+=2){const le=G[Y[ie]],he=Y[ie+1];try{he.call(le)}finally{}}else try{Y.call(G)}finally{}}}}(h,p),function iE(h,p){const _=h.cleanup,I=p[7];let G=-1;if(null!==_)for(let Y=0;Y<_.length-1;Y+=2)if("string"==typeof _[Y]){const ie=_[Y+1],le="function"==typeof ie?ie(p):Si(p[ie]),he=I[G=_[Y+2]],ye=_[Y+3];"boolean"==typeof ye?le.removeEventListener(_[Y],he,ye):ye>=0?I[G=ye]():I[G=-ye].unsubscribe(),Y+=2}else{const ie=I[G=_[Y+1]];_[Y].call(ie)}if(null!==I){for(let Y=G+1;Y<I.length;Y++)(0,I[Y])();p[7]=null}}(h,p),1===p[1].type&&p[11].destroy();const _=p[17];if(null!==_&&xr(p[3])){_!==p[3]&&pd(_,p);const I=p[19];null!==I&&I.detachView(h)}!function X1(h){yb.delete(h[20])}(p)}}function Uu(h,p,_){return function sE(h,p,_){let I=p;for(;null!==I&&40&I.type;)I=(p=I).parent;if(null===I)return _[0];if(2&I.flags){const G=h.data[I.directiveStart].encapsulation;if(G===Pe.None||G===Pe.Emulated)return null}return qo(I,_)}(h,p.parent,_)}function zu(h,p,_,I,G){h.insertBefore(p,_,I,G)}function xb(h,p,_){h.appendChild(p,_)}function aE(h,p,_,I,G){null!==I?zu(h,p,_,I,G):xb(h,p,_)}function jg(h,p){return h.parentNode(p)}function lE(h,p,_){return Mb(h,p,_)}let Ug,jl,Mb=function Ob(h,p,_){return 40&h.type?qo(h,_):null};function wa(h,p,_,I){const G=Uu(h,I,p),Y=p[11],le=lE(I.parent||p[6],I,p);if(null!=G)if(Array.isArray(_))for(let he=0;he<_.length;he++)aE(Y,G,_[he],le,!1);else aE(Y,G,_,le,!1)}function Wu(h,p){if(null!==p){const _=p.type;if(3&_)return qo(p,h);if(4&_)return Pb(-1,h[p.index]);if(8&_){const I=p.child;if(null!==I)return Wu(h,I);{const G=h[p.index];return xr(G)?Pb(-1,G):Si(G)}}if(32&_)return Of(p,h)()||Si(h[p.index]);{const I=Ib(h,p);return null!==I?Array.isArray(I)?I[0]:Wu(Mf(h[16]),I):Wu(h,p.next)}}return null}function Ib(h,p){return null!==p?h[16][6].projection[p.projection]:null}function Pb(h,p){const _=10+h+1;if(_<p.length){const I=p[_],G=I[1].firstChild;if(null!==G)return Wu(I,G)}return p[7]}function Fb(h,p,_,I,G,Y,ie){for(;null!=_;){const le=I[_.index],he=_.type;if(ie&&0===p&&(le&&On(Si(le),I),_.flags|=4),64!=(64&_.flags))if(8&he)Fb(h,p,_.child,I,G,Y,!1),fd(p,h,G,le,Y);else if(32&he){const ye=Of(_,I);let Ee;for(;Ee=ye();)fd(p,h,G,Ee,Y);fd(p,h,G,le,Y)}else 16&he?uE(h,p,I,_,G,Y):fd(p,h,G,le,Y);_=ie?_.projectionNext:_.next}}function If(h,p,_,I,G,Y){Fb(_,I,h.firstChild,p,G,Y,!1)}function uE(h,p,_,I,G,Y){const ie=_[16],he=ie[6].projection[I.projection];if(Array.isArray(he))for(let ye=0;ye<he.length;ye++)fd(p,h,G,he[ye],Y);else Fb(h,p,he,ie[3],G,Y,!0)}function cE(h,p,_){h.setAttribute(p,"style",_)}function Nb(h,p,_){""===_?h.removeAttribute(p,"class"):h.setAttribute(p,"class",_)}function $u(h){return function zg(){if(void 0===Ug&&(Ug=null,We.trustedTypes))try{Ug=We.trustedTypes.createPolicy("angular",{createHTML:h=>h,createScript:h=>h,createScriptURL:h=>h})}catch{}return Ug}()?.createHTML(h)||h}function fE(h){jl=h}class Hl{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gb extends Hl{getTypeName(){return"HTML"}}class mE extends Hl{getTypeName(){return"Style"}}class jb extends Hl{getTypeName(){return"Script"}}class Hb extends Hl{getTypeName(){return"URL"}}class $M extends Hl{getTypeName(){return"ResourceURL"}}function Zo(h){return h instanceof Hl?h.changingThisBreaksApplicationSecurity:h}function md(h,p){const _=function qM(h){return h instanceof Hl&&h.getTypeName()||null}(h);if(null!=_&&_!==p){if("ResourceURL"===_&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${_} (see https://g.co/ng/security#xss)`)}return _===p}function Ub(h){return new Gb(h)}function gE(h){return new mE(h)}function vE(h){return new jb(h)}function yE(h){return new Hb(h)}function _E(h){return new $M(h)}class kf{constructor(p){this.inertDocumentHelper=p}getInertBodyElement(p){p="<body><remove></remove>"+p;try{const _=(new window.DOMParser).parseFromString($u(p),"text/html").body;return null===_?this.inertDocumentHelper.getInertBodyElement(p):(_.removeChild(_.firstChild),_)}catch{return null}}}class $g{constructor(p){if(this.defaultDoc=p,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const _=this.inertDocument.createElement("html");this.inertDocument.appendChild(_);const I=this.inertDocument.createElement("body");_.appendChild(I)}}getInertBodyElement(p){const _=this.inertDocument.createElement("template");if("content"in _)return _.innerHTML=$u(p),_;const I=this.inertDocument.createElement("body");return I.innerHTML=$u(p),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(I),I}stripCustomNsAttrs(p){const _=p.attributes;for(let G=_.length-1;0<G;G--){const ie=_.item(G).name;("xmlns:ns1"===ie||0===ie.indexOf("ns1:"))&&p.removeAttribute(ie)}let I=p.firstChild;for(;I;)I.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(I),I=I.nextSibling}}const YM=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function qg(h){return(h=String(h)).match(YM)?h:"unsafe:"+h}function zs(h){const p={};for(const _ of h.split(","))p[_]=!0;return p}function vd(...h){const p={};for(const _ of h)for(const I in _)_.hasOwnProperty(I)&&(p[I]=!0);return p}const KM=zs("area,br,col,hr,img,wbr"),ZM=zs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),QM=zs("rp,rt"),zb=vd(KM,vd(ZM,zs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vd(QM,zs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vd(QM,ZM)),Wb=zs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$b=vd(Wb,zs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ff=zs("script,style,template");class XM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(p){let _=p.firstChild,I=!0;for(;_;)if(_.nodeType===Node.ELEMENT_NODE?I=this.startElement(_):_.nodeType===Node.TEXT_NODE?this.chars(_.nodeValue):this.sanitizedSomething=!0,I&&_.firstChild)_=_.firstChild;else for(;_;){_.nodeType===Node.ELEMENT_NODE&&this.endElement(_);let G=this.checkClobberedElement(_,_.nextSibling);if(G){_=G;break}_=this.checkClobberedElement(_,_.parentNode)}return this.buf.join("")}startElement(p){const _=p.nodeName.toLowerCase();if(!zb.hasOwnProperty(_))return this.sanitizedSomething=!0,!Ff.hasOwnProperty(_);this.buf.push("<"),this.buf.push(_);const I=p.attributes;for(let G=0;G<I.length;G++){const Y=I.item(G),ie=Y.name,le=ie.toLowerCase();if(!$b.hasOwnProperty(le)){this.sanitizedSomething=!0;continue}let he=Y.value;Wb[le]&&(he=qg(he)),this.buf.push(" ",ie,'="',Nf(he),'"')}return this.buf.push(">"),!0}endElement(p){const _=p.nodeName.toLowerCase();zb.hasOwnProperty(_)&&!KM.hasOwnProperty(_)&&(this.buf.push("</"),this.buf.push(_),this.buf.push(">"))}chars(p){this.buf.push(Nf(p))}checkClobberedElement(p,_){if(_&&(p.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${p.outerHTML}`);return _}}const JM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SE=/([^\#-~ |!])/g;function Nf(h){return h.replace(/&/g,"&amp;").replace(JM,function(p){return"&#"+(1024*(p.charCodeAt(0)-55296)+(p.charCodeAt(1)-56320)+65536)+";"}).replace(SE,function(p){return"&#"+p.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yg;function EE(h,p){let _=null;try{Yg=Yg||function bE(h){const p=new $g(h);return function gd(){try{return!!(new window.DOMParser).parseFromString($u(""),"text/html")}catch{return!1}}()?new kf(p):p}(h);let I=p?String(p):"";_=Yg.getInertBodyElement(I);let G=5,Y=I;do{if(0===G)throw new Error("Failed to sanitize html because the input is unstable");G--,I=Y,Y=_.innerHTML,_=Yg.getInertBodyElement(I)}while(I!==Y);return $u((new XM).sanitizeChildren(Ul(_)||_))}finally{if(_){const I=Ul(_)||_;for(;I.firstChild;)I.removeChild(I.firstChild)}}}function Ul(h){return"content"in h&&function Lf(h){return h.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===h.nodeName}(h)?h.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function qu(h){const p=function Yu(){const h=Nt();return h&&h[12]}();return p?p.sanitize(ai.URL,h)||"":md(h,"URL")?Zo(h):qg(m(h))}const yd=new Ir("ENVIRONMENT_INITIALIZER"),Ku=new Ir("INJECTOR",-1),TE=new Ir("INJECTOR_DEF_TYPES");class xE{get(p,_=dn){if(_===dn){const I=new Error(`NullInjectorError: No provider for ${x(p)}!`);throw I.name="NullInjectorError",I}return _}}function sI(...h){return{\u0275providers:RE(0,h)}}function RE(h,...p){const _=[],I=new Set;let G;return _a(p,Y=>{const ie=Y;qb(ie,_,[],I)&&(G||(G=[]),G.push(ie))}),void 0!==G&&AE(G,_),_}function AE(h,p){for(let _=0;_<h.length;_++){const{providers:G}=h[_];_a(G,Y=>{p.push(Y)})}}function qb(h,p,_,I){if(!(h=C(h)))return!1;let G=null,Y=Se(h);const ie=!Y&&Ke(h);if(Y||ie){if(ie&&!ie.standalone)return!1;G=h}else{const he=h.ngModule;if(Y=Se(he),!Y)return!1;G=he}const le=I.has(G);if(ie){if(le)return!1;if(I.add(G),ie.dependencies){const he="function"==typeof ie.dependencies?ie.dependencies():ie.dependencies;for(const ye of he)qb(ye,p,_,I)}}else{if(!Y)return!1;{if(null!=Y.imports&&!le){let ye;I.add(G);try{_a(Y.imports,Ee=>{qb(Ee,p,_,I)&&(ye||(ye=[]),ye.push(Ee))})}finally{}void 0!==ye&&AE(ye,p)}if(!le){const ye=Ll(G)||(()=>new G);p.push({provide:G,useFactory:ye,deps:$e},{provide:TE,useValue:G,multi:!0},{provide:yd,useValue:()=>mi(G),multi:!0})}const he=Y.providers;null==he||le||_a(he,Ee=>{p.push(Ee)})}}return G!==h&&void 0!==h.providers}const aI=R({provide:String,useValue:R});function Yb(h){return null!==h&&"object"==typeof h&&aI in h}function cl(h){return"function"==typeof h}const Bf=new Ir("Set Injector scope."),Zu={},lI={};let Zb;function Kg(){return void 0===Zb&&(Zb=new xE),Zb}class Qu{}class Gf extends Qu{constructor(p,_,I,G){super(),this.parent=_,this.source=I,this.scopes=G,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qb(p,ie=>this.processProvider(ie)),this.records.set(Ku,Xu(void 0,this)),G.has("environment")&&this.records.set(Qu,Xu(void 0,this));const Y=this.records.get(Bf);null!=Y&&"string"==typeof Y.value&&this.scopes.add(Y.value),this.injectorDefTypes=new Set(this.get(TE.multi,$e,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const p of this._ngOnDestroyHooks)p.ngOnDestroy();for(const p of this._onDestroyHooks)p()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(p){this._onDestroyHooks.push(p)}runInContext(p){this.assertNotDestroyed();const _=sd(this),I=sn(void 0);try{return p()}finally{sd(_),sn(I)}}get(p,_=dn,I=st.Default){this.assertNotDestroyed();const G=sd(this),Y=sn(void 0);try{if(!(I&st.SkipSelf)){let le=this.records.get(p);if(void 0===le){const he=function uI(h){return"function"==typeof h||"object"==typeof h&&h instanceof Ir}(p)&&me(p);le=he&&this.injectableDefInScope(he)?Xu(Zg(p),Zu):null,this.records.set(p,le)}if(null!=le)return this.hydrate(p,le)}return(I&st.Self?Kg():this.parent).get(p,_=I&st.Optional&&_===dn?null:_)}catch(ie){if("NullInjectorError"===ie.name){if((ie[Tg]=ie[Tg]||[]).unshift(x(p)),G)throw ie;return function j1(h,p,_,I){const G=h[Tg];throw p[B1]&&G.unshift(p[B1]),h.message=function gi(h,p,_,I=null){h=h&&"\n"===h.charAt(0)&&"\u0275"==h.charAt(1)?h.slice(2):h;let G=x(p);if(Array.isArray(p))G=p.map(x).join(" -> ");else if("object"==typeof p){let Y=[];for(let ie in p)if(p.hasOwnProperty(ie)){let le=p[ie];Y.push(ie+":"+("string"==typeof le?JSON.stringify(le):x(le)))}G=`{${Y.join(", ")}}`}return`${_}${I?"("+I+")":""}[${G}]: ${h.replace(Ko,"\n  ")}`}("\n"+h.message,G,_,I),h.ngTokenPath=G,h[Tg]=null,h}(ie,p,"R3InjectorError",this.source)}throw ie}finally{sn(Y),sd(G)}}resolveInjectorInitializers(){const p=sd(this),_=sn(void 0);try{const I=this.get(yd.multi,$e,st.Self);for(const G of I)G()}finally{sd(p),sn(_)}}toString(){const p=[],_=this.records;for(const I of _.keys())p.push(x(I));return`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new u(205,!1)}processProvider(p){let _=cl(p=C(p))?p:C(p&&p.provide);const I=function Qg(h){return Yb(h)?Xu(void 0,h.useValue):Xu(jf(h),Zu)}(p);if(cl(p)||!0!==p.multi)this.records.get(_);else{let G=this.records.get(_);G||(G=Xu(void 0,Zu,!0),G.factory=()=>cb(G.multi),this.records.set(_,G)),_=p,G.multi.push(p)}this.records.set(_,I)}hydrate(p,_){return _.value===Zu&&(_.value=lI,_.value=_.factory()),"object"==typeof _.value&&_.value&&function PE(h){return null!==h&&"object"==typeof h&&"function"==typeof h.ngOnDestroy}(_.value)&&this._ngOnDestroyHooks.add(_.value),_.value}injectableDefInScope(p){if(!p.providedIn)return!1;const _=C(p.providedIn);return"string"==typeof _?"any"===_||this.scopes.has(_):this.injectorDefTypes.has(_)}}function Zg(h){const p=me(h),_=null!==p?p.factory:Ll(h);if(null!==_)return _;if(h instanceof Ir)throw new u(204,!1);if(h instanceof Function)return function IE(h){const p=h.length;if(p>0)throw Dg(p,"?"),new u(204,!1);const _=function se(h){const p=h&&(h[De]||h[je]);if(p){const _=function ve(h){if(h.hasOwnProperty("name"))return h.name;const p=(""+h).match(/^function\s*([^\s(]+)/);return null===p?"":p[1]}(h);return console.warn(`DEPRECATED: DI is instantiating a token "${_}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${_}" class.`),p}return null}(h);return null!==_?()=>_.factory(h):()=>new h}(h);throw new u(204,!1)}function jf(h,p,_){let I;if(cl(h)){const G=C(h);return Ll(G)||Zg(G)}if(Yb(h))I=()=>C(h.useValue);else if(function OE(h){return!(!h||!h.useFactory)}(h))I=()=>h.useFactory(...cb(h.deps||[]));else if(function Kb(h){return!(!h||!h.useExisting)}(h))I=()=>mi(C(h.useExisting));else{const G=C(h&&(h.useClass||h.provide));if(!function Hf(h){return!!h.deps}(h))return Ll(G)||Zg(G);I=()=>new G(...cb(h.deps))}return I}function Xu(h,p,_=!1){return{factory:h,value:p,multi:_?[]:void 0}}function cI(h){return!!h.\u0275providers}function Qb(h,p){for(const _ of h)Array.isArray(_)?Qb(_,p):cI(_)?Qb(_.\u0275providers,p):p(_)}class kE{}class hI{resolveComponentFactory(p){throw function Xg(h){const p=Error(`No component factory found for ${x(h)}. Did you add it to @NgModule.entryComponents?`);return p.ngComponent=h,p}(p)}}let Uf=(()=>{class h{}return h.NULL=new hI,h})();function fI(){return _d(Fi(),Nt())}function _d(h,p){return new zf(qo(h,p))}let zf=(()=>{class h{constructor(_){this.nativeElement=_}}return h.__NG_ELEMENT_ID__=fI,h})();function NE(h){return h instanceof zf?h.nativeElement:h}class Xb{}let LE=(()=>{class h{}return h.__NG_ELEMENT_ID__=()=>function VE(){const h=Nt(),_=fo(Fi().index,h);return(Zn(_)?_:h)[11]}(),h})(),BE=(()=>{class h{}return h.\u0275prov=de({token:h,providedIn:"root",factory:()=>null}),h})();class Jb{constructor(p){this.full=p,this.major=p.split(".")[0],this.minor=p.split(".")[1],this.patch=p.split(".").slice(2).join(".")}}const GE=new Jb("14.3.0"),e0={};function n0(h){return h.ngOriginalError}class Wf{constructor(){this._console=console}handleError(p){const _=this._findOriginalError(p);this._console.error("ERROR",p),_&&this._console.error("ORIGINAL ERROR",_)}_findOriginalError(p){let _=p&&n0(p);for(;_&&n0(_);)_=n0(_);return _||null}}function dl(h){return h instanceof Function?h():h}function $f(h,p,_){let I=h.length;for(;;){const G=h.indexOf(p,_);if(-1===G)return G;if(0===G||h.charCodeAt(G-1)<=32){const Y=p.length;if(G+Y===I||h.charCodeAt(G+Y)<=32)return G}_=G+1}}const YE="ng-template";function vI(h,p,_){let I=0;for(;I<h.length;){let G=h[I++];if(_&&"class"===G){if(G=h[I],-1!==$f(G.toLowerCase(),p,0))return!0}else if(1===G){for(;I<h.length&&"string"==typeof(G=h[I++]);)if(G.toLowerCase()===p)return!0;return!1}}return!1}function KE(h){return 4===h.type&&h.value!==YE}function yI(h,p,_){return p===(4!==h.type||_?h.value:YE)}function ZE(h,p,_){let I=4;const G=h.attrs||[],Y=function tv(h){for(let p=0;p<h.length;p++)if(vf(h[p]))return p;return h.length}(G);let ie=!1;for(let le=0;le<p.length;le++){const he=p[le];if("number"!=typeof he){if(!ie)if(4&I){if(I=2|1&I,""!==he&&!yI(h,he,_)||""===he&&1===p.length){if(yr(I))return!1;ie=!0}}else{const ye=8&I?he:p[++le];if(8&I&&null!==h.attrs){if(!vI(h.attrs,ye,_)){if(yr(I))return!1;ie=!0}continue}const xe=_I(8&I?"class":he,G,KE(h),_);if(-1===xe){if(yr(I))return!1;ie=!0;continue}if(""!==ye){let Ge;Ge=xe>Y?"":G[xe+1].toLowerCase();const tt=8&I?Ge:null;if(tt&&-1!==$f(tt,ye,0)||2&I&&ye!==Ge){if(yr(I))return!1;ie=!0}}}}else{if(!ie&&!yr(I)&&!yr(he))return!1;if(ie&&yr(he))continue;ie=!1,I=he|1&I}}return yr(I)||ie}function yr(h){return 0==(1&h)}function _I(h,p,_,I){if(null===p)return-1;let G=0;if(I||!_){let Y=!1;for(;G<p.length;){const ie=p[G];if(ie===h)return G;if(3===ie||6===ie)Y=!0;else{if(1===ie||2===ie){let le=p[++G];for(;"string"==typeof le;)le=p[++G];continue}if(4===ie)break;if(0===ie){G+=4;continue}}G+=Y?1:2}return-1}return function QE(h,p){let _=h.indexOf(4);if(_>-1)for(_++;_<h.length;){const I=h[_];if("number"==typeof I)return-1;if(I===p)return _;_++}return-1}(p,h)}function o0(h,p,_=!1){for(let I=0;I<p.length;I++)if(ZE(h,p[I],_))return!0;return!1}function bI(h,p){e:for(let _=0;_<p.length;_++){const I=p[_];if(h.length===I.length){for(let G=0;G<h.length;G++)if(h[G]!==I[G])continue e;return!0}}return!1}function s0(h,p){return h?":not("+p.trim()+")":p}function F5(h){let p=h[0],_=1,I=2,G="",Y=!1;for(;_<h.length;){let ie=h[_];if("string"==typeof ie)if(2&I){const le=h[++_];G+="["+ie+(le.length>0?'="'+le+'"':"")+"]"}else 8&I?G+="."+ie:4&I&&(G+=" "+ie);else""!==G&&!yr(ie)&&(p+=s0(Y,G),G=""),I=ie,Y=Y||!yr(I);_++}return""!==G&&(p+=s0(Y,G)),p}const zn={};function a0(h){qf(vr(),Nt(),Mo()+h,!1)}function qf(h,p,_,I){if(!I)if(3==(3&p[2])){const Y=h.preOrderCheckHooks;null!==Y&&pg(p,Y,_)}else{const Y=h.preOrderHooks;null!==Y&&mg(p,Y,0,_)}Iu(_)}function eD(h,p=null,_=null,I){const G=tD(h,p,_,I);return G.resolveInjectorInitializers(),G}function tD(h,p=null,_=null,I,G=new Set){const Y=[_||$e,sI(h)];return I=I||("object"==typeof h?void 0:x(h)),new Gf(Y,p||Kg(),I||null,G)}let zl=(()=>{class h{static create(_,I){if(Array.isArray(_))return eD({name:""},I,_,"");{const G=_.name??"";return eD({name:G},_.parent,_.providers,G)}}}return h.THROW_IF_NOT_FOUND=dn,h.NULL=new xE,h.\u0275prov=de({token:h,providedIn:"any",factory:()=>mi(Ku)}),h.__NG_ELEMENT_ID__=-1,h})();function Ed(h,p=st.Default){const _=Nt();return null===_?mi(h,p):bf(Fi(),_,C(h),p)}function or(){throw new Error("invalid")}function Yf(h,p){return h<<17|p<<2}function gs(h){return h>>17&32767}function ov(h){return 2|h}function Ca(h){return(131068&h)>>2}function sv(h,p){return-131069&h|p<<2}function av(h){return 1|h}function ep(h,p){const _=h.contentQueries;if(null!==_)for(let I=0;I<_.length;I+=2){const G=_[I],Y=_[I+1];if(-1!==Y){const ie=h.data[Y];Mu(G),ie.contentQueries(2,p[Y],Y)}}}function Td(h,p,_,I,G,Y,ie,le,he,ye,Ee){const xe=p.blueprint.slice();return xe[0]=G,xe[2]=76|I,(null!==Ee||h&&1024&h[2])&&(xe[2]|=1024),pf(xe),xe[3]=xe[15]=h,xe[8]=_,xe[10]=ie||h&&h[10],xe[11]=le||h&&h[11],xe[12]=he||h&&h[12]||null,xe[9]=ye||h&&h[9]||null,xe[6]=Y,xe[20]=function K1(){return FM++}(),xe[21]=Ee,xe[16]=2==p.type?h[16]:xe,xe}function rc(h,p,_,I,G){let Y=h.data[p];if(null===Y)Y=function np(h,p,_,I,G){const Y=_1(),ie=K_(),he=h.data[p]=function hv(h,p,_,I,G,Y){return{type:_,index:I,insertBeforeIndex:null,injectorIndex:p?p.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:G,attrs:Y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,ie?Y:Y&&Y.parent,_,p,I,G);return null===h.firstChild&&(h.firstChild=he),null!==Y&&(ie?null==Y.child&&null!==he.parent&&(Y.child=he):null===Y.next&&(Y.next=he)),he}(h,p,_,I,G),function t5(){return Bn.lFrame.inI18n}()&&(Y.flags|=64);else if(64&Y.type){Y.type=_,Y.value=I,Y.attrs=G;const ie=function mf(){const h=Bn.lFrame,p=h.currentTNode;return h.isParent?p:p.parent}();Y.injectorIndex=null===ie?-1:ie.injectorIndex}return ya(Y,!0),Y}function ic(h,p,_,I){if(0===_)return-1;const G=p.length;for(let Y=0;Y<_;Y++)p.push(I),h.blueprint.push(I),h.data.push(null);return G}function xd(h,p,_){hg(p);try{const I=h.viewQuery;null!==I&&qs(1,I,_);const G=h.template;null!==G&&_0(h,p,G,1,_),h.firstCreatePass&&(h.firstCreatePass=!1),h.staticContentQueries&&ep(h,p),h.staticViewQueries&&qs(2,h.viewQuery,_);const Y=h.components;null!==Y&&function tp(h,p){for(let _=0;_<p.length;_++)X5(h,p[_])}(p,Y)}catch(I){throw h.firstCreatePass&&(h.incompleteFirstPass=!0,h.firstCreatePass=!1),I}finally{p[2]&=-5,fg()}}function rp(h,p,_,I){const G=p[2];if(128!=(128&G)){hg(p);try{pf(p),function sM(h){return Bn.lFrame.bindingIndex=h}(h.bindingStartIndex),null!==_&&_0(h,p,_,2,I);const ie=3==(3&G);if(ie){const ye=h.preOrderCheckHooks;null!==ye&&pg(p,ye,null)}else{const ye=h.preOrderHooks;null!==ye&&mg(p,ye,0,null),S1(p,0)}if(function Z5(h){for(let p=hd(h);null!==p;p=Sb(p)){if(!p[2])continue;const _=p[9];for(let I=0;I<_.length;I++){const G=_[I],Y=G[3];0==(512&G[2])&&Y_(Y,1),G[2]|=512}}}(p),function MD(h){for(let p=hd(h);null!==p;p=Sb(p))for(let _=10;_<p.length;_++){const I=p[_],G=I[1];cg(I)&&rp(G,I,G.template,I[8])}}(p),null!==h.contentQueries&&ep(h,p),ie){const ye=h.contentCheckHooks;null!==ye&&pg(p,ye)}else{const ye=h.contentHooks;null!==ye&&mg(p,ye,1),S1(p,1)}!function Jf(h,p){const _=h.hostBindingOpCodes;if(null!==_)try{for(let I=0;I<_.length;I++){const G=_[I];if(G<0)Iu(~G);else{const Y=G,ie=_[++I],le=_[++I];n5(ie,Y),le(2,p[Y])}}}finally{Iu(-1)}}(h,p);const le=h.components;null!==le&&function Dd(h,p){for(let _=0;_<p.length;_++)Q5(h,p[_])}(p,le);const he=h.viewQuery;if(null!==he&&qs(2,he,I),ie){const ye=h.viewCheckHooks;null!==ye&&pg(p,ye)}else{const ye=h.viewHooks;null!==ye&&mg(p,ye,2),S1(p,2)}!0===h.firstUpdatePass&&(h.firstUpdatePass=!1),p[2]&=-41,512&p[2]&&(p[2]&=-513,Y_(p[3],-1))}finally{fg()}}}function _0(h,p,_,I,G){const Y=Mo(),ie=2&I;try{Iu(-1),ie&&p.length>22&&qf(h,p,22,!1),_(I,G)}finally{Iu(Y)}}function b0(h,p,_){if(ii(p)){const G=p.directiveEnd;for(let Y=p.directiveStart;Y<G;Y++){const ie=h.data[Y];ie.contentQueries&&ie.contentQueries(1,_[Y],Y)}}}function Rd(h,p,_){!g1()||(function xD(h,p,_,I){const G=_.directiveStart,Y=_.directiveEnd;h.firstCreatePass||rd(_,p),On(I,p);const ie=_.initialInputs;for(let le=G;le<Y;le++){const he=h.data[le],ye=Pi(he);ye&&sp(p,_,he);const Ee=id(p,h,le,_);On(Ee,p),null!==ie&&AD(0,le-G,Ee,he,0,ie),ye&&(fo(_.index,p)[8]=Ee)}}(h,p,_,qo(_,p)),128==(128&_.flags)&&function K5(h,p,_){const I=_.directiveStart,G=_.directiveEnd,Y=_.index,ie=function w1(){return Bn.lFrame.currentDirectiveIndex}();try{Iu(Y);for(let le=I;le<G;le++){const he=h.data[le],ye=p[le];Z_(le),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&mv(he,ye)}}finally{Iu(-1),Z_(ie)}}(h,p,_))}function Ea(h,p,_=qo){const I=p.localNames;if(null!==I){let G=p.index+1;for(let Y=0;Y<I.length;Y+=2){const ie=I[Y+1],le=-1===ie?_(p,h):h[ie];h[G++]=le}}}function FI(h){const p=h.tView;return null===p||p.incompleteFirstPass?h.tView=w0(1,null,h.template,h.decls,h.vars,h.directiveDefs,h.pipeDefs,h.viewQuery,h.schemas,h.consts):p}function w0(h,p,_,I,G,Y,ie,le,he,ye){const Ee=22+I,xe=Ee+G,Ge=function q5(h,p){const _=[];for(let I=0;I<p;I++)_.push(I<h?null:zn);return _}(Ee,xe),tt="function"==typeof ye?ye():ye;return Ge[1]={type:h,blueprint:Ge,template:_,queries:null,viewQuery:le,declTNode:p,data:Ge.slice().fill(null,Ee),bindingStartIndex:Ee,expandoStartIndex:xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof Y?Y():Y,pipeRegistry:"function"==typeof ie?ie():ie,firstChild:null,schemas:he,consts:tt,incompleteFirstPass:!1}}function op(h,p,_,I){const G=hl(p);null===_?G.push(I):(G.push(_),h.firstCreatePass&&PD(h).push(I,G.length-1))}function SD(h,p,_){for(let I in h)if(h.hasOwnProperty(I)){const G=h[I];(_=null===_?{}:_).hasOwnProperty(I)?_[I].push(p,G):_[I]=[p,G]}return _}function fv(h,p){const I=p.directiveEnd,G=h.data,Y=p.attrs,ie=[];let le=null,he=null;for(let ye=p.directiveStart;ye<I;ye++){const Ee=G[ye],xe=Ee.inputs,Ge=null===Y||KE(p)?null:T0(xe,Y);ie.push(Ge),le=SD(xe,ye,le),he=SD(Ee.outputs,ye,he)}null!==le&&(le.hasOwnProperty("class")&&(p.flags|=16),le.hasOwnProperty("style")&&(p.flags|=32)),p.initialInputs=ie,p.inputs=le,p.outputs=he}function Qo(h,p,_,I,G,Y,ie,le){const he=qo(p,_);let Ee,ye=p.inputs;!le&&null!=ye&&(Ee=ye[I])?(A0(h,_,Ee,I,G),pi(p)&&ED(_,p.index)):3&p.type&&(I=function pv(h){return"class"===h?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h}(I),G=null!=ie?ie(G,p.value||"",I):G,Y.setProperty(he,I,G))}function ED(h,p){const _=fo(p,h);16&_[2]||(_[2]|=32)}function S0(h,p,_,I){let G=!1;if(g1()){const Y=function VI(h,p,_){const I=h.directiveRegistry;let G=null;if(I)for(let Y=0;Y<I.length;Y++){const ie=I[Y];o0(_,ie.selectors,!1)&&(G||(G=[]),wg(rd(_,p),h,ie.type),Pi(ie)?(E0(h,_),G.unshift(ie)):G.push(ie))}return G}(h,p,_),ie=null===I?null:{"":-1};if(null!==Y){G=!0,GI(_,h.data.length,Y.length);for(let Ee=0;Ee<Y.length;Ee++){const xe=Y[Ee];xe.providersResolver&&xe.providersResolver(xe)}let le=!1,he=!1,ye=ic(h,p,Y.length,null);for(let Ee=0;Ee<Y.length;Ee++){const xe=Y[Ee];_.mergedAttrs=yf(_.mergedAttrs,xe.hostAttrs),RD(h,_,p,ye,xe),BI(ye,xe,ie),null!==xe.contentQueries&&(_.flags|=8),(null!==xe.hostBindings||null!==xe.hostAttrs||0!==xe.hostVars)&&(_.flags|=128);const Ge=xe.type.prototype;!le&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((h.preOrderHooks||(h.preOrderHooks=[])).push(_.index),le=!0),!he&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((h.preOrderCheckHooks||(h.preOrderCheckHooks=[])).push(_.index),he=!0),ye++}fv(h,_)}ie&&function D0(h,p,_){if(p){const I=h.localNames=[];for(let G=0;G<p.length;G+=2){const Y=_[p[G+1]];if(null==Y)throw new u(-301,!1);I.push(p[G],Y)}}}(_,I,ie)}return _.mergedAttrs=yf(_.mergedAttrs,_.attrs),G}function NI(h,p,_,I,G,Y){const ie=Y.hostBindings;if(ie){let le=h.hostBindingOpCodes;null===le&&(le=h.hostBindingOpCodes=[]);const he=~p.index;(function LI(h){let p=h.length;for(;p>0;){const _=h[--p];if("number"==typeof _&&_<0)return _}return 0})(le)!=he&&le.push(he),le.push(I,G,ie)}}function mv(h,p){null!==h.hostBindings&&h.hostBindings(1,p)}function E0(h,p){p.flags|=2,(h.components||(h.components=[])).push(p.index)}function BI(h,p,_){if(_){if(p.exportAs)for(let I=0;I<p.exportAs.length;I++)_[p.exportAs[I]]=h;Pi(p)&&(_[""]=h)}}function GI(h,p,_){h.flags|=1,h.directiveStart=p,h.directiveEnd=p+_,h.providerIndexes=p}function RD(h,p,_,I,G){h.data[I]=G;const Y=G.factory||(G.factory=Ll(G.type)),ie=new gg(Y,Pi(G),Ed);h.blueprint[I]=ie,_[I]=ie,NI(h,p,0,I,ic(h,_,G.hostVars,zn),G)}function sp(h,p,_){const I=qo(p,h),G=FI(_),Y=h[10],ie=ap(h,Td(h,G,null,_.onPush?32:16,I,p,Y,Y.createRenderer(I,_),null,null,null));h[p.index]=ie}function ko(h,p,_,I,G,Y){const ie=qo(h,p);!function gv(h,p,_,I,G,Y,ie){if(null==Y)h.removeAttribute(p,G,_);else{const le=null==ie?m(Y):ie(Y,I||"",G);h.setAttribute(p,G,le,_)}}(p[11],ie,Y,h.value,_,I,G)}function AD(h,p,_,I,G,Y){const ie=Y[p];if(null!==ie){const le=I.setInput;for(let he=0;he<ie.length;){const ye=ie[he++],Ee=ie[he++],xe=ie[he++];null!==le?I.setInput(_,xe,ye,Ee):_[Ee]=xe}}}function T0(h,p){let _=null,I=0;for(;I<p.length;){const G=p[I];if(0!==G)if(5!==G){if("number"==typeof G)break;h.hasOwnProperty(G)&&(null===_&&(_=[]),_.push(G,h[G],p[I+1])),I+=2}else I+=2;else I+=4}return _}function OD(h,p,_,I){return new Array(h,!0,!1,p,null,0,I,_,null,null)}function Q5(h,p){const _=fo(p,h);if(cg(_)){const I=_[1];48&_[2]?rp(I,_,I.template,_[8]):_[5]>0&&ID(_)}}function ID(h){for(let I=hd(h);null!==I;I=Sb(I))for(let G=10;G<I.length;G++){const Y=I[G];if(cg(Y))if(512&Y[2]){const ie=Y[1];rp(ie,Y,ie.template,Y[8])}else Y[5]>0&&ID(Y)}const _=h[1].components;if(null!==_)for(let I=0;I<_.length;I++){const G=fo(_[I],h);cg(G)&&G[5]>0&&ID(G)}}function X5(h,p){const _=fo(p,h),I=_[1];(function jI(h,p){for(let _=p.length;_<h.blueprint.length;_++)p.push(h.blueprint[_])})(I,_),xd(I,_,_[8])}function ap(h,p){return h[13]?h[14][4]=p:h[13]=p,h[14]=p,p}function x0(h){for(;h;){h[2]|=32;const p=Mf(h);if(xu(h)&&!p)return h;h=p}return null}function lp(h,p,_,I=!0){const G=p[10];G.begin&&G.begin();try{rp(h,p,h.template,_)}catch(ie){throw I&&R0(p,ie),ie}finally{G.end&&G.end()}}function qs(h,p,_){Mu(0),p(h,_)}function hl(h){return h[7]||(h[7]=[])}function PD(h){return h.cleanup||(h.cleanup=[])}function UI(h,p,_){return(null===h||Pi(h))&&(_=function eM(h){for(;Array.isArray(h);){if("object"==typeof h[1])return h;h=h[0]}return null}(_[p.index])),_[11]}function R0(h,p){const _=h[9],I=_?_.get(Wf,null):null;I&&I.handleError(p)}function A0(h,p,_,I,G){for(let Y=0;Y<_.length;){const ie=_[Y++],le=_[Y++],he=p[ie],ye=h.data[ie];null!==ye.setInput?ye.setInput(he,G,I,le):he[le]=G}}function Da(h,p,_){const I=hf(p,h);!function Lg(h,p,_){h.setValue(p,_)}(h[11],I,_)}function vv(h,p,_){let I=_?h.styles:null,G=_?h.classes:null,Y=0;if(null!==p)for(let ie=0;ie<p.length;ie++){const le=p[ie];"number"==typeof le?Y=le:1==Y?G=O(G,le):2==Y&&(I=O(I,le+": "+p[++ie]+";"))}_?h.styles=I:h.stylesWithoutHost=I,_?h.classes=G:h.classesWithoutHost=G}function up(h,p,_,I,G=!1){for(;null!==_;){const Y=p[_.index];if(null!==Y&&I.push(Si(Y)),xr(Y))for(let le=10;le<Y.length;le++){const he=Y[le],ye=he[1].firstChild;null!==ye&&up(he[1],he,ye,I)}const ie=_.type;if(8&ie)up(h,p,_.child,I);else if(32&ie){const le=Of(_,p);let he;for(;he=le();)I.push(he)}else if(16&ie){const le=Ib(p,_);if(Array.isArray(le))I.push(...le);else{const he=Mf(p[16]);up(he[1],he,le,I,!0)}}_=G?_.projectionNext:_.next}return I}class oc{constructor(p,_){this._lView=p,this._cdRefInjectingView=_,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const p=this._lView,_=p[1];return up(_,p,_.firstChild,[])}get context(){return this._lView[8]}set context(p){this._lView[8]=p}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[3];if(xr(p)){const _=p[8],I=_?_.indexOf(this):-1;I>-1&&(ju(p,I),lb(_,I))}this._attachedToViewContainer=!1}Hu(this._lView[1],this._lView)}onDestroy(p){op(this._lView[1],this._lView,null,p)}markForCheck(){x0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){lp(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new u(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function T5(h,p){If(h,p,p[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new u(902,!1);this._appRef=p}}class zI extends oc{constructor(p){super(p),this._view=p}detectChanges(){const p=this._view;lp(p[1],p,p[8],!1)}checkNoChanges(){}get context(){return null}}class ql extends Uf{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const _=Ke(p);return new sc(_,this.ngModule)}}function kD(h){const p=[];for(let _ in h)h.hasOwnProperty(_)&&p.push({propName:h[_],templateName:_});return p}class WI{constructor(p,_){this.injector=p,this.parentInjector=_}get(p,_,I){const G=this.injector.get(p,e0,I);return G!==e0||_===e0?G:this.parentInjector.get(p,_,I)}}class sc extends kE{constructor(p,_){super(),this.componentDef=p,this.ngModule=_,this.componentType=p.type,this.selector=function N5(h){return h.map(F5).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!_}get inputs(){return kD(this.componentDef.inputs)}get outputs(){return kD(this.componentDef.outputs)}create(p,_,I,G){let Y=(G=G||this.ngModule)instanceof Qu?G:G?.injector;Y&&null!==this.componentDef.getStandaloneInjector&&(Y=this.componentDef.getStandaloneInjector(Y)||Y);const ie=Y?new WI(p,Y):p,le=ie.get(Xb,null);if(null===le)throw new u(407,!1);const he=ie.get(BE,null),ye=le.createRenderer(null,this.componentDef),Ee=this.componentDef.selectors[0][0]||"div",xe=I?function ip(h,p,_){return h.selectRootElement(p,_===Pe.ShadowDom)}(ye,I,this.componentDef.encapsulation):Db(ye,Ee,function Xo(h){const p=h.toLowerCase();return"svg"===p?"svg":"math"===p?"math":null}(Ee)),Ge=this.componentDef.onPush?288:272,tt=w0(0,null,null,1,0,null,null,null,null,null),Ct=Td(null,tt,null,Ge,null,null,le,ye,he,ie,null);let Ut,Qt;hg(Ct);try{const yn=function Ta(h,p,_,I,G,Y){const ie=_[1];_[22]=h;const he=rc(ie,22,2,"#host",null),ye=he.mergedAttrs=p.hostAttrs;null!==ye&&(vv(he,ye,!0),null!==h&&(_g(G,h,ye),null!==he.classes&&Nb(G,h,he.classes),null!==he.styles&&cE(G,h,he.styles)));const Ee=I.createRenderer(h,p),xe=Td(_,FI(p),null,p.onPush?32:16,_[22],he,I,Ee,Y||null,null,null);return ie.firstCreatePass&&(wg(rd(he,_),ie,p.type),E0(ie,he),GI(he,_.length,1)),ap(_,xe),_[22]=xe}(xe,this.componentDef,Ct,le,ye);if(xe)if(I)_g(ye,xe,["ng-version",GE.full]);else{const{attrs:Rn,classes:Ft}=function wI(h){const p=[],_=[];let I=1,G=2;for(;I<h.length;){let Y=h[I];if("string"==typeof Y)2===G?""!==Y&&p.push(Y,h[++I]):8===G&&_.push(Y);else{if(!yr(G))break;G=Y}I++}return{attrs:p,classes:_}}(this.componentDef.selectors[0]);Rn&&_g(ye,xe,Rn),Ft&&Ft.length>0&&Nb(ye,xe,Ft.join(" "))}if(Qt=q_(tt,22),void 0!==_){const Rn=Qt.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const Nn=_[Ft];Rn.push(null!=Nn?Array.from(Nn):null)}}Ut=function qI(h,p,_,I){const G=_[1],Y=function TD(h,p,_){const I=Fi();h.firstCreatePass&&(_.providersResolver&&_.providersResolver(_),RD(h,I,p,ic(h,p,1,null),_),fv(h,I));const G=id(p,h,I.directiveStart,I);On(G,p);const Y=qo(I,p);return Y&&On(Y,p),G}(G,_,p);if(h[8]=_[8]=Y,null!==I)for(const le of I)le(Y,p);if(p.contentQueries){const le=Fi();p.contentQueries(1,Y,le.directiveStart)}const ie=Fi();return!G.firstCreatePass||null===p.hostBindings&&null===p.hostAttrs||(Iu(ie.index),NI(_[1],ie,0,ie.directiveStart,ie.directiveEnd,p),mv(p,Y)),Y}(yn,this.componentDef,Ct,[LD]),xd(tt,Ct,null)}finally{fg()}return new ND(this.componentType,Ut,_d(Qt,Ct),Ct,Qt)}}class ND extends class dI{}{constructor(p,_,I,G,Y){super(),this.location=I,this._rootLView=G,this._tNode=Y,this.instance=_,this.hostView=this.changeDetectorRef=new zI(G),this.componentType=p}setInput(p,_){const I=this._tNode.inputs;let G;if(null!==I&&(G=I[p])){const Y=this._rootLView;A0(Y[1],Y,G,p,_),ED(Y,this._tNode.index)}}get injector(){return new ku(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}function LD(){const h=Fi();J_(Nt()[1],h)}function cp(h){let p=function VD(h){return Object.getPrototypeOf(h.prototype).constructor}(h.type),_=!0;const I=[h];for(;p;){let G;if(Pi(h))G=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new u(903,!1);G=p.\u0275dir}if(G){if(_){I.push(G);const ie=h;ie.inputs=O0(h.inputs),ie.declaredInputs=O0(h.declaredInputs),ie.outputs=O0(h.outputs);const le=G.hostBindings;le&&t8(h,le);const he=G.viewQuery,ye=G.contentQueries;if(he&&BD(h,he),ye&&KI(h,ye),M(h.inputs,G.inputs),M(h.declaredInputs,G.declaredInputs),M(h.outputs,G.outputs),Pi(G)&&G.data.animation){const Ee=h.data;Ee.animation=(Ee.animation||[]).concat(G.data.animation)}}const Y=G.features;if(Y)for(let ie=0;ie<Y.length;ie++){const le=Y[ie];le&&le.ngInherit&&le(h),le===cp&&(_=!1)}}p=Object.getPrototypeOf(p)}!function YI(h){let p=0,_=null;for(let I=h.length-1;I>=0;I--){const G=h[I];G.hostVars=p+=G.hostVars,G.hostAttrs=yf(G.hostAttrs,_=yf(_,G.hostAttrs))}}(I)}function O0(h){return h===Ne?{}:h===$e?[]:h}function BD(h,p){const _=h.viewQuery;h.viewQuery=_?(I,G)=>{p(I,G),_(I,G)}:p}function KI(h,p){const _=h.contentQueries;h.contentQueries=_?(I,G,Y)=>{p(I,G,Y),_(I,G,Y)}:p}function t8(h,p){const _=h.hostBindings;h.hostBindings=_?(I,G)=>{p(I,G),_(I,G)}:p}let dp=null;function Jo(){if(!dp){const h=We.Symbol;if(h&&h.iterator)dp=h.iterator;else{const p=Object.getOwnPropertyNames(Map.prototype);for(let _=0;_<p.length;++_){const I=p[_];"entries"!==I&&"size"!==I&&Map.prototype[I]===Map.prototype.entries&&(dp=I)}}}return dp}function Ad(h){return!!I0(h)&&(Array.isArray(h)||!(h instanceof Map)&&Jo()in h)}function I0(h){return null!==h&&("function"==typeof h||"object"==typeof h)}function Fo(h,p,_){return h[p]=_}function so(h,p,_){return!Object.is(h[p],_)&&(h[p]=_,!0)}function Yl(h,p,_,I){const G=so(h,p,_);return so(h,p+1,I)||G}function P0(h,p,_,I){const G=Nt();return so(G,gf(),p)&&(vr(),ko(Xr(),G,h,p,_,I)),P0}function Md(h,p,_,I){return so(h,gf(),_)?p+m(_)+I:zn}function lc(h,p,_,I,G,Y){const le=Yl(h,function Bl(){return Bn.lFrame.bindingIndex}(),_,G);return tl(2),le?p+m(_)+I+m(G)+Y:zn}function xa(h,p,_,I,G,Y,ie,le){const he=Nt(),ye=vr(),Ee=h+22,xe=ye.firstCreatePass?function k0(h,p,_,I,G,Y,ie,le,he){const ye=p.consts,Ee=rc(p,h,4,ie||null,Vl(ye,le));S0(p,_,Ee,Vl(ye,he)),J_(p,Ee);const xe=Ee.tViews=w0(2,Ee,I,G,Y,p.directiveRegistry,p.pipeRegistry,null,p.schemas,ye);return null!==p.queries&&(p.queries.template(p,Ee),xe.queries=p.queries.embeddedTView(Ee)),Ee}(Ee,ye,he,p,_,I,G,Y,ie):ye.data[Ee];ya(xe,!1);const Ge=he[11].createComment("");wa(ye,he,Ge,xe),On(Ge,he),ap(he,he[Ee]=OD(Ge,he,Ge,xe)),no(xe)&&Rd(ye,he,xe),null!=ie&&Ea(he,xe,le)}function UD(h){return ff(function oi(){return Bn.lFrame.contextLView}(),22+h)}function ns(h,p,_){const I=Nt();return so(I,gf(),p)&&Qo(vr(),Xr(),I,h,p,I[11],_,!1),ns}function nn(h,p,_,I,G){const ie=G?"class":"style";A0(h,_,p.inputs[ie],ie,I)}function Gn(h,p,_,I){const G=Nt(),Y=vr(),ie=22+h,le=G[11],he=G[ie]=Db(le,p,function l5(){return Bn.lFrame.currentNamespace}()),ye=Y.firstCreatePass?function F0(h,p,_,I,G,Y,ie){const le=p.consts,ye=rc(p,h,2,G,Vl(le,Y));return S0(p,_,ye,Vl(le,ie)),null!==ye.attrs&&vv(ye,ye.attrs,!1),null!==ye.mergedAttrs&&vv(ye,ye.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,ye),ye}(ie,Y,G,0,p,_,I):Y.data[ie];ya(ye,!0);const Ee=ye.mergedAttrs;null!==Ee&&_g(le,he,Ee);const xe=ye.classes;null!==xe&&Nb(le,he,xe);const Ge=ye.styles;return null!==Ge&&cE(le,he,Ge),64!=(64&ye.flags)&&wa(Y,G,he,ye),0===function X4(){return Bn.lFrame.elementDepthCount}()&&On(he,G),function nM(){Bn.lFrame.elementDepthCount++}(),no(ye)&&(Rd(Y,G,ye),b0(Y,ye,G)),null!==I&&Ea(G,ye),Gn}function cc(){let h=Fi();K_()?b1():(h=h.parent,ya(h,!1));const p=h;!function rM(){Bn.lFrame.elementDepthCount--}();const _=vr();return _.firstCreatePass&&(J_(_,h),ii(h)&&_.queries.elementEnd(h)),null!=p.classesWithoutHost&&function h5(h){return 0!=(16&h.flags)}(p)&&nn(_,p,Nt(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function mM(h){return 0!=(32&h.flags)}(p)&&nn(_,p,Nt(),p.stylesWithoutHost,!1),cc}function dc(h,p,_,I){return Gn(h,p,_,I),cc(),dc}function kd(h,p,_){const I=Nt(),G=vr(),Y=h+22,ie=G.firstCreatePass?function sP(h,p,_,I,G){const Y=p.consts,ie=Vl(Y,I),le=rc(p,h,8,"ng-container",ie);return null!==ie&&vv(le,ie,!0),S0(p,_,le,Vl(Y,G)),null!==p.queries&&p.queries.elementStart(p,le),le}(Y,G,I,p,_):G.data[Y];ya(ie,!0);const le=I[Y]=I[11].createComment("");return wa(G,I,le,ie),On(le,I),no(ie)&&(Rd(G,I,ie),b0(G,ie,I)),null!=_&&Ea(I,ie),kd}function _v(){let h=Fi();const p=vr();return K_()?b1():(h=h.parent,ya(h,!1)),p.firstCreatePass&&(J_(p,h),ii(h)&&p.queries.elementEnd(h)),_v}function N0(h,p,_){return kd(h,p,_),_v(),N0}function zD(){return Nt()}function Li(h){return!!h&&"function"==typeof h.then}function mp(h){return!!h&&"function"==typeof h.subscribe}const Ei=mp;function Ra(h,p,_,I){const G=Nt(),Y=vr(),ie=Fi();return bv(Y,G,G[11],ie,h,p,0,I),Ra}function L0(h,p){const _=Fi(),I=Nt(),G=vr();return bv(G,I,UI(Q_(G.data),_,I),_,h,p),L0}function bv(h,p,_,I,G,Y,ie,le){const he=no(I),Ee=h.firstCreatePass&&PD(h),xe=p[8],Ge=hl(p);let tt=!0;if(3&I.type||le){const Qt=qo(I,p),yn=le?le(Qt):Qt,Rn=Ge.length,Ft=le?fr=>le(Si(fr[I.index])):I.index;let Nn=null;if(!le&&he&&(Nn=function WD(h,p,_,I){const G=h.cleanup;if(null!=G)for(let Y=0;Y<G.length-1;Y+=2){const ie=G[Y];if(ie===_&&G[Y+1]===I){const le=p[7],he=G[Y+2];return le.length>he?le[he]:null}"string"==typeof ie&&(Y+=2)}return null}(h,p,G,I.index)),null!==Nn)(Nn.__ngLastListenerFn__||Nn).__ngNextListenerFn__=Y,Nn.__ngLastListenerFn__=Y,tt=!1;else{Y=Qi(I,p,xe,Y,!1);const fr=_.listen(yn,G,Y);Ge.push(Y,fr),Ee&&Ee.push(G,Ft,Rn,Rn+1)}}else Y=Qi(I,p,xe,Y,!1);const Ct=I.outputs;let Ut;if(tt&&null!==Ct&&(Ut=Ct[G])){const Qt=Ut.length;if(Qt)for(let yn=0;yn<Qt;yn+=2){const Hr=p[Ut[yn]][Ut[yn+1]].subscribe(Y),kc=Ge.length;Ge.push(Y,Hr),Ee&&Ee.push(G,I.index,kc,-(kc+1))}}}function V0(h,p,_,I){try{return!1!==_(I)}catch(G){return R0(h,G),!1}}function Qi(h,p,_,I,G){return function Y(ie){if(ie===Function)return I;x0(2&h.flags?fo(h.index,p):p);let he=V0(p,0,I,ie),ye=Y.__ngNextListenerFn__;for(;ye;)he=V0(p,0,ye,ie)&&he,ye=ye.__ngNextListenerFn__;return G&&!1===he&&(ie.preventDefault(),ie.returnValue=!1),he}}function $D(h=1){return function i5(h){return(Bn.lFrame.contextLView=function o5(h,p){for(;h>0;)p=p[15],h--;return p}(h,Bn.lFrame.contextLView))[8]}(h)}function gp(h,p){let _=null;const I=function ev(h){const p=h.attrs;if(null!=p){const _=p.indexOf(5);if(0==(1&_))return p[_+1]}return null}(h);for(let G=0;G<p.length;G++){const Y=p[G];if("*"!==Y){if(null===I?o0(h,Y,!0):bI(I,Y))return G}else _=G}return _}function vp(h){const p=Nt()[16][6];if(!p.projection){const I=p.projection=Dg(h?h.length:1,null),G=I.slice();let Y=p.child;for(;null!==Y;){const ie=h?gp(Y,h):0;null!==ie&&(G[ie]?G[ie].projectionNext=Y:I[ie]=Y,G[ie]=Y),Y=Y.next}}}function Ys(h,p=0,_){const I=Nt(),G=vr(),Y=rc(G,22+h,16,null,_||null);null===Y.projection&&(Y.projection=p),b1(),64!=(64&Y.flags)&&function UM(h,p,_){uE(p[11],0,p,_,Uu(h,_,p),lE(_.parent||p[6],_,p))}(G,I,Y)}function yp(h,p,_){return B0(h,"",p,"",_),yp}function B0(h,p,_,I,G){const Y=Nt(),ie=Md(Y,p,_,I);return ie!==zn&&Qo(vr(),Xr(),Y,h,ie,Y[11],G,!1),B0}function Sv(h,p,_,I,G){const Y=h[_+1],ie=null===p;let le=I?gs(Y):Ca(Y),he=!1;for(;0!==le&&(!1===he||ie);){const Ee=h[le+1];ZD(h[le],p)&&(he=!0,h[le+1]=I?av(Ee):ov(Ee)),le=I?gs(Ee):Ca(Ee)}he&&(h[_+1]=I?ov(Y):av(Y))}function ZD(h,p){return null===h||null==p||(Array.isArray(h)?h[1]:h)===p||!(!Array.isArray(h)||"string"!=typeof p)&&Ef(h,p)>=0}const Di={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fd(h){return h.substring(Di.key,Di.keyEnd)}function QD(h,p){const _=Di.textEnd;return _===p?-1:(p=Di.keyEnd=function XD(h,p,_){for(;p<_&&h.charCodeAt(p)>32;)p++;return p}(h,Di.key=p,_),Nd(h,p,_))}function Nd(h,p,_){for(;p<_&&h.charCodeAt(p)<=32;)p++;return p}function wp(h,p,_){return vs(h,p,_,!1),wp}function Cp(h,p){return vs(h,p,null,!0),Cp}function Zs(h,p){for(let _=function _p(h){return function Ev(h){Di.key=0,Di.keyEnd=0,Di.value=0,Di.valueEnd=0,Di.textEnd=h.length}(h),QD(h,Nd(h,0,Di.textEnd))}(p);_>=0;_=QD(p,_))Yo(h,Fd(p),!0)}function vs(h,p,_,I){const G=Nt(),Y=vr(),ie=tl(2);Y.firstUpdatePass&&nT(Y,h,ie,I),p!==zn&&so(G,ie,p)&&iT(Y,Y.data[Mo()],G,G[11],h,G[ie+1]=function dP(h,p){return null==h||("string"==typeof p?h+=p:"object"==typeof h&&(h=x(Zo(h)))),h}(p,_),I,ie)}function $0(h,p){return p>=h.expandoStartIndex}function nT(h,p,_,I){const G=h.data;if(null===G[_+1]){const Y=G[Mo()],ie=$0(h,_);oT(Y,I)&&null===p&&!ie&&(p=!1),p=function q0(h,p,_,I){const G=Q_(h);let Y=I?p.residualClasses:p.residualStyles;if(null===G)0===(I?p.classBindings:p.styleBindings)&&(_=Kl(_=Ti(null,h,p,_,I),p.attrs,I),Y=null);else{const ie=p.directiveStylingLast;if(-1===ie||h[ie]!==G)if(_=Ti(G,h,p,_,I),null===Y){let he=function Y0(h,p,_){const I=_?p.classBindings:p.styleBindings;if(0!==Ca(I))return h[gs(I)]}(h,p,I);void 0!==he&&Array.isArray(he)&&(he=Ti(null,h,p,he[1],I),he=Kl(he,p.attrs,I),function K0(h,p,_,I){h[gs(_?p.classBindings:p.styleBindings)]=I}(h,p,I,he))}else Y=function Vi(h,p,_){let I;const G=p.directiveEnd;for(let Y=1+p.directiveStylingLast;Y<G;Y++)I=Kl(I,h[Y].hostAttrs,_);return Kl(I,p.attrs,_)}(h,p,I)}return void 0!==Y&&(I?p.residualClasses=Y:p.residualStyles=Y),_}(G,Y,p,I),function U0(h,p,_,I,G,Y){let ie=Y?p.classBindings:p.styleBindings,le=gs(ie),he=Ca(ie);h[I]=_;let Ee,ye=!1;if(Array.isArray(_)){const xe=_;Ee=xe[1],(null===Ee||Ef(xe,Ee)>0)&&(ye=!0)}else Ee=_;if(G)if(0!==he){const Ge=gs(h[le+1]);h[I+1]=Yf(Ge,le),0!==Ge&&(h[Ge+1]=sv(h[Ge+1],I)),h[le+1]=function uD(h,p){return 131071&h|p<<17}(h[le+1],I)}else h[I+1]=Yf(le,0),0!==le&&(h[le+1]=sv(h[le+1],I)),le=I;else h[I+1]=Yf(he,0),0===le?le=I:h[he+1]=sv(h[he+1],I),he=I;ye&&(h[I+1]=ov(h[I+1])),Sv(h,Ee,I,!0),Sv(h,Ee,I,!1),function z0(h,p,_,I,G){const Y=G?h.residualClasses:h.residualStyles;null!=Y&&"string"==typeof p&&Ef(Y,p)>=0&&(_[I+1]=av(_[I+1]))}(p,Ee,h,I,Y),ie=Yf(le,he),Y?p.classBindings=ie:p.styleBindings=ie}(G,Y,p,_,ie,I)}}function Ti(h,p,_,I,G){let Y=null;const ie=_.directiveEnd;let le=_.directiveStylingLast;for(-1===le?le=_.directiveStart:le++;le<ie&&(Y=p[le],I=Kl(I,Y.hostAttrs,G),Y!==h);)le++;return null!==h&&(_.directiveStylingLast=le),I}function Kl(h,p,_){const I=_?1:2;let G=-1;if(null!==p)for(let Y=0;Y<p.length;Y++){const ie=p[Y];"number"==typeof ie?G=ie:G===I&&(Array.isArray(h)||(h=void 0===h?[]:["",h]),Yo(h,ie,!!_||p[++Y]))}return void 0===h?null:h}function iT(h,p,_,I,G,Y,ie,le){if(!(3&p.type))return;const he=h.data,ye=he[le+1];xv(function Kf(h){return 1==(1&h)}(ye)?Q0(he,p,_,G,Ca(ye),ie):void 0)||(xv(Y)||function p0(h){return 2==(2&h)}(ye)&&(Y=Q0(he,null,_,G,le,ie)),function WM(h,p,_,I,G){if(p)G?h.addClass(_,I):h.removeClass(_,I);else{let Y=-1===I.indexOf("-")?void 0:Hs.DashCase;null==G?h.removeStyle(_,I,Y):("string"==typeof G&&G.endsWith("!important")&&(G=G.slice(0,-10),Y|=Hs.Important),h.setStyle(_,I,G,Y))}}(I,ie,hf(Mo(),_),G,Y))}function Q0(h,p,_,I,G,Y){const ie=null===p;let le;for(;G>0;){const he=h[G],ye=Array.isArray(he),Ee=ye?he[1]:he,xe=null===Ee;let Ge=_[G+1];Ge===zn&&(Ge=xe?$e:void 0);let tt=xe?L1(Ge,I):Ee===I?Ge:void 0;if(ye&&!xv(tt)&&(tt=L1(he,I)),xv(tt)&&(le=tt,ie))return le;const Ct=h[G+1];G=ie?gs(Ct):Ca(Ct)}if(null!==p){let he=Y?p.residualClasses:p.residualStyles;null!=he&&(le=L1(he,I))}return le}function xv(h){return void 0!==h}function oT(h,p){return 0!=(h.flags&(p?16:32))}function Ld(h,p=""){const _=Nt(),I=vr(),G=h+22,Y=I.firstCreatePass?rc(I,G,1,p,null):I.data[G],ie=_[G]=function Eb(h,p){return h.createText(p)}(_[11],p);wa(I,_,ie,Y),ya(Y,!1)}function fc(h){return Vd("",h,""),fc}function Vd(h,p,_){const I=Nt(),G=Md(I,h,p,_);return G!==zn&&Da(I,Mo(),G),Vd}function Rv(h,p,_,I,G){const Y=Nt(),ie=lc(Y,h,p,_,I,G);return ie!==zn&&Da(Y,Mo(),ie),Rv}function J0(h,p,_){!function rs(h,p,_,I){const G=vr(),Y=tl(2);G.firstUpdatePass&&nT(G,null,Y,I);const ie=Nt();if(_!==zn&&so(ie,Y,_)){const le=G.data[Mo()];if(oT(le,I)&&!$0(G,Y)){let he=I?le.classesWithoutHost:le.stylesWithoutHost;null!==he&&(_=O(he,_||"")),nn(G,le,ie,_,I)}else!function cP(h,p,_,I,G,Y,ie,le){G===zn&&(G=$e);let he=0,ye=0,Ee=0<G.length?G[0]:null,xe=0<Y.length?Y[0]:null;for(;null!==Ee||null!==xe;){const Ge=he<G.length?G[he+1]:void 0,tt=ye<Y.length?Y[ye+1]:void 0;let Ut,Ct=null;Ee===xe?(he+=2,ye+=2,Ge!==tt&&(Ct=xe,Ut=tt)):null===xe||null!==Ee&&Ee<xe?(he+=2,Ct=Ee):(ye+=2,Ct=xe,Ut=tt),null!==Ct&&iT(h,p,_,I,Ct,Ut,ie,le),Ee=he<G.length?G[he]:null,xe=ye<Y.length?Y[ye]:null}}(G,le,ie,ie[11],ie[Y+1],ie[Y+1]=function Z0(h,p,_){if(null==_||""===_)return $e;const I=[],G=Zo(_);if(Array.isArray(G))for(let Y=0;Y<G.length;Y++)h(I,G[Y],!0);else if("object"==typeof G)for(const Y in G)G.hasOwnProperty(Y)&&h(I,Y,G[Y]);else"string"==typeof G&&p(I,G);return I}(h,p,_),I,Y)}}(Yo,Zs,Md(Nt(),h,p,_),!0)}function Hd(h,p,_){const I=Nt();return so(I,gf(),p)&&Qo(vr(),Xr(),I,h,p,I[11],_,!0),Hd}function mc(h,p,_){const I=Nt();if(so(I,gf(),p)){const Y=vr(),ie=Xr();Qo(Y,ie,I,h,p,UI(Q_(Y.data),ie,I),_,!0)}return mc}const Zl=void 0;var rw=["en",[["a","p"],["AM","PM"],Zl],[["AM","PM"],Zl,Zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zl,"{1} 'at' {0}",Zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gP(h){const _=Math.floor(Math.abs(h)),I=h.toString().replace(/^[^.]*\.?/,"").length;return 1===_&&0===I?1:5}];let fl={};function Lv(h){const p=function Bv(h){return h.toLowerCase().replace(/_/g,"-")}(h);let _=mT(p);if(_)return _;const I=p.split("-")[0];if(_=mT(I),_)return _;if("en"===I)return rw;throw new u(701,!1)}function iw(h){return Lv(h)[In.PluralCase]}function mT(h){return h in fl||(fl[h]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[h]),fl[h]}var In=(()=>((In=In||{})[In.LocaleId=0]="LocaleId",In[In.DayPeriodsFormat=1]="DayPeriodsFormat",In[In.DayPeriodsStandalone=2]="DayPeriodsStandalone",In[In.DaysFormat=3]="DaysFormat",In[In.DaysStandalone=4]="DaysStandalone",In[In.MonthsFormat=5]="MonthsFormat",In[In.MonthsStandalone=6]="MonthsStandalone",In[In.Eras=7]="Eras",In[In.FirstDayOfWeek=8]="FirstDayOfWeek",In[In.WeekendRange=9]="WeekendRange",In[In.DateFormat=10]="DateFormat",In[In.TimeFormat=11]="TimeFormat",In[In.DateTimeFormat=12]="DateTimeFormat",In[In.NumberSymbols=13]="NumberSymbols",In[In.NumberFormats=14]="NumberFormats",In[In.CurrencyCode=15]="CurrencyCode",In[In.CurrencySymbol=16]="CurrencySymbol",In[In.CurrencyName=17]="CurrencyName",In[In.Currencies=18]="Currencies",In[In.Directionality=19]="Directionality",In[In.PluralCase=20]="PluralCase",In[In.ExtraData=21]="ExtraData",In))();const Ql="en-US";let Xl=Ql;function Zv(h,p,_,I,G){if(h=C(h),Array.isArray(h))for(let Y=0;Y<h.length;Y++)Zv(h[Y],p,_,I,G);else{const Y=vr(),ie=Nt();let le=cl(h)?h:C(h.provide),he=jf(h);const ye=Fi(),Ee=1048575&ye.providerIndexes,xe=ye.directiveStart,Ge=ye.providerIndexes>>20;if(cl(h)||!h.multi){const tt=new gg(he,G,Ed),Ct=os(le,p,G?Ee:Ee+Ge,xe);-1===Ct?(wg(rd(ye,ie),Y,le),tu(Y,h,p.length),p.push(le),ye.directiveStart++,ye.directiveEnd++,G&&(ye.providerIndexes+=1048576),_.push(tt),ie.push(tt)):(_[Ct]=tt,ie[Ct]=tt)}else{const tt=os(le,p,Ee+Ge,xe),Ct=os(le,p,Ee,Ee+Ge),Ut=tt>=0&&_[tt],Qt=Ct>=0&&_[Ct];if(G&&!Qt||!G&&!Ut){wg(rd(ye,ie),Y,le);const yn=function bw(h,p,_,I,G){const Y=new gg(h,_,Ed);return Y.multi=[],Y.index=p,Y.componentProviders=0,BT(Y,G,I&&!_),Y}(G?Mr:yw,_.length,G,I,he);!G&&Qt&&(_[Ct].providerFactory=yn),tu(Y,h,p.length,0),p.push(le),ye.directiveStart++,ye.directiveEnd++,G&&(ye.providerIndexes+=1048576),_.push(yn),ie.push(yn)}else tu(Y,h,tt>-1?tt:Ct,BT(_[G?Ct:tt],he,!G&&I));!G&&I&&Qt&&_[Ct].componentProviders++}}}function tu(h,p,_,I){const G=cl(p),Y=function ME(h){return!!h.useClass}(p);if(G||Y){const he=(Y?C(p.useClass):p).prototype.ngOnDestroy;if(he){const ye=h.destroyHooks||(h.destroyHooks=[]);if(!G&&p.multi){const Ee=ye.indexOf(_);-1===Ee?ye.push(_,[I,he]):ye[Ee+1].push(I,he)}else ye.push(_,he)}}}function BT(h,p,_){return _&&h.componentProviders++,h.multi.push(p)-1}function os(h,p,_,I){for(let G=_;G<I;G++)if(p[G]===h)return G;return-1}function yw(h,p,_,I){return _w(this.multi,[])}function Mr(h,p,_,I){const G=this.multi;let Y;if(this.providerFactory){const ie=this.providerFactory.componentProviders,le=id(_,_[1],this.providerFactory.index,I);Y=le.slice(0,ie),_w(G,Y);for(let he=ie;he<le.length;he++)Y.push(le[he])}else Y=[],_w(G,Y);return Y}function _w(h,p){for(let _=0;_<h.length;_++)p.push((0,h[_])());return p}function Xs(h,p=[]){return _=>{_.providersResolver=(I,G)=>function VT(h,p,_){const I=vr();if(I.firstCreatePass){const G=Pi(h);Zv(_,I.data,I.blueprint,G,!0),Zv(p,I.data,I.blueprint,G,!1)}}(I,G?G(h):h,p)}}class vc{}class Qv{}function Yd(h,p){return new ww(h,p??null)}class ww extends vc{constructor(p,_){super(),this._parent=_,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ql(this);const I=Le(p);this._bootstrapComponents=dl(I.bootstrap),this._r3Injector=tD(p,_,[{provide:vc,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],x(p),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(p)}get injector(){return this._r3Injector}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(_=>_()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Js extends Qv{constructor(p){super(),this.moduleType=p}create(p){return new ww(this.moduleType,p)}}class ys extends vc{constructor(p,_,I){super(),this.componentFactoryResolver=new ql(this),this.instance=null;const G=new Gf([...p,{provide:vc,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],_||Kg(),I,new Set(["environment"]));this.injector=G,G.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(p){this.injector.onDestroy(p)}}function xi(h,p,_=null){return new ys(h,p,_).injector}let Xv=(()=>{class h{constructor(_){this._injector=_,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(_){if(!_.standalone)return null;if(!this.cachedInjectors.has(_.id)){const I=RE(0,_.type),G=I.length>0?xi([I],this._injector,`Standalone[${_.type.name}]`):null;this.cachedInjectors.set(_.id,G)}return this.cachedInjectors.get(_.id)}ngOnDestroy(){try{for(const _ of this.cachedInjectors.values())null!==_&&_.destroy()}finally{this.cachedInjectors.clear()}}}return h.\u0275prov=de({token:h,providedIn:"environment",factory:()=>new h(mi(Qu))}),h})();function Vp(h){h.getStandaloneInjector=p=>p.get(Xv).getOrCreateStandaloneInjector(h)}function gl(h,p,_){const I=Oo()+h,G=Nt();return G[I]===zn?Fo(G,I,_?p.call(_):p()):function Od(h,p){return h[p]}(G,I)}function Kt(h,p){const _=h[p];return _===zn?void 0:_}function UT(h,p){const _=vr();let I;const G=h+22;_.firstCreatePass?(I=function kP(h,p){if(p)for(let _=p.length-1;_>=0;_--){const I=p[_];if(h===I.name)return I}}(p,_.pipeRegistry),_.data[G]=I,I.onDestroy&&(_.destroyHooks||(_.destroyHooks=[])).push(G,I.onDestroy)):I=_.data[G];const Y=I.factory||(I.factory=Ll(I.type)),ie=sn(Ed);try{const le=_f(!1),he=Y();return _f(le),function sr(h,p,_,I){_>=h.data.length&&(h.data[_]=null,h.blueprint[_]=null),p[_]=I}(_,Nt(),G,he),he}finally{sn(ie)}}function zT(h,p,_){const I=h+22,G=Nt(),Y=ff(G,I);return Zd(G,I)?function dt(h,p,_,I,G,Y){const ie=p+_;return so(h,ie,G)?Fo(h,ie+1,Y?I.call(Y,G):I(G)):Kt(h,ie+1)}(G,Oo(),p,Y.transform,_,Y):Y.transform(_)}function Rw(h,p,_,I){const G=h+22,Y=Nt(),ie=ff(Y,G);return Zd(Y,G)?function Lt(h,p,_,I,G,Y,ie){const le=p+_;return Yl(h,le,G,Y)?Fo(h,le+2,ie?I.call(ie,G,Y):I(G,Y)):Kt(h,le+2)}(Y,Oo(),p,ie.transform,_,I,ie):ie.transform(_,I)}function Zd(h,p){return h[1].data[p].pure}function nu(h){return p=>{setTimeout(h,void 0,p)}}const ta=class Wn extends a.x{constructor(p=!1){super(),this.__isAsync=p}emit(p){super.next(p)}subscribe(p,_,I){let G=p,Y=_||(()=>null),ie=I;if(p&&"object"==typeof p){const he=p;G=he.next?.bind(he),Y=he.error?.bind(he),ie=he.complete?.bind(he)}this.__isAsync&&(Y=nu(Y),G&&(G=nu(G)),ie&&(ie=nu(ie)));const le=super.subscribe({next:G,error:Y,complete:ie});return p instanceof T.w0&&p.add(le),le}};function qr(){return this._results[Jo()]()}class bn{constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const _=Jo(),I=bn.prototype;I[_]||(I[_]=qr)}get changes(){return this._changes||(this._changes=new ta)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,_){return this._results.reduce(p,_)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,_){const I=this;I.dirty=!1;const G=po(p);(this._changesDetected=!function TM(h,p,_){if(h.length!==p.length)return!1;for(let I=0;I<h.length;I++){let G=h[I],Y=p[I];if(_&&(G=_(G),Y=_(Y)),Y!==G)return!1}return!0}(I._results,G,_))&&(I._results=G,I.length=G.length,I.last=G[this.length-1],I.first=G[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vl=(()=>{class h{}return h.__NG_ELEMENT_ID__=ui,h})();const _r=vl,LP=class extends _r{constructor(p,_,I){super(),this._declarationLView=p,this._declarationTContainer=_,this.elementRef=I}createEmbeddedView(p,_){const I=this._declarationTContainer.tViews,G=Td(this._declarationLView,I,p,16,null,I.declTNode,null,null,null,null,_||null);G[17]=this._declarationLView[this._declarationTContainer.index];const ie=this._declarationLView[19];return null!==ie&&(G[19]=ie.createEmbeddedView(I)),xd(I,G,p),new oc(G)}};function ui(){return Zt(Fi(),Nt())}function Zt(h,p){return 4&h.type?new LP(p,h,_d(h,p)):null}let bc=(()=>{class h{}return h.__NG_ELEMENT_ID__=Aw,h})();function Aw(){return Qd(Fi(),Nt())}const wc=bc,WT=class extends wc{constructor(p,_,I){super(),this._lContainer=p,this._hostTNode=_,this._hostLView=I}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new ku(this._hostTNode,this._hostLView)}get parentInjector(){const p=bg(this._hostTNode,this._hostLView);if(R1(p)){const _=nl(p,this._hostLView),I=ed(p);return new ku(_[1].data[I+8],_)}return new ku(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const _=Hp(this._lContainer);return null!==_&&_[p]||null}get length(){return this._lContainer.length-10}createEmbeddedView(p,_,I){let G,Y;"number"==typeof I?G=I:null!=I&&(G=I.index,Y=I.injector);const ie=p.createEmbeddedView(_||{},Y);return this.insert(ie,G),ie}createComponent(p,_,I,G,Y){const ie=p&&!function fs(h){return"function"==typeof h}(p);let le;if(ie)le=_;else{const xe=_||{};le=xe.index,I=xe.injector,G=xe.projectableNodes,Y=xe.environmentInjector||xe.ngModuleRef}const he=ie?p:new sc(Ke(p)),ye=I||this.parentInjector;if(!Y&&null==he.ngModule){const Ge=(ie?ye:this.parentInjector).get(Qu,null);Ge&&(Y=Ge)}const Ee=he.create(ye,G,void 0,Y);return this.insert(Ee.hostView,le),Ee}insert(p,_){const I=p._lView,G=I[1];if(function tM(h){return xr(h[3])}(I)){const Ee=this.indexOf(p);if(-1!==Ee)this.detach(Ee);else{const xe=I[3],Ge=new WT(xe,xe[6],xe[3]);Ge.detach(Ge.indexOf(p))}}const Y=this._adjustIndex(_),ie=this._lContainer;!function jM(h,p,_,I){const G=10+I,Y=_.length;I>0&&(_[G-1][4]=p),I<Y-10?(p[4]=_[G],xM(_,10+I,p)):(_.push(p),p[4]=null),p[3]=_;const ie=p[17];null!==ie&&_!==ie&&function HM(h,p){const _=h[9];p[16]!==p[3][3][16]&&(h[2]=!0),null===_?h[9]=[p]:_.push(p)}(ie,p);const le=p[19];null!==le&&le.insertView(h),p[2]|=64}(G,I,ie,Y);const le=Pb(Y,ie),he=I[11],ye=jg(he,ie[7]);return null!==ye&&function Tb(h,p,_,I,G,Y){I[0]=G,I[6]=p,If(h,I,_,1,G,Y)}(G,ie[6],he,I,ye,le),p.attachToViewContainerRef(),xM(Ow(ie),Y,p),p}move(p,_){return this.insert(p,_)}indexOf(p){const _=Hp(this._lContainer);return null!==_?_.indexOf(p):-1}remove(p){const _=this._adjustIndex(p,-1),I=ju(this._lContainer,_);I&&(lb(Ow(this._lContainer),_),Hu(I[1],I))}detach(p){const _=this._adjustIndex(p,-1),I=ju(this._lContainer,_);return I&&null!=lb(Ow(this._lContainer),_)?new oc(I):null}_adjustIndex(p,_=0){return p??this.length+_}};function Hp(h){return h[8]}function Ow(h){return h[8]||(h[8]=[])}function Qd(h,p){let _;const I=p[h.index];if(xr(I))_=I;else{let G;if(8&h.type)G=Si(I);else{const Y=p[11];G=Y.createComment("");const ie=qo(h,p);zu(Y,jg(Y,ie),G,function Ab(h,p){return h.nextSibling(p)}(Y,ie),!1)}p[h.index]=_=OD(I,p,G,h),ap(p,_)}return new WT(_,h,p)}class Up{constructor(p){this.queryList=p,this.matches=null}clone(){return new Up(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jv{constructor(p=[]){this.queries=p}createEmbeddedView(p){const _=p.queries;if(null!==_){const I=null!==p.contentQueries?p.contentQueries[0]:_.length,G=[];for(let Y=0;Y<I;Y++){const ie=_.getByIndex(Y);G.push(this.queries[ie.indexInDeclarationView].clone())}return new Jv(G)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let _=0;_<this.queries.length;_++)null!==Jd(p,_).matches&&this.queries[_].setDirty()}}class YT{constructor(p,_,I=null){this.predicate=p,this.flags=_,this.read=I}}class Ma{constructor(p=[]){this.queries=p}elementStart(p,_){for(let I=0;I<this.queries.length;I++)this.queries[I].elementStart(p,_)}elementEnd(p){for(let _=0;_<this.queries.length;_++)this.queries[_].elementEnd(p)}embeddedTView(p){let _=null;for(let I=0;I<this.length;I++){const G=null!==_?_.length:0,Y=this.getByIndex(I).embeddedTView(p,G);Y&&(Y.indexInDeclarationView=I,null!==_?_.push(Y):_=[Y])}return null!==_?new Ma(_):null}template(p,_){for(let I=0;I<this.queries.length;I++)this.queries[I].template(p,_)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class zp{constructor(p,_=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=_}elementStart(p,_){this.isApplyingToNode(_)&&this.matchTNode(p,_)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,_){this.elementStart(p,_)}embeddedTView(p,_){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,_),new zp(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const _=this._declarationNodeIndex;let I=p.parent;for(;null!==I&&8&I.type&&I.index!==_;)I=I.parent;return _===(null!==I?I.index:-1)}return this._appliesToNextNode}matchTNode(p,_){const I=this.metadata.predicate;if(Array.isArray(I))for(let G=0;G<I.length;G++){const Y=I[G];this.matchTNodeWithReadOption(p,_,rt(_,Y)),this.matchTNodeWithReadOption(p,_,wf(_,p,Y,!1,!1))}else I===vl?4&_.type&&this.matchTNodeWithReadOption(p,_,-1):this.matchTNodeWithReadOption(p,_,wf(_,p,I,!1,!1))}matchTNodeWithReadOption(p,_,I){if(null!==I){const G=this.metadata.read;if(null!==G)if(G===zf||G===bc||G===vl&&4&_.type)this.addMatch(_.index,-2);else{const Y=wf(_,p,G,!1,!1);null!==Y&&this.addMatch(_.index,Y)}else this.addMatch(_.index,I)}}addMatch(p,_){null===this.matches?this.matches=[p,_]:this.matches.push(p,_)}}function rt(h,p){const _=h.localNames;if(null!==_)for(let I=0;I<_.length;I+=2)if(_[I]===p)return _[I+1];return null}function na(h,p,_,I){return-1===_?function ey(h,p){return 11&h.type?_d(h,p):4&h.type?Zt(h,p):null}(p,h):-2===_?function VP(h,p,_){return _===zf?_d(p,h):_===vl?Zt(p,h):_===bc?Qd(p,h):void 0}(h,p,I):id(h,h[1],_,p)}function Xd(h,p,_,I){const G=p[19].queries[I];if(null===G.matches){const Y=h.data,ie=_.matches,le=[];for(let he=0;he<ie.length;he+=2){const ye=ie[he];le.push(ye<0?null:na(p,Y[ye],ie[he+1],_.metadata.read))}G.matches=le}return G.matches}function Ia(h,p,_,I){const G=h.queries.getByIndex(_),Y=G.matches;if(null!==Y){const ie=Xd(h,p,G,_);for(let le=0;le<Y.length;le+=2){const he=Y[le];if(he>0)I.push(ie[le/2]);else{const ye=Y[le+1],Ee=p[-he];for(let xe=10;xe<Ee.length;xe++){const Ge=Ee[xe];Ge[17]===Ge[3]&&Ia(Ge[1],Ge,ye,I)}if(null!==Ee[9]){const xe=Ee[9];for(let Ge=0;Ge<xe.length;Ge++){const tt=xe[Ge];Ia(tt[1],tt,ye,I)}}}}}return I}function KT(h){const p=Nt(),_=vr(),I=dg();Mu(I+1);const G=Jd(_,I);if(h.dirty&&function Z4(h){return 4==(4&h[2])}(p)===(2==(2&G.metadata.flags))){if(null===G.matches)h.reset([]);else{const Y=G.crossesNgTemplate?Ia(_,p,I,[]):Xd(_,p,G,I);h.reset(Y,NE),h.notifyOnChanges()}return!0}return!1}function ru(h,p,_){const I=vr();I.firstCreatePass&&(No(I,new YT(h,p,_),-1),2==(2&p)&&(I.staticViewQueries=!0)),ZT(I,Nt(),p)}function Mw(h,p,_,I){const G=vr();if(G.firstCreatePass){const Y=Fi();No(G,new YT(p,_,I),Y.index),function Wp(h,p){const _=h.contentQueries||(h.contentQueries=[]);p!==(_.length?_[_.length-1]:-1)&&_.push(h.queries.length-1,p)}(G,h),2==(2&_)&&(G.staticContentQueries=!0)}ZT(G,Nt(),_)}function ty(){return function BP(h,p){return h[19].queries[p].queryList}(Nt(),dg())}function ZT(h,p,_){const I=new bn(4==(4&_));op(h,p,I,I.destroy),null===p[19]&&(p[19]=new Jv),p[19].queries.push(new Up(I))}function No(h,p,_){null===h.queries&&(h.queries=new Ma),h.queries.track(new zp(p,_))}function Jd(h,p){return h.queries.getByIndex(p)}function Dc(...h){}const sy=new Ir("Application Initializer");let su=(()=>{class h{constructor(_){this.appInits=_,this.resolve=Dc,this.reject=Dc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((I,G)=>{this.resolve=I,this.reject=G})}runInitializers(){if(this.initialized)return;const _=[],I=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let G=0;G<this.appInits.length;G++){const Y=this.appInits[G]();if(Li(Y))_.push(Y);else if(Ei(Y)){const ie=new Promise((le,he)=>{Y.subscribe({complete:le,error:he})});_.push(ie)}}Promise.all(_).then(()=>{I()}).catch(G=>{this.reject(G)}),0===_.length&&I(),this.initialized=!0}}return h.\u0275fac=function(_){return new(_||h)(mi(sy,8))},h.\u0275prov=de({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const Hw=new Ir("AppId",{providedIn:"root",factory:function Uw(){return`${Tc()}${Tc()}${Tc()}`}});function Tc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ww=new Ir("Platform Initializer"),XP=new Ir("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ox=new Ir("appBootstrapListener"),sx=new Ir("AnimationModuleType");let Ji=(()=>{class h{log(_){console.log(_)}warn(_){console.warn(_)}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=de({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})();const kr=new Ir("LocaleId",{providedIn:"root",factory:()=>Dn(kr,st.Optional|st.SkipSelf)||function ax(){return typeof $localize<"u"&&$localize.locale||Ql}()}),au=new Ir("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nk{constructor(p,_){this.ngModuleFactory=p,this.componentFactories=_}}let lx=(()=>{class h{compileModuleSync(_){return new Js(_)}compileModuleAsync(_){return Promise.resolve(this.compileModuleSync(_))}compileModuleAndAllComponentsSync(_){const I=this.compileModuleSync(_),Y=dl(Le(_).declarations).reduce((ie,le)=>{const he=Ke(le);return he&&ie.push(new sc(he)),ie},[]);return new nk(I,Y)}compileModuleAndAllComponentsAsync(_){return Promise.resolve(this.compileModuleAndAllComponentsSync(_))}clearCache(){}clearCacheFor(_){}getModuleId(_){}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=de({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const ux=(()=>Promise.resolve(0))();function uy(h){typeof Zone>"u"?ux.then(()=>{h&&h.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",h)}class bs{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:_=!1,shouldCoalesceRunChangeDetection:I=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ta(!1),this.onMicrotaskEmpty=new ta(!1),this.onStable=new ta(!1),this.onError=new ta(!1),typeof Zone>"u")throw new u(908,!1);Zone.assertZonePatched();const G=this;if(G._nesting=0,G._outer=G._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const Y=Zone.AsyncStackTaggingZoneSpec;G._inner=G._inner.fork(new Y("Angular"))}Zone.TaskTrackingZoneSpec&&(G._inner=G._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(G._inner=G._inner.fork(Zone.longStackTraceZoneSpec)),G.shouldCoalesceEventChangeDetection=!I&&_,G.shouldCoalesceRunChangeDetection=I,G.lastRequestAnimationFrameId=-1,G.nativeRequestAnimationFrame=function cx(){let h=We.requestAnimationFrame,p=We.cancelAnimationFrame;if(typeof Zone<"u"&&h&&p){const _=h[Zone.__symbol__("OriginalDelegate")];_&&(h=_);const I=p[Zone.__symbol__("OriginalDelegate")];I&&(p=I)}return{nativeRequestAnimationFrame:h,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function ok(h){const p=()=>{!function dx(h){h.isCheckStableRunning||-1!==h.lastRequestAnimationFrameId||(h.lastRequestAnimationFrameId=h.nativeRequestAnimationFrame.call(We,()=>{h.fakeTopEventTask||(h.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{h.lastRequestAnimationFrameId=-1,cy(h),h.isCheckStableRunning=!0,$w(h),h.isCheckStableRunning=!1},void 0,()=>{},()=>{})),h.fakeTopEventTask.invoke()}),cy(h))}(h)};h._inner=h._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(_,I,G,Y,ie,le)=>{try{return hx(h),_.invokeTask(G,Y,ie,le)}finally{(h.shouldCoalesceEventChangeDetection&&"eventTask"===Y.type||h.shouldCoalesceRunChangeDetection)&&p(),fx(h)}},onInvoke:(_,I,G,Y,ie,le,he)=>{try{return hx(h),_.invoke(G,Y,ie,le,he)}finally{h.shouldCoalesceRunChangeDetection&&p(),fx(h)}},onHasTask:(_,I,G,Y)=>{_.hasTask(G,Y),I===G&&("microTask"==Y.change?(h._hasPendingMicrotasks=Y.microTask,cy(h),$w(h)):"macroTask"==Y.change&&(h.hasPendingMacrotasks=Y.macroTask))},onHandleError:(_,I,G,Y)=>(_.handleError(G,Y),h.runOutsideAngular(()=>h.onError.emit(Y)),!1)})}(G)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bs.isInAngularZone())throw new u(909,!1)}static assertNotInAngularZone(){if(bs.isInAngularZone())throw new u(909,!1)}run(p,_,I){return this._inner.run(p,_,I)}runTask(p,_,I,G){const Y=this._inner,ie=Y.scheduleEventTask("NgZoneEvent: "+G,p,ik,Dc,Dc);try{return Y.runTask(ie,_,I)}finally{Y.cancelTask(ie)}}runGuarded(p,_,I){return this._inner.runGuarded(p,_,I)}runOutsideAngular(p){return this._outer.run(p)}}const ik={};function $w(h){if(0==h._nesting&&!h.hasPendingMicrotasks&&!h.isStable)try{h._nesting++,h.onMicrotaskEmpty.emit(null)}finally{if(h._nesting--,!h.hasPendingMicrotasks)try{h.runOutsideAngular(()=>h.onStable.emit(null))}finally{h.isStable=!0}}}function cy(h){h.hasPendingMicrotasks=!!(h._hasPendingMicrotasks||(h.shouldCoalesceEventChangeDetection||h.shouldCoalesceRunChangeDetection)&&-1!==h.lastRequestAnimationFrameId)}function hx(h){h._nesting++,h.isStable&&(h.isStable=!1,h.onUnstable.emit(null))}function fx(h){h._nesting--,$w(h)}class sk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ta,this.onMicrotaskEmpty=new ta,this.onStable=new ta,this.onError=new ta}run(p,_,I){return p.apply(_,I)}runGuarded(p,_,I){return p.apply(_,I)}runOutsideAngular(p){return p()}runTask(p,_,I,G){return p.apply(_,I)}}const dy=new Ir(""),lu=new Ir("");let fy,Xp=(()=>{class h{constructor(_,I,G){this._ngZone=_,this.registry=I,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fy||(function hy(h){fy=h}(G),G.addToWindow(I)),this._watchAngularEvents(),_.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bs.assertNotInAngularZone(),uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uy(()=>{for(;0!==this._callbacks.length;){let _=this._callbacks.pop();clearTimeout(_.timeoutId),_.doneCb(this._didWork)}this._didWork=!1});else{let _=this.getPendingTasks();this._callbacks=this._callbacks.filter(I=>!I.updateCb||!I.updateCb(_)||(clearTimeout(I.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(_=>({source:_.source,creationLocation:_.creationLocation,data:_.data})):[]}addCallback(_,I,G){let Y=-1;I&&I>0&&(Y=setTimeout(()=>{this._callbacks=this._callbacks.filter(ie=>ie.timeoutId!==Y),_(this._didWork,this.getPendingTasks())},I)),this._callbacks.push({doneCb:_,timeoutId:Y,updateCb:G})}whenStable(_,I,G){if(G&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(_,I,G),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(_){this.registry.registerApplication(_,this)}unregisterApplication(_){this.registry.unregisterApplication(_)}findProviders(_,I,G){return[]}}return h.\u0275fac=function(_){return new(_||h)(mi(bs),mi(Jp),mi(lu))},h.\u0275prov=de({token:h,factory:h.\u0275fac}),h})(),Jp=(()=>{class h{constructor(){this._applications=new Map}registerApplication(_,I){this._applications.set(_,I)}unregisterApplication(_){this._applications.delete(_)}unregisterAllApplications(){this._applications.clear()}getTestability(_){return this._applications.get(_)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(_,I=!0){return fy?.findTestabilityInTree(this,_,I)??null}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=de({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})(),bl=null;const Fa=new Ir("AllowMultipleToken"),py=new Ir("PlatformDestroyListeners");class qw{constructor(p,_){this.name=p,this.token=_}}function oh(h,p,_=[]){const I=`Platform: ${p}`,G=new Ir(I);return(Y=[])=>{let ie=_y();if(!ie||ie.injector.get(Fa,!1)){const le=[..._,...Y,{provide:G,useValue:!0}];h?h(le):function xc(h){if(bl&&!bl.get(Fa,!1))throw new u(400,!1);bl=h;const p=h.get(Kw);(function gy(h){const p=h.get(Ww,null);p&&p.forEach(_=>_())})(h)}(function vy(h=[],p){return zl.create({name:p,providers:[{provide:Bf,useValue:"platform"},{provide:py,useValue:new Set([()=>bl=null])},...h]})}(le,I))}return function gx(h){const p=_y();if(!p)throw new u(401,!1);return p}()}}function _y(){return bl?.get(Kw)??null}let Kw=(()=>{class h{constructor(_){this._injector=_,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(_,I){const G=function Na(h,p){let _;return _="noop"===h?new sk:("zone.js"===h?void 0:h)||new bs(p),_}(I?.ngZone,function vx(h){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!h||!h.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!h||!h.ngZoneRunCoalescing)||!1}}(I)),Y=[{provide:bs,useValue:G}];return G.run(()=>{const ie=zl.create({providers:Y,parent:this.injector,name:_.moduleType.name}),le=_.create(ie),he=le.injector.get(Wf,null);if(!he)throw new u(402,!1);return G.runOutsideAngular(()=>{const ye=G.onError.subscribe({next:Ee=>{he.handleError(Ee)}});le.onDestroy(()=>{uu(this._modules,le),ye.unsubscribe()})}),function yx(h,p,_){try{const I=_();return Li(I)?I.catch(G=>{throw p.runOutsideAngular(()=>h.handleError(G)),G}):I}catch(I){throw p.runOutsideAngular(()=>h.handleError(I)),I}}(he,G,()=>{const ye=le.injector.get(su);return ye.runInitializers(),ye.donePromise.then(()=>(function Aa(h){Z(h,"Expected localeId to be defined"),"string"==typeof h&&(Xl=h.toLowerCase().replace(/_/g,"-"))}(le.injector.get(kr,Ql)||Ql),this._moduleDoBootstrap(le),le))})})}bootstrapModule(_,I=[]){const G=_o({},I);return function px(h,p,_){const I=new Js(_);return Promise.resolve(I)}(0,0,_).then(Y=>this.bootstrapModuleFactory(Y,G))}_moduleDoBootstrap(_){const I=_.injector.get(em);if(_._bootstrapComponents.length>0)_._bootstrapComponents.forEach(G=>I.bootstrap(G));else{if(!_.instance.ngDoBootstrap)throw new u(403,!1);_.instance.ngDoBootstrap(I)}this._modules.push(_)}onDestroy(_){this._destroyListeners.push(_)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new u(404,!1);this._modules.slice().forEach(I=>I.destroy()),this._destroyListeners.forEach(I=>I());const _=this._injector.get(py,null);_&&(_.forEach(I=>I()),_.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return h.\u0275fac=function(_){return new(_||h)(mi(zl))},h.\u0275prov=de({token:h,factory:h.\u0275fac,providedIn:"platform"}),h})();function _o(h,p){return Array.isArray(p)?p.reduce(_o,h):{...h,...p}}let em=(()=>{class h{constructor(_,I,G){this._zone=_,this._injector=I,this._exceptionHandler=G,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const Y=new te.y(le=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{le.next(this._stable),le.complete()})}),ie=new te.y(le=>{let he;this._zone.runOutsideAngular(()=>{he=this._zone.onStable.subscribe(()=>{bs.assertNotInAngularZone(),uy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,le.next(!0))})})});const ye=this._zone.onUnstable.subscribe(()=>{bs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{le.next(!1)}))});return()=>{he.unsubscribe(),ye.unsubscribe()}});this.isStable=(0,W.T)(Y,ie.pipe((0,k.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(_,I){const G=_ instanceof kE;if(!this._injector.get(su).done)throw!G&&Ht(_),new u(405,false);let ie;ie=G?_:this._injector.get(Uf).resolveComponentFactory(_),this.componentTypes.push(ie.componentType);const le=function my(h){return h.isBoundToModule}(ie)?void 0:this._injector.get(vc),ye=ie.create(zl.NULL,[],I||ie.selector,le),Ee=ye.location.nativeElement,xe=ye.injector.get(dy,null);return xe?.registerApplication(Ee),ye.onDestroy(()=>{this.detachView(ye.hostView),uu(this.components,ye),xe?.unregisterApplication(Ee)}),this._loadComponent(ye),ye}tick(){if(this._runningTick)throw new u(101,!1);try{this._runningTick=!0;for(let _ of this._views)_.detectChanges()}catch(_){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(_))}finally{this._runningTick=!1}}attachView(_){const I=_;this._views.push(I),I.attachToAppRef(this)}detachView(_){const I=_;uu(this._views,I),I.detachFromAppRef()}_loadComponent(_){this.attachView(_.hostView),this.tick(),this.components.push(_),this._injector.get(ox,[]).concat(this._bootstrapListeners).forEach(G=>G(_))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(_=>_()),this._views.slice().forEach(_=>_.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(_){return this._destroyListeners.push(_),()=>uu(this._destroyListeners,_)}destroy(){if(this._destroyed)throw new u(406,!1);const _=this._injector;_.destroy&&!_.destroyed&&_.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return h.\u0275fac=function(_){return new(_||h)(mi(bs),mi(Qu),mi(Wf))},h.\u0275prov=de({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();function uu(h,p){const _=h.indexOf(p);_>-1&&h.splice(_,1)}let Qw=!0;function ak(){Qw=!1}let _x=(()=>{class h{}return h.__NG_ELEMENT_ID__=bx,h})();function bx(h){return function wx(h,p,_){if(pi(h)&&!_){const I=fo(h.index,p);return new oc(I,I)}return 47&h.type?new oc(p[16],p):null}(Fi(),Nt(),16==(16&h))}class tC{constructor(){}supports(p){return Ad(p)}create(p){return new wl(p)}}const lh=(h,p)=>p;class wl{constructor(p){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=p||lh}forEachItem(p){let _;for(_=this._itHead;null!==_;_=_._next)p(_)}forEachOperation(p){let _=this._itHead,I=this._removalsHead,G=0,Y=null;for(;_||I;){const ie=!I||_&&_.currentIndex<Pc(I,G,Y)?_:I,le=Pc(ie,G,Y),he=ie.currentIndex;if(ie===I)G--,I=I._nextRemoved;else if(_=_._next,null==ie.previousIndex)G++;else{Y||(Y=[]);const ye=le-G,Ee=he-G;if(ye!=Ee){for(let Ge=0;Ge<ye;Ge++){const tt=Ge<Y.length?Y[Ge]:Y[Ge]=0,Ct=tt+Ge;Ee<=Ct&&Ct<ye&&(Y[Ge]=tt+1)}Y[ie.previousIndex]=Ee-ye}}le!==he&&p(ie,le,he)}}forEachPreviousItem(p){let _;for(_=this._previousItHead;null!==_;_=_._nextPrevious)p(_)}forEachAddedItem(p){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)p(_)}forEachMovedItem(p){let _;for(_=this._movesHead;null!==_;_=_._nextMoved)p(_)}forEachRemovedItem(p){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)p(_)}forEachIdentityChange(p){let _;for(_=this._identityChangesHead;null!==_;_=_._nextIdentityChange)p(_)}diff(p){if(null==p&&(p=[]),!Ad(p))throw new u(900,!1);return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let G,Y,ie,_=this._itHead,I=!1;if(Array.isArray(p)){this.length=p.length;for(let le=0;le<this.length;le++)Y=p[le],ie=this._trackByFn(le,Y),null!==_&&Object.is(_.trackById,ie)?(I&&(_=this._verifyReinsertion(_,Y,ie,le)),Object.is(_.item,Y)||this._addIdentityChange(_,Y)):(_=this._mismatch(_,Y,ie,le),I=!0),_=_._next}else G=0,function jD(h,p){if(Array.isArray(h))for(let _=0;_<h.length;_++)p(h[_]);else{const _=h[Jo()]();let I;for(;!(I=_.next()).done;)p(I.value)}}(p,le=>{ie=this._trackByFn(G,le),null!==_&&Object.is(_.trackById,ie)?(I&&(_=this._verifyReinsertion(_,le,ie,G)),Object.is(_.item,le)||this._addIdentityChange(_,le)):(_=this._mismatch(_,le,ie,G),I=!0),_=_._next,G++}),this.length=G;return this._truncate(_),this.collection=p,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let p;for(p=this._previousItHead=this._itHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._additionsHead;null!==p;p=p._nextAdded)p.previousIndex=p.currentIndex;for(this._additionsHead=this._additionsTail=null,p=this._movesHead;null!==p;p=p._nextMoved)p.previousIndex=p.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(p,_,I,G){let Y;return null===p?Y=this._itTail:(Y=p._prev,this._remove(p)),null!==(p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null))?(Object.is(p.item,_)||this._addIdentityChange(p,_),this._reinsertAfter(p,Y,G)):null!==(p=null===this._linkedRecords?null:this._linkedRecords.get(I,G))?(Object.is(p.item,_)||this._addIdentityChange(p,_),this._moveAfter(p,Y,G)):p=this._addAfter(new Sx(_,I),Y,G),p}_verifyReinsertion(p,_,I,G){let Y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null);return null!==Y?p=this._reinsertAfter(Y,p._prev,G):p.currentIndex!=G&&(p.currentIndex=G,this._addToMoves(p,G)),p}_truncate(p){for(;null!==p;){const _=p._next;this._addToRemovals(this._unlink(p)),p=_}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(p,_,I){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(p);const G=p._prevRemoved,Y=p._nextRemoved;return null===G?this._removalsHead=Y:G._nextRemoved=Y,null===Y?this._removalsTail=G:Y._prevRemoved=G,this._insertAfter(p,_,I),this._addToMoves(p,I),p}_moveAfter(p,_,I){return this._unlink(p),this._insertAfter(p,_,I),this._addToMoves(p,I),p}_addAfter(p,_,I){return this._insertAfter(p,_,I),this._additionsTail=null===this._additionsTail?this._additionsHead=p:this._additionsTail._nextAdded=p,p}_insertAfter(p,_,I){const G=null===_?this._itHead:_._next;return p._next=G,p._prev=_,null===G?this._itTail=p:G._prev=p,null===_?this._itHead=p:_._next=p,null===this._linkedRecords&&(this._linkedRecords=new nC),this._linkedRecords.put(p),p.currentIndex=I,p}_remove(p){return this._addToRemovals(this._unlink(p))}_unlink(p){null!==this._linkedRecords&&this._linkedRecords.remove(p);const _=p._prev,I=p._next;return null===_?this._itHead=I:_._next=I,null===I?this._itTail=_:I._prev=_,p}_addToMoves(p,_){return p.previousIndex===_||(this._movesTail=null===this._movesTail?this._movesHead=p:this._movesTail._nextMoved=p),p}_addToRemovals(p){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nC),this._unlinkedRecords.put(p),p.currentIndex=null,p._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=p,p._prevRemoved=null):(p._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=p),p}_addIdentityChange(p,_){return p.item=_,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=p:this._identityChangesTail._nextIdentityChange=p,p}}class Sx{constructor(p,_){this.item=p,this.trackById=_,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ex{constructor(){this._head=null,this._tail=null}add(p){null===this._head?(this._head=this._tail=p,p._nextDup=null,p._prevDup=null):(this._tail._nextDup=p,p._prevDup=this._tail,p._nextDup=null,this._tail=p)}get(p,_){let I;for(I=this._head;null!==I;I=I._nextDup)if((null===_||_<=I.currentIndex)&&Object.is(I.trackById,p))return I;return null}remove(p){const _=p._prevDup,I=p._nextDup;return null===_?this._head=I:_._nextDup=I,null===I?this._tail=_:I._prevDup=_,null===this._head}}class nC{constructor(){this.map=new Map}put(p){const _=p.trackById;let I=this.map.get(_);I||(I=new Ex,this.map.set(_,I)),I.add(p)}get(p,_){const G=this.map.get(p);return G?G.get(p,_):null}remove(p){const _=p.trackById;return this.map.get(_).remove(p)&&this.map.delete(_),p}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pc(h,p,_){const I=h.previousIndex;if(null===I)return I;let G=0;return _&&I<_.length&&(G=_[I]),I+p+G}class Cy{constructor(){}supports(p){return p instanceof Map||I0(p)}create(){return new rC}}class rC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(p){let _;for(_=this._mapHead;null!==_;_=_._next)p(_)}forEachPreviousItem(p){let _;for(_=this._previousMapHead;null!==_;_=_._nextPrevious)p(_)}forEachChangedItem(p){let _;for(_=this._changesHead;null!==_;_=_._nextChanged)p(_)}forEachAddedItem(p){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)p(_)}forEachRemovedItem(p){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)p(_)}diff(p){if(p){if(!(p instanceof Map||I0(p)))throw new u(900,!1)}else p=new Map;return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let _=this._mapHead;if(this._appendAfter=null,this._forEach(p,(I,G)=>{if(_&&_.key===G)this._maybeAddToChanges(_,I),this._appendAfter=_,_=_._next;else{const Y=this._getOrCreateRecordForKey(G,I);_=this._insertBeforeOrAppend(_,Y)}}),_){_._prev&&(_._prev._next=null),this._removalsHead=_;for(let I=_;null!==I;I=I._nextRemoved)I===this._mapHead&&(this._mapHead=null),this._records.delete(I.key),I._nextRemoved=I._next,I.previousValue=I.currentValue,I.currentValue=null,I._prev=null,I._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(p,_){if(p){const I=p._prev;return _._next=p,_._prev=I,p._prev=_,I&&(I._next=_),p===this._mapHead&&(this._mapHead=_),this._appendAfter=p,p}return this._appendAfter?(this._appendAfter._next=_,_._prev=this._appendAfter):this._mapHead=_,this._appendAfter=_,null}_getOrCreateRecordForKey(p,_){if(this._records.has(p)){const G=this._records.get(p);this._maybeAddToChanges(G,_);const Y=G._prev,ie=G._next;return Y&&(Y._next=ie),ie&&(ie._prev=Y),G._next=null,G._prev=null,G}const I=new iC(p);return this._records.set(p,I),I.currentValue=_,this._addToAdditions(I),I}_reset(){if(this.isDirty){let p;for(this._previousMapHead=this._mapHead,p=this._previousMapHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._changesHead;null!==p;p=p._nextChanged)p.previousValue=p.currentValue;for(p=this._additionsHead;null!=p;p=p._nextAdded)p.previousValue=p.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(p,_){Object.is(_,p.currentValue)||(p.previousValue=p.currentValue,p.currentValue=_,this._addToChanges(p))}_addToAdditions(p){null===this._additionsHead?this._additionsHead=this._additionsTail=p:(this._additionsTail._nextAdded=p,this._additionsTail=p)}_addToChanges(p){null===this._changesHead?this._changesHead=this._changesTail=p:(this._changesTail._nextChanged=p,this._changesTail=p)}_forEach(p,_){p instanceof Map?p.forEach(_):Object.keys(p).forEach(I=>_(p[I],I))}}class iC{constructor(p){this.key=p,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sy(){return new oC([new tC])}let oC=(()=>{class h{constructor(_){this.factories=_}static create(_,I){if(null!=I){const G=I.factories.slice();_=_.concat(G)}return new h(_)}static extend(_){return{provide:h,useFactory:I=>h.create(_,I||Sy()),deps:[[h,new ld,new Lu]]}}find(_){const I=this.factories.find(G=>G.supports(_));if(null!=I)return I;throw new u(901,!1)}}return h.\u0275prov=de({token:h,providedIn:"root",factory:Sy}),h})();function ci(){return new hr([new Cy])}let hr=(()=>{class h{constructor(_){this.factories=_}static create(_,I){if(I){const G=I.factories.slice();_=_.concat(G)}return new h(_)}static extend(_){return{provide:h,useFactory:I=>h.create(_,I||ci()),deps:[[h,new ld,new Lu]]}}find(_){const I=this.factories.find(G=>G.supports(_));if(I)return I;throw new u(901,!1)}}return h.\u0275prov=de({token:h,providedIn:"root",factory:ci}),h})();const Rx=oh(null,"core",[]);let dk=(()=>{class h{constructor(_){}}return h.\u0275fac=function(_){return new(_||h)(mi(em))},h.\u0275mod=rr({type:h}),h.\u0275inj=_e({}),h})();function Ax(h){return"boolean"==typeof h?h:null!=h&&"false"!==h}},6881:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{Jn:()=>$t,qX:()=>ot,Xd:()=>We,Mq:()=>xt,C6:()=>Pn,ZF:()=>Et,KN:()=>Qr});var a=Oe(5861),T=Oe(4859),te=Oe(1877),W=Oe(2090);let R,M;const w=new WeakMap,E=new WeakMap,C=new WeakMap,f=new WeakMap,d=new WeakMap;let m={get(Ze,ze,pt){if(Ze instanceof IDBTransaction){if("done"===ze)return E.get(Ze);if("objectStoreNames"===ze)return Ze.objectStoreNames||C.get(Ze);if("store"===ze)return pt.objectStoreNames[1]?void 0:pt.objectStore(pt.objectStoreNames[0])}return S(Ze[ze])},set:(Ze,ze,pt)=>(Ze[ze]=pt,!0),has:(Ze,ze)=>Ze instanceof IDBTransaction&&("done"===ze||"store"===ze)||ze in Ze};function b(Ze){return"function"==typeof Ze?function y(Ze){return Ze!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function O(){return M||(M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ze)?function(...ze){return Ze.apply(A(this),ze),S(w.get(this))}:function(...ze){return S(Ze.apply(A(this),ze))}:function(ze,...pt){const At=Ze.call(A(this),ze,...pt);return C.set(At,ze.sort?ze.sort():[ze]),S(At)}}(Ze):(Ze instanceof IDBTransaction&&function c(Ze){if(E.has(Ze))return;const ze=new Promise((pt,At)=>{const tn=()=>{Ze.removeEventListener("complete",vn),Ze.removeEventListener("error",Vn),Ze.removeEventListener("abort",Vn)},vn=()=>{pt(),tn()},Vn=()=>{At(Ze.error||new DOMException("AbortError","AbortError")),tn()};Ze.addEventListener("complete",vn),Ze.addEventListener("error",Vn),Ze.addEventListener("abort",Vn)});E.set(Ze,ze)}(Ze),((Ze,ze)=>ze.some(pt=>Ze instanceof pt))(Ze,function x(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ze,m):Ze)}function S(Ze){if(Ze instanceof IDBRequest)return function u(Ze){const ze=new Promise((pt,At)=>{const tn=()=>{Ze.removeEventListener("success",vn),Ze.removeEventListener("error",Vn)},vn=()=>{pt(S(Ze.result)),tn()},Vn=()=>{At(Ze.error),tn()};Ze.addEventListener("success",vn),Ze.addEventListener("error",Vn)});return ze.then(pt=>{pt instanceof IDBCursor&&w.set(pt,Ze)}).catch(()=>{}),d.set(ze,Ze),ze}(Ze);if(f.has(Ze))return f.get(Ze);const ze=b(Ze);return ze!==Ze&&(f.set(Ze,ze),d.set(ze,Ze)),ze}const A=Ze=>d.get(Ze),X=["get","getKey","getAll","getAllKeys","count"],J=["put","add","delete","clear"],j=new Map;function $(Ze,ze){if(!(Ze instanceof IDBDatabase)||ze in Ze||"string"!=typeof ze)return;if(j.get(ze))return j.get(ze);const pt=ze.replace(/FromIndex$/,""),At=ze!==pt,tn=J.includes(pt);if(!(pt in(At?IDBIndex:IDBObjectStore).prototype)||!tn&&!X.includes(pt))return;const vn=function(){var Vn=(0,a.Z)(function*(lr,...xn){const Dr=this.transaction(lr,tn?"readwrite":"readonly");let Re=Dr.store;return At&&(Re=Re.index(xn.shift())),(yield Promise.all([Re[pt](...xn),tn&&Dr.done]))[0]});return function(xn){return Vn.apply(this,arguments)}}();return j.set(ze,vn),vn}!function g(Ze){m=Ze(m)}(Ze=>({...Ze,get:(ze,pt,At)=>$(ze,pt)||Ze.get(ze,pt,At),has:(ze,pt)=>!!$(ze,pt)||Ze.has(ze,pt)}));class L{constructor(ze){this.container=ze}getPlatformInfoString(){return this.container.getProviders().map(pt=>{if(function B(Ze){return"VERSION"===Ze.getComponent()?.type}(pt)){const At=pt.getImmediate();return`${At.library}/${At.version}`}return null}).filter(pt=>pt).join(" ")}}const ee="@firebase/app",N="0.9.13",V=new te.Yd("@firebase/app"),It="[DEFAULT]",ln={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},nt=new Map,Xe=new Map;function Ae(Ze,ze){try{Ze.container.addComponent(ze)}catch(pt){V.debug(`Component ${ze.name} failed to register with FirebaseApp ${Ze.name}`,pt)}}function We(Ze){const ze=Ze.name;if(Xe.has(ze))return V.debug(`There were multiple attempts to register component ${ze}.`),!1;Xe.set(ze,Ze);for(const pt of nt.values())Ae(pt,Ze);return!0}function ot(Ze,ze){const pt=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return pt&&pt.triggerHeartbeat(),Ze.container.getProvider(ze)}const at=new W.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lt{constructor(ze,pt,At){this._isDeleted=!1,this._options=Object.assign({},ze),this._config=Object.assign({},pt),this._name=pt.name,this._automaticDataCollectionEnabled=pt.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new T.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this.checkDestroyed(),this._automaticDataCollectionEnabled=ze}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ze){this._isDeleted=ze}checkDestroyed(){if(this.isDeleted)throw at.create("app-deleted",{appName:this._name})}}const $t="9.23.0";function Et(Ze,ze={}){let pt=Ze;"object"!=typeof ze&&(ze={name:ze});const At=Object.assign({name:It,automaticDataCollectionEnabled:!1},ze),tn=At.name;if("string"!=typeof tn||!tn)throw at.create("bad-app-name",{appName:String(tn)});if(pt||(pt=(0,W.aH)()),!pt)throw at.create("no-options");const vn=nt.get(tn);if(vn){if((0,W.vZ)(pt,vn.options)&&(0,W.vZ)(At,vn.config))return vn;throw at.create("duplicate-app",{appName:tn})}const Vn=new T.H0(tn);for(const xn of Xe.values())Vn.addComponent(xn);const lr=new lt(pt,At,Vn);return nt.set(tn,lr),lr}function xt(Ze=It){const ze=nt.get(Ze);if(!ze&&Ze===It&&(0,W.aH)())return Et();if(!ze)throw at.create("no-app",{appName:Ze});return ze}function Pn(){return Array.from(nt.values())}function Qr(Ze,ze,pt){var At;let tn=null!==(At=ln[Ze])&&void 0!==At?At:Ze;pt&&(tn+=`-${pt}`);const vn=tn.match(/\s|\//),Vn=ze.match(/\s|\//);if(vn||Vn){const lr=[`Unable to register library "${tn}" with version "${ze}":`];return vn&&lr.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),vn&&Vn&&lr.push("and"),Vn&&lr.push(`version name "${ze}" contains illegal characters (whitespace or "/")`),void V.warn(lr.join(" "))}We(new T.wA(`${tn}-version`,()=>({library:tn,version:ze}),"VERSION"))}const Me="firebase-heartbeat-store";let ke=null;function Fe(){return ke||(ke=function P(Ze,ze,{blocked:pt,upgrade:At,blocking:tn,terminated:vn}={}){const Vn=indexedDB.open(Ze,ze),lr=S(Vn);return At&&Vn.addEventListener("upgradeneeded",xn=>{At(S(Vn.result),xn.oldVersion,xn.newVersion,S(Vn.transaction),xn)}),pt&&Vn.addEventListener("blocked",xn=>pt(xn.oldVersion,xn.newVersion,xn)),lr.then(xn=>{vn&&xn.addEventListener("close",()=>vn()),tn&&xn.addEventListener("versionchange",Dr=>tn(Dr.oldVersion,Dr.newVersion,Dr))}).catch(()=>{}),lr}("firebase-heartbeat-database",1,{upgrade:(Ze,ze)=>{0===ze&&Ze.createObjectStore(Me)}}).catch(Ze=>{throw at.create("idb-open",{originalErrorMessage:Ze.message})})),ke}function Qe(){return(Qe=(0,a.Z)(function*(Ze){try{return yield(yield Fe()).transaction(Me).objectStore(Me).get(Le(Ze))}catch(ze){if(ze instanceof W.ZR)V.warn(ze.message);else{const pt=at.create("idb-get",{originalErrorMessage:ze?.message});V.warn(pt.message)}}})).apply(this,arguments)}function wt(Ze,ze){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(Ze,ze){try{const At=(yield Fe()).transaction(Me,"readwrite");yield At.objectStore(Me).put(ze,Le(Ze)),yield At.done}catch(pt){if(pt instanceof W.ZR)V.warn(pt.message);else{const At=at.create("idb-set",{originalErrorMessage:pt?.message});V.warn(At.message)}}})).apply(this,arguments)}function Le(Ze){return`${Ze.name}!${Ze.options.appId}`}class St{constructor(ze){this.container=ze,this._heartbeatsCache=null;const pt=this.container.getProvider("app").getImmediate();this._storage=new Ln(pt),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var ze=this;return(0,a.Z)(function*(){const At=ze.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=_t();if(null===ze._heartbeatsCache&&(ze._heartbeatsCache=yield ze._heartbeatsCachePromise),ze._heartbeatsCache.lastSentHeartbeatDate!==tn&&!ze._heartbeatsCache.heartbeats.some(vn=>vn.date===tn))return ze._heartbeatsCache.heartbeats.push({date:tn,agent:At}),ze._heartbeatsCache.heartbeats=ze._heartbeatsCache.heartbeats.filter(vn=>{const Vn=new Date(vn.date).valueOf();return Date.now()-Vn<=2592e6}),ze._storage.overwrite(ze._heartbeatsCache)})()}getHeartbeatsHeader(){var ze=this;return(0,a.Z)(function*(){if(null===ze._heartbeatsCache&&(yield ze._heartbeatsCachePromise),null===ze._heartbeatsCache||0===ze._heartbeatsCache.heartbeats.length)return"";const pt=_t(),{heartbeatsToSend:At,unsentEntries:tn}=function Vt(Ze,ze=1024){const pt=[];let At=Ze.slice();for(const tn of Ze){const vn=pt.find(Vn=>Vn.agent===tn.agent);if(vn){if(vn.dates.push(tn.date),Wt(pt)>ze){vn.dates.pop();break}}else if(pt.push({agent:tn.agent,dates:[tn.date]}),Wt(pt)>ze){pt.pop();break}At=At.slice(1)}return{heartbeatsToSend:pt,unsentEntries:At}}(ze._heartbeatsCache.heartbeats),vn=(0,W.L)(JSON.stringify({version:2,heartbeats:At}));return ze._heartbeatsCache.lastSentHeartbeatDate=pt,tn.length>0?(ze._heartbeatsCache.heartbeats=tn,yield ze._storage.overwrite(ze._heartbeatsCache)):(ze._heartbeatsCache.heartbeats=[],ze._storage.overwrite(ze._heartbeatsCache)),vn})()}}function _t(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(ze){this.app=ze,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,W.hl)()&&(0,W.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ze=this;return(0,a.Z)(function*(){return(yield ze._canUseIndexedDBPromise)&&(yield function Ke(Ze){return Qe.apply(this,arguments)}(ze.app))||{heartbeats:[]}})()}overwrite(ze){var pt=this;return(0,a.Z)(function*(){var At;if(yield pt._canUseIndexedDBPromise){const vn=yield pt.read();return wt(pt.app,{lastSentHeartbeatDate:null!==(At=ze.lastSentHeartbeatDate)&&void 0!==At?At:vn.lastSentHeartbeatDate,heartbeats:ze.heartbeats})}})()}add(ze){var pt=this;return(0,a.Z)(function*(){var At;if(yield pt._canUseIndexedDBPromise){const vn=yield pt.read();return wt(pt.app,{lastSentHeartbeatDate:null!==(At=ze.lastSentHeartbeatDate)&&void 0!==At?At:vn.lastSentHeartbeatDate,heartbeats:[...vn.heartbeats,...ze.heartbeats]})}})()}}function Wt(Ze){return(0,W.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function pn(Ze){We(new T.wA("platform-logger",ze=>new L(ze),"PRIVATE")),We(new T.wA("heartbeat",ze=>new St(ze),"PRIVATE")),Qr(ee,N,Ze),Qr(ee,N,"esm2017"),Qr("fire-js","")}("")},4859:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{H0:()=>x,wA:()=>te});var a=Oe(5861),T=Oe(2090);class te{constructor(w,E,C){this.name=w,this.instanceFactory=E,this.type=C,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(w){return this.instantiationMode=w,this}setMultipleInstances(w){return this.multipleInstances=w,this}setServiceProps(w){return this.serviceProps=w,this}setInstanceCreatedCallback(w){return this.onInstanceCreated=w,this}}const W="[DEFAULT]";class k{constructor(w,E){this.name=w,this.container=E,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(w){const E=this.normalizeInstanceIdentifier(w);if(!this.instancesDeferred.has(E)){const C=new T.BH;if(this.instancesDeferred.set(E,C),this.isInitialized(E)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:E});f&&C.resolve(f)}catch{}}return this.instancesDeferred.get(E).promise}getImmediate(w){var E;const C=this.normalizeInstanceIdentifier(w?.identifier),f=null!==(E=w?.optional)&&void 0!==E&&E;if(!this.isInitialized(C)&&!this.shouldAutoInitialize()){if(f)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:C})}catch(d){if(f)return null;throw d}}getComponent(){return this.component}setComponent(w){if(w.name!==this.name)throw Error(`Mismatching Component ${w.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=w,this.shouldAutoInitialize()){if(function M(O){return"EAGER"===O.instantiationMode}(w))try{this.getOrInitializeService({instanceIdentifier:W})}catch{}for(const[E,C]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(E);try{const d=this.getOrInitializeService({instanceIdentifier:f});C.resolve(d)}catch{}}}}clearInstance(w=W){this.instancesDeferred.delete(w),this.instancesOptions.delete(w),this.instances.delete(w)}delete(){var w=this;return(0,a.Z)(function*(){const E=Array.from(w.instances.values());yield Promise.all([...E.filter(C=>"INTERNAL"in C).map(C=>C.INTERNAL.delete()),...E.filter(C=>"_delete"in C).map(C=>C._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(w=W){return this.instances.has(w)}getOptions(w=W){return this.instancesOptions.get(w)||{}}initialize(w={}){const{options:E={}}=w,C=this.normalizeInstanceIdentifier(w.instanceIdentifier);if(this.isInitialized(C))throw Error(`${this.name}(${C}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:C,options:E});for(const[d,u]of this.instancesDeferred.entries())C===this.normalizeInstanceIdentifier(d)&&u.resolve(f);return f}onInit(w,E){var C;const f=this.normalizeInstanceIdentifier(E),d=null!==(C=this.onInitCallbacks.get(f))&&void 0!==C?C:new Set;d.add(w),this.onInitCallbacks.set(f,d);const u=this.instances.get(f);return u&&w(u,f),()=>{d.delete(w)}}invokeOnInitCallbacks(w,E){const C=this.onInitCallbacks.get(E);if(C)for(const f of C)try{f(w,E)}catch{}}getOrInitializeService({instanceIdentifier:w,options:E={}}){let C=this.instances.get(w);if(!C&&this.component&&(C=this.component.instanceFactory(this.container,{instanceIdentifier:(O=w,O===W?void 0:O),options:E}),this.instances.set(w,C),this.instancesOptions.set(w,E),this.invokeOnInitCallbacks(C,w),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,w,C)}catch{}var O;return C||null}normalizeInstanceIdentifier(w=W){return this.component?this.component.multipleInstances?w:W:w}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class x{constructor(w){this.name=w,this.providers=new Map}addComponent(w){const E=this.getProvider(w.name);if(E.isComponentSet())throw new Error(`Component ${w.name} has already been registered with ${this.name}`);E.setComponent(w)}addOrOverwriteComponent(w){this.getProvider(w.name).isComponentSet()&&this.providers.delete(w.name),this.addComponent(w)}getProvider(w){if(this.providers.has(w))return this.providers.get(w);const E=new k(w,this);return this.providers.set(w,E),E}getProviders(){return Array.from(this.providers.values())}}},1877:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{Yd:()=>M,in:()=>T});const a=[];var T=(()=>{return(w=T||(T={}))[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT",T;var w})();const te={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},W=T.INFO,k={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},R=(w,E,...C)=>{if(E<w.logLevel)return;const f=(new Date).toISOString(),d=k[E];if(!d)throw new Error(`Attempted to log a message with an invalid logType (value: ${E})`);console[d](`[${f}]  ${w.name}:`,...C)};class M{constructor(E){this.name=E,this._logLevel=W,this._logHandler=R,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(E){if(!(E in T))throw new TypeError(`Invalid value "${E}" assigned to \`logLevel\``);this._logLevel=E}setLogLevel(E){this._logLevel="string"==typeof E?te[E]:E}get logHandler(){return this._logHandler}set logHandler(E){if("function"!=typeof E)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=E}get userLogHandler(){return this._userLogHandler}set userLogHandler(E){this._userLogHandler=E}debug(...E){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...E),this._logHandler(this,T.DEBUG,...E)}log(...E){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...E),this._logHandler(this,T.VERBOSE,...E)}info(...E){this._userLogHandler&&this._userLogHandler(this,T.INFO,...E),this._logHandler(this,T.INFO,...E)}warn(...E){this._userLogHandler&&this._userLogHandler(this,T.WARN,...E),this._logHandler(this,T.WARN,...E)}error(...E){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...E),this._logHandler(this,T.ERROR,...E)}}},259:(Xt,kt,Oe)=>{"use strict";Oe.d(kt,{C6:()=>a.C6,KN:()=>a.KN,Mq:()=>a.Mq,ZF:()=>a.ZF});var a=Oe(6881);(0,a.KN)("firebase","9.23.0","app")},5861:(Xt,kt,Oe)=>{"use strict";function a(te,W,k,R,M,x,O){try{var w=te[x](O),E=w.value}catch(C){return void k(C)}w.done?W(E):Promise.resolve(E).then(R,M)}function T(te){return function(){var W=this,k=arguments;return new Promise(function(R,M){var x=te.apply(W,k);function O(E){a(x,R,M,O,w,"next",E)}function w(E){a(x,R,M,O,w,"throw",E)}O(void 0)})}}Oe.d(kt,{Z:()=>T})},7582:(Xt,kt,Oe)=>{"use strict";function W(Z,K){var ne={};for(var ue in Z)Object.prototype.hasOwnProperty.call(Z,ue)&&K.indexOf(ue)<0&&(ne[ue]=Z[ue]);if(null!=Z&&"function"==typeof Object.getOwnPropertySymbols){var ce=0;for(ue=Object.getOwnPropertySymbols(Z);ce<ue.length;ce++)K.indexOf(ue[ce])<0&&Object.prototype.propertyIsEnumerable.call(Z,ue[ce])&&(ne[ue[ce]]=Z[ue[ce]])}return ne}function C(Z,K,ne,ue){return new(ne||(ne=Promise))(function(de,pe){function _e(oe){try{q(ue.next(oe))}catch(se){pe(se)}}function me(oe){try{q(ue.throw(oe))}catch(se){pe(se)}}function q(oe){oe.done?de(oe.value):function ce(de){return de instanceof ne?de:new ne(function(pe){pe(de)})}(oe.value).then(_e,me)}q((ue=ue.apply(Z,K||[])).next())})}function S(Z){return this instanceof S?(this.v=Z,this):new S(Z)}function A(Z,K,ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ue=ne.apply(Z,K||[]),de=[];return ce={},pe("next"),pe("throw"),pe("return"),ce[Symbol.asyncIterator]=function(){return this},ce;function pe(ve){ue[ve]&&(ce[ve]=function(Se){return new Promise(function(De,qe){de.push([ve,Se,De,qe])>1||_e(ve,Se)})})}function _e(ve,Se){try{!function me(ve){ve.value instanceof S?Promise.resolve(ve.value.v).then(q,oe):se(de[0][2],ve)}(ue[ve](Se))}catch(De){se(de[0][3],De)}}function q(ve){_e("next",ve)}function oe(ve){_e("throw",ve)}function se(ve,Se){ve(Se),de.shift(),de.length&&_e(de[0][0],de[0][1])}}function H(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,K=Z[Symbol.asyncIterator];return K?K.call(Z):(Z=function c(Z){var K="function"==typeof Symbol&&Symbol.iterator,ne=K&&Z[K],ue=0;if(ne)return ne.call(Z);if(Z&&"number"==typeof Z.length)return{next:function(){return Z&&ue>=Z.length&&(Z=void 0),{value:Z&&Z[ue++],done:!Z}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}(Z),ne={},ue("next"),ue("throw"),ue("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function ue(de){ne[de]=Z[de]&&function(pe){return new Promise(function(_e,me){!function ce(de,pe,_e,me){Promise.resolve(me).then(function(q){de({value:q,done:_e})},pe)}(_e,me,(pe=Z[de](pe)).done,pe.value)})}}}Oe.d(kt,{FC:()=>A,KL:()=>H,_T:()=>W,mG:()=>C,qq:()=>S}),"function"==typeof SuppressedError&&SuppressedError}},Xt=>{Xt(Xt.s=9893)}]);